import{i as e,a as t,m as a,o,c as n,at as r,_ as l}from"../../assets/app.2DJL4jsJ.js";import{A as s}from"../index/index.sBZz26mU.js";const d={id:"map"},u=l(e({__name:"index",setup(e){let l=null,u=null;return t((()=>{(()=>{l=r.map("map",{crs:r.CRS.EPSG3857,center:[30.5217,114.3948],zoom:18}),r.tileLayer("http://t0.tianditu.gov.cn/DataServer?T=vec_w&x={x}&y={y}&l={z}&tk=55b4d4eaef95384c946e9bd1b99c5610",{noWrap:!0,attribution:s}).addTo(l),r.tileLayer("http://t0.tianditu.gov.cn/DataServer?T=cva_w&x={x}&y={y}&l={z}&tk=55b4d4eaef95384c946e9bd1b99c5610",{noWrap:!0,attribution:s}).addTo(l);const e=r.markerClusterGroup({spiderfyOnMaxZoom:!1,showCoverageOnHover:!1,zoomToBoundsOnClick:!1});function t(e){const t=e.getBounds(),a=t.getSouthWest(),o=t.getNorthEast(),n=o.lng-a.lng,l=o.lat-a.lat;return r.latLng(a.lat+l*Math.random(),a.lng+n*Math.random())}e.on("clustermouseover",(function(e){l&&(u&&(l.removeLayer(u),u=null),u=r.polygon(e.layer.getConvexHull()),l.addLayer(u))})),e.on("clustermouseout",(function(){l&&u&&(l.removeLayer(u),u=null)})),l.on("zoomend",(function(){l&&u&&(l.removeLayer(u),u=null)})),function(){for(let a=0;a<100;a++){const a=r.marker(t(l));e.addLayer(a)}}(),l.addLayer(e)})()})),a((()=>{l&&(l.remove(),l=null)})),(e,t)=>(o(),n("div",d))}}),[["__scopeId","data-v-5e1509fd"]]);export{u as default};
