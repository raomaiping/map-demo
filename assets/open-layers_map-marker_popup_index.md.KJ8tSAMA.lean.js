import{Q as s,S as i,aa as a,a7 as n,F as h,l as k,i as p,T as l,X as t,a as e,m as E,o as r,c as d,M as g,t as y,G as F,I as c,z as o,A as C,V as A,k as D,v as B,x as u,f as m,_ as f,p as x,g as v,h as b}from"./app.2DJL4jsJ.js";import{S as q,a as I,A as w,M as T}from"../js/index/index.sBZz26mU.js";const P={geo:q,att:{title:I.NAME,titleURL:I.JUEJIN,text:`\n    <br/>\n    年龄：${I.AGE}<br/>\n    性别：${I.SEX}<br/>\n    目前居住地：${I.LOCATION}<br/>\n    QQ：${I.QQ}<br/>\n    WX：${I.WX}<br/>\n    <br/>\n    `,imgURL:I.AVATAR}};const O={id:"map"},S=[(s=>(B("data-v-18b87cf8"),s=s(),u(),s))((()=>m("div",{id:"popup",class:"ol-popup"},[m("a",{href:"javascript:void(0)",id:"popup-closer",class:"ol-popup-closer"}),m("div",{id:"popup-content"})],-1)))],N=f(p({__name:"index",setup(p){const B=new l({source:new t({attributions:w,url:T,maxZoom:20})});let u=null;const m=()=>{u=new g({target:"map",layers:[B],view:new y({projection:"EPSG:4326",center:q,zoom:5}),controls:F().extend([new c])});const p=new o({geometry:new C(q),name:"深圳市"});var l;p.setStyle((l=p,new i({image:new a({anchor:[.5,60],anchorOrigin:"top-right",anchorXUnits:"fraction",anchorYUnits:"pixels",offsetOrigin:"top-right",scale:.4,opacity:.75,src:"/image/blue.png"}),text:new n({textAlign:"center",textBaseline:"middle",font:"normal 14px 微软雅黑",text:l.get("name"),fill:new h({color:"#aa3300"}),stroke:new k({color:"#ffcc33",width:2})})})));const t=new A({features:[p]}),e=new D({source:t});u.addLayer(e);const E=document.getElementById("popup"),r=document.getElementById("popup-content"),d=document.getElementById("popup-closer");if(E&&r&&d){const i=(i=>new s({element:i,autoPan:!0,positioning:"bottom-center",stopEvent:!1,autoPanAnimation:{duration:250}}))(E);u.addOverlay(i),d.onclick=()=>{i.setPosition(void 0),d.blur()},u.on("click",(s=>{if(null===u)return;u.forEachFeatureAtPixel(s.pixel,(s=>s))&&(r.innerHTML="",(({info:s,content:i})=>{const a=document.createElement("a");var n,h;a.className="markerInfo",a.href=s.att.titleURL,n=a,h=s.att.title,"string"==typeof n.textContent?n.textContent=h:n.innerText=h,i.appendChild(a);const k=document.createElement("div");k.className="markerText",k.innerHTML=s.att.text,i.appendChild(k);const p=document.createElement("img");p.className="markerImg",p.src=s.att.imgURL,i.appendChild(p)})({info:P,content:r}),null==i.getPosition()&&i.setPosition(P.geo))})),u.on("pointermove",(s=>{if(null===u)return;const i=u.getEventPixel(s.originalEvent),a=u.hasFeatureAtPixel(i);u.getTargetElement().style.cursor=a?"pointer":""}))}};return e((()=>{m()})),E((()=>{u&&(u.dispose(),u=null)})),(s,i)=>(r(),d("div",O,S))}}),[["__scopeId","data-v-18b87cf8"]]),L=m("h1",{id:"popup-弹窗",tabindex:"-1"},[v("Popup 弹窗 "),m("a",{class:"header-anchor",href:"#popup-弹窗","aria-label":'Permalink to "Popup 弹窗"'},"​")],-1),U=m("div",{class:"tip custom-block"},[m("p",{class:"custom-block-title"},"TIP"),m("p",null,"鼠标单击标注点，弹出 Popup 标注。")],-1),H=b("",4),R=JSON.parse('{"title":"Popup 弹窗","description":"","frontmatter":{},"headers":[],"relativePath":"open-layers/map-marker/popup/index.md","filePath":"open-layers/map-marker/popup/index.md","lastUpdated":1704792985000}'),_={name:"open-layers/map-marker/popup/index.md"},M=Object.assign(_,{setup:s=>(s,i)=>(r(),d("div",null,[L,U,x(N),H]))});export{R as __pageData,M as default};
