var __defProp2=Object.defineProperty,__defNormalProp2=(e,t,n)=>t in e?__defProp2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,__publicField2=(e,t,n)=>(__defNormalProp2(e,"symbol"!=typeof t?t+"":t,n),n);function _mergeNamespaces(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function makeMap(e,t){const n=new Set(e.split(","));return t?e=>n.has(e.toLowerCase()):e=>n.has(e)}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),isModelListener=e=>e.startsWith("onUpdate:"),extend$4=Object.assign,remove$1=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},hasOwnProperty$e=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty$e.call(e,t),isArray$1=Array.isArray,isMap$1=e=>"[object Map]"===toTypeString(e),isSet$1=e=>"[object Set]"===toTypeString(e),isDate=e=>"[object Date]"===toTypeString(e),isFunction$2=e=>"function"==typeof e,isString$1=e=>"string"==typeof e,isSymbol$1=e=>"symbol"==typeof e,isObject$2=e=>null!==e&&"object"==typeof e,isPromise=e=>(isObject$2(e)||isFunction$2(e))&&isFunction$2(e.then)&&isFunction$2(e.catch),objectToString$1=Object.prototype.toString,toTypeString=e=>objectToString$1.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject$1=e=>"[object Object]"===toTypeString(e),isIntegerKey=e=>isString$1(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction((e=>e.replace(camelizeRE,((e,t)=>t?t.toUpperCase():"")))),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction((e=>e.replace(hyphenateRE,"-$1").toLowerCase())),capitalize$1=cacheStringFunction((e=>e.charAt(0).toUpperCase()+e.slice(1))),toHandlerKey=cacheStringFunction((e=>e?`on${capitalize$1(e)}`:"")),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},def=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},looseToNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t},toNumber$1=e=>{const t=isString$1(e)?Number(e):NaN;return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function normalizeStyle(e){if(isArray$1(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=isString$1(r)?parseStringStyle(r):normalizeStyle(r);if(o)for(const e in o)t[e]=o[e]}return t}if(isString$1(e)||isObject$2(e))return e}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach((e=>{if(e){const n=e.split(propertyDelimiterRE);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function normalizeClass(e){let t="";if(isString$1(e))t=e;else if(isArray$1(e))for(let n=0;n<e.length;n++){const r=normalizeClass(e[n]);r&&(t+=r+" ")}else if(isObject$2(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function normalizeProps(e){if(!e)return null;let{class:t,style:n}=e;return t&&!isString$1(t)&&(e.class=normalizeClass(t)),n&&(e.style=normalizeStyle(n)),e}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||""===e}function looseCompareArrays(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=looseEqual(e[r],t[r]);return n}function looseEqual(e,t){if(e===t)return!0;let n=isDate(e),r=isDate(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=isSymbol$1(e),r=isSymbol$1(t),n||r)return e===t;if(n=isArray$1(e),r=isArray$1(t),n||r)return!(!n||!r)&&looseCompareArrays(e,t);if(n=isObject$2(e),r=isObject$2(t),n||r){if(!n||!r)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const r=e.hasOwnProperty(n),o=t.hasOwnProperty(n);if(r&&!o||!r&&o||!looseEqual(e[n],t[n]))return!1}}return String(e)===String(t)}function looseIndexOf(e,t){return e.findIndex((e=>looseEqual(e,t)))}const toDisplayString=e=>isString$1(e)?e:null==e?"":isArray$1(e)||isObject$2(e)&&(e.toString===objectToString$1||!isFunction$2(e.toString))?JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>t&&t.__v_isRef?replacer(e,t.value):isMap$1(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n],r)=>(e[stringifySymbol(t,r)+" =>"]=n,e)),{})}:isSet$1(t)?{[`Set(${t.size})`]:[...t.values()].map((e=>stringifySymbol(e)))}:isSymbol$1(t)?stringifySymbol(t):!isObject$2(t)||isArray$1(t)||isPlainObject$1(t)?t:String(t),stringifySymbol=(e,t="")=>{var n;return isSymbol$1(e)?`Symbol(${null!=(n=e.description)?n:t})`:e};let activeEffectScope,activeEffect;class EffectScope{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!e&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=t}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(e){if(this._active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this._active=!1}}}function effectScope(e){return new EffectScope(e)}function recordEffectScope(e,t=activeEffectScope){t&&t.active&&t.effects.push(e)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(e){activeEffectScope&&activeEffectScope.cleanups.push(e)}class ReactiveEffect{constructor(e,t,n,r){this.fn=e,this.trigger=t,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=3,this._trackId=0,this._runnings=0,this._queryings=0,this._depsLength=0,recordEffectScope(this,r)}get dirty(){if(1===this._dirtyLevel){this._dirtyLevel=0,this._queryings++,pauseTracking();for(const e of this.deps)if(e.computed&&(triggerComputed(e.computed),this._dirtyLevel>=2))break;resetTracking(),this._queryings--}return this._dirtyLevel>=2}set dirty(e){this._dirtyLevel=e?3:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=shouldTrack,t=activeEffect;try{return shouldTrack=!0,activeEffect=this,this._runnings++,preCleanupEffect(this),this.fn()}finally{postCleanupEffect(this),this._runnings--,activeEffect=t,shouldTrack=e}}stop(){var e;this.active&&(preCleanupEffect(this),postCleanupEffect(this),null==(e=this.onStop)||e.call(this),this.active=!1)}}function triggerComputed(e){return e.value}function preCleanupEffect(e){e._trackId++,e._depsLength=0}function postCleanupEffect(e){if(e.deps&&e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)cleanupDepEffect(e.deps[t],e);e.deps.length=e._depsLength}}function cleanupDepEffect(e,t){const n=e.get(t);void 0!==n&&t._trackId!==n&&(e.delete(t),0===e.size&&e.cleanup())}let shouldTrack=!0,pauseScheduleStack=0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=void 0===e||e}function pauseScheduling(){pauseScheduleStack++}function resetScheduling(){for(pauseScheduleStack--;!pauseScheduleStack&&queueEffectSchedulers.length;)queueEffectSchedulers.shift()()}function trackEffect(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const n=e.deps[e._depsLength];n!==t?(n&&cleanupDepEffect(n,e),e.deps[e._depsLength++]=t):e._depsLength++}}const queueEffectSchedulers=[];function triggerEffects(e,t,n){pauseScheduling();for(const r of e.keys())if((r.allowRecurse||!r._runnings)&&r._dirtyLevel<t&&(!r._runnings||2!==t)){const e=r._dirtyLevel;r._dirtyLevel=t,0!==e||r._queryings&&2===t||(r.trigger(),r.scheduler&&queueEffectSchedulers.push(r.scheduler))}resetScheduling()}const createDep=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");function track(e,t,n){if(shouldTrack&&activeEffect){let t=targetMap.get(e);t||targetMap.set(e,t=new Map);let r=t.get(n);r||t.set(n,r=createDep((()=>t.delete(n)))),trackEffect(activeEffect,r)}}function trigger(e,t,n,r,o,i){const a=targetMap.get(e);if(!a)return;let s=[];if("clear"===t)s=[...a.values()];else if("length"===n&&isArray$1(e)){const e=Number(r);a.forEach(((t,n)=>{("length"===n||!isSymbol$1(n)&&n>=e)&&s.push(t)}))}else switch(void 0!==n&&s.push(a.get(n)),t){case"add":isArray$1(e)?isIntegerKey(n)&&s.push(a.get("length")):(s.push(a.get(ITERATE_KEY)),isMap$1(e)&&s.push(a.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$1(e)||(s.push(a.get(ITERATE_KEY)),isMap$1(e)&&s.push(a.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap$1(e)&&s.push(a.get(ITERATE_KEY))}pauseScheduling();for(const l of s)l&&triggerEffects(l,3);resetScheduling()}function getDepFromReactive(e,t){var n;return null==(n=targetMap.get(e))?void 0:n.get(t)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(isSymbol$1)),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=toRaw(this);for(let t=0,o=this.length;t<o;t++)track(n,"get",t+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(toRaw)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){pauseTracking(),pauseScheduling();const n=toRaw(this)[t].apply(this,e);return resetScheduling(),resetTracking(),n}})),e}function hasOwnProperty$d(e){const t=toRaw(this);return track(t,"has",e),t.hasOwnProperty(e)}class BaseReactiveHandler{constructor(e=!1,t=!1){this._isReadonly=e,this._shallow=t}get(e,t,n){const r=this._isReadonly,o=this._shallow;if("__v_isReactive"===t)return!r;if("__v_isReadonly"===t)return r;if("__v_isShallow"===t)return o;if("__v_raw"===t)return n===(r?o?shallowReadonlyMap:readonlyMap:o?shallowReactiveMap:reactiveMap).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const i=isArray$1(e);if(!r){if(i&&hasOwn(arrayInstrumentations,t))return Reflect.get(arrayInstrumentations,t,n);if("hasOwnProperty"===t)return hasOwnProperty$d}const a=Reflect.get(e,t,n);return(isSymbol$1(t)?builtInSymbols.has(t):isNonTrackableKeys(t))?a:(r||track(e,"get",t),o?a:isRef(a)?i&&isIntegerKey(t)?a:a.value:isObject$2(a)?r?readonly(a):reactive(a):a)}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(e=!1){super(!1,e)}set(e,t,n,r){let o=e[t];if(!this._shallow){const t=isReadonly(o);if(isShallow(n)||isReadonly(n)||(o=toRaw(o),n=toRaw(n)),!isArray$1(e)&&isRef(o)&&!isRef(n))return!t&&(o.value=n,!0)}const i=isArray$1(e)&&isIntegerKey(t)?Number(t)<e.length:hasOwn(e,t),a=Reflect.set(e,t,n,r);return e===toRaw(r)&&(i?hasChanged(n,o)&&trigger(e,"set",t,n):trigger(e,"add",t,n)),a}deleteProperty(e,t){const n=hasOwn(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&trigger(e,"delete",t,void 0),r}has(e,t){const n=Reflect.has(e,t);return isSymbol$1(t)&&builtInSymbols.has(t)||track(e,"has",t),n}ownKeys(e){return track(e,"iterate",isArray$1(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get$6(e,t,n=!1,r=!1){const o=toRaw(e=e.__v_raw),i=toRaw(t);n||(hasChanged(t,i)&&track(o,"get",t),track(o,"get",i));const{has:a}=getProto(o),s=r?toShallow:n?toReadonly:toReactive;return a.call(o,t)?s(e.get(t)):a.call(o,i)?s(e.get(i)):void(e!==o&&e.get(t))}function has(e,t=!1){const n=this.__v_raw,r=toRaw(n),o=toRaw(e);return t||(hasChanged(e,o)&&track(r,"has",e),track(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function size(e,t=!1){return e=e.__v_raw,!t&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add$4(e){e=toRaw(e);const t=toRaw(this);return getProto(t).has.call(t,e)||(t.add(e),trigger(t,"add",e,e)),this}function set$2(e,t){t=toRaw(t);const n=toRaw(this),{has:r,get:o}=getProto(n);let i=r.call(n,e);i||(e=toRaw(e),i=r.call(n,e));const a=o.call(n,e);return n.set(e,t),i?hasChanged(t,a)&&trigger(n,"set",e,t):trigger(n,"add",e,t),this}function deleteEntry(e){const t=toRaw(this),{has:n,get:r}=getProto(t);let o=n.call(t,e);o||(e=toRaw(e),o=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return o&&trigger(t,"delete",e,void 0),i}function clear$1(){const e=toRaw(this),t=0!==e.size,n=e.clear();return t&&trigger(e,"clear",void 0,void 0),n}function createForEach(e,t){return function(n,r){const o=this,i=o.__v_raw,a=toRaw(i),s=t?toShallow:e?toReadonly:toReactive;return!e&&track(a,"iterate",ITERATE_KEY),i.forEach(((e,t)=>n.call(r,s(e),s(t),o)))}}function createIterableMethod(e,t,n){return function(...r){const o=this.__v_raw,i=toRaw(o),a=isMap$1(i),s="entries"===e||e===Symbol.iterator&&a,l="keys"===e&&a,u=o[e](...r),c=n?toShallow:t?toReadonly:toReactive;return!t&&track(i,"iterate",l?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:s?[c(e[0]),c(e[1])]:c(e),done:t}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function createInstrumentations(){const e={get(e){return get$6(this,e)},get size(){return size(this)},has:has,add:add$4,set:set$2,delete:deleteEntry,clear:clear$1,forEach:createForEach(!1,!1)},t={get(e){return get$6(this,e,!1,!0)},get size(){return size(this)},has:has,add:add$4,set:set$2,delete:deleteEntry,clear:clear$1,forEach:createForEach(!1,!0)},n={get(e){return get$6(this,e,!0)},get size(){return size(this,!0)},has(e){return has.call(this,e,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},r={get(e){return get$6(this,e,!0,!0)},get size(){return size(this,!0)},has(e){return has.call(this,e,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((o=>{e[o]=createIterableMethod(o,!1,!1),n[o]=createIterableMethod(o,!0,!1),t[o]=createIterableMethod(o,!1,!0),r[o]=createIterableMethod(o,!0,!0)})),[e,n,t,r]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(e,t){const n=t?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(t,r,o)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(hasOwn(n,r)&&r in t?n:t,r,o)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(e,t,n,r,o){if(!isObject$2(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const a=getTargetType(e);if(0===a)return e;const s=new Proxy(e,2===a?r:n);return o.set(e,s),s}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!(!e||!e.__v_isReactive)}function isReadonly(e){return!(!e||!e.__v_isReadonly)}function isShallow(e){return!(!e||!e.__v_isShallow)}function isProxy(e){return isReactive(e)||isReadonly(e)}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return def(e,"__v_skip",!0),e}const toReactive=e=>isObject$2(e)?reactive(e):e,toReadonly=e=>isObject$2(e)?readonly(e):e;class ComputedRefImpl{constructor(e,t,n,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new ReactiveEffect((()=>e(this._value)),(()=>triggerRefValue(this,1))),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=n}get value(){const e=toRaw(this);return trackRefValue(e),e._cacheable&&!e.effect.dirty||hasChanged(e._value,e._value=e.effect.run())&&triggerRefValue(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function computed$1(e,t,n=!1){let r,o;const i=isFunction$2(e);i?(r=e,o=NOOP):(r=e.get,o=e.set);return new ComputedRefImpl(r,o,i||!o,n)}function trackRefValue(e){shouldTrack&&activeEffect&&(e=toRaw(e),trackEffect(activeEffect,e.dep||(e.dep=createDep((()=>e.dep=void 0),e instanceof ComputedRefImpl?e:void 0))))}function triggerRefValue(e,t=3,n){const r=(e=toRaw(e)).dep;r&&triggerEffects(r,t)}function isRef(e){return!(!e||!0!==e.__v_isRef)}function ref(e){return createRef(e,!1)}function shallowRef(e){return createRef(e,!0)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:toRaw(e),this._value=t?e:toReactive(e)}get value(){return trackRefValue(this),this._value}set value(e){const t=this.__v_isShallow||isShallow(e)||isReadonly(e);e=t?e:toRaw(e),hasChanged(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:toReactive(e),triggerRefValue(this,3))}}function triggerRef(e){triggerRefValue(e,3)}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,n)=>unref(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return isRef(o)&&!isRef(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}class CustomRefImpl{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:t,set:n}=e((()=>trackRefValue(this)),(()=>triggerRefValue(this)));this._get=t,this._set=n}get value(){return this._get()}set value(e){this._set(e)}}function customRef(e){return new CustomRefImpl(e)}function toRefs(e){const t=isArray$1(e)?new Array(e.length):{};for(const n in e)t[n]=propertyToRef(e,n);return t}class ObjectRefImpl{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}class GetterRefImpl{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function toRef$1(e,t,n){return isRef(e)?e:isFunction$2(e)?new GetterRefImpl(e):isObject$2(e)&&arguments.length>1?propertyToRef(e,t,n):ref(e)}function propertyToRef(e,t,n){const r=e[t];return isRef(r)?r:new ObjectRefImpl(e,t,n)}const stack=[];function warn$1(e,...t){pauseTracking();const n=stack.length?stack[stack.length-1].component:null,r=n&&n.appContext.config.warnHandler,o=getComponentTrace();if(r)callWithErrorHandling(r,n,11,[e+t.join(""),n&&n.proxy,o.map((({vnode:e})=>`at <${formatComponentName(n,e.type)}>`)).join("\n"),o]);else{const n=[`[Vue warn]: ${e}`,...t];o.length&&n.push("\n",...formatTrace(o))}resetTracking()}function getComponentTrace(){let e=stack[stack.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const r=e.component&&e.component.parent;e=r&&r.vnode}return t}function formatTrace(e){const t=[];return e.forEach(((e,n)=>{t.push(...0===n?[]:["\n"],...formatTraceEntry(e))})),t}function formatTraceEntry({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",r=!!e.component&&null==e.component.parent,o=` at <${formatComponentName(e.component,e.type,r)}`,i=">"+n;return e.props?[o,...formatProps(e.props),i]:[o+i]}function formatProps(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach((n=>{t.push(...formatProp(n,e[n]))})),n.length>3&&t.push(" ..."),t}function formatProp(e,t,n){return isString$1(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):"number"==typeof t||"boolean"==typeof t||null==t?n?t:[`${e}=${t}`]:isRef(t)?(t=formatProp(e,toRaw(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):isFunction$2(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=toRaw(t),n?t:[`${e}=`,t])}function callWithErrorHandling(e,t,n,r){let o;try{o=r?e(...r):e()}catch(i){handleError(i,t,n)}return o}function callWithAsyncErrorHandling(e,t,n,r){if(isFunction$2(e)){const o=callWithErrorHandling(e,t,n,r);return o&&isPromise(o)&&o.catch((e=>{handleError(e,t,n)})),o}const o=[];for(let i=0;i<e.length;i++)o.push(callWithAsyncErrorHandling(e[i],t,n,r));return o}function handleError(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,i=`https://vuejs.org/errors/#runtime-${n}`;for(;r;){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,o,i))return;r=r.parent}const a=t.appContext.config.errorHandler;if(a)return void callWithErrorHandling(a,null,10,[e,o,i])}logError(e,n,o,r)}function logError(e,t,n,r=!0){}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,n=queue.length;for(;t<n;){const r=t+n>>>1,o=queue[r],i=getId(o);i<e||i===e&&o.pre?t=r+1:n=r}return t}function queueJob(e){queue.length&&queue.includes(e,isFlushing&&e.allowRecurse?flushIndex+1:flushIndex)||(null==e.id?queue.push(e):queue.splice(findInsertionIndex(e.id),0,e),queueFlush())}function queueFlush(){isFlushing||isFlushPending||(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(e){const t=queue.indexOf(e);t>flushIndex&&queue.splice(t,1)}function queuePostFlushCb(e){isArray$1(e)?pendingPostFlushCbs.push(...e):activePostFlushCbs&&activePostFlushCbs.includes(e,e.allowRecurse?postFlushIndex+1:postFlushIndex)||pendingPostFlushCbs.push(e),queueFlush()}function flushPreFlushCbs(e,t,n=(isFlushing?flushIndex+1:0)){for(;n<queue.length;n++){const t=queue[n];if(t&&t.pre){if(e&&t.id!==e.uid)continue;queue.splice(n,1),n--,t()}}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)].sort(((e,t)=>getId(e)-getId(t)));if(pendingPostFlushCbs.length=0,activePostFlushCbs)return void activePostFlushCbs.push(...e);for(activePostFlushCbs=e,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>null==e.id?1/0:e.id,comparator=(e,t)=>{const n=getId(e)-getId(t);if(0===n){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function flushJobs(e){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const e=queue[flushIndex];e&&!1!==e.active&&callWithErrorHandling(e,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||EMPTY_OBJ;let o=n;const i=t.startsWith("update:"),a=i&&t.slice(7);if(a&&a in r){const e=`${"modelValue"===a?"model":a}Modifiers`,{number:t,trim:i}=r[e]||EMPTY_OBJ;i&&(o=n.map((e=>isString$1(e)?e.trim():e))),t&&(o=n.map(looseToNumber))}let s,l=r[s=toHandlerKey(t)]||r[s=toHandlerKey(camelize(t))];!l&&i&&(l=r[s=toHandlerKey(hyphenate(t))]),l&&callWithAsyncErrorHandling(l,e,6,o);const u=r[s+"Once"];if(u){if(e.emitted){if(e.emitted[s])return}else e.emitted={};e.emitted[s]=!0,callWithAsyncErrorHandling(u,e,6,o)}}function normalizeEmitsOptions(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(void 0!==o)return o;const i=e.emits;let a={},s=!1;if(!isFunction$2(e)){const r=e=>{const n=normalizeEmitsOptions(e,t,!0);n&&(s=!0,extend$4(a,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return i||s?(isArray$1(i)?i.forEach((e=>a[e]=null)):extend$4(a,i),isObject$2(e)&&r.set(e,a),a):(isObject$2(e)&&r.set(e,null),null)}function isEmitListener(e,t){return!(!e||!isOn(t))&&(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate(t))||hasOwn(e,t))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function pushScopeId(e){currentScopeId=e}function popScopeId(){currentScopeId=null}function withCtx(e,t=currentRenderingInstance,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&setBlockTracking(-1);const o=setCurrentRenderingInstance(t);let i;try{i=e(...n)}finally{setCurrentRenderingInstance(o),r._d&&setBlockTracking(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:i,propsOptions:[a],slots:s,attrs:l,emit:u,render:c,renderCache:d,data:h,setupState:p,ctx:f,inheritAttrs:m}=e;let _,g;const v=setCurrentRenderingInstance(e);try{if(4&n.shapeFlag){const e=o||r,t=e;_=normalizeVNode(c.call(t,e,d,i,p,h,f)),g=l}else{const e=t;0,_=normalizeVNode(e.length>1?e(i,{attrs:l,slots:s,emit:u}):e(i,null)),g=t.props?l:getFunctionalFallthrough(l)}}catch(b){blockStack.length=0,handleError(b,e,1),_=createVNode(Comment)}let y=_;if(g&&!1!==m){const e=Object.keys(g),{shapeFlag:t}=y;e.length&&7&t&&(a&&e.some(isModelListener)&&(g=filterModelListeners(g,a)),y=cloneVNode(y,g))}return n.dirs&&(y=cloneVNode(y),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&(y.transition=n.transition),_=y,setCurrentRenderingInstance(v),_}const getFunctionalFallthrough=e=>{let t;for(const n in e)("class"===n||"style"===n||isOn(n))&&((t||(t={}))[n]=e[n]);return t},filterModelListeners=(e,t)=>{const n={};for(const r in e)isModelListener(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function shouldUpdateComponent(e,t,n){const{props:r,children:o,component:i}=e,{props:a,children:s,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!o&&!s||s&&s.$stable)||r!==a&&(r?!a||hasPropsChanged(r,a,u):!!a);if(1024&l)return!0;if(16&l)return r?hasPropsChanged(r,a,u):!!a;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(a[n]!==r[n]&&!isEmitListener(u,n))return!0}}return!1}function hasPropsChanged(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(t[i]!==e[i]&&!isEmitListener(n,i))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},n){if(n)for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r!==e)break;(e=t.vnode).el=n,t=t.parent}}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(e,t){return resolveAsset(COMPONENTS,e,!0,t)||e}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(e){return isString$1(e)?resolveAsset(COMPONENTS,e,!1)||e:e||NULL_DYNAMIC_COMPONENT}function resolveDirective(e){return resolveAsset(DIRECTIVES,e)}function resolveAsset(e,t,n=!0,r=!1){const o=currentRenderingInstance||currentInstance;if(o){const n=o.type;if(e===COMPONENTS){const e=getComponentName(n,!1);if(e&&(e===t||e===camelize(t)||e===capitalize$1(camelize(t))))return n}const i=resolve(o[e]||n[e],t)||resolve(o.appContext[e],t);return!i&&r?n:i}}function resolve(e,t){return e&&(e[t]||e[camelize(t)]||e[capitalize$1(camelize(t))])}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray$1(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watchEffect(e,t){return doWatch(e,null,t)}function watchPostEffect(e,t){return doWatch(e,null,{flush:"post"})}const INITIAL_WATCHER_VALUE={};function watch(e,t,n){return doWatch(e,t,n)}function doWatch(e,t,{immediate:n,deep:r,flush:o,once:i,onTrack:a,onTrigger:s}=EMPTY_OBJ){if(t&&i){const e=t;t=(...t)=>{e(...t),E()}}const l=currentInstance,u=e=>!0===r?e:traverse(e,!1===r?1:void 0);let c,d,h=!1,p=!1;if(isRef(e)?(c=()=>e.value,h=isShallow(e)):isReactive(e)?(c=()=>u(e),h=!0):isArray$1(e)?(p=!0,h=e.some((e=>isReactive(e)||isShallow(e))),c=()=>e.map((e=>isRef(e)?e.value:isReactive(e)?u(e):isFunction$2(e)?callWithErrorHandling(e,l,2):void 0))):c=isFunction$2(e)?t?()=>callWithErrorHandling(e,l,2):()=>(d&&d(),callWithAsyncErrorHandling(e,l,3,[m])):NOOP,t&&r){const e=c;c=()=>traverse(e())}let f,m=e=>{d=y.onStop=()=>{callWithErrorHandling(e,l,4),d=y.onStop=void 0}};if(isInSSRComponentSetup){if(m=NOOP,t?n&&callWithAsyncErrorHandling(t,l,3,[c(),p?[]:void 0,m]):c(),"sync"!==o)return NOOP;{const e=useSSRContext();f=e.__watcherHandles||(e.__watcherHandles=[])}}let _=p?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const g=()=>{if(y.active&&y.dirty)if(t){const e=y.run();(r||h||(p?e.some(((e,t)=>hasChanged(e,_[t]))):hasChanged(e,_)))&&(d&&d(),callWithAsyncErrorHandling(t,l,3,[e,_===INITIAL_WATCHER_VALUE?void 0:p&&_[0]===INITIAL_WATCHER_VALUE?[]:_,m]),_=e)}else y.run()};let v;g.allowRecurse=!!t,"sync"===o?v=g:"post"===o?v=()=>queuePostRenderEffect(g,l&&l.suspense):(g.pre=!0,l&&(g.id=l.uid),v=()=>queueJob(g));const y=new ReactiveEffect(c,NOOP,v),b=getCurrentScope(),E=()=>{y.stop(),b&&remove$1(b.effects,y)};return t?n?g():_=y.run():"post"===o?queuePostRenderEffect(y.run.bind(y),l&&l.suspense):y.run(),f&&f.push(E),E}function instanceWatch(e,t,n){const r=this.proxy,o=isString$1(e)?e.includes(".")?createPathGetter(r,e):()=>r[e]:e.bind(r,r);let i;isFunction$2(t)?i=t:(i=t.handler,n=t);const a=currentInstance;setCurrentInstance(this);const s=doWatch(o,i.bind(r),n);return a?setCurrentInstance(a):unsetCurrentInstance(),s}function createPathGetter(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function traverse(e,t,n=0,r){if(!isObject$2(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if((r=r||new Set).has(e))return e;if(r.add(e),isRef(e))traverse(e.value,t,n,r);else if(isArray$1(e))for(let o=0;o<e.length;o++)traverse(e[o],t,n,r);else if(isSet$1(e)||isMap$1(e))e.forEach((e=>{traverse(e,t,n,r)}));else if(isPlainObject$1(e))for(const o in e)traverse(e[o],t,n,r);return e}function withDirectives(e,t){const n=currentRenderingInstance;if(null===n)return e;const r=getExposeProxy(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[e,n,a,s=EMPTY_OBJ]=t[i];e&&(isFunction$2(e)&&(e={mounted:e,updated:e}),e.deep&&traverse(n),o.push({dir:e,instance:r,value:n,oldValue:void 0,arg:a,modifiers:s}))}return e}function invokeDirectiveHook(e,t,n,r){const o=e.dirs,i=t&&t.dirs;for(let a=0;a<o.length;a++){const s=o[a];i&&(s.oldValue=i[a].value);let l=s.dir[r];l&&(pauseTracking(),callWithAsyncErrorHandling(l,n,8,[e.el,s,e,t]),resetTracking())}}const leaveCbKey=Symbol("_leaveCb"),enterCbKey$1=Symbol("_enterCb");function useTransitionState(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted((()=>{e.isMounted=!0})),onBeforeUnmount((()=>{e.isUnmounting=!0})),e}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(e,{slots:t}){const n=getCurrentInstance(),r=useTransitionState();let o;return()=>{const i=t.default&&getTransitionRawChildren(t.default(),!0);if(!i||!i.length)return;let a=i[0];if(i.length>1)for(const e of i)if(e.type!==Comment){a=e;break}const s=toRaw(e),{mode:l}=s;if(r.isLeaving)return emptyPlaceholder(a);const u=getKeepAliveChild(a);if(!u)return emptyPlaceholder(a);const c=resolveTransitionHooks(u,s,r,n);setTransitionHooks(u,c);const d=n.subTree,h=d&&getKeepAliveChild(d);let p=!1;const{getTransitionKey:f}=u.type;if(f){const e=f();void 0===o?o=e:e!==o&&(o=e,p=!0)}if(h&&h.type!==Comment&&(!isSameVNodeType(u,h)||p)){const e=resolveTransitionHooks(h,s,r,n);if(setTransitionHooks(h,e),"out-in"===l)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,!1!==n.update.active&&(n.effect.dirty=!0,n.update())},emptyPlaceholder(a);"in-out"===l&&u.type!==Comment&&(e.delayLeave=(e,t,n)=>{getLeavingNodesForType(r,h)[String(h.key)]=h,e[leaveCbKey]=()=>{t(),e[leaveCbKey]=void 0,delete c.delayedLeave},c.delayedLeave=n})}return a}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function resolveTransitionHooks(e,t,n,r){const{appear:o,mode:i,persisted:a=!1,onBeforeEnter:s,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:h,onAfterLeave:p,onLeaveCancelled:f,onBeforeAppear:m,onAppear:_,onAfterAppear:g,onAppearCancelled:v}=t,y=String(e.key),b=getLeavingNodesForType(n,e),E=(e,t)=>{e&&callWithAsyncErrorHandling(e,r,9,t)},C=(e,t)=>{const n=t[1];E(e,t),isArray$1(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},x={mode:i,persisted:a,beforeEnter(t){let r=s;if(!n.isMounted){if(!o)return;r=m||s}t[leaveCbKey]&&t[leaveCbKey](!0);const i=b[y];i&&isSameVNodeType(e,i)&&i.el[leaveCbKey]&&i.el[leaveCbKey](),E(r,[t])},enter(e){let t=l,r=u,i=c;if(!n.isMounted){if(!o)return;t=_||l,r=g||u,i=v||c}let a=!1;const s=e[enterCbKey$1]=t=>{a||(a=!0,E(t?i:r,[e]),x.delayedLeave&&x.delayedLeave(),e[enterCbKey$1]=void 0)};t?C(t,[e,s]):s()},leave(t,r){const o=String(e.key);if(t[enterCbKey$1]&&t[enterCbKey$1](!0),n.isUnmounting)return r();E(d,[t]);let i=!1;const a=t[leaveCbKey]=n=>{i||(i=!0,r(),E(n?f:p,[t]),t[leaveCbKey]=void 0,b[o]===e&&delete b[o])};b[o]=e,h?C(h,[t,a]):a()},clone:e=>resolveTransitionHooks(e,t,n,r)};return x}function emptyPlaceholder(e){if(isKeepAlive(e))return(e=cloneVNode(e)).children=null,e}function getKeepAliveChild(e){return isKeepAlive(e)?e.children?e.children[0]:void 0:e}function setTransitionHooks(e,t){6&e.shapeFlag&&e.component?setTransitionHooks(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function getTransitionRawChildren(e,t=!1,n){let r=[],o=0;for(let i=0;i<e.length;i++){let a=e[i];const s=null==n?a.key:String(n)+String(null!=a.key?a.key:i);a.type===Fragment?(128&a.patchFlag&&o++,r=r.concat(getTransitionRawChildren(a.children,t,s))):(t||a.type!==Comment)&&r.push(null!=s?cloneVNode(a,{key:s}):a)}if(o>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}
/*! #__NO_SIDE_EFFECTS__ */function defineComponent(e,t){return isFunction$2(e)?(()=>extend$4({name:e.name},t,{setup:e}))():e}const isAsyncWrapper=e=>!!e.type.__asyncLoader
/*! #__NO_SIDE_EFFECTS__ */;function defineAsyncComponent(e){isFunction$2(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:o=200,timeout:i,suspensible:a=!0,onError:s}=e;let l,u=null,c=0;const d=()=>{let e;return u||(e=u=t().catch((e=>{if(e=e instanceof Error?e:new Error(String(e)),s)return new Promise(((t,n)=>{s(e,(()=>t((c++,u=null,d()))),(()=>n(e)),c+1)}));throw e})).then((t=>e!==u&&u?u:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),l=t,t))))};return defineComponent({name:"AsyncComponentWrapper",__asyncLoader:d,get __asyncResolved(){return l},setup(){const e=currentInstance;if(l)return()=>createInnerComp(l,e);const t=t=>{u=null,handleError(t,e,13,!r)};if(a&&e.suspense||isInSSRComponentSetup)return d().then((t=>()=>createInnerComp(t,e))).catch((e=>(t(e),()=>r?createVNode(r,{error:e}):null)));const s=ref(!1),c=ref(),h=ref(!!o);return o&&setTimeout((()=>{h.value=!1}),o),null!=i&&setTimeout((()=>{if(!s.value&&!c.value){const e=new Error(`Async component timed out after ${i}ms.`);t(e),c.value=e}}),i),d().then((()=>{s.value=!0,e.parent&&isKeepAlive(e.parent.vnode)&&(e.parent.effect.dirty=!0,queueJob(e.parent.update))})).catch((e=>{t(e),c.value=e})),()=>s.value&&l?createInnerComp(l,e):c.value&&r?createVNode(r,{error:c.value}):n&&!h.value?createVNode(n):void 0}})}function createInnerComp(e,t){const{ref:n,props:r,children:o,ce:i}=t.vnode,a=createVNode(e,r,o);return a.ref=n,a.ce=i,delete t.vnode.ce,a}const isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,n=currentInstance){const r=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(injectHook(t,r,n),n){let e=n.parent;for(;e&&e.parent;)isKeepAlive(e.parent.vnode)&&injectToKeepAliveRoot(r,t,n,e),e=e.parent}}function injectToKeepAliveRoot(e,t,n,r){const o=injectHook(t,e,r,!0);onUnmounted((()=>{remove$1(r[t],o)}),n)}function injectHook(e,t,n=currentInstance,r=!1){if(n){const o=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;pauseTracking(),setCurrentInstance(n);const o=callWithAsyncErrorHandling(t,n,e,r);return unsetCurrentInstance(),resetTracking(),o});return r?o.unshift(i):o.push(i),i}}const createHook=e=>(t,n=currentInstance)=>(!isInSSRComponentSetup||"sp"===e)&&injectHook(e,((...e)=>t(...e)),n),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}function renderList(e,t,n,r){let o;const i=n&&n[r];if(isArray$1(e)||isString$1(e)){o=new Array(e.length);for(let n=0,r=e.length;n<r;n++)o[n]=t(e[n],n,void 0,i&&i[n])}else if("number"==typeof e){o=new Array(e);for(let n=0;n<e;n++)o[n]=t(n+1,n,void 0,i&&i[n])}else if(isObject$2(e))if(e[Symbol.iterator])o=Array.from(e,((e,n)=>t(e,n,void 0,i&&i[n])));else{const n=Object.keys(e);o=new Array(n.length);for(let r=0,a=n.length;r<a;r++){const a=n[r];o[r]=t(e[a],a,r,i&&i[r])}}else o=[];return n&&(n[r]=o),o}function createSlots(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(isArray$1(r))for(let t=0;t<r.length;t++)e[r[t].name]=r[t].fn;else r&&(e[r.name]=r.key?(...e)=>{const t=r.fn(...e);return t&&(t.key=r.key),t}:r.fn)}return e}function renderSlot(e,t,n={},r,o){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return"default"!==t&&(n.name=t),createVNode("slot",n,r&&r());let i=e[t];i&&i._c&&(i._d=!1),openBlock();const a=i&&ensureValidVNode(i(n)),s=createBlock(Fragment,{key:n.key||a&&a.key||`_${t}`},a||(r?r():[]),a&&1===e._?64:-2);return!o&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),i&&i._c&&(i._d=!0),s}function ensureValidVNode(e){return e.some((e=>!isVNode(e)||e.type!==Comment&&!(e.type===Fragment&&!ensureValidVNode(e.children))))?e:null}function toHandlers(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:toHandlerKey(r)]=e[r];return n}const getPublicInstance=e=>e?isStatefulComponent(e)?getExposeProxy(e)||e.proxy:getPublicInstance(e.parent):null,publicPropertiesMap=extend$4(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,queueJob(e.update)}),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,t),PublicInstanceProxyHandlers={get({_:e},t){const{ctx:n,setupState:r,data:o,props:i,accessCache:a,type:s,appContext:l}=e;let u;if("$"!==t[0]){const s=a[t];if(void 0!==s)switch(s){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return i[t]}else{if(hasSetupBinding(r,t))return a[t]=1,r[t];if(o!==EMPTY_OBJ&&hasOwn(o,t))return a[t]=2,o[t];if((u=e.propsOptions[0])&&hasOwn(u,t))return a[t]=3,i[t];if(n!==EMPTY_OBJ&&hasOwn(n,t))return a[t]=4,n[t];shouldCacheAccess&&(a[t]=0)}}const c=publicPropertiesMap[t];let d,h;return c?("$attrs"===t&&track(e,"get",t),c(e)):(d=s.__cssModules)&&(d=d[t])?d:n!==EMPTY_OBJ&&hasOwn(n,t)?(a[t]=4,n[t]):(h=l.config.globalProperties,hasOwn(h,t)?h[t]:void 0)},set({_:e},t,n){const{data:r,setupState:o,ctx:i}=e;return hasSetupBinding(o,t)?(o[t]=n,!0):r!==EMPTY_OBJ&&hasOwn(r,t)?(r[t]=n,!0):!hasOwn(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(i[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:i}},a){let s;return!!n[a]||e!==EMPTY_OBJ&&hasOwn(e,a)||hasSetupBinding(t,a)||(s=i[0])&&hasOwn(s,a)||hasOwn(r,a)||hasOwn(publicPropertiesMap,a)||hasOwn(o.config.globalProperties,a)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:hasOwn(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function useSlots(){return getContext$1().slots}function useAttrs$1(){return getContext$1().attrs}function getContext$1(){const e=getCurrentInstance();return e.setupContext||(e.setupContext=createSetupContext(e))}function normalizePropsOrEmits(e){return isArray$1(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),n=e.proxy,r=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook$1(t.beforeCreate,e,"bc");const{data:o,computed:i,methods:a,watch:s,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:p,updated:f,activated:m,deactivated:_,beforeDestroy:g,beforeUnmount:v,destroyed:y,unmounted:b,render:E,renderTracked:C,renderTriggered:x,errorCaptured:w,serverPrefetch:S,expose:T,inheritAttrs:k,components:L,directives:P,filters:M}=t;if(u&&resolveInjections(u,r,null),a)for(const N in a){const e=a[N];isFunction$2(e)&&(r[N]=e.bind(n))}if(o){const t=o.call(n,n);isObject$2(t)&&(e.data=reactive(t))}if(shouldCacheAccess=!0,i)for(const N in i){const e=i[N],t=isFunction$2(e)?e.bind(n,n):isFunction$2(e.get)?e.get.bind(n,n):NOOP,o=!isFunction$2(e)&&isFunction$2(e.set)?e.set.bind(n):NOOP,a=computed({get:t,set:o});Object.defineProperty(r,N,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e})}if(s)for(const N in s)createWatcher(s[N],r,n,N);if(l){const e=isFunction$2(l)?l.call(n):l;Reflect.ownKeys(e).forEach((t=>{provide(t,e[t])}))}function O(e,t){isArray$1(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(c&&callHook$1(c,e,"c"),O(onBeforeMount,d),O(onMounted,h),O(onBeforeUpdate,p),O(onUpdated,f),O(onActivated,m),O(onDeactivated,_),O(onErrorCaptured,w),O(onRenderTracked,C),O(onRenderTriggered,x),O(onBeforeUnmount,v),O(onUnmounted,b),O(onServerPrefetch,S),isArray$1(T))if(T.length){const t=e.exposed||(e.exposed={});T.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});E&&e.render===NOOP&&(e.render=E),null!=k&&(e.inheritAttrs=k),L&&(e.components=L),P&&(e.directives=P)}function resolveInjections(e,t,n=NOOP){isArray$1(e)&&(e=normalizeInject(e));for(const r in e){const n=e[r];let o;o=isObject$2(n)?"default"in n?inject(n.from||r,n.default,!0):inject(n.from||r):inject(n),isRef(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:e=>o.value=e}):t[r]=o}}function callHook$1(e,t,n){callWithAsyncErrorHandling(isArray$1(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function createWatcher(e,t,n,r){const o=r.includes(".")?createPathGetter(n,r):()=>n[r];if(isString$1(e)){const n=t[e];isFunction$2(n)&&watch(o,n)}else if(isFunction$2(e))watch(o,e.bind(n));else if(isObject$2(e))if(isArray$1(e))e.forEach((e=>createWatcher(e,t,n,r)));else{const r=isFunction$2(e.handler)?e.handler.bind(n):t[e.handler];isFunction$2(r)&&watch(o,r,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,s=i.get(t);let l;return s?l=s:o.length||n||r?(l={},o.length&&o.forEach((e=>mergeOptions$1(l,e,a,!0))),mergeOptions$1(l,t,a)):l=t,isObject$2(t)&&i.set(t,l),l}function mergeOptions$1(e,t,n,r=!1){const{mixins:o,extends:i}=t;i&&mergeOptions$1(e,i,n,!0),o&&o.forEach((t=>mergeOptions$1(e,t,n,!0)));for(const a in t)if(r&&"expose"===a);else{const r=internalOptionMergeStrats[a]||n&&n[a];e[a]=r?r(e[a],t[a]):t[a]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend$4(isFunction$2(e)?e.call(this,this):e,isFunction$2(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray$1(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend$4(Object.create(null),e,t):t}function mergeEmitsOrPropsOptions(e,t){return e?isArray$1(e)&&isArray$1(t)?[...new Set([...e,...t])]:extend$4(Object.create(null),normalizePropsOrEmits(e),normalizePropsOrEmits(null!=t?t:{})):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const n=extend$4(Object.create(null),e);for(const r in t)n[r]=mergeAsArray(e[r],t[r]);return n}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,t){return function(n,r=null){isFunction$2(n)||(n=extend$4({},n)),null==r||isObject$2(r)||(r=null);const o=createAppContext(),i=new WeakSet;let a=!1;const s=o.app={_uid:uid$1++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:version$2,get config(){return o.config},set config(e){},use:(e,...t)=>(i.has(e)||(e&&isFunction$2(e.install)?(i.add(e),e.install(s,...t)):isFunction$2(e)&&(i.add(e),e(s,...t))),s),mixin:e=>(o.mixins.includes(e)||o.mixins.push(e),s),component:(e,t)=>t?(o.components[e]=t,s):o.components[e],directive:(e,t)=>t?(o.directives[e]=t,s):o.directives[e],mount(i,l,u){if(!a){const c=createVNode(n,r);return c.appContext=o,!0===u?u="svg":!1===u&&(u=void 0),l&&t?t(c,i):e(c,i,u),a=!0,s._container=i,i.__vue_app__=s,getExposeProxy(c.component)||c.component.proxy}},unmount(){a&&(e(null,s._container),delete s._container.__vue_app__)},provide:(e,t)=>(o.provides[e]=t,s),runWithContext(e){currentApp=s;try{return e()}finally{currentApp=null}}};return s}}let currentApp=null;function provide(e,t){if(currentInstance){let n=currentInstance.provides;const r=currentInstance.parent&&currentInstance.parent.provides;r===n&&(n=currentInstance.provides=Object.create(r)),n[e]=t}else;}function inject(e,t,n=!1){const r=currentInstance||currentRenderingInstance;if(r||currentApp){const o=r?null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:currentApp._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&isFunction$2(t)?t.call(r&&r.proxy):t}}function initProps(e,t,n,r=!1){const o={},i={};def(i,InternalObjectKey,1),e.propsDefaults=Object.create(null),setFullProps(e,t,o,i);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=r?o:shallowReactive(o):e.type.props?e.props=o:e.props=i,e.attrs=i}function updateProps(e,t,n,r){const{props:o,attrs:i,vnode:{patchFlag:a}}=e,s=toRaw(o),[l]=e.propsOptions;let u=!1;if(!(r||a>0)||16&a){let r;setFullProps(e,t,o,i)&&(u=!0);for(const i in s)t&&(hasOwn(t,i)||(r=hyphenate(i))!==i&&hasOwn(t,r))||(l?!n||void 0===n[i]&&void 0===n[r]||(o[i]=resolvePropValue(l,s,i,void 0,e,!0)):delete o[i]);if(i!==s)for(const e in i)t&&hasOwn(t,e)||(delete i[e],u=!0)}else if(8&a){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let a=n[r];if(isEmitListener(e.emitsOptions,a))continue;const c=t[a];if(l)if(hasOwn(i,a))c!==i[a]&&(i[a]=c,u=!0);else{const t=camelize(a);o[t]=resolvePropValue(l,s,t,c,e,!1)}else c!==i[a]&&(i[a]=c,u=!0)}}u&&trigger(e,"set","$attrs")}function setFullProps(e,t,n,r){const[o,i]=e.propsOptions;let a,s=!1;if(t)for(let l in t){if(isReservedProp(l))continue;const u=t[l];let c;o&&hasOwn(o,c=camelize(l))?i&&i.includes(c)?(a||(a={}))[c]=u:n[c]=u:isEmitListener(e.emitsOptions,l)||l in r&&u===r[l]||(r[l]=u,s=!0)}if(i){const t=toRaw(n),r=a||EMPTY_OBJ;for(let a=0;a<i.length;a++){const s=i[a];n[s]=resolvePropValue(o,t,s,r[s],e,!hasOwn(r,s))}}return s}function resolvePropValue(e,t,n,r,o,i){const a=e[n];if(null!=a){const e=hasOwn(a,"default");if(e&&void 0===r){const e=a.default;if(a.type!==Function&&!a.skipFactory&&isFunction$2(e)){const{propsDefaults:i}=o;n in i?r=i[n]:(setCurrentInstance(o),r=i[n]=e.call(null,t),unsetCurrentInstance())}else r=e}a[0]&&(i&&!e?r=!1:!a[1]||""!==r&&r!==hyphenate(n)||(r=!0))}return r}function normalizePropsOptions(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const i=e.props,a={},s=[];let l=!1;if(!isFunction$2(e)){const r=e=>{l=!0;const[n,r]=normalizePropsOptions(e,t,!0);extend$4(a,n),r&&s.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!i&&!l)return isObject$2(e)&&r.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$1(i))for(let c=0;c<i.length;c++){const e=camelize(i[c]);validatePropName(e)&&(a[e]=EMPTY_OBJ)}else if(i)for(const c in i){const e=camelize(c);if(validatePropName(e)){const t=i[c],n=a[e]=isArray$1(t)||isFunction$2(t)?{type:t}:extend$4({},t);if(n){const t=getTypeIndex(Boolean,n.type),r=getTypeIndex(String,n.type);n[0]=t>-1,n[1]=r<0||t<r,(t>-1||hasOwn(n,"default"))&&s.push(e)}}}const u=[a,s];return isObject$2(e)&&r.set(e,u),u}function validatePropName(e){return"$"!==e[0]}function getType(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:null===e?"null":""}function isSameType(e,t){return getType(e)===getType(t)}function getTypeIndex(e,t){return isArray$1(t)?t.findIndex((t=>isSameType(t,e))):isFunction$2(t)&&isSameType(t,e)?0:-1}const isInternalKey=e=>"_"===e[0]||"$stable"===e,normalizeSlotValue=e=>isArray$1(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot=(e,t,n)=>{if(t._n)return t;const r=withCtx(((...e)=>normalizeSlotValue(t(...e))),n);return r._c=!1,r},normalizeObjectSlots=(e,t,n)=>{const r=e._ctx;for(const o in e){if(isInternalKey(o))continue;const n=e[o];if(isFunction$2(n))t[o]=normalizeSlot(o,n,r);else if(null!=n){const e=normalizeSlotValue(n);t[o]=()=>e}}},normalizeVNodeSlots=(e,t)=>{const n=normalizeSlotValue(t);e.slots.default=()=>n},initSlots=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=toRaw(t),def(t,"_",n)):normalizeObjectSlots(t,e.slots={})}else e.slots={},t&&normalizeVNodeSlots(e,t);def(e.slots,InternalObjectKey,1)},updateSlots=(e,t,n)=>{const{vnode:r,slots:o}=e;let i=!0,a=EMPTY_OBJ;if(32&r.shapeFlag){const e=t._;e?n&&1===e?i=!1:(extend$4(o,t),n||1!==e||delete o._):(i=!t.$stable,normalizeObjectSlots(t,o)),a=t}else t&&(normalizeVNodeSlots(e,t),a={default:1});if(i)for(const s in o)isInternalKey(s)||null!=a[s]||delete o[s]};function setRef(e,t,n,r,o=!1){if(isArray$1(e))return void e.forEach(((e,i)=>setRef(e,t&&(isArray$1(t)?t[i]:t),n,r,o)));if(isAsyncWrapper(r)&&!o)return;const i=4&r.shapeFlag?getExposeProxy(r.component)||r.component.proxy:r.el,a=o?null:i,{i:s,r:l}=e,u=t&&t.r,c=s.refs===EMPTY_OBJ?s.refs={}:s.refs,d=s.setupState;if(null!=u&&u!==l&&(isString$1(u)?(c[u]=null,hasOwn(d,u)&&(d[u]=null)):isRef(u)&&(u.value=null)),isFunction$2(l))callWithErrorHandling(l,s,12,[a,c]);else{const t=isString$1(l),r=isRef(l);if(t||r){const s=()=>{if(e.f){const n=t?hasOwn(d,l)?d[l]:c[l]:l.value;o?isArray$1(n)&&remove$1(n,i):isArray$1(n)?n.includes(i)||n.push(i):t?(c[l]=[i],hasOwn(d,l)&&(d[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else t?(c[l]=a,hasOwn(d,l)&&(d[l]=a)):r&&(l.value=a,e.k&&(c[e.k]=a))};a?(s.id=-1,queuePostRenderEffect(s,n)):s()}}}let hasMismatch=!1;const isSVGContainer=e=>e.namespaceURI.includes("svg")&&"foreignObject"!==e.tagName,isMathMLContainer=e=>e.namespaceURI.includes("MathML"),getContainerType=e=>isSVGContainer(e)?"svg":isMathMLContainer(e)?"mathml":void 0,isComment$1=e=>8===e.nodeType;function createHydrationFunctions(e){const{mt:t,p:n,o:{patchProp:r,createText:o,nextSibling:i,parentNode:a,remove:s,insert:l,createComment:u}}=e,c=(n,r,s,u,v,y=!1)=>{const b=isComment$1(n)&&"["===n.data,E=()=>f(n,r,s,u,v,b),{type:C,ref:x,shapeFlag:w,patchFlag:S}=r;let T=n.nodeType;r.el=n,-2===S&&(y=!1,r.dynamicChildren=null);let k=null;switch(C){case Text$3:3!==T?""===r.children?(l(r.el=o(""),a(n),n),k=n):k=E():(n.data!==r.children&&(hasMismatch=!0,n.data=r.children),k=i(n));break;case Comment:g(n)?(k=i(n),_(r.el=n.content.firstChild,n,s)):k=8!==T||b?E():i(n);break;case Static$1:if(b&&(T=(n=i(n)).nodeType),1===T||3===T){k=n;const e=!r.children.length;for(let t=0;t<r.staticCount;t++)e&&(r.children+=1===k.nodeType?k.outerHTML:k.data),t===r.staticCount-1&&(r.anchor=k),k=i(k);return b?i(k):k}E();break;case Fragment:k=b?p(n,r,s,u,v,y):E();break;default:if(1&w)k=1===T&&r.type.toLowerCase()===n.tagName.toLowerCase()||g(n)?d(n,r,s,u,v,y):E();else if(6&w){r.slotScopeIds=v;const e=a(n);if(k=b?m(n):isComment$1(n)&&"teleport start"===n.data?m(n,n.data,"teleport end"):i(n),t(r,e,null,s,u,getContainerType(e),y),isAsyncWrapper(r)){let t;b?(t=createVNode(Fragment),t.anchor=k?k.previousSibling:e.lastChild):t=3===n.nodeType?createTextVNode(""):createVNode("div"),t.el=n,r.component.subTree=t}}else 64&w?k=8!==T?E():r.type.hydrate(n,r,s,u,v,y,e,h):128&w&&(k=r.type.hydrate(n,r,s,u,getContainerType(a(n)),v,y,e,c))}return null!=x&&setRef(x,null,u,r),k},d=(e,t,n,o,i,a)=>{a=a||!!t.dynamicChildren;const{type:l,props:u,patchFlag:c,shapeFlag:d,dirs:p,transition:f}=t,m="input"===l||"option"===l;if(m||-1!==c){p&&invokeDirectiveHook(t,null,n,"created");let l,v=!1;if(g(e)){v=needTransition(o,f)&&n&&n.vnode.props&&n.vnode.props.appear;const r=e.content.firstChild;v&&f.beforeEnter(r),_(r,e,n),t.el=e=r}if(16&d&&(!u||!u.innerHTML&&!u.textContent)){let r=h(e.firstChild,t,e,n,o,i,a);for(;r;){hasMismatch=!0;const e=r;r=r.nextSibling,s(e)}}else 8&d&&e.textContent!==t.children&&(hasMismatch=!0,e.textContent=t.children);if(u)if(m||!a||48&c)for(const t in u)(m&&(t.endsWith("value")||"indeterminate"===t)||isOn(t)&&!isReservedProp(t)||"."===t[0])&&r(e,t,null,u[t],void 0,void 0,n);else u.onClick&&r(e,"onClick",null,u.onClick,void 0,void 0,n);(l=u&&u.onVnodeBeforeMount)&&invokeVNodeHook(l,n,t),p&&invokeDirectiveHook(t,null,n,"beforeMount"),((l=u&&u.onVnodeMounted)||p||v)&&queueEffectWithSuspense((()=>{l&&invokeVNodeHook(l,n,t),v&&f.enter(e),p&&invokeDirectiveHook(t,null,n,"mounted")}),o)}return e.nextSibling},h=(e,t,r,o,i,a,s)=>{s=s||!!t.dynamicChildren;const l=t.children,u=l.length;for(let d=0;d<u;d++){const t=s?l[d]:l[d]=normalizeVNode(l[d]);if(e)e=c(e,t,o,i,a,s);else{if(t.type===Text$3&&!t.children)continue;hasMismatch=!0,n(null,t,r,null,o,i,getContainerType(r),a)}}return e},p=(e,t,n,r,o,s)=>{const{slotScopeIds:c}=t;c&&(o=o?o.concat(c):c);const d=a(e),p=h(i(e),t,d,n,r,o,s);return p&&isComment$1(p)&&"]"===p.data?i(t.anchor=p):(hasMismatch=!0,l(t.anchor=u("]"),d,p),p)},f=(e,t,r,o,l,u)=>{if(hasMismatch=!0,t.el=null,u){const t=m(e);for(;;){const n=i(e);if(!n||n===t)break;s(n)}}const c=i(e),d=a(e);return s(e),n(null,t,d,c,r,o,getContainerType(d),l),c},m=(e,t="[",n="]")=>{let r=0;for(;e;)if((e=i(e))&&isComment$1(e)&&(e.data===t&&r++,e.data===n)){if(0===r)return i(e);r--}return e},_=(e,t,n)=>{const r=t.parentNode;r&&r.replaceChild(e,t);let o=n;for(;o;)o.vnode.el===t&&(o.vnode.el=o.subTree.el=e),o=o.parent},g=e=>1===e.nodeType&&"template"===e.tagName.toLowerCase();return[(e,t)=>{if(!t.hasChildNodes())return n(null,e,t),flushPostFlushCbs(),void(t._vnode=e);hasMismatch=!1,c(t.firstChild,e,null,null,null),flushPostFlushCbs(),t._vnode=e},c]}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function createHydrationRenderer(e){return baseCreateRenderer(e,createHydrationFunctions)}function baseCreateRenderer(e,t){getGlobalThis().__VUE__=!0;const{insert:n,remove:r,patchProp:o,createElement:i,createText:a,createComment:s,setText:l,setElementText:u,parentNode:c,nextSibling:d,setScopeId:h=NOOP,insertStaticContent:p}=e,f=(e,t,n,r=null,o=null,i=null,a=void 0,s=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!isSameVNodeType(e,t)&&(r=V(e),R(e,o,i,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:u,ref:c,shapeFlag:d}=t;switch(u){case Text$3:m(e,t,n,r);break;case Comment:_(e,t,n,r);break;case Static$1:null==e&&g(t,n,r,a);break;case Fragment:S(e,t,n,r,o,i,a,s,l);break;default:1&d?v(e,t,n,r,o,i,a,s,l):6&d?T(e,t,n,r,o,i,a,s,l):(64&d||128&d)&&u.process(e,t,n,r,o,i,a,s,l,U)}null!=c&&o&&setRef(c,e&&e.ref,i,t||e,!t)},m=(e,t,r,o)=>{if(null==e)n(t.el=a(t.children),r,o);else{const n=t.el=e.el;t.children!==e.children&&l(n,t.children)}},_=(e,t,r,o)=>{null==e?n(t.el=s(t.children||""),r,o):t.el=e.el},g=(e,t,n,r)=>{[e.el,e.anchor]=p(e.children,t,n,r,e.el,e.anchor)},v=(e,t,n,r,o,i,a,s,l)=>{"svg"===t.type?a="svg":"math"===t.type&&(a="mathml"),null==e?y(t,n,r,o,i,a,s,l):C(e,t,o,i,a,s,l)},y=(e,t,r,a,s,l,c,d)=>{let h,p;const{props:f,shapeFlag:m,transition:_,dirs:g}=e;if(h=e.el=i(e.type,l,f&&f.is,f),8&m?u(h,e.children):16&m&&E(e.children,h,null,a,s,resolveChildrenNamespace(e,l),c,d),g&&invokeDirectiveHook(e,null,a,"created"),b(h,e,e.scopeId,c,a),f){for(const t in f)"value"===t||isReservedProp(t)||o(h,t,null,f[t],l,e.children,a,s,F);"value"in f&&o(h,"value",null,f.value,l),(p=f.onVnodeBeforeMount)&&invokeVNodeHook(p,a,e)}g&&invokeDirectiveHook(e,null,a,"beforeMount");const v=needTransition(s,_);v&&_.beforeEnter(h),n(h,t,r),((p=f&&f.onVnodeMounted)||v||g)&&queuePostRenderEffect((()=>{p&&invokeVNodeHook(p,a,e),v&&_.enter(h),g&&invokeDirectiveHook(e,null,a,"mounted")}),s)},b=(e,t,n,r,o)=>{if(n&&h(e,n),r)for(let i=0;i<r.length;i++)h(e,r[i]);if(o){if(t===o.subTree){const t=o.vnode;b(e,t,t.scopeId,t.slotScopeIds,o.parent)}}},E=(e,t,n,r,o,i,a,s,l=0)=>{for(let u=l;u<e.length;u++){const l=e[u]=s?cloneIfMounted(e[u]):normalizeVNode(e[u]);f(null,l,t,n,r,o,i,a,s)}},C=(e,t,n,r,i,a,s)=>{const l=t.el=e.el;let{patchFlag:c,dynamicChildren:d,dirs:h}=t;c|=16&e.patchFlag;const p=e.props||EMPTY_OBJ,f=t.props||EMPTY_OBJ;let m;if(n&&toggleRecurse(n,!1),(m=f.onVnodeBeforeUpdate)&&invokeVNodeHook(m,n,t,e),h&&invokeDirectiveHook(t,e,n,"beforeUpdate"),n&&toggleRecurse(n,!0),d?x(e.dynamicChildren,d,l,n,r,resolveChildrenNamespace(t,i),a):s||O(e,t,l,null,n,r,resolveChildrenNamespace(t,i),a,!1),c>0){if(16&c)w(l,t,p,f,n,r,i);else if(2&c&&p.class!==f.class&&o(l,"class",null,f.class,i),4&c&&o(l,"style",p.style,f.style,i),8&c){const a=t.dynamicProps;for(let t=0;t<a.length;t++){const s=a[t],u=p[s],c=f[s];c===u&&"value"!==s||o(l,s,u,c,i,e.children,n,r,F)}}1&c&&e.children!==t.children&&u(l,t.children)}else s||null!=d||w(l,t,p,f,n,r,i);((m=f.onVnodeUpdated)||h)&&queuePostRenderEffect((()=>{m&&invokeVNodeHook(m,n,t,e),h&&invokeDirectiveHook(t,e,n,"updated")}),r)},x=(e,t,n,r,o,i,a)=>{for(let s=0;s<t.length;s++){const l=e[s],u=t[s],d=l.el&&(l.type===Fragment||!isSameVNodeType(l,u)||70&l.shapeFlag)?c(l.el):n;f(l,u,d,null,r,o,i,a,!0)}},w=(e,t,n,r,i,a,s)=>{if(n!==r){if(n!==EMPTY_OBJ)for(const l in n)isReservedProp(l)||l in r||o(e,l,n[l],null,s,t.children,i,a,F);for(const l in r){if(isReservedProp(l))continue;const u=r[l],c=n[l];u!==c&&"value"!==l&&o(e,l,c,u,s,t.children,i,a,F)}"value"in r&&o(e,"value",n.value,r.value,s)}},S=(e,t,r,o,i,s,l,u,c)=>{const d=t.el=e?e.el:a(""),h=t.anchor=e?e.anchor:a("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:m}=t;m&&(u=u?u.concat(m):m),null==e?(n(d,r,o),n(h,r,o),E(t.children||[],r,h,i,s,l,u,c)):p>0&&64&p&&f&&e.dynamicChildren?(x(e.dynamicChildren,f,r,i,s,l,u),(null!=t.key||i&&t===i.subTree)&&traverseStaticChildren(e,t,!0)):O(e,t,r,h,i,s,l,u,c)},T=(e,t,n,r,o,i,a,s,l)=>{t.slotScopeIds=s,null==e?512&t.shapeFlag?o.ctx.activate(t,n,r,a,l):k(t,n,r,o,i,a,l):L(e,t,l)},k=(e,t,n,r,o,i,a)=>{const s=e.component=createComponentInstance(e,r,o);if(isKeepAlive(e)&&(s.ctx.renderer=U),setupComponent(s),s.asyncDep){if(o&&o.registerDep(s,P),!e.el){const e=s.subTree=createVNode(Comment);_(null,e,t,n)}}else P(s,e,t,n,o,i,a)},L=(e,t,n)=>{const r=t.component=e.component;if(shouldUpdateComponent(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void M(r,t,n);r.next=t,invalidateJob(r.update),r.effect.dirty=!0,r.update()}else t.el=e.el,r.vnode=t},P=(e,t,n,r,o,i,a)=>{const s=()=>{if(e.isMounted){let{next:t,bu:n,u:r,parent:l,vnode:u}=e;{const n=locateNonHydratedAsyncRoot(e);if(n)return t&&(t.el=u.el,M(e,t,a)),void n.asyncDep.then((()=>{e.isUnmounted||s()}))}let d,h=t;toggleRecurse(e,!1),t?(t.el=u.el,M(e,t,a)):t=u,n&&invokeArrayFns(n),(d=t.props&&t.props.onVnodeBeforeUpdate)&&invokeVNodeHook(d,l,t,u),toggleRecurse(e,!0);const p=renderComponentRoot(e),m=e.subTree;e.subTree=p,f(m,p,c(m.el),V(m),e,o,i),t.el=p.el,null===h&&updateHOCHostEl(e,p.el),r&&queuePostRenderEffect(r,o),(d=t.props&&t.props.onVnodeUpdated)&&queuePostRenderEffect((()=>invokeVNodeHook(d,l,t,u)),o)}else{let a;const{el:s,props:l}=t,{bm:u,m:c,parent:d}=e,h=isAsyncWrapper(t);if(toggleRecurse(e,!1),u&&invokeArrayFns(u),!h&&(a=l&&l.onVnodeBeforeMount)&&invokeVNodeHook(a,d,t),toggleRecurse(e,!0),s&&H){const n=()=>{e.subTree=renderComponentRoot(e),H(s,e.subTree,e,o,null)};h?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{const a=e.subTree=renderComponentRoot(e);f(null,a,n,r,e,o,i),t.el=a.el}if(c&&queuePostRenderEffect(c,o),!h&&(a=l&&l.onVnodeMounted)){const e=t;queuePostRenderEffect((()=>invokeVNodeHook(a,d,e)),o)}(256&t.shapeFlag||d&&isAsyncWrapper(d.vnode)&&256&d.vnode.shapeFlag)&&e.a&&queuePostRenderEffect(e.a,o),e.isMounted=!0,t=n=r=null}},l=e.effect=new ReactiveEffect(s,NOOP,(()=>queueJob(u)),e.scope),u=e.update=()=>{l.dirty&&l.run()};u.id=e.uid,toggleRecurse(e,!0),u()},M=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,updateProps(e,t.props,r,n),updateSlots(e,t.children,n),pauseTracking(),flushPreFlushCbs(e),resetTracking()},O=(e,t,n,r,o,i,a,s,l=!1)=>{const c=e&&e.children,d=e?e.shapeFlag:0,h=t.children,{patchFlag:p,shapeFlag:f}=t;if(p>0){if(128&p)return void A(c,h,n,r,o,i,a,s,l);if(256&p)return void N(c,h,n,r,o,i,a,s,l)}8&f?(16&d&&F(c,o,i),h!==c&&u(n,h)):16&d?16&f?A(c,h,n,r,o,i,a,s,l):F(c,o,i,!0):(8&d&&u(n,""),16&f&&E(h,n,r,o,i,a,s,l))},N=(e,t,n,r,o,i,a,s,l)=>{t=t||EMPTY_ARR;const u=(e=e||EMPTY_ARR).length,c=t.length,d=Math.min(u,c);let h;for(h=0;h<d;h++){const r=t[h]=l?cloneIfMounted(t[h]):normalizeVNode(t[h]);f(e[h],r,n,null,o,i,a,s,l)}u>c?F(e,o,i,!0,!1,d):E(t,n,r,o,i,a,s,l,d)},A=(e,t,n,r,o,i,a,s,l)=>{let u=0;const c=t.length;let d=e.length-1,h=c-1;for(;u<=d&&u<=h;){const r=e[u],c=t[u]=l?cloneIfMounted(t[u]):normalizeVNode(t[u]);if(!isSameVNodeType(r,c))break;f(r,c,n,null,o,i,a,s,l),u++}for(;u<=d&&u<=h;){const r=e[d],u=t[h]=l?cloneIfMounted(t[h]):normalizeVNode(t[h]);if(!isSameVNodeType(r,u))break;f(r,u,n,null,o,i,a,s,l),d--,h--}if(u>d){if(u<=h){const e=h+1,d=e<c?t[e].el:r;for(;u<=h;)f(null,t[u]=l?cloneIfMounted(t[u]):normalizeVNode(t[u]),n,d,o,i,a,s,l),u++}}else if(u>h)for(;u<=d;)R(e[u],o,i,!0),u++;else{const p=u,m=u,_=new Map;for(u=m;u<=h;u++){const e=t[u]=l?cloneIfMounted(t[u]):normalizeVNode(t[u]);null!=e.key&&_.set(e.key,u)}let g,v=0;const y=h-m+1;let b=!1,E=0;const C=new Array(y);for(u=0;u<y;u++)C[u]=0;for(u=p;u<=d;u++){const r=e[u];if(v>=y){R(r,o,i,!0);continue}let c;if(null!=r.key)c=_.get(r.key);else for(g=m;g<=h;g++)if(0===C[g-m]&&isSameVNodeType(r,t[g])){c=g;break}void 0===c?R(r,o,i,!0):(C[c-m]=u+1,c>=E?E=c:b=!0,f(r,t[c],n,null,o,i,a,s,l),v++)}const x=b?getSequence(C):EMPTY_ARR;for(g=x.length-1,u=y-1;u>=0;u--){const e=m+u,d=t[e],h=e+1<c?t[e+1].el:r;0===C[u]?f(null,d,n,h,o,i,a,s,l):b&&(g<0||u!==x[g]?I(d,n,h,2):g--)}}},I=(e,t,r,o,i=null)=>{const{el:a,type:s,transition:l,children:u,shapeFlag:c}=e;if(6&c)return void I(e.component.subTree,t,r,o);if(128&c)return void e.suspense.move(t,r,o);if(64&c)return void s.move(e,t,r,U);if(s===Fragment){n(a,t,r);for(let e=0;e<u.length;e++)I(u[e],t,r,o);return void n(e.anchor,t,r)}if(s===Static$1)return void(({el:e,anchor:t},r,o)=>{let i;for(;e&&e!==t;)i=d(e),n(e,r,o),e=i;n(t,r,o)})(e,t,r);if(2!==o&&1&c&&l)if(0===o)l.beforeEnter(a),n(a,t,r),queuePostRenderEffect((()=>l.enter(a)),i);else{const{leave:e,delayLeave:o,afterLeave:i}=l,s=()=>n(a,t,r),u=()=>{e(a,(()=>{s(),i&&i()}))};o?o(a,s,u):u()}else n(a,t,r)},R=(e,t,n,r=!1,o=!1)=>{const{type:i,props:a,ref:s,children:l,dynamicChildren:u,shapeFlag:c,patchFlag:d,dirs:h}=e;if(null!=s&&setRef(s,null,n,e,!0),256&c)return void t.ctx.deactivate(e);const p=1&c&&h,f=!isAsyncWrapper(e);let m;if(f&&(m=a&&a.onVnodeBeforeUnmount)&&invokeVNodeHook(m,t,e),6&c)D(e.component,n,r);else{if(128&c)return void e.suspense.unmount(n,r);p&&invokeDirectiveHook(e,null,t,"beforeUnmount"),64&c?e.type.remove(e,t,n,o,U,r):u&&(i!==Fragment||d>0&&64&d)?F(u,t,n,!1,!0):(i===Fragment&&384&d||!o&&16&c)&&F(l,t,n),r&&$(e)}(f&&(m=a&&a.onVnodeUnmounted)||p)&&queuePostRenderEffect((()=>{m&&invokeVNodeHook(m,t,e),p&&invokeDirectiveHook(e,null,t,"unmounted")}),n)},$=e=>{const{type:t,el:n,anchor:o,transition:i}=e;if(t===Fragment)return void B(n,o);if(t===Static$1)return void(({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=d(e),r(e),e=n;r(t)})(e);const a=()=>{r(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:r}=i,o=()=>t(n,a);r?r(e.el,a,o):o()}else a()},B=(e,t)=>{let n;for(;e!==t;)n=d(e),r(e),e=n;r(t)},D=(e,t,n)=>{const{bum:r,scope:o,update:i,subTree:a,um:s}=e;r&&invokeArrayFns(r),o.stop(),i&&(i.active=!1,R(a,e,t,n)),s&&queuePostRenderEffect(s,t),queuePostRenderEffect((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},F=(e,t,n,r=!1,o=!1,i=0)=>{for(let a=i;a<e.length;a++)R(e[a],t,n,r,o)},V=e=>6&e.shapeFlag?V(e.component.subTree):128&e.shapeFlag?e.suspense.next():d(e.anchor||e.el);let z=!1;const j=(e,t,n)=>{null==e?t._vnode&&R(t._vnode,null,null,!0):f(t._vnode||null,e,t,null,null,null,n),z||(z=!0,flushPreFlushCbs(),flushPostFlushCbs(),z=!1),t._vnode=e},U={p:f,um:R,m:I,r:$,mt:k,mc:E,pc:O,pbc:x,n:V,o:e};let G,H;return t&&([G,H]=t(U)),{render:j,hydrate:G,createApp:createAppAPI(j,G)}}function resolveChildrenNamespace({type:e,props:t},n){return"svg"===n&&"foreignObject"===e||"mathml"===n&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function toggleRecurse({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function needTransition(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function traverseStaticChildren(e,t,n=!1){const r=e.children,o=t.children;if(isArray$1(r)&&isArray$1(o))for(let i=0;i<r.length;i++){const e=r[i];let t=o[i];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=o[i]=cloneIfMounted(o[i]),t.el=e.el),n||traverseStaticChildren(e,t)),t.type===Text$3&&(t.el=e.el)}}function getSequence(e){const t=e.slice(),n=[0];let r,o,i,a,s;const l=e.length;for(r=0;r<l;r++){const l=e[r];if(0!==l){if(o=n[n.length-1],e[o]<l){t[r]=o,n.push(r);continue}for(i=0,a=n.length-1;i<a;)s=i+a>>1,e[n[s]]<l?i=s+1:a=s;l<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=t[a];return n}function locateNonHydratedAsyncRoot(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:locateNonHydratedAsyncRoot(t)}const isTeleport=e=>e.__isTeleport,isTeleportDisabled=e=>e&&(e.disabled||""===e.disabled),isTargetSVG=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,isTargetMathML=e=>"function"==typeof MathMLElement&&e instanceof MathMLElement,resolveTarget=(e,t)=>{const n=e&&e.to;if(isString$1(n)){if(t){return t(n)}return null}return n},TeleportImpl={name:"Teleport",__isTeleport:!0,process(e,t,n,r,o,i,a,s,l,u){const{mc:c,pc:d,pbc:h,o:{insert:p,querySelector:f,createText:m,createComment:_}}=u,g=isTeleportDisabled(t.props);let{shapeFlag:v,children:y,dynamicChildren:b}=t;if(null==e){const e=t.el=m(""),u=t.anchor=m("");p(e,n,r),p(u,n,r);const d=t.target=resolveTarget(t.props,f),h=t.targetAnchor=m("");d&&(p(h,d),"svg"===a||isTargetSVG(d)?a="svg":("mathml"===a||isTargetMathML(d))&&(a="mathml"));const _=(e,t)=>{16&v&&c(y,e,t,o,i,a,s,l)};g?_(n,u):d&&_(d,h)}else{t.el=e.el;const r=t.anchor=e.anchor,c=t.target=e.target,p=t.targetAnchor=e.targetAnchor,m=isTeleportDisabled(e.props),_=m?n:c,v=m?r:p;if("svg"===a||isTargetSVG(c)?a="svg":("mathml"===a||isTargetMathML(c))&&(a="mathml"),b?(h(e.dynamicChildren,b,_,o,i,a,s),traverseStaticChildren(e,t,!0)):l||d(e,t,_,v,o,i,a,s,!1),g)m?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):moveTeleport(t,n,r,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=resolveTarget(t.props,f);e&&moveTeleport(t,e,null,u,0)}else m&&moveTeleport(t,c,p,u,1)}updateCssVars(t)},remove(e,t,n,r,{um:o,o:{remove:i}},a){const{shapeFlag:s,children:l,anchor:u,targetAnchor:c,target:d,props:h}=e;if(d&&i(c),a&&i(u),16&s){const e=a||!isTeleportDisabled(h);for(let r=0;r<l.length;r++){const i=l[r];o(i,t,n,e,!!i.dynamicChildren)}}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(e,t,n,{o:{insert:r},m:o},i=2){0===i&&r(e.targetAnchor,t,n);const{el:a,anchor:s,shapeFlag:l,children:u,props:c}=e,d=2===i;if(d&&r(a,t,n),(!d||isTeleportDisabled(c))&&16&l)for(let h=0;h<u.length;h++)o(u[h],t,n,2);d&&r(s,t,n)}function hydrateTeleport(e,t,n,r,o,i,{o:{nextSibling:a,parentNode:s,querySelector:l}},u){const c=t.target=resolveTarget(t.props,l);if(c){const l=c._lpa||c.firstChild;if(16&t.shapeFlag)if(isTeleportDisabled(t.props))t.anchor=u(a(e),t,s(e),n,r,o,i),t.targetAnchor=l;else{t.anchor=a(e);let s=l;for(;s;)if(s=a(s),s&&8===s.nodeType&&"teleport anchor"===s.data){t.targetAnchor=s,c._lpa=t.targetAnchor&&a(t.targetAnchor);break}u(l,t,c,n,r,o,i)}updateCssVars(t)}return t.anchor&&a(t.anchor)}const Teleport=TeleportImpl;function updateCssVars(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n&&n!==e.targetAnchor;)1===n.nodeType&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Fragment=Symbol.for("v-fgt"),Text$3=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static$1=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e){isBlockTreeEnabled+=e}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,n,r,o,i){return setupBlock(createBaseVNode(e,t,n,r,o,i,!0))}function createBlock(e,t,n,r,o){return setupBlock(createVNode(e,t,n,r,o,!0))}function isVNode(e){return!!e&&!0===e.__v_isVNode}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}const InternalObjectKey="__vInternal",normalizeKey=({key:e})=>null!=e?e:null,normalizeRef=({ref:e,ref_key:t,ref_for:n})=>("number"==typeof e&&(e=""+e),null!=e?isString$1(e)||isRef(e)||isFunction$2(e)?{i:currentRenderingInstance,r:e,k:t,f:!!n}:e:null);function createBaseVNode(e,t=null,n=null,r=0,o=null,i=(e===Fragment?0:1),a=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return s?(normalizeChildren(l,n),128&i&&e.normalize(l)):n&&(l.shapeFlag|=isString$1(n)?8:16),isBlockTreeEnabled>0&&!a&&currentBlock&&(l.patchFlag>0||6&i)&&32!==l.patchFlag&&currentBlock.push(l),l}const createVNode=_createVNode;function _createVNode(e,t=null,n=null,r=0,o=null,i=!1){if(e&&e!==NULL_DYNAMIC_COMPONENT||(e=Comment),isVNode(e)){const r=cloneVNode(e,t,!0);return n&&normalizeChildren(r,n),isBlockTreeEnabled>0&&!i&&currentBlock&&(6&r.shapeFlag?currentBlock[currentBlock.indexOf(e)]=r:currentBlock.push(r)),r.patchFlag|=-2,r}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:e,style:n}=t;e&&!isString$1(e)&&(t.class=normalizeClass(e)),isObject$2(n)&&(isProxy(n)&&!isArray$1(n)&&(n=extend$4({},n)),t.style=normalizeStyle(n))}return createBaseVNode(e,t,n,r,o,isString$1(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject$2(e)?4:isFunction$2(e)?2:0,i,!0)}function guardReactiveProps(e){return e?isProxy(e)||InternalObjectKey in e?extend$4({},e):e:null}function cloneVNode(e,t,n=!1){const{props:r,ref:o,patchFlag:i,children:a}=e,s=t?mergeProps(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&normalizeKey(s),ref:t&&t.ref?n&&o?isArray$1(o)?o.concat(normalizeRef(t)):[o,normalizeRef(t)]:normalizeRef(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?-1===i?16:16|i:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function createTextVNode(e=" ",t=0){return createVNode(Text$3,null,e,t)}function createStaticVNode(e,t){const n=createVNode(Static$1,null,e);return n.staticCount=t,n}function createCommentVNode(e="",t=!1){return t?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return null==e||"boolean"==typeof e?createVNode(Comment):isArray$1(e)?createVNode(Fragment,null,e.slice()):"object"==typeof e?cloneIfMounted(e):createVNode(Text$3,null,String(e))}function cloneIfMounted(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if(isArray$1(t))n=16;else if("object"==typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),normalizeChildren(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||InternalObjectKey in t?3===r&&currentRenderingInstance&&(1===currentRenderingInstance.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=currentRenderingInstance}}else isFunction$2(t)?(t={default:t,_ctx:currentRenderingInstance},n=32):(t=String(t),64&r?(n=16,t=[createTextVNode(t)]):n=8);e.children=t,e.shapeFlag|=n}function mergeProps(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=normalizeClass([t.class,r.class]));else if("style"===e)t.style=normalizeStyle([t.style,r.style]);else if(isOn(e)){const n=t[e],o=r[e];!o||n===o||isArray$1(n)&&n.includes(o)||(t[e]=n?[].concat(n,o):o)}else""!==e&&(t[e]=r[e])}return t}function invokeVNodeHook(e,t,n,r=null){callWithAsyncErrorHandling(e,t,7,[n,r])}const emptyAppContext=createAppContext();let uid$2=0;function createComponentInstance(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||emptyAppContext,i={uid:uid$2++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(r,o),emitsOptions:normalizeEmitsOptions(r,o),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:r.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=emit.bind(null,i),e.ce&&e.ce(i),i}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const e=getGlobalThis(),t=(t,n)=>{let r;return(r=e[t])||(r=e[t]=[]),r.push(n),e=>{r.length>1?r.forEach((t=>t(e))):r[0](e)}};internalSetCurrentInstance=t("__VUE_INSTANCE_SETTERS__",(e=>currentInstance=e)),setInSSRSetupState=t("__VUE_SSR_SETTERS__",(e=>isInSSRComponentSetup=e))}const setCurrentInstance=e=>{internalSetCurrentInstance(e),e.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(e){return 4&e.vnode.shapeFlag}let isInSSRComponentSetup=!1,compile;function setupComponent(e,t=!1){t&&setInSSRSetupState(t);const{props:n,children:r}=e.vnode,o=isStatefulComponent(e);initProps(e,n,o,t),initSlots(e,r);const i=o?setupStatefulComponent(e,t):void 0;return t&&setInSSRSetupState(!1),i}function setupStatefulComponent(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=markRaw(new Proxy(e.ctx,PublicInstanceProxyHandlers));const{setup:r}=n;if(r){const n=e.setupContext=r.length>1?createSetupContext(e):null;setCurrentInstance(e),pauseTracking();const o=callWithErrorHandling(r,e,0,[e.props,n]);if(resetTracking(),unsetCurrentInstance(),isPromise(o)){if(o.then(unsetCurrentInstance,unsetCurrentInstance),t)return o.then((n=>{handleSetupResult(e,n,t)})).catch((t=>{handleError(t,e,0)}));e.asyncDep=o}else handleSetupResult(e,o,t)}else finishComponentSetup(e,t)}function handleSetupResult(e,t,n){isFunction$2(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject$2(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e,n)}function finishComponentSetup(e,t,n){const r=e.type;if(!e.render){if(!t&&compile&&!r.render){const t=r.template||resolveMergedOptions(e).template;if(t){const{isCustomElement:n,compilerOptions:o}=e.appContext.config,{delimiters:i,compilerOptions:a}=r,s=extend$4(extend$4({isCustomElement:n,delimiters:i},o),a);r.render=compile(t,s)}}e.render=r.render||NOOP}setCurrentInstance(e),pauseTracking();try{applyOptions(e)}finally{resetTracking(),unsetCurrentInstance()}}function getAttrsProxy(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get:(t,n)=>(track(e,"get","$attrs"),t[n])}))}function createSetupContext(e){const t=t=>{e.exposed=t||{}};return{get attrs(){return getAttrsProxy(e)},slots:e.slots,emit:e.emit,expose:t}}function getExposeProxy(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get:(t,n)=>n in t?t[n]:n in publicPropertiesMap?publicPropertiesMap[n](e):void 0,has:(e,t)=>t in e||t in publicPropertiesMap}))}const classifyRE=/(?:^|[-_])(\w)/g,classify=e=>e.replace(classifyRE,(e=>e.toUpperCase())).replace(/[-_]/g,"");function getComponentName(e,t=!0){return isFunction$2(e)?e.displayName||e.name:e.name||t&&e.__name}function formatComponentName(e,t,n=!1){let r=getComponentName(t);if(!r&&t.__file){const e=t.__file.match(/([^/\\]+)\.\w+$/);e&&(r=e[1])}if(!r&&e&&e.parent){const n=e=>{for(const n in e)if(e[n]===t)return n};r=n(e.components||e.parent.type.components)||n(e.appContext.components)}return r?classify(r):n?"App":"Anonymous"}function isClassComponent(e){return isFunction$2(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup);function h$1(e,t,n){const r=arguments.length;return 2===r?isObject$2(t)&&!isArray$1(t)?isVNode(t)?createVNode(e,null,[t]):createVNode(e,t):createVNode(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&isVNode(n)&&(n=[n]),createVNode(e,t,n))}const version$2="3.4.6",warn=NOOP,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc="undefined"!=typeof document?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o="svg"===t?doc.createElementNS(svgNS,e):"mathml"===t?doc.createElementNS(mathmlNS,e):doc.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&o.setAttribute("multiple",r.multiple),o},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,i){const a=n?n.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),o!==i&&(o=o.nextSibling););else{templateContainer.innerHTML="svg"===r?`<svg>${e}</svg>`:"mathml"===r?`<math>${e}</math>`:e;const o=templateContainer.content;if("svg"===r||"mathml"===r){const e=o.firstChild;for(;e.firstChild;)o.appendChild(e.firstChild);o.removeChild(e)}t.insertBefore(o,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),Transition=(e,{slots:t})=>h$1(BaseTransition,resolveTransitionProps(e),t);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend$4({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),callHook=(e,t=[])=>{isArray$1(e)?e.forEach((e=>e(...t))):e&&e(...t)},hasExplicitCallback=e=>!!e&&(isArray$1(e)?e.some((e=>e.length>1)):e.length>1);function resolveTransitionProps(e){const t={};for(const L in e)L in DOMTransitionPropsValidators||(t[L]=e[L]);if(!1===e.css)return t;const{name:n="v",type:r,duration:o,enterFromClass:i=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=a,appearToClass:c=s,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,f=normalizeDuration(o),m=f&&f[0],_=f&&f[1],{onBeforeEnter:g,onEnter:v,onEnterCancelled:y,onLeave:b,onLeaveCancelled:E,onBeforeAppear:C=g,onAppear:x=v,onAppearCancelled:w=y}=t,S=(e,t,n)=>{removeTransitionClass(e,t?c:s),removeTransitionClass(e,t?u:a),n&&n()},T=(e,t)=>{e._isLeaving=!1,removeTransitionClass(e,d),removeTransitionClass(e,p),removeTransitionClass(e,h),t&&t()},k=e=>(t,n)=>{const o=e?x:v,a=()=>S(t,e,n);callHook(o,[t,a]),nextFrame((()=>{removeTransitionClass(t,e?l:i),addTransitionClass(t,e?c:s),hasExplicitCallback(o)||whenTransitionEnds(t,r,m,a)}))};return extend$4(t,{onBeforeEnter(e){callHook(g,[e]),addTransitionClass(e,i),addTransitionClass(e,a)},onBeforeAppear(e){callHook(C,[e]),addTransitionClass(e,l),addTransitionClass(e,u)},onEnter:k(!1),onAppear:k(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>T(e,t);addTransitionClass(e,d),forceReflow(),addTransitionClass(e,h),nextFrame((()=>{e._isLeaving&&(removeTransitionClass(e,d),addTransitionClass(e,p),hasExplicitCallback(b)||whenTransitionEnds(e,r,_,n))})),callHook(b,[e,n])},onEnterCancelled(e){S(e,!1),callHook(y,[e])},onAppearCancelled(e){S(e,!0),callHook(w,[e])},onLeaveCancelled(e){T(e),callHook(E,[e])}})}function normalizeDuration(e){if(null==e)return null;if(isObject$2(e))return[NumberOf(e.enter),NumberOf(e.leave)];{const t=NumberOf(e);return[t,t]}}function NumberOf(e){return toNumber$1(e)}function addTransitionClass(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e[vtcKey]||(e[vtcKey]=new Set)).add(t)}function removeTransitionClass(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const n=e[vtcKey];n&&(n.delete(t),n.size||(e[vtcKey]=void 0))}function nextFrame(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let endId=0;function whenTransitionEnds(e,t,n,r){const o=e._endId=++endId,i=()=>{o===e._endId&&r()};if(n)return setTimeout(i,n);const{type:a,timeout:s,propCount:l}=getTransitionInfo(e,t);if(!a)return r();const u=a+"end";let c=0;const d=()=>{e.removeEventListener(u,h),i()},h=t=>{t.target===e&&++c>=l&&d()};setTimeout((()=>{c<l&&d()}),s+1),e.addEventListener(u,h)}function getTransitionInfo(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),o=r(`${TRANSITION}Delay`),i=r(`${TRANSITION}Duration`),a=getTimeout(o,i),s=r(`${ANIMATION}Delay`),l=r(`${ANIMATION}Duration`),u=getTimeout(s,l);let c=null,d=0,h=0;t===TRANSITION?a>0&&(c=TRANSITION,d=a,h=i.length):t===ANIMATION?u>0&&(c=ANIMATION,d=u,h=l.length):(d=Math.max(a,u),c=d>0?a>u?TRANSITION:ANIMATION:null,h=c?c===TRANSITION?i.length:l.length:0);return{type:c,timeout:d,propCount:h,hasTransform:c===TRANSITION&&/\b(transform|all)(,|$)/.test(r(`${TRANSITION}Property`).toString())}}function getTimeout(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,n)=>toMs(t)+toMs(e[n]))))}function toMs(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}function forceReflow(){return document.body.offsetHeight}function patchClass(e,t,n){const r=e[vtcKey];r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const vShowOldKey=Symbol("_vod"),vShow={beforeMount(e,{value:t},{transition:n}){e[vShowOldKey]="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):setDisplay(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),setDisplay(e,!0),r.enter(e)):r.leave(e,(()=>{setDisplay(e,!1)})):setDisplay(e,t))},beforeUnmount(e,{value:t}){setDisplay(e,t)}};function setDisplay(e,t){e.style.display=t?e[vShowOldKey]:"none"}const CSS_VAR_TEXT=Symbol("");function patchStyle(e,t,n){const r=e.style,o=isString$1(n);if(n&&!o){if(t&&!isString$1(t))for(const e in t)null==n[e]&&setStyle(r,e,"");for(const e in n)setStyle(r,e,n[e])}else{const i=r.display;if(o){if(t!==n){const e=r[CSS_VAR_TEXT];e&&(n+=";"+e),r.cssText=n}}else t&&e.removeAttribute("style");vShowOldKey in e&&(r.display=i)}}const importantRE=/\s*!important$/;function setStyle(e,t,n){if(isArray$1(n))n.forEach((n=>setStyle(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=autoPrefix(e,t);importantRE.test(n)?e.setProperty(hyphenate(r),n.replace(importantRE,""),"important"):e[r]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const n=prefixCache[t];if(n)return n;let r=camelize(t);if("filter"!==r&&r in e)return prefixCache[t]=r;r=capitalize$1(r);for(let o=0;o<prefixes.length;o++){const n=prefixes[o]+r;if(n in e)return prefixCache[t]=n}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,n,r,o){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,n);else{const r=isSpecialBooleanAttr(t);null==n||r&&!includeBooleanAttr(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}function patchDOMProp(t,n,r,o,i,a,s){if("innerHTML"===n||"textContent"===n)return o&&s(o,i,a),void(t[n]=null==r?"":r);const l=t.tagName;if("value"===n&&"PROGRESS"!==l&&!l.includes("-")){t._value=r;const e=null==r?"":r;return("OPTION"===l?t.getAttribute("value"):t.value)!==e&&(t.value=e),void(null==r&&t.removeAttribute(n))}let u=!1;if(""===r||null==r){const e=typeof t[n];"boolean"===e?r=includeBooleanAttr(r):null==r&&"string"===e?(r="",u=!0):"number"===e&&(r=0,u=!0)}try{t[n]=r}catch(e){}u&&t.removeAttribute(n)}function addEventListener(e,t,n,r){e.addEventListener(t,n,r)}function removeEventListener(e,t,n,r){e.removeEventListener(t,n,r)}const veiKey=Symbol("_vei");function patchEvent(e,t,n,r,o=null){const i=e[veiKey]||(e[veiKey]={}),a=i[t];if(r&&a)a.value=r;else{const[n,s]=parseName(t);if(r){addEventListener(e,n,i[t]=createInvoker(r,o),s)}else a&&(removeEventListener(e,n,a,s),i[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){let n;for(t={};n=e.match(optionsModifierRE);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[":"===e[2]?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p$2=Promise.resolve(),getNow=()=>cachedNow||(p$2.then((()=>cachedNow=0)),cachedNow=Date.now());function createInvoker(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();callWithAsyncErrorHandling(patchStopImmediatePropagation(e,n.value),t,5,[e])};return n.value=e,n.attached=getNow(),n}function patchStopImmediatePropagation(e,t){if(isArray$1(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const isNativeOn=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,patchProp=(e,t,n,r,o,i,a,s,l)=>{const u="svg"===o;"class"===t?patchClass(e,r,u):"style"===t?patchStyle(e,n,r):isOn(t)?isModelListener(t)||patchEvent(e,t,n,r,a):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):shouldSetAsProp(e,t,r,u))?patchDOMProp(e,t,r,i,a,s,l):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),patchAttr(e,t,r,u))};function shouldSetAsProp(e,t,n,r){if(r)return"innerHTML"===t||"textContent"===t||!!(t in e&&isNativeOn(t)&&isFunction$2(n));if("spellcheck"===t||"draggable"===t||"translate"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}return(!isNativeOn(t)||!isString$1(n))&&t in e}const positionMap=new WeakMap,newPositionMap=new WeakMap,moveCbKey=Symbol("_moveCb"),enterCbKey=Symbol("_enterCb"),TransitionGroupImpl={name:"TransitionGroup",props:extend$4({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=getCurrentInstance(),r=useTransitionState();let o,i;return onUpdated((()=>{if(!o.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!hasCSSTransform(o[0].el,n.vnode.el,t))return;o.forEach(callPendingCbs),o.forEach(recordPosition);const r=o.filter(applyTranslation);forceReflow(),r.forEach((e=>{const n=e.el,r=n.style;addTransitionClass(n,t),r.transform=r.webkitTransform=r.transitionDuration="";const o=n[moveCbKey]=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",o),n[moveCbKey]=null,removeTransitionClass(n,t))};n.addEventListener("transitionend",o)}))})),()=>{const a=toRaw(e),s=resolveTransitionProps(a);let l=a.tag||Fragment;o=i,i=t.default?getTransitionRawChildren(t.default()):[];for(let e=0;e<i.length;e++){const t=i[e];null!=t.key&&setTransitionHooks(t,resolveTransitionHooks(t,s,r,n))}if(o)for(let e=0;e<o.length;e++){const t=o[e];setTransitionHooks(t,resolveTransitionHooks(t,s,r,n)),positionMap.set(t,t.el.getBoundingClientRect())}return createVNode(l,null,i)}}},removeMode=e=>delete e.mode;TransitionGroupImpl.props;const TransitionGroup=TransitionGroupImpl;function callPendingCbs(e){const t=e.el;t[moveCbKey]&&t[moveCbKey](),t[enterCbKey]&&t[enterCbKey]()}function recordPosition(e){newPositionMap.set(e,e.el.getBoundingClientRect())}function applyTranslation(e){const t=positionMap.get(e),n=newPositionMap.get(e),r=t.left-n.left,o=t.top-n.top;if(r||o){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${o}px)`,t.transitionDuration="0s",e}}function hasCSSTransform(e,t,n){const r=e.cloneNode(),o=e[vtcKey];o&&o.forEach((e=>{e.split(/\s+/).forEach((e=>e&&r.classList.remove(e)))})),n.split(/\s+/).forEach((e=>e&&r.classList.add(e))),r.style.display="none";const i=1===t.nodeType?t:t.parentNode;i.appendChild(r);const{hasTransform:a}=getTransitionInfo(r);return i.removeChild(r),a}const getModelAssigner=e=>{const t=e.props["onUpdate:modelValue"]||!1;return isArray$1(t)?e=>invokeArrayFns(t,e):t};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e[assignKey]=getModelAssigner(o);const i=r||o.props&&"number"===o.props.type;addEventListener(e,t?"change":"input",(t=>{if(t.target.composing)return;let r=e.value;n&&(r=r.trim()),i&&(r=looseToNumber(r)),e[assignKey](r)})),n&&addEventListener(e,"change",(()=>{e.value=e.value.trim()})),t||(addEventListener(e,"compositionstart",onCompositionStart),addEventListener(e,"compositionend",onCompositionEnd),addEventListener(e,"change",onCompositionEnd))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:o}},i){if(e[assignKey]=getModelAssigner(i),e.composing)return;const a=null==t?"":t;if((o||"number"===e.type?looseToNumber(e.value):e.value)!==a){if(document.activeElement===e&&"range"!==e.type){if(n)return;if(r&&e.value.trim()===a)return}e.value=a}}},vModelCheckbox={deep:!0,created(e,t,n){e[assignKey]=getModelAssigner(n),addEventListener(e,"change",(()=>{const t=e._modelValue,n=getValue$2(e),r=e.checked,o=e[assignKey];if(isArray$1(t)){const e=looseIndexOf(t,n),i=-1!==e;if(r&&!i)o(t.concat(n));else if(!r&&i){const n=[...t];n.splice(e,1),o(n)}}else if(isSet$1(t)){const e=new Set(t);r?e.add(n):e.delete(n),o(e)}else o(getCheckboxValue(e,r))}))},mounted:setChecked,beforeUpdate(e,t,n){e[assignKey]=getModelAssigner(n),setChecked(e,t,n)}};function setChecked(e,{value:t,oldValue:n},r){e._modelValue=t,isArray$1(t)?e.checked=looseIndexOf(t,r.props.value)>-1:isSet$1(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=looseEqual(t,getCheckboxValue(e,!0)))}const vModelRadio={created(e,{value:t},n){e.checked=looseEqual(t,n.props.value),e[assignKey]=getModelAssigner(n),addEventListener(e,"change",(()=>{e[assignKey](getValue$2(e))}))},beforeUpdate(e,{value:t,oldValue:n},r){e[assignKey]=getModelAssigner(r),t!==n&&(e.checked=looseEqual(t,r.props.value))}};function getValue$2(e){return"_value"in e?e._value:e.value}function getCheckboxValue(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>systemModifiers.some((n=>e[`${n}Key`]&&!t.includes(n)))},withModifiers=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(n,...r)=>{for(let e=0;e<t.length;e++){const r=modifierGuards[t[e]];if(r&&r(n,t))return}return e(n,...r)})},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=n=>{if(!("key"in n))return;const r=hyphenate(n.key);return t.some((e=>e===r||keyNames[e]===r))?e(n):void 0})},rendererOptions=extend$4({patchProp:patchProp},nodeOps);let renderer,enabledHydration=!1;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}function ensureHydrationRenderer(){return renderer=enabledHydration?renderer:createHydrationRenderer(rendererOptions),enabledHydration=!0,renderer}const render$1=(...e)=>{ensureRenderer().render(...e)},createApp$1=(...e)=>{const t=ensureRenderer().createApp(...e),{mount:n}=t;return t.mount=e=>{const r=normalizeContainer(e);if(!r)return;const o=t._component;isFunction$2(o)||o.render||o.template||(o.template=r.innerHTML),r.innerHTML="";const i=n(r,!1,resolveRootNamespace(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t},createSSRApp=(...e)=>{const t=ensureHydrationRenderer().createApp(...e),{mount:n}=t;return t.mount=e=>{const t=normalizeContainer(e);if(t)return n(t,!0,resolveRootNamespace(t))},t};function resolveRootNamespace(e){return e instanceof SVGElement?"svg":"function"==typeof MathMLElement&&e instanceof MathMLElement?"mathml":void 0}function normalizeContainer(e){if(isString$1(e)){return document.querySelector(e)}return e}const _export_sfc$1=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},scriptRel="modulepreload",assetsURL=function(e){return"/"+e},seen={},__vitePreload=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){const e=document.getElementsByTagName("link");r=Promise.all(t.map((t=>{if((t=assetsURL(t))in seen)return;seen[t]=!0;const r=t.endsWith(".css"),o=r?'[rel="stylesheet"]':"";if(!!n)for(let n=e.length-1;n>=0;n--){const o=e[n];if(o.href===t&&(!r||"stylesheet"===o.rel))return}else if(document.querySelector(`link[href="${t}"]${o}`))return;const i=document.createElement("link");return i.rel=r?"stylesheet":scriptRel,r||(i.as="script",i.crossOrigin=""),i.href=t,document.head.appendChild(i),r?new Promise(((e,n)=>{i.addEventListener("load",e),i.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${t}`))))})):void 0})))}return r.then((()=>e())).catch((e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))};function abstract(){return function(){throw new Error("Unimplemented abstract method.")}()}var uidCounter_=0;function getUid(e){return e.ol_uid||(e.ol_uid=String(++uidCounter_))}var VERSION="6.15.1",__extends$1N=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),AssertionError=function(e){function t(t){var n=this,r="Assertion failed. See https://openlayers.org/en/"+("v"+VERSION.split("-")[0])+"/doc/errors/#"+t+" for details.";return(n=e.call(this,r)||this).code=t,n.name="AssertionError",n.message=r,n}return __extends$1N(t,e),t}(Error);const AssertionError$1=AssertionError;var BaseEvent=function(){function e(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e}();const Event$1=BaseEvent,ObjectEventType={PROPERTYCHANGE:"propertychange"};var Disposable=function(){function e(){this.disposed=!1}return e.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},e.prototype.disposeInternal=function(){},e}();const Disposable$1=Disposable;function binarySearch(e,t,n){for(var r,o,i=n||numberSafeCompareFunction,a=0,s=e.length,l=!1;a<s;)(o=+i(e[r=a+(s-a>>1)],t))<0?a=r+1:(s=r,l=!o);return l?a:~a}function numberSafeCompareFunction(e,t){return e>t?1:e<t?-1:0}function includes(e,t){return e.indexOf(t)>=0}function linearFindNearest(e,t,n){var r=e.length;if(e[0]<=t)return 0;if(t<=e[r-1])return r-1;var o=void 0;if(n>0){for(o=1;o<r;++o)if(e[o]<t)return o-1}else if(n<0){for(o=1;o<r;++o)if(e[o]<=t)return o}else for(o=1;o<r;++o){if(e[o]==t)return o;if(e[o]<t)return"function"==typeof n?n(t,e[o-1],e[o])>0?o-1:o:e[o-1]-t<t-e[o]?o-1:o}return r-1}function reverseSubArray(e,t,n){for(;t<n;){var r=e[t];e[t]=e[n],e[n]=r,++t,--n}}function extend$3(e,t){for(var n=Array.isArray(t)?t:[t],r=n.length,o=0;o<r;o++)e[e.length]=n[o]}function equals$2(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function isSorted(e,t,n){var r=t||numberSafeCompareFunction;return e.every((function(t,o){if(0===o)return!0;var i=r(e[o-1],t);return!(i>0||n&&0===i)}))}function TRUE(){return!0}function FALSE(){return!1}function VOID(){}function memoizeOne$1(e){var t,n,r,o=!1;return function(){var i=Array.prototype.slice.call(arguments);return o&&this===r&&equals$2(i,n)||(o=!0,r=this,n=i,t=e.apply(this,arguments)),t}}var assign="function"==typeof Object.assign?Object.assign:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1,o=arguments.length;r<o;++r){var i=arguments[r];if(null!=i)for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])}return n};function clear(e){for(var t in e)delete e[t]}var getValues="function"==typeof Object.values?Object.values:function(e){var t=[];for(var n in e)t.push(e[n]);return t};function isEmpty$2(e){var t;for(t in e)return!1;return!t}var __extends$1M=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Target=function(e){function t(t){var n=e.call(this)||this;return n.eventTarget_=t,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return __extends$1M(t,e),t.prototype.addEventListener=function(e,t){if(e&&t){var n=this.listeners_||(this.listeners_={}),r=n[e]||(n[e]=[]);-1===r.indexOf(t)&&r.push(t)}},t.prototype.dispatchEvent=function(e){var t="string"==typeof e,n=t?e:e.type,r=this.listeners_&&this.listeners_[n];if(r){var o=t?new Event$1(e):e;o.target||(o.target=this.eventTarget_||this);var i,a=this.dispatching_||(this.dispatching_={}),s=this.pendingRemovals_||(this.pendingRemovals_={});n in a||(a[n]=0,s[n]=0),++a[n];for(var l=0,u=r.length;l<u;++l)if(!1===(i="handleEvent"in r[l]?r[l].handleEvent(o):r[l].call(this,o))||o.propagationStopped){i=!1;break}if(0==--a[n]){var c=s[n];for(delete s[n];c--;)this.removeEventListener(n,VOID);delete a[n]}return i}},t.prototype.disposeInternal=function(){this.listeners_&&clear(this.listeners_)},t.prototype.getListeners=function(e){return this.listeners_&&this.listeners_[e]||void 0},t.prototype.hasListener=function(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)},t.prototype.removeEventListener=function(e,t){var n=this.listeners_&&this.listeners_[e];if(n){var r=n.indexOf(t);-1!==r&&(this.pendingRemovals_&&e in this.pendingRemovals_?(n[r]=VOID,++this.pendingRemovals_[e]):(n.splice(r,1),0===n.length&&delete this.listeners_[e]))}},t}(Disposable$1);const EventTarget=Target,EventType={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function listen(e,t,n,r,o){if(r&&r!==e&&(n=n.bind(r)),o){var i=n;n=function(){e.removeEventListener(t,n),i.apply(this,arguments)}}var a={target:e,type:t,listener:n};return e.addEventListener(t,n),a}function listenOnce(e,t,n,r){return listen(e,t,n,r,!0)}function unlistenByKey(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),clear(e))}var __extends$1L=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Observable=function(e){function t(){var t=e.call(this)||this;return t.on=t.onInternal,t.once=t.onceInternal,t.un=t.unInternal,t.revision_=0,t}return __extends$1L(t,e),t.prototype.changed=function(){++this.revision_,this.dispatchEvent(EventType.CHANGE)},t.prototype.getRevision=function(){return this.revision_},t.prototype.onInternal=function(e,t){if(Array.isArray(e)){for(var n=e.length,r=new Array(n),o=0;o<n;++o)r[o]=listen(this,e[o],t);return r}return listen(this,e,t)},t.prototype.onceInternal=function(e,t){var n;if(Array.isArray(e)){var r=e.length;n=new Array(r);for(var o=0;o<r;++o)n[o]=listenOnce(this,e[o],t)}else n=listenOnce(this,e,t);return t.ol_key=n,n},t.prototype.unInternal=function(e,t){var n=t.ol_key;if(n)unByKey(n);else if(Array.isArray(e))for(var r=0,o=e.length;r<o;++r)this.removeEventListener(e[r],t);else this.removeEventListener(e,t)},t}(EventTarget);function unByKey(e){if(Array.isArray(e))for(var t=0,n=e.length;t<n;++t)unlistenByKey(e[t]);else unlistenByKey(e)}Observable.prototype.on,Observable.prototype.once,Observable.prototype.un;const Observable$1=Observable;var __extends$1K=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ObjectEvent=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.key=n,o.oldValue=r,o}return __extends$1K(t,e),t}(Event$1),BaseObject=function(e){function t(t){var n=e.call(this)||this;return n.on,n.once,n.un,getUid(n),n.values_=null,void 0!==t&&n.setProperties(t),n}return __extends$1K(t,e),t.prototype.get=function(e){var t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t},t.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},t.prototype.getProperties=function(){return this.values_&&assign({},this.values_)||{}},t.prototype.hasProperties=function(){return!!this.values_},t.prototype.notify=function(e,t){var n;n="change:".concat(e),this.hasListener(n)&&this.dispatchEvent(new ObjectEvent(n,e,t)),n=ObjectEventType.PROPERTYCHANGE,this.hasListener(n)&&this.dispatchEvent(new ObjectEvent(n,e,t))},t.prototype.addChangeListener=function(e,t){this.addEventListener("change:".concat(e),t)},t.prototype.removeChangeListener=function(e,t){this.removeEventListener("change:".concat(e),t)},t.prototype.set=function(e,t,n){var r=this.values_||(this.values_={});if(n)r[e]=t;else{var o=r[e];r[e]=t,o!==t&&this.notify(e,o)}},t.prototype.setProperties=function(e,t){for(var n in e)this.set(n,e[n],t)},t.prototype.applyProperties=function(e){e.values_&&assign(this.values_||(this.values_={}),e.values_)},t.prototype.unset=function(e,t){if(this.values_&&e in this.values_){var n=this.values_[e];delete this.values_[e],isEmpty$2(this.values_)&&(this.values_=null),t||this.notify(e,n)}},t}(Observable$1);const BaseObject$1=BaseObject,CollectionEventType={ADD:"add",REMOVE:"remove"};var __extends$1J=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Property$4={LENGTH:"length"},CollectionEvent=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.element=n,o.index=r,o}return __extends$1J(t,e),t}(Event$1),Collection$1=function(e){function t(t,n){var r=e.call(this)||this;r.on,r.once,r.un;var o=n||{};if(r.unique_=!!o.unique,r.array_=t||[],r.unique_)for(var i=0,a=r.array_.length;i<a;++i)r.assertUnique_(r.array_[i],i);return r.updateLength_(),r}return __extends$1J(t,e),t.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},t.prototype.extend=function(e){for(var t=0,n=e.length;t<n;++t)this.push(e[t]);return this},t.prototype.forEach=function(e){for(var t=this.array_,n=0,r=t.length;n<r;++n)e(t[n],n,t)},t.prototype.getArray=function(){return this.array_},t.prototype.item=function(e){return this.array_[e]},t.prototype.getLength=function(){return this.get(Property$4.LENGTH)},t.prototype.insertAt=function(e,t){this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new CollectionEvent(CollectionEventType.ADD,t,e))},t.prototype.pop=function(){return this.removeAt(this.getLength()-1)},t.prototype.push=function(e){this.unique_&&this.assertUnique_(e);var t=this.getLength();return this.insertAt(t,e),this.getLength()},t.prototype.remove=function(e){for(var t=this.array_,n=0,r=t.length;n<r;++n)if(t[n]===e)return this.removeAt(n)},t.prototype.removeAt=function(e){var t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new CollectionEvent(CollectionEventType.REMOVE,t,e)),t},t.prototype.setAt=function(e,t){var n=this.getLength();if(e<n){this.unique_&&this.assertUnique_(t,e);var r=this.array_[e];this.array_[e]=t,this.dispatchEvent(new CollectionEvent(CollectionEventType.REMOVE,r,e)),this.dispatchEvent(new CollectionEvent(CollectionEventType.ADD,t,e))}else{for(var o=n;o<e;++o)this.insertAt(o,void 0);this.insertAt(e,t)}},t.prototype.updateLength_=function(){this.set(Property$4.LENGTH,this.array_.length)},t.prototype.assertUnique_=function(e,t){for(var n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===e&&n!==t)throw new AssertionError$1(58)},t}(BaseObject$1);function assert(e,t){if(!e)throw new AssertionError$1(t)}var __extends$1I=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Feature=function(e){function t(t){var n=e.call(this)||this;if(n.on,n.once,n.un,n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addChangeListener(n.geometryName_,n.handleGeometryChanged_),t)if("function"==typeof t.getSimplifiedGeometry){var r=t;n.setGeometry(r)}else{var o=t;n.setProperties(o)}return n}return __extends$1I(t,e),t.prototype.clone=function(){var e=new t(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&e.setGeometry(n.clone());var r=this.getStyle();return r&&e.setStyle(r),e},t.prototype.getGeometry=function(){return this.get(this.geometryName_)},t.prototype.getId=function(){return this.id_},t.prototype.getGeometryName=function(){return this.geometryName_},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.handleGeometryChange_=function(){this.changed()},t.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(unlistenByKey(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=listen(e,EventType.CHANGE,this.handleGeometryChange_,this)),this.changed()},t.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},t.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?createStyleFunction(e):void 0,this.changed()},t.prototype.setId=function(e){this.id_=e,this.changed()},t.prototype.setGeometryName=function(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},t}(BaseObject$1);function createStyleFunction(e){return"function"==typeof e?e:(Array.isArray(e)?t=e:(assert("function"==typeof e.getZIndex,41),t=[e]),function(){return t});var t}const Feature$1=Feature,GeometryLayout={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};var Units$1={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},METERS_PER_UNIT$1={};METERS_PER_UNIT$1[Units$1.RADIANS]=6370997/(2*Math.PI),METERS_PER_UNIT$1[Units$1.DEGREES]=2*Math.PI*6370997/360,METERS_PER_UNIT$1[Units$1.FEET]=.3048,METERS_PER_UNIT$1[Units$1.METERS]=1,METERS_PER_UNIT$1[Units$1.USFEET]=1200/3937;const Units$2=Units$1;var ua="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",FIREFOX=-1!==ua.indexOf("firefox"),SAFARI=-1!==ua.indexOf("safari")&&-1==ua.indexOf("chrom"),SAFARI_BUG_237906=SAFARI&&!!(ua.indexOf("version/15.4")>=0||ua.match(/cpu (os|iphone os) 15_4 like mac os x/)),WEBKIT=-1!==ua.indexOf("webkit")&&-1==ua.indexOf("edge"),MAC=-1!==ua.indexOf("macintosh"),DEVICE_PIXEL_RATIO="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,WORKER_OFFSCREEN_CANVAS="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,IMAGE_DECODE="undefined"!=typeof Image&&Image.prototype.decode,PASSIVE_EVENT_LISTENERS=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(n){}return e}(),tmp_=new Array(6),transformStringDiv;function create$2(){return[1,0,0,1,0,0]}function reset(e){return set$1(e,1,0,0,1,0,0)}function multiply(e,t){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=t[0],u=t[1],c=t[2],d=t[3],h=t[4],p=t[5];return e[0]=n*l+o*u,e[1]=r*l+i*u,e[2]=n*c+o*d,e[3]=r*c+i*d,e[4]=n*h+o*p+a,e[5]=r*h+i*p+s,e}function set$1(e,t,n,r,o,i,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=o,e[4]=i,e[5]=a,e}function setFromArray(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function apply$1(e,t){var n=t[0],r=t[1];return t[0]=e[0]*n+e[2]*r+e[4],t[1]=e[1]*n+e[3]*r+e[5],t}function rotate$2(e,t){var n=Math.cos(t),r=Math.sin(t);return multiply(e,set$1(tmp_,n,r,-r,n,0,0))}function scale$3(e,t,n){return multiply(e,set$1(tmp_,t,0,0,n,0,0))}function makeScale(e,t,n){return set$1(e,t,0,0,n,0,0)}function translate$2(e,t,n){return multiply(e,set$1(tmp_,1,0,0,1,t,n))}function compose$1(e,t,n,r,o,i,a,s){var l=Math.sin(i),u=Math.cos(i);return e[0]=r*u,e[1]=o*l,e[2]=-r*l,e[3]=o*u,e[4]=a*r*u-s*r*l+t,e[5]=a*o*l+s*o*u+n,e}function makeInverse(e,t){var n=determinant(t);assert(0!==n,32);var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5];return e[0]=a/n,e[1]=-o/n,e[2]=-i/n,e[3]=r/n,e[4]=(i*l-a*s)/n,e[5]=-(r*l-o*s)/n,e}function determinant(e){return e[0]*e[3]-e[1]*e[2]}function toString$3(e){var t="matrix("+e.join(", ")+")";if(WORKER_OFFSCREEN_CANVAS)return t;var n=transformStringDiv||(transformStringDiv=document.createElement("div"));return n.style.transform=t,n.style.transform}const Relationship={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function boundingExtent(e){for(var t=createEmpty(),n=0,r=e.length;n<r;++n)extendCoordinate(t,e[n]);return t}function _boundingExtentXYs(e,t,n){return createOrUpdate$2(Math.min.apply(null,e),Math.min.apply(null,t),Math.max.apply(null,e),Math.max.apply(null,t),n)}function buffer(e,t,n){return n?(n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function clone$1(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function closestSquaredDistanceXY(e,t,n){var r,o;return(r=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0)*r+(o=n<e[1]?e[1]-n:e[3]<n?n-e[3]:0)*o}function containsCoordinate(e,t){return containsXY(e,t[0],t[1])}function containsExtent(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function containsXY(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function coordinateRelationship(e,t){var n=e[0],r=e[1],o=e[2],i=e[3],a=t[0],s=t[1],l=Relationship.UNKNOWN;return a<n?l|=Relationship.LEFT:a>o&&(l|=Relationship.RIGHT),s<r?l|=Relationship.BELOW:s>i&&(l|=Relationship.ABOVE),l===Relationship.UNKNOWN&&(l=Relationship.INTERSECTING),l}function createEmpty(){return[1/0,1/0,-1/0,-1/0]}function createOrUpdate$2(e,t,n,r,o){return o?(o[0]=e,o[1]=t,o[2]=n,o[3]=r,o):[e,t,n,r]}function createOrUpdateEmpty(e){return createOrUpdate$2(1/0,1/0,-1/0,-1/0,e)}function createOrUpdateFromCoordinate(e,t){var n=e[0],r=e[1];return createOrUpdate$2(n,r,n,r,t)}function createOrUpdateFromFlatCoordinates(e,t,n,r,o){return extendFlatCoordinates(createOrUpdateEmpty(o),e,t,n,r)}function equals$1(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function extend$2(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function extendCoordinate(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function extendFlatCoordinates(e,t,n,r,o){for(;n<r;n+=o)extendXY(e,t[n],t[n+1]);return e}function extendXY(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function forEachCorner(e,t){var n;return(n=t(getBottomLeft(e)))||(n=t(getBottomRight(e)))||(n=t(getTopRight(e)))?n:(n=t(getTopLeft(e)))||!1}function getArea$1(e){var t=0;return isEmpty$1(e)||(t=getWidth(e)*getHeight(e)),t}function getBottomLeft(e){return[e[0],e[1]]}function getBottomRight(e){return[e[2],e[1]]}function getCenter(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function getCorner(e,t){var n;return"bottom-left"===t?n=getBottomLeft(e):"bottom-right"===t?n=getBottomRight(e):"top-left"===t?n=getTopLeft(e):"top-right"===t?n=getTopRight(e):assert(!1,13),n}function getForViewAndSize(e,t,n,r,o){var i=getRotatedViewport(e,t,n,r),a=i[0],s=i[1],l=i[2],u=i[3],c=i[4],d=i[5],h=i[6],p=i[7];return createOrUpdate$2(Math.min(a,l,c,h),Math.min(s,u,d,p),Math.max(a,l,c,h),Math.max(s,u,d,p),o)}function getRotatedViewport(e,t,n,r){var o=t*r[0]/2,i=t*r[1]/2,a=Math.cos(n),s=Math.sin(n),l=o*a,u=o*s,c=i*a,d=i*s,h=e[0],p=e[1];return[h-l+d,p-u-c,h-l-d,p-u+c,h+l-d,p+u+c,h+l+d,p+u-c,h-l+d,p-u-c]}function getHeight(e){return e[3]-e[1]}function getIntersection(e,t,n){var r=n||createEmpty();return intersects$1(e,t)?(e[0]>t[0]?r[0]=e[0]:r[0]=t[0],e[1]>t[1]?r[1]=e[1]:r[1]=t[1],e[2]<t[2]?r[2]=e[2]:r[2]=t[2],e[3]<t[3]?r[3]=e[3]:r[3]=t[3]):createOrUpdateEmpty(r),r}function getTopLeft(e){return[e[0],e[3]]}function getTopRight(e){return[e[2],e[3]]}function getWidth(e){return e[2]-e[0]}function intersects$1(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function isEmpty$1(e){return e[2]<e[0]||e[3]<e[1]}function returnOrUpdate(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function scaleFromCenter(e,t){var n=(e[2]-e[0])/2*(t-1),r=(e[3]-e[1])/2*(t-1);e[0]-=n,e[2]+=n,e[1]-=r,e[3]+=r}function intersectsSegment(e,t,n){var r=!1,o=coordinateRelationship(e,t),i=coordinateRelationship(e,n);if(o===Relationship.INTERSECTING||i===Relationship.INTERSECTING)r=!0;else{var a=e[0],s=e[1],l=e[2],u=e[3],c=t[0],d=t[1],h=n[0],p=n[1],f=(p-d)/(h-c),m=void 0,_=void 0;i&Relationship.ABOVE&&!(o&Relationship.ABOVE)&&(r=(m=h-(p-u)/f)>=a&&m<=l),r||!(i&Relationship.RIGHT)||o&Relationship.RIGHT||(r=(_=p-(h-l)*f)>=s&&_<=u),r||!(i&Relationship.BELOW)||o&Relationship.BELOW||(r=(m=h-(p-s)/f)>=a&&m<=l),r||!(i&Relationship.LEFT)||o&Relationship.LEFT||(r=(_=p-(h-a)*f)>=s&&_<=u)}return r}function applyTransform(e,t,n,r){var o=[];if(r>1)for(var i=e[2]-e[0],a=e[3]-e[1],s=0;s<r;++s)o.push(e[0]+i*s/r,e[1],e[2],e[1]+a*s/r,e[2]-i*s/r,e[3],e[0],e[3]-a*s/r);else o=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(o,o,2);for(var l=[],u=[],c=(s=0,o.length);s<c;s+=2)l.push(o[s]),u.push(o[s+1]);return _boundingExtentXYs(l,u,n)}function wrapX$2(e,t){var n=t.getExtent(),r=getCenter(e);if(t.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){var o=getWidth(n),i=Math.floor((r[0]-n[0])/o)*o;e[0]-=i,e[2]-=i}return e}function wrapAndSliceX(e,t){if(t.canWrapX()){var n=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[n[0],e[1],n[2],e[3]]];wrapX$2(e,t);var r=getWidth(n);if(getWidth(e)>r)return[[n[0],e[1],n[2],e[3]]];if(e[0]<n[0])return[[e[0]+r,e[1],n[2],e[3]],[n[0],e[1],e[2],e[3]]];if(e[2]>n[2])return[[e[0],e[1],n[2],e[3]],[n[0],e[1],e[2]-r,e[3]]]}return[e]}var Projection$1=function(){function e(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}return e.prototype.canWrapX=function(){return this.canWrapX_},e.prototype.getCode=function(){return this.code_},e.prototype.getExtent=function(){return this.extent_},e.prototype.getUnits=function(){return this.units_},e.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||METERS_PER_UNIT$1[this.units_]},e.prototype.getWorldExtent=function(){return this.worldExtent_},e.prototype.getAxisOrientation=function(){return this.axisOrientation_},e.prototype.isGlobal=function(){return this.global_},e.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)},e.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},e.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},e.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)},e.prototype.setWorldExtent=function(e){this.worldExtent_=e},e.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},e.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},e}();function clamp$1(e,t,n){return Math.min(Math.max(e,t),n)}var cosh$1="cosh"in Math?Math.cosh:function(e){var t=Math.exp(e);return(t+1/t)/2},log2="log2"in Math?Math.log2:function(e){return Math.log(e)*Math.LOG2E};function squaredSegmentDistance(e,t,n,r,o,i){var a=o-n,s=i-r;if(0!==a||0!==s){var l=((e-n)*a+(t-r)*s)/(a*a+s*s);l>1?(n=o,r=i):l>0&&(n+=a*l,r+=s*l)}return squaredDistance$1(e,t,n,r)}function squaredDistance$1(e,t,n,r){var o=n-e,i=r-t;return o*o+i*i}function solveLinearSystem(e){for(var t=e.length,n=0;n<t;n++){for(var r=n,o=Math.abs(e[n][n]),i=n+1;i<t;i++){var a=Math.abs(e[i][n]);a>o&&(o=a,r=i)}if(0===o)return null;var s=e[r];e[r]=e[n],e[n]=s;for(var l=n+1;l<t;l++)for(var u=-e[l][n]/e[n][n],c=n;c<t+1;c++)n==c?e[l][c]=0:e[l][c]+=u*e[n][c]}for(var d=new Array(t),h=t-1;h>=0;h--){d[h]=e[h][t]/e[h][h];for(var p=h-1;p>=0;p--)e[p][t]-=e[p][h]*d[h]}return d}function toRadians(e){return e*Math.PI/180}function modulo(e,t){var n=e%t;return n*t<0?n+t:n}function lerp(e,t,n){return e+n*(t-e)}function toFixed(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}function floor$1(e,t){return Math.floor(toFixed(e,t))}function ceil(e,t){return Math.ceil(toFixed(e,t))}var __extends$1H=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),RADIUS$1=6378137,HALF_SIZE=Math.PI*RADIUS$1,EXTENT$1=[-HALF_SIZE,-HALF_SIZE,HALF_SIZE,HALF_SIZE],WORLD_EXTENT=[-180,-85,180,85],MAX_SAFE_Y=RADIUS$1*Math.log(Math.tan(Math.PI/2)),EPSG3857Projection=function(e){function t(t){return e.call(this,{code:t,units:Units$2.METERS,extent:EXTENT$1,global:!0,worldExtent:WORLD_EXTENT,getPointResolution:function(e,t){return e/cosh$1(t[1]/RADIUS$1)}})||this}return __extends$1H(t,e),t}(Projection$1),PROJECTIONS$1=[new EPSG3857Projection("EPSG:3857"),new EPSG3857Projection("EPSG:102100"),new EPSG3857Projection("EPSG:102113"),new EPSG3857Projection("EPSG:900913"),new EPSG3857Projection("http://www.opengis.net/def/crs/EPSG/0/3857"),new EPSG3857Projection("http://www.opengis.net/gml/srs/epsg.xml#3857")];function fromEPSG4326(e,t,n){var r=e.length,o=n>1?n:2,i=t;void 0===i&&(i=o>2?e.slice():new Array(r));for(var a=0;a<r;a+=o){i[a]=HALF_SIZE*e[a]/180;var s=RADIUS$1*Math.log(Math.tan(Math.PI*(+e[a+1]+90)/360));s>MAX_SAFE_Y?s=MAX_SAFE_Y:s<-MAX_SAFE_Y&&(s=-MAX_SAFE_Y),i[a+1]=s}return i}function toEPSG4326(e,t,n){var r=e.length,o=n>1?n:2,i=t;void 0===i&&(i=o>2?e.slice():new Array(r));for(var a=0;a<r;a+=o)i[a]=180*e[a]/HALF_SIZE,i[a+1]=360*Math.atan(Math.exp(e[a+1]/RADIUS$1))/Math.PI-90;return i}var __extends$1G=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),RADIUS=6378137,EXTENT=[-180,-90,180,90],METERS_PER_UNIT=Math.PI*RADIUS/180,EPSG4326Projection=function(e){function t(t,n){return e.call(this,{code:t,units:Units$2.DEGREES,extent:EXTENT,axisOrientation:n,global:!0,metersPerUnit:METERS_PER_UNIT,worldExtent:EXTENT})||this}return __extends$1G(t,e),t}(Projection$1),PROJECTIONS=[new EPSG4326Projection("CRS:84"),new EPSG4326Projection("EPSG:4326","neu"),new EPSG4326Projection("urn:ogc:def:crs:OGC:1.3:CRS84"),new EPSG4326Projection("urn:ogc:def:crs:OGC:2:84"),new EPSG4326Projection("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new EPSG4326Projection("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new EPSG4326Projection("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],cache$1={};function get$5(e){return cache$1[e]||cache$1[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function add$3(e,t){cache$1[e]=t}var transforms={};function add$2(e,t,n){var r=e.getCode(),o=t.getCode();r in transforms||(transforms[r]={}),transforms[r][o]=n}function get$4(e,t){var n;return e in transforms&&t in transforms[e]&&(n=transforms[e][t]),n}function padNumber(e,t,n){var r=void 0!==n?e.toFixed(n):""+e,o=r.indexOf(".");return(o=-1===o?r.length:o)>t?r:new Array(1+t-o).join("0")+r}function add$1(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function closestOnSegment(e,t){var n,r,o=e[0],i=e[1],a=t[0],s=t[1],l=a[0],u=a[1],c=s[0],d=s[1],h=c-l,p=d-u,f=0===h&&0===p?0:(h*(o-l)+p*(i-u))/(h*h+p*p||0);return f<=0?(n=l,r=u):f>=1?(n=c,r=d):(n=l+f*h,r=u+f*p),[n,r]}function createStringXY(e){return function(t){return toStringXY(t,e)}}function format$1(e,t,n){return e?t.replace("{x}",e[0].toFixed(n)).replace("{y}",e[1].toFixed(n)):""}function equals(e,t){for(var n=!0,r=e.length-1;r>=0;--r)if(e[r]!=t[r]){n=!1;break}return n}function rotate$1(e,t){var n=Math.cos(t),r=Math.sin(t),o=e[0]*n-e[1]*r,i=e[1]*n+e[0]*r;return e[0]=o,e[1]=i,e}function scale$2(e,t){return e[0]*=t,e[1]*=t,e}function squaredDistance(e,t){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function distance$1(e,t){return Math.sqrt(squaredDistance(e,t))}function squaredDistanceToSegment(e,t){return squaredDistance(e,closestOnSegment(e,t))}function toStringXY(e,t){return format$1(e,"{x}, {y}",t)}function wrapX$1(e,t){if(t.canWrapX()){var n=getWidth(t.getExtent()),r=getWorldsAway(e,t,n);r&&(e[0]-=r*n)}return e}function getWorldsAway(e,t,n){var r=t.getExtent(),o=0;if(t.canWrapX()&&(e[0]<r[0]||e[0]>r[2])){var i=n||getWidth(r);o=Math.floor((e[0]-r[0])/i)}return o}var DEFAULT_RADIUS=6371008.8;function getDistance(e,t,n){var r=n||DEFAULT_RADIUS,o=toRadians(e[1]),i=toRadians(t[1]),a=(i-o)/2,s=toRadians(t[0]-e[0])/2,l=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(o)*Math.cos(i);return 2*r*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}function getLengthInternal(e,t){for(var n=0,r=0,o=e.length;r<o-1;++r)n+=getDistance(e[r],e[r+1],t);return n}function getLength(e,t){var n=t||{},r=n.radius||DEFAULT_RADIUS,o=n.projection||"EPSG:3857",i=e.getType();"GeometryCollection"!==i&&(e=e.clone().transform(o,"EPSG:4326"));var a,s,l,u,c,d,h=0;switch(i){case"Point":case"MultiPoint":break;case"LineString":case"LinearRing":h=getLengthInternal(a=e.getCoordinates(),r);break;case"MultiLineString":case"Polygon":for(l=0,u=(a=e.getCoordinates()).length;l<u;++l)h+=getLengthInternal(a[l],r);break;case"MultiPolygon":for(l=0,u=(a=e.getCoordinates()).length;l<u;++l)for(c=0,d=(s=a[l]).length;c<d;++c)h+=getLengthInternal(s[c],r);break;case"GeometryCollection":var p=e.getGeometries();for(l=0,u=p.length;l<u;++l)h+=getLength(p[l],t);break;default:throw new Error("Unsupported geometry type: "+i)}return h}function getAreaInternal(e,t){for(var n=0,r=e.length,o=e[r-1][0],i=e[r-1][1],a=0;a<r;a++){var s=e[a][0],l=e[a][1];n+=toRadians(s-o)*(2+Math.sin(toRadians(i))+Math.sin(toRadians(l))),o=s,i=l}return n*t*t/2}function getArea(e,t){var n=t||{},r=n.radius||DEFAULT_RADIUS,o=n.projection||"EPSG:3857",i=e.getType();"GeometryCollection"!==i&&(e=e.clone().transform(o,"EPSG:4326"));var a,s,l,u,c,d,h=0;switch(i){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":for(a=e.getCoordinates(),h=Math.abs(getAreaInternal(a[0],r)),l=1,u=a.length;l<u;++l)h-=Math.abs(getAreaInternal(a[l],r));break;case"MultiPolygon":for(l=0,u=(a=e.getCoordinates()).length;l<u;++l)for(s=a[l],h+=Math.abs(getAreaInternal(s[0],r)),c=1,d=s.length;c<d;++c)h-=Math.abs(getAreaInternal(s[c],r));break;case"GeometryCollection":var p=e.getGeometries();for(l=0,u=p.length;l<u;++l)h+=getArea(p[l],t);break;default:throw new Error("Unsupported geometry type: "+i)}return h}var showCoordinateWarning=!0;function disableCoordinateWarning(e){showCoordinateWarning=!(void 0===e||e)}function cloneTransform(e,t,n){var r;if(void 0!==t){for(var o=0,i=e.length;o<i;++o)t[o]=e[o];r=t}else r=e.slice();return r}function identityTransform(e,t,n){if(void 0!==t&&e!==t){for(var r=0,o=e.length;r<o;++r)t[r]=e[r];e=t}return e}function addProjection(e){add$3(e.getCode(),e),add$2(e,e,cloneTransform)}function addProjections(e){e.forEach(addProjection)}function get$3(e){return"string"==typeof e?get$5(e):e||null}function getPointResolution(e,t,n,r){var o,i=(e=get$3(e)).getPointResolutionFunc();if(i){if(o=i(t,n),r&&r!==e.getUnits())(s=e.getMetersPerUnit())&&(o=o*s/METERS_PER_UNIT$1[r])}else{var a=e.getUnits();if(a==Units$2.DEGREES&&!r||r==Units$2.DEGREES)o=t;else{var s,l=getTransformFromProjections(e,get$3("EPSG:4326"));if(l===identityTransform&&a!==Units$2.DEGREES)o=t*e.getMetersPerUnit();else{var u=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];o=(getDistance((u=l(u,u,2)).slice(0,2),u.slice(2,4))+getDistance(u.slice(4,6),u.slice(6,8)))/2}void 0!==(s=r?METERS_PER_UNIT$1[r]:e.getMetersPerUnit())&&(o/=s)}}return o}function addEquivalentProjections(e){addProjections(e),e.forEach((function(t){e.forEach((function(e){t!==e&&add$2(t,e,cloneTransform)}))}))}function addEquivalentTransforms(e,t,n,r){e.forEach((function(e){t.forEach((function(t){add$2(e,t,n),add$2(t,e,r)}))}))}function createProjection(e,t){return e?"string"==typeof e?get$3(e):e:get$3(t)}function createTransformFromCoordinateTransform(e){return function(t,n,r){for(var o=t.length,i=void 0!==r?r:2,a=void 0!==n?n:new Array(o),s=0;s<o;s+=i)for(var l=e(t.slice(s,s+i)),u=l.length,c=0,d=i;c<d;++c)a[s+c]=c>=u?t[s+c]:l[c];return a}}function addCoordinateTransforms(e,t,n,r){var o=get$3(e),i=get$3(t);add$2(o,i,createTransformFromCoordinateTransform(n)),add$2(i,o,createTransformFromCoordinateTransform(r))}function fromLonLat(e,t){return disableCoordinateWarning(),transform$1(e,"EPSG:4326",void 0!==t?t:"EPSG:3857")}function equivalent(e,t){if(e===t)return!0;var n=e.getUnits()===t.getUnits();return(e.getCode()===t.getCode()||getTransformFromProjections(e,t)===cloneTransform)&&n}function getTransformFromProjections(e,t){var n=get$4(e.getCode(),t.getCode());return n||(n=identityTransform),n}function getTransform(e,t){return getTransformFromProjections(get$3(e),get$3(t))}function transform$1(e,t,n){return getTransform(t,n)(e,void 0,e.length)}var userProjection=null;function getUserProjection(){return userProjection}function toUserCoordinate(e,t){return e}function fromUserCoordinate(e,t){return showCoordinateWarning&&!equals(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(showCoordinateWarning=!1),e}function toUserExtent(e,t){return e}function fromUserExtent(e,t){return e}function createSafeCoordinateTransform(e,t,n){return function(r){var o,i;if(e.canWrapX()){var a=e.getExtent(),s=getWidth(a);(i=getWorldsAway(r=r.slice(0),e,s))&&(r[0]=r[0]-i*s),r[0]=clamp$1(r[0],a[0],a[2]),r[1]=clamp$1(r[1],a[1],a[3]),o=n(r)}else o=n(r);return i&&t.canWrapX()&&(o[0]+=i*getWidth(t.getExtent())),o}}function addCommon(){addEquivalentProjections(PROJECTIONS$1),addEquivalentProjections(PROJECTIONS),addEquivalentTransforms(PROJECTIONS,PROJECTIONS$1,fromEPSG4326,toEPSG4326)}function transform2D(e,t,n,r,o,i){for(var a=i||[],s=0,l=t;l<n;l+=r){var u=e[l],c=e[l+1];a[s++]=o[0]*u+o[2]*c+o[4],a[s++]=o[1]*u+o[3]*c+o[5]}return i&&a.length!=s&&(a.length=s),a}function rotate(e,t,n,r,o,i,a){for(var s=a||[],l=Math.cos(o),u=Math.sin(o),c=i[0],d=i[1],h=0,p=t;p<n;p+=r){var f=e[p]-c,m=e[p+1]-d;s[h++]=c+f*l-m*u,s[h++]=d+f*u+m*l;for(var _=p+2;_<p+r;++_)s[h++]=e[_]}return a&&s.length!=h&&(s.length=h),s}function scale$1(e,t,n,r,o,i,a,s){for(var l=s||[],u=a[0],c=a[1],d=0,h=t;h<n;h+=r){var p=e[h]-u,f=e[h+1]-c;l[d++]=u+o*p,l[d++]=c+i*f;for(var m=h+2;m<h+r;++m)l[d++]=e[m]}return s&&l.length!=d&&(l.length=d),l}function translate$1(e,t,n,r,o,i,a){for(var s=a||[],l=0,u=t;u<n;u+=r){s[l++]=e[u]+o,s[l++]=e[u+1]+i;for(var c=u+2;c<u+r;++c)s[l++]=e[c]}return a&&s.length!=l&&(s.length=l),s}addCommon();var __extends$1F=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tmpTransform=create$2(),Geometry=function(e){function t(){var t=e.call(this)||this;return t.extent_=createEmpty(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=memoizeOne$1((function(e,t,n){if(!n)return this.getSimplifiedGeometry(t);var r=this.clone();return r.applyTransform(n),r.getSimplifiedGeometry(t)})),t}return __extends$1F(t,e),t.prototype.simplifyTransformed=function(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)},t.prototype.clone=function(){return abstract()},t.prototype.closestPointXY=function(e,t,n,r){return abstract()},t.prototype.containsXY=function(e,t){var n=this.getClosestPoint([e,t]);return n[0]===e&&n[1]===t},t.prototype.getClosestPoint=function(e,t){var n=t||[NaN,NaN];return this.closestPointXY(e[0],e[1],n,1/0),n},t.prototype.intersectsCoordinate=function(e){return this.containsXY(e[0],e[1])},t.prototype.computeExtent=function(e){return abstract()},t.prototype.getExtent=function(e){if(this.extentRevision_!=this.getRevision()){var t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&createOrUpdateEmpty(t),this.extentRevision_=this.getRevision()}return returnOrUpdate(this.extent_,e)},t.prototype.rotate=function(e,t){abstract()},t.prototype.scale=function(e,t,n){abstract()},t.prototype.simplify=function(e){return this.getSimplifiedGeometry(e*e)},t.prototype.getSimplifiedGeometry=function(e){return abstract()},t.prototype.getType=function(){return abstract()},t.prototype.applyTransform=function(e){abstract()},t.prototype.intersectsExtent=function(e){return abstract()},t.prototype.translate=function(e,t){abstract()},t.prototype.transform=function(e,t){var n=get$3(e),r=n.getUnits()==Units$2.TILE_PIXELS?function(e,r,o){var i=n.getExtent(),a=n.getWorldExtent(),s=getHeight(a)/getHeight(i);return compose$1(tmpTransform,a[0],a[3],s,-s,0,0,0),transform2D(e,0,e.length,o,tmpTransform,r),getTransform(n,t)(e,r,o)}:getTransform(n,t);return this.applyTransform(r),this},t}(BaseObject$1);const Geometry$1=Geometry;var __extends$1E=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),SimpleGeometry=function(e){function t(){var t=e.call(this)||this;return t.layout=GeometryLayout.XY,t.stride=2,t.flatCoordinates=null,t}return __extends$1E(t,e),t.prototype.computeExtent=function(e){return createOrUpdateFromFlatCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.getCoordinates=function(){return abstract()},t.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.getFlatCoordinates=function(){return this.flatCoordinates},t.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},t.prototype.getLayout=function(){return this.layout},t.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)},t.prototype.getSimplifiedGeometryInternal=function(e){return this},t.prototype.getStride=function(){return this.stride},t.prototype.setFlatCoordinates=function(e,t){this.stride=getStrideForLayout(e),this.layout=e,this.flatCoordinates=t},t.prototype.setCoordinates=function(e,t){abstract()},t.prototype.setLayout=function(e,t,n){var r;if(e)r=getStrideForLayout(e);else{for(var o=0;o<n;++o){if(0===t.length)return this.layout=GeometryLayout.XY,void(this.stride=2);t=t[0]}e=getLayoutForStride(r=t.length)}this.layout=e,this.stride=r},t.prototype.applyTransform=function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},t.prototype.rotate=function(e,t){var n=this.getFlatCoordinates();if(n){var r=this.getStride();rotate(n,0,n.length,r,e,t,n),this.changed()}},t.prototype.scale=function(e,t,n){var r=t;void 0===r&&(r=e);var o=n;o||(o=getCenter(this.getExtent()));var i=this.getFlatCoordinates();if(i){var a=this.getStride();scale$1(i,0,i.length,a,e,r,o,i),this.changed()}},t.prototype.translate=function(e,t){var n=this.getFlatCoordinates();if(n){var r=this.getStride();translate$1(n,0,n.length,r,e,t,n),this.changed()}},t}(Geometry$1);function getLayoutForStride(e){var t;return 2==e?t=GeometryLayout.XY:3==e?t=GeometryLayout.XYZ:4==e&&(t=GeometryLayout.XYZM),t}function getStrideForLayout(e){var t;return e==GeometryLayout.XY?t=2:e==GeometryLayout.XYZ||e==GeometryLayout.XYM?t=3:e==GeometryLayout.XYZM&&(t=4),t}function transformGeom2D(e,t,n){var r=e.getFlatCoordinates();if(r){var o=e.getStride();return transform2D(r,0,r.length,o,t,n)}return null}const SimpleGeometry$1=SimpleGeometry;function assignClosest(e,t,n,r,o,i,a){var s,l=e[t],u=e[t+1],c=e[n]-l,d=e[n+1]-u;if(0===c&&0===d)s=t;else{var h=((o-l)*c+(i-u)*d)/(c*c+d*d);if(h>1)s=n;else{if(h>0){for(var p=0;p<r;++p)a[p]=lerp(e[t+p],e[n+p],h);return void(a.length=r)}s=t}}for(p=0;p<r;++p)a[p]=e[s+p];a.length=r}function maxSquaredDelta(e,t,n,r,o){var i=e[t],a=e[t+1];for(t+=r;t<n;t+=r){var s=e[t],l=e[t+1],u=squaredDistance$1(i,a,s,l);u>o&&(o=u),i=s,a=l}return o}function arrayMaxSquaredDelta(e,t,n,r,o){for(var i=0,a=n.length;i<a;++i){var s=n[i];o=maxSquaredDelta(e,t,s,r,o),t=s}return o}function multiArrayMaxSquaredDelta(e,t,n,r,o){for(var i=0,a=n.length;i<a;++i){var s=n[i];o=arrayMaxSquaredDelta(e,t,s,r,o),t=s[s.length-1]}return o}function assignClosestPoint(e,t,n,r,o,i,a,s,l,u,c){if(t==n)return u;var d,h;if(0===o){if((h=squaredDistance$1(a,s,e[t],e[t+1]))<u){for(d=0;d<r;++d)l[d]=e[t+d];return l.length=r,h}return u}for(var p=c||[NaN,NaN],f=t+r;f<n;)if(assignClosest(e,f-r,f,r,a,s,p),(h=squaredDistance$1(a,s,p[0],p[1]))<u){for(u=h,d=0;d<r;++d)l[d]=p[d];l.length=r,f+=r}else f+=r*Math.max((Math.sqrt(h)-Math.sqrt(u))/o|0,1);if(i&&(assignClosest(e,n-r,t,r,a,s,p),(h=squaredDistance$1(a,s,p[0],p[1]))<u)){for(u=h,d=0;d<r;++d)l[d]=p[d];l.length=r}return u}function assignClosestArrayPoint(e,t,n,r,o,i,a,s,l,u,c){for(var d=c||[NaN,NaN],h=0,p=n.length;h<p;++h){var f=n[h];u=assignClosestPoint(e,t,f,r,o,i,a,s,l,u,d),t=f}return u}function assignClosestMultiArrayPoint(e,t,n,r,o,i,a,s,l,u,c){for(var d=c||[NaN,NaN],h=0,p=n.length;h<p;++h){var f=n[h];u=assignClosestArrayPoint(e,t,f,r,o,i,a,s,l,u,d),t=f[f.length-1]}return u}function deflateCoordinate(e,t,n,r){for(var o=0,i=n.length;o<i;++o)e[t++]=n[o];return t}function deflateCoordinates(e,t,n,r){for(var o=0,i=n.length;o<i;++o)for(var a=n[o],s=0;s<r;++s)e[t++]=a[s];return t}function deflateCoordinatesArray(e,t,n,r,o){for(var i=o||[],a=0,s=0,l=n.length;s<l;++s){var u=deflateCoordinates(e,t,n[s],r);i[a++]=u,t=u}return i.length=a,i}function deflateMultiCoordinatesArray(e,t,n,r,o){for(var i=o||[],a=0,s=0,l=n.length;s<l;++s){var u=deflateCoordinatesArray(e,t,n[s],r,i[a]);i[a++]=u,t=u[u.length-1]}return i.length=a,i}function douglasPeucker(e,t,n,r,o,i,a){var s=(n-t)/r;if(s<3){for(;t<n;t+=r)i[a++]=e[t],i[a++]=e[t+1];return a}var l=new Array(s);l[0]=1,l[s-1]=1;for(var u=[t,n-r],c=0;u.length>0;){for(var d=u.pop(),h=u.pop(),p=0,f=e[h],m=e[h+1],_=e[d],g=e[d+1],v=h+r;v<d;v+=r){var y=squaredSegmentDistance(e[v],e[v+1],f,m,_,g);y>p&&(c=v,p=y)}p>o&&(l[(c-t)/r]=1,h+r<c&&u.push(h,c),c+r<d&&u.push(c,d))}for(v=0;v<s;++v)l[v]&&(i[a++]=e[t+v*r],i[a++]=e[t+v*r+1]);return a}function douglasPeuckerArray(e,t,n,r,o,i,a,s){for(var l=0,u=n.length;l<u;++l){var c=n[l];a=douglasPeucker(e,t,c,r,o,i,a),s.push(a),t=c}return a}function snap(e,t){return t*Math.round(e/t)}function quantize(e,t,n,r,o,i,a){if(t==n)return a;var s,l,u=snap(e[t],o),c=snap(e[t+1],o);t+=r,i[a++]=u,i[a++]=c;do{if(s=snap(e[t],o),l=snap(e[t+1],o),(t+=r)==n)return i[a++]=s,i[a++]=l,a}while(s==u&&l==c);for(;t<n;){var d=snap(e[t],o),h=snap(e[t+1],o);if(t+=r,d!=s||h!=l){var p=s-u,f=l-c,m=d-u,_=h-c;p*_==f*m&&(p<0&&m<p||p==m||p>0&&m>p)&&(f<0&&_<f||f==_||f>0&&_>f)?(s=d,l=h):(i[a++]=s,i[a++]=l,u=s,c=l,s=d,l=h)}}return i[a++]=s,i[a++]=l,a}function quantizeArray(e,t,n,r,o,i,a,s){for(var l=0,u=n.length;l<u;++l){var c=n[l];a=quantize(e,t,c,r,o,i,a),s.push(a),t=c}return a}function quantizeMultiArray(e,t,n,r,o,i,a,s){for(var l=0,u=n.length;l<u;++l){var c=n[l],d=[];a=quantizeArray(e,t,c,r,o,i,a,d),s.push(d),t=c[c.length-1]}return a}function inflateCoordinates(e,t,n,r,o){for(var i=void 0!==o?o:[],a=0,s=t;s<n;s+=r)i[a++]=e.slice(s,s+r);return i.length=a,i}function inflateCoordinatesArray(e,t,n,r,o){for(var i=void 0!==o?o:[],a=0,s=0,l=n.length;s<l;++s){var u=n[s];i[a++]=inflateCoordinates(e,t,u,r,i[a]),t=u}return i.length=a,i}function inflateMultiCoordinatesArray(e,t,n,r,o){for(var i=void 0!==o?o:[],a=0,s=0,l=n.length;s<l;++s){var u=n[s];i[a++]=inflateCoordinatesArray(e,t,u,r,i[a]),t=u[u.length-1]}return i.length=a,i}function linearRing(e,t,n,r){for(var o=0,i=e[n-r],a=e[n-r+1];t<n;t+=r){var s=e[t],l=e[t+1];o+=a*s-i*l,i=s,a=l}return o/2}function linearRings(e,t,n,r){for(var o=0,i=0,a=n.length;i<a;++i){var s=n[i];o+=linearRing(e,t,s,r),t=s}return o}function linearRingss$1(e,t,n,r){for(var o=0,i=0,a=n.length;i<a;++i){var s=n[i];o+=linearRings(e,t,s,r),t=s[s.length-1]}return o}var __extends$1D=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),LinearRing=function(e){function t(t,n){var r=e.call(this)||this;return r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(t[0])?r.setCoordinates(t,n):r.setFlatCoordinates(n,t),r}return __extends$1D(t,e),t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(e,t,n,r){return r<closestSquaredDistanceXY(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(maxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),assignClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,n,r))},t.prototype.getArea=function(){return linearRing(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinates=function(){return inflateCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getSimplifiedGeometryInternal=function(e){var n=[];return n.length=douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new t(n,GeometryLayout.XY)},t.prototype.getType=function(){return"LinearRing"},t.prototype.intersectsExtent=function(e){return!1},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=deflateCoordinates(this.flatCoordinates,0,e,this.stride),this.changed()},t}(SimpleGeometry$1);const LinearRing$1=LinearRing;var __extends$1C=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Point$1=function(e){function t(t,n){var r=e.call(this)||this;return r.setCoordinates(t,n),r}return __extends$1C(t,e),t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,t,n,r){var o=this.flatCoordinates,i=squaredDistance$1(e,t,o[0],o[1]);if(i<r){for(var a=this.stride,s=0;s<a;++s)n[s]=o[s];return n.length=a,i}return r},t.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},t.prototype.computeExtent=function(e){return createOrUpdateFromCoordinate(this.flatCoordinates,e)},t.prototype.getType=function(){return"Point"},t.prototype.intersectsExtent=function(e){return containsXY(e,this.flatCoordinates[0],this.flatCoordinates[1])},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=deflateCoordinate(this.flatCoordinates,0,e,this.stride),this.changed()},t}(SimpleGeometry$1);function linearRingContainsExtent(e,t,n,r,o){return!forEachCorner(o,(function(o){return!linearRingContainsXY(e,t,n,r,o[0],o[1])}))}function linearRingContainsXY(e,t,n,r,o,i){for(var a=0,s=e[n-r],l=e[n-r+1];t<n;t+=r){var u=e[t],c=e[t+1];l<=i?c>i&&(u-s)*(i-l)-(o-s)*(c-l)>0&&a++:c<=i&&(u-s)*(i-l)-(o-s)*(c-l)<0&&a--,s=u,l=c}return 0!==a}function linearRingsContainsXY(e,t,n,r,o,i){if(0===n.length)return!1;if(!linearRingContainsXY(e,t,n[0],r,o,i))return!1;for(var a=1,s=n.length;a<s;++a)if(linearRingContainsXY(e,n[a-1],n[a],r,o,i))return!1;return!0}function linearRingssContainsXY(e,t,n,r,o,i){if(0===n.length)return!1;for(var a=0,s=n.length;a<s;++a){var l=n[a];if(linearRingsContainsXY(e,t,l,r,o,i))return!0;t=l[l.length-1]}return!1}function getInteriorPointOfArray(e,t,n,r,o,i,a){for(var s,l,u,c,d,h,p,f=o[i+1],m=[],_=0,g=n.length;_<g;++_){var v=n[_];for(c=e[v-r],h=e[v-r+1],s=t;s<v;s+=r)d=e[s],p=e[s+1],(f<=h&&p<=f||h<=f&&f<=p)&&(u=(f-h)/(p-h)*(d-c)+c,m.push(u)),c=d,h=p}var y=NaN,b=-1/0;for(m.sort(numberSafeCompareFunction),c=m[0],s=1,l=m.length;s<l;++s){d=m[s];var E=Math.abs(d-c);E>b&&linearRingsContainsXY(e,t,n,r,u=(c+d)/2,f)&&(y=u,b=E),c=d}return isNaN(y)&&(y=o[i]),a?(a.push(y,f,b),a):[y,f,b]}function getInteriorPointsOfMultiArray(e,t,n,r,o){for(var i=[],a=0,s=n.length;a<s;++a){var l=n[a];i=getInteriorPointOfArray(e,t,l,r,o,2*a,i),t=l[l.length-1]}return i}function forEach(e,t,n,r,o){var i;for(t+=r;t<n;t+=r)if(i=o(e.slice(t-r,t),e.slice(t,t+r)))return i;return!1}function intersectsLineString(e,t,n,r,o){var i=extendFlatCoordinates(createEmpty(),e,t,n,r);return!!intersects$1(o,i)&&(!!containsExtent(o,i)||(i[0]>=o[0]&&i[2]<=o[2]||(i[1]>=o[1]&&i[3]<=o[3]||forEach(e,t,n,r,(function(e,t){return intersectsSegment(o,e,t)})))))}function intersectsLineStringArray(e,t,n,r,o){for(var i=0,a=n.length;i<a;++i){if(intersectsLineString(e,t,n[i],r,o))return!0;t=n[i]}return!1}function intersectsLinearRing(e,t,n,r,o){return!!intersectsLineString(e,t,n,r,o)||(!!linearRingContainsXY(e,t,n,r,o[0],o[1])||(!!linearRingContainsXY(e,t,n,r,o[0],o[3])||(!!linearRingContainsXY(e,t,n,r,o[2],o[1])||!!linearRingContainsXY(e,t,n,r,o[2],o[3]))))}function intersectsLinearRingArray(e,t,n,r,o){if(!intersectsLinearRing(e,t,n[0],r,o))return!1;if(1===n.length)return!0;for(var i=1,a=n.length;i<a;++i)if(linearRingContainsExtent(e,n[i-1],n[i],r,o)&&!intersectsLineString(e,n[i-1],n[i],r,o))return!1;return!0}function intersectsLinearRingMultiArray(e,t,n,r,o){for(var i=0,a=n.length;i<a;++i){var s=n[i];if(intersectsLinearRingArray(e,t,s,r,o))return!0;t=s[s.length-1]}return!1}function coordinates(e,t,n,r){for(;t<n-r;){for(var o=0;o<r;++o){var i=e[t+o];e[t+o]=e[n-r+o],e[n-r+o]=i}t+=r,n-=r}}function linearRingIsClockwise(e,t,n,r){for(var o=0,i=e[n-r],a=e[n-r+1];t<n;t+=r){var s=e[t],l=e[t+1];o+=(s-i)*(l+a),i=s,a=l}return 0===o?void 0:o>0}function linearRingsAreOriented(e,t,n,r,o){for(var i=void 0!==o&&o,a=0,s=n.length;a<s;++a){var l=n[a],u=linearRingIsClockwise(e,t,l,r);if(0===a){if(i&&u||!i&&!u)return!1}else if(i&&!u||!i&&u)return!1;t=l}return!0}function linearRingssAreOriented(e,t,n,r,o){for(var i=0,a=n.length;i<a;++i){var s=n[i];if(!linearRingsAreOriented(e,t,s,r,o))return!1;s.length&&(t=s[s.length-1])}return!0}function orientLinearRings(e,t,n,r,o){for(var i=void 0!==o&&o,a=0,s=n.length;a<s;++a){var l=n[a],u=linearRingIsClockwise(e,t,l,r);(0===a?i&&u||!i&&!u:i&&!u||!i&&u)&&coordinates(e,t,l,r),t=l}return t}function orientLinearRingsArray(e,t,n,r,o){for(var i=0,a=n.length;i<a;++i)t=orientLinearRings(e,t,n[i],r,o);return t}var __extends$1B=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Polygon=function(e){function t(t,n,r){var o=e.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,void 0!==n&&r?(o.setFlatCoordinates(n,t),o.ends_=r):o.setCoordinates(t,n),o}return __extends$1B(t,e),t.prototype.appendLinearRing=function(e){this.flatCoordinates?extend$3(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,t,n,r){return r<closestSquaredDistanceXY(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(arrayMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),assignClosestArrayPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,n,r))},t.prototype.containsXY=function(e,t){return linearRingsContainsXY(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)},t.prototype.getArea=function(){return linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},t.prototype.getCoordinates=function(e){var t;return void 0!==e?orientLinearRings(t=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,e):t=this.flatCoordinates,inflateCoordinatesArray(t,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=getCenter(this.getExtent());this.flatInteriorPoint_=getInteriorPointOfArray(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},t.prototype.getInteriorPoint=function(){return new Point$1(this.getFlatInteriorPoint(),GeometryLayout.XYM)},t.prototype.getLinearRingCount=function(){return this.ends_.length},t.prototype.getLinearRing=function(e){return e<0||this.ends_.length<=e?null:new LinearRing$1(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)},t.prototype.getLinearRings=function(){for(var e=this.layout,t=this.flatCoordinates,n=this.ends_,r=[],o=0,i=0,a=n.length;i<a;++i){var s=n[i],l=new LinearRing$1(t.slice(o,s),e);r.push(l),o=s}return r},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;linearRingsAreOriented(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=orientLinearRings(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(e){var n=[],r=[];return n.length=quantizeArray(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,r),new t(n,GeometryLayout.XY,r)},t.prototype.getType=function(){return"Polygon"},t.prototype.intersectsExtent=function(e){return intersectsLinearRingArray(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=deflateCoordinatesArray(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},t}(SimpleGeometry$1);function fromExtent(e){var t=e[0],n=e[1],r=e[2],o=e[3],i=[t,n,t,o,r,o,r,n,t,n];return new Polygon(i,GeometryLayout.XY,[i.length])}function fromCircle(e,t,n){for(var r=t||32,o=e.getStride(),i=e.getLayout(),a=e.getCenter(),s=o*(r+1),l=new Array(s),u=0;u<s;u+=o){l[u]=0,l[u+1]=0;for(var c=2;c<o;c++)l[u+c]=a[c]}var d=[l.length],h=new Polygon(l,i,d);return makeRegular(h,a,e.getRadius(),n),h}function makeRegular(e,t,n,r){for(var o=e.getFlatCoordinates(),i=e.getStride(),a=o.length/i-1,s=r||0,l=0;l<=a;++l){var u=l*i,c=s+2*modulo(l,a)*Math.PI/a;o[u]=t[0]+n*Math.cos(c),o[u+1]=t[1]+n*Math.sin(c)}e.changed()}const RenderEventType={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};var Fill=function(){function e(e){var t=e||{};this.color_=void 0!==t.color?t.color:null}return e.prototype.clone=function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0})},e.prototype.getColor=function(){return this.color_},e.prototype.setColor=function(e){this.color_=e},e}();const Fill$1=Fill;function interpolatePoint(e,t,n,r,o,i,a){var s,l,u=(n-t)/r;if(1===u)s=t;else if(2===u)s=t,l=o;else if(0!==u){for(var c=e[t],d=e[t+1],h=0,p=[0],f=t+r;f<n;f+=r){var m=e[f],_=e[f+1];h+=Math.sqrt((m-c)*(m-c)+(_-d)*(_-d)),p.push(h),c=m,d=_}var g=o*h,v=binarySearch(p,g);v<0?(l=(g-p[-v-2])/(p[-v-1]-p[-v-2]),s=t+(-v-2)*r):s=t+v*r}var y=a>1?a:2,b=i||new Array(y);for(f=0;f<y;++f)b[f]=void 0===s?NaN:void 0===l?e[s+f]:lerp(e[s+f],e[s+r+f],l);return b}function lineStringCoordinateAtM(e,t,n,r,o,i){if(n==t)return null;var a;if(o<e[t+r-1])return i?((a=e.slice(t,t+r))[r-1]=o,a):null;if(e[n-1]<o)return i?((a=e.slice(n-r,n))[r-1]=o,a):null;if(o==e[t+r-1])return e.slice(t,t+r);for(var s=t/r,l=n/r;s<l;){var u=s+l>>1;o<e[(u+1)*r-1]?l=u:s=u+1}var c=e[s*r-1];if(o==c)return e.slice((s-1)*r,(s-1)*r+r);var d=(o-c)/(e[(s+1)*r-1]-c);a=[];for(var h=0;h<r-1;++h)a.push(lerp(e[(s-1)*r+h],e[s*r+h],d));return a.push(o),a}function lineStringsCoordinateAtM(e,t,n,r,o,i,a){if(a)return lineStringCoordinateAtM(e,t,n[n.length-1],r,o,i);var s;if(o<e[r-1])return i?((s=e.slice(0,r))[r-1]=o,s):null;if(e[e.length-1]<o)return i?((s=e.slice(e.length-r))[r-1]=o,s):null;for(var l=0,u=n.length;l<u;++l){var c=n[l];if(t!=c){if(o<e[t+r-1])return null;if(o<=e[c-1])return lineStringCoordinateAtM(e,t,c,r,o,!1);t=c}}return null}function lineStringLength(e,t,n,r){for(var o=e[t],i=e[t+1],a=0,s=t+r;s<n;s+=r){var l=e[s],u=e[s+1];a+=Math.sqrt((l-o)*(l-o)+(u-i)*(u-i)),o=l,i=u}return a}var __extends$1A=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),LineString=function(e){function t(t,n){var r=e.call(this)||this;return r.flatMidpoint_=null,r.flatMidpointRevision_=-1,r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(t[0])?r.setCoordinates(t,n):r.setFlatCoordinates(n,t),r}return __extends$1A(t,e),t.prototype.appendCoordinate=function(e){this.flatCoordinates?extend$3(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,t,n,r){return r<closestSquaredDistanceXY(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(maxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),assignClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,n,r))},t.prototype.forEachSegment=function(e){return forEach(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.getCoordinateAtM=function(e,t){if(this.layout!=GeometryLayout.XYM&&this.layout!=GeometryLayout.XYZM)return null;var n=void 0!==t&&t;return lineStringCoordinateAtM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n)},t.prototype.getCoordinates=function(){return inflateCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinateAt=function(e,t){return interpolatePoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)},t.prototype.getLength=function(){return lineStringLength(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},t.prototype.getSimplifiedGeometryInternal=function(e){var n=[];return n.length=douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new t(n,GeometryLayout.XY)},t.prototype.getType=function(){return"LineString"},t.prototype.intersectsExtent=function(e){return intersectsLineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=deflateCoordinates(this.flatCoordinates,0,e,this.stride),this.changed()},t}(SimpleGeometry$1),Stroke=function(){function e(e){var t=e||{};this.color_=void 0!==t.color?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=void 0!==t.lineDash?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return e.prototype.clone=function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},e.prototype.getColor=function(){return this.color_},e.prototype.getLineCap=function(){return this.lineCap_},e.prototype.getLineDash=function(){return this.lineDash_},e.prototype.getLineDashOffset=function(){return this.lineDashOffset_},e.prototype.getLineJoin=function(){return this.lineJoin_},e.prototype.getMiterLimit=function(){return this.miterLimit_},e.prototype.getWidth=function(){return this.width_},e.prototype.setColor=function(e){this.color_=e},e.prototype.setLineCap=function(e){this.lineCap_=e},e.prototype.setLineDash=function(e){this.lineDash_=e},e.prototype.setLineDashOffset=function(e){this.lineDashOffset_=e},e.prototype.setLineJoin=function(e){this.lineJoin_=e},e.prototype.setMiterLimit=function(e){this.miterLimit_=e},e.prototype.setWidth=function(e){this.width_=e},e}();const Stroke$1=Stroke,ImageState={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function hasArea(e){return e[0]>0&&e[1]>0}function scale(e,t,n){return void 0===n&&(n=[0,0]),n[0]=e[0]*t+.5|0,n[1]=e[1]*t+.5|0,n}function toSize(e,t){return Array.isArray(e)?e:(void 0===t?t=[e,e]:(t[0]=e,t[1]=e),t)}var ImageStyle=function(){function e(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=toSize(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}return e.prototype.clone=function(){var t=this.getScale();return new e({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},e.prototype.getOpacity=function(){return this.opacity_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getScaleArray=function(){return this.scaleArray_},e.prototype.getDisplacement=function(){return this.displacement_},e.prototype.getDeclutterMode=function(){return this.declutterMode_},e.prototype.getAnchor=function(){return abstract()},e.prototype.getImage=function(e){return abstract()},e.prototype.getHitDetectionImage=function(){return abstract()},e.prototype.getPixelRatio=function(e){return 1},e.prototype.getImageState=function(){return abstract()},e.prototype.getImageSize=function(){return abstract()},e.prototype.getOrigin=function(){return abstract()},e.prototype.getSize=function(){return abstract()},e.prototype.setDisplacement=function(e){this.displacement_=e},e.prototype.setOpacity=function(e){this.opacity_=e},e.prototype.setRotateWithView=function(e){this.rotateWithView_=e},e.prototype.setRotation=function(e){this.rotation_=e},e.prototype.setScale=function(e){this.scale_=e,this.scaleArray_=toSize(e)},e.prototype.listenImageChange=function(e){abstract()},e.prototype.load=function(){abstract()},e.prototype.unlistenImageChange=function(e){abstract()},e}();const ImageStyle$1=ImageStyle;var HEX_COLOR_RE_=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,NAMED_COLOR_RE_=/^([a-z]*)$|^hsla?\(.*\)$/i;function asString(e){return"string"==typeof e?e:toString$2(e)}function fromNamed(e){var t=document.createElement("div");if(t.style.color=e,""!==t.style.color){document.body.appendChild(t);var n=getComputedStyle(t).color;return document.body.removeChild(t),n}return""}var fromString=function(){var e={},t=0;return function(n){var r;if(e.hasOwnProperty(n))r=e[n];else{if(t>=1024){var o=0;for(var i in e)0==(3&o++)&&(delete e[i],--t)}r=fromStringInternal_(n),e[n]=r,++t}return r}}();function asArray(e){return Array.isArray(e)?e:fromString(e)}function fromStringInternal_(e){var t,n,r,o,i;if(NAMED_COLOR_RE_.exec(e)&&(e=fromNamed(e)),HEX_COLOR_RE_.exec(e)){var a=e.length-1,s=void 0;s=a<=4?1:2;var l=4===a||8===a;t=parseInt(e.substr(1+0*s,s),16),n=parseInt(e.substr(1+1*s,s),16),r=parseInt(e.substr(1+2*s,s),16),o=l?parseInt(e.substr(1+3*s,s),16):255,1==s&&(t=(t<<4)+t,n=(n<<4)+n,r=(r<<4)+r,l&&(o=(o<<4)+o)),i=[t,n,r,o/255]}else 0==e.indexOf("rgba(")?normalize$1(i=e.slice(5,-1).split(",").map(Number)):0==e.indexOf("rgb(")?((i=e.slice(4,-1).split(",").map(Number)).push(1),normalize$1(i)):assert(!1,14);return i}function normalize$1(e){return e[0]=clamp$1(e[0]+.5|0,0,255),e[1]=clamp$1(e[1]+.5|0,0,255),e[2]=clamp$1(e[2]+.5|0,0,255),e[3]=clamp$1(e[3],0,1),e}function toString$2(e){var t=e[0];t!=(0|t)&&(t=t+.5|0);var n=e[1];n!=(0|n)&&(n=n+.5|0);var r=e[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+t+","+n+","+r+","+(void 0===e[3]?1:Math.round(100*e[3])/100)+")"}function isStringColor(e){return NAMED_COLOR_RE_.test(e)&&(e=fromNamed(e)),HEX_COLOR_RE_.test(e)||0===e.indexOf("rgba(")||0===e.indexOf("rgb(")}function asColorLike(e){return Array.isArray(e)?toString$2(e):e}function createCanvasContext2D(e,t,n,r){var o;return o=n&&n.length?n.shift():WORKER_OFFSCREEN_CANVAS?new OffscreenCanvas(e||300,t||300):document.createElement("canvas"),e&&(o.width=e),t&&(o.height=t),o.getContext("2d",r)}function releaseCanvas$1(e){var t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function outerWidth(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10)}function outerHeight(e){var t=e.offsetHeight,n=getComputedStyle(e);return t+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10)}function replaceNode(e,t){var n=t.parentNode;n&&n.replaceChild(e,t)}function removeNode(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function removeChildren(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function replaceChildren(e,t){for(var n=e.childNodes,r=0;;++r){var o=n[r],i=t[r];if(!o&&!i)break;o!==i&&(o?i?e.insertBefore(i,o):(e.removeChild(o),--r):e.appendChild(i))}}var CLASS_HIDDEN="ol-hidden",CLASS_SELECTABLE="ol-selectable",CLASS_UNSELECTABLE="ol-unselectable",CLASS_UNSUPPORTED="ol-unsupported",CLASS_CONTROL="ol-control",CLASS_COLLAPSED="ol-collapsed",fontRegEx=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),fontRegExMatchIndex=["style","variant","weight","size","lineHeight","family"],getFontParameters=function(e){var t=e.match(fontRegEx);if(!t)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},r=0,o=fontRegExMatchIndex.length;r<o;++r){var i=t[r+1];void 0!==i&&(n[fontRegExMatchIndex[r]]=i)}return n.families=n.family.split(/,\s?/),n},defaultFont="10px sans-serif",defaultFillStyle="#000",defaultLineCap="round",defaultLineDash=[],defaultLineDashOffset=0,defaultLineJoin="round",defaultMiterLimit=10,defaultStrokeStyle="#000",defaultTextAlign="center",defaultTextBaseline="middle",defaultPadding=[0,0,0,0],defaultLineWidth=1,checkedFonts=new BaseObject$1,labelCache=new EventTarget;labelCache.setSize=function(){};var measureContext=null,measureFont,textHeights={},registerFont=function(){var e,t,n="32px ",r=["monospace","serif"],o=r.length,i="wmytzilWMYTZIL@#/&?$%10";function a(e,a,s){for(var l=!0,u=0;u<o;++u){var c=r[u];if(t=measureTextWidth(e+" "+a+" "+n+c,i),s!=c){var d=measureTextWidth(e+" "+a+" "+n+s+","+c,i);l=l&&d!=t}}return!!l}function s(){for(var t=!0,n=checkedFonts.getKeys(),r=0,o=n.length;r<o;++r){var i=n[r];checkedFonts.get(i)<100&&(a.apply(this,i.split("\n"))?(clear(textHeights),measureContext=null,measureFont=void 0,checkedFonts.set(i,100)):(checkedFonts.set(i,checkedFonts.get(i)+1,!0),t=!1))}t&&(clearInterval(e),e=void 0)}return function(t){var n=getFontParameters(t);if(n)for(var r=n.families,o=0,i=r.length;o<i;++o){var l=r[o],u=n.style+"\n"+n.weight+"\n"+l;void 0===checkedFonts.get(u)&&(checkedFonts.set(u,100,!0),a(n.style,n.weight,l)||(checkedFonts.set(u,0,!0),void 0===e&&(e=setInterval(s,32))))}}}(),measureTextHeight=function(){var e;return function(t){var n=textHeights[t];if(null==n){if(WORKER_OFFSCREEN_CANVAS){var r=getFontParameters(t),o=measureText(t,"g");n=(isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight))*(o.actualBoundingBoxAscent+o.actualBoundingBoxDescent)}else e||((e=document.createElement("div")).innerHTML="M",e.style.minHeight="0",e.style.maxHeight="none",e.style.height="auto",e.style.padding="0",e.style.border="none",e.style.position="absolute",e.style.display="block",e.style.left="-99999px"),e.style.font=t,document.body.appendChild(e),n=e.offsetHeight,document.body.removeChild(e);textHeights[t]=n}return n}}();function measureText(e,t){return measureContext||(measureContext=createCanvasContext2D(1,1)),e!=measureFont&&(measureContext.font=e,measureFont=measureContext.font),measureContext.measureText(t)}function measureTextWidth(e,t){return measureText(e,t).width}function measureAndCacheTextWidth(e,t,n){if(t in n)return n[t];var r=t.split("\n").reduce((function(t,n){return Math.max(t,measureTextWidth(e,n))}),0);return n[t]=r,r}function getTextDimensions(e,t){for(var n=[],r=[],o=[],i=0,a=0,s=0,l=0,u=0,c=t.length;u<=c;u+=2){var d=t[u];if("\n"!==d&&u!==c){var h=t[u+1]||e.font,p=measureTextWidth(h,d);n.push(p),a+=p;var f=measureTextHeight(h);r.push(f),l=Math.max(l,f)}else i=Math.max(i,a),o.push(a),a=0,s+=l}return{width:i,height:s,widths:n,heights:r,lineWidths:o}}function drawImageOrLabel(e,t,n,r,o,i,a,s,l,u,c){e.save(),1!==n&&(e.globalAlpha*=n),t&&e.setTransform.apply(e,t),r.contextInstructions?(e.translate(l,u),e.scale(c[0],c[1]),executeLabelInstructions(r,e)):c[0]<0||c[1]<0?(e.translate(l,u),e.scale(c[0],c[1]),e.drawImage(r,o,i,a,s,0,0,a,s)):e.drawImage(r,o,i,a,s,l,u,a*c[0],s*c[1]),e.restore()}function executeLabelInstructions(e,t){for(var n=e.contextInstructions,r=0,o=n.length;r<o;r+=2)Array.isArray(n[r+1])?t[n[r]].apply(t,n[r+1]):t[n[r]]=n[r+1]}var __extends$1z=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),RegularShape=function(e){function t(t){var n=this,r=void 0!==t.rotateWithView&&t.rotateWithView;return(n=e.call(this,{opacity:1,rotateWithView:r,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode})||this).canvas_=void 0,n.hitDetectionCanvas_=null,n.fill_=void 0!==t.fill?t.fill:null,n.origin_=[0,0],n.points_=t.points,n.radius_=void 0!==t.radius?t.radius:t.radius1,n.radius2_=t.radius2,n.angle_=void 0!==t.angle?t.angle:0,n.stroke_=void 0!==t.stroke?t.stroke:null,n.size_=null,n.renderOptions_=null,n.render(),n}return __extends$1z(t,e),t.prototype.clone=function(){var e=this.getScale(),n=new t({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n},t.prototype.getAnchor=function(){var e=this.size_;if(!e)return null;var t=this.getDisplacement();return[e[0]/2-t[0],e[1]/2+t[1]]},t.prototype.getAngle=function(){return this.angle_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(e){this.fill_=e,this.render()},t.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},t.prototype.getImage=function(e){var t=this.canvas_[e];if(!t){var n=this.renderOptions_,r=createCanvasContext2D(n.size*e,n.size*e);this.draw_(n,r,e),t=r.canvas,this.canvas_[e]=t}return t},t.prototype.getPixelRatio=function(e){return e},t.prototype.getImageSize=function(){return this.size_},t.prototype.getImageState=function(){return ImageState.LOADED},t.prototype.getOrigin=function(){return this.origin_},t.prototype.getPoints=function(){return this.points_},t.prototype.getRadius=function(){return this.radius_},t.prototype.getRadius2=function(){return this.radius2_},t.prototype.getSize=function(){return this.size_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(e){this.stroke_=e,this.render()},t.prototype.listenImageChange=function(e){},t.prototype.load=function(){},t.prototype.unlistenImageChange=function(e){},t.prototype.calculateLineJoinSize_=function(e,t,n){if(0===t||this.points_===1/0||"bevel"!==e&&"miter"!==e)return t;var r=this.radius_,o=void 0===this.radius2_?r:this.radius2_;if(r<o){var i=r;r=o,o=i}var a=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/a,l=o*Math.sin(s),u=r-Math.sqrt(o*o-l*l),c=Math.sqrt(l*l+u*u),d=c/l;if("miter"===e&&d<=n)return d*t;var h=t/2/d,p=t/2*(u/c),f=Math.sqrt((r+h)*(r+h)+p*p)-r;if(void 0===this.radius2_||"bevel"===e)return 2*f;var m=r*Math.sin(s),_=o-Math.sqrt(r*r-m*m),g=Math.sqrt(m*m+_*_)/m;if(g<=n){var v=g*t/2-o-r;return 2*Math.max(f,v)}return 2*f},t.prototype.createRenderOptions=function(){var e,t=defaultLineJoin,n=0,r=null,o=0,i=0;this.stroke_&&(null===(e=this.stroke_.getColor())&&(e=defaultStrokeStyle),e=asColorLike(e),void 0===(i=this.stroke_.getWidth())&&(i=defaultLineWidth),r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),void 0===(t=this.stroke_.getLineJoin())&&(t=defaultLineJoin),void 0===(n=this.stroke_.getMiterLimit())&&(n=defaultMiterLimit));var a=this.calculateLineJoinSize_(t,i,n),s=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:e,strokeWidth:i,size:Math.ceil(2*s+a),lineDash:r,lineDashOffset:o,lineJoin:t,miterLimit:n}},t.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var e=this.renderOptions_.size;this.canvas_={},this.size_=[e,e]},t.prototype.draw_=function(e,t,n){if(t.scale(n,n),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){var r=this.fill_.getColor();null===r&&(r=defaultFillStyle),t.fillStyle=asColorLike(r),t.fill()}this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,t.setLineDash&&e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())},t.prototype.createHitDetectionCanvas_=function(e){if(this.fill_){var t=this.fill_.getColor(),n=0;if("string"==typeof t&&(t=asArray(t)),null===t?n=1:Array.isArray(t)&&(n=4===t.length?t[3]:1),0===n){var r=createCanvasContext2D(e.size,e.size);this.hitDetectionCanvas_=r.canvas,this.drawHitDetectionCanvas_(e,r)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},t.prototype.createPath_=function(e){var t=this.points_,n=this.radius_;if(t===1/0)e.arc(0,0,n,0,2*Math.PI);else{var r=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(t*=2);for(var o=this.angle_-Math.PI/2,i=2*Math.PI/t,a=0;a<t;a++){var s=o+a*i,l=a%2==0?n:r;e.lineTo(l*Math.cos(s),l*Math.sin(s))}e.closePath()}},t.prototype.drawHitDetectionCanvas_=function(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=defaultFillStyle,t.fill(),this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())},t}(ImageStyle$1);const RegularShape$1=RegularShape;var __extends$1y=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),CircleStyle=function(e){function t(t){var n=t||{};return e.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,scale:void 0!==n.scale?n.scale:1,rotation:void 0!==n.rotation?n.rotation:0,rotateWithView:void 0!==n.rotateWithView&&n.rotateWithView,displacement:void 0!==n.displacement?n.displacement:[0,0],declutterMode:n.declutterMode})||this}return __extends$1y(t,e),t.prototype.clone=function(){var e=this.getScale(),n=new t({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n},t.prototype.setRadius=function(e){this.radius_=e,this.render()},t}(RegularShape$1);const CircleStyle$1=CircleStyle;var Style=function(){function e(e){var t=e||{};this.geometry_=null,this.geometryFunction_=defaultGeometryFunction,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.hitDetectionRenderer_=void 0!==t.hitDetectionRenderer?t.hitDetectionRenderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex}return e.prototype.clone=function(){var t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new e({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.setRenderer=function(e){this.renderer_=e},e.prototype.setHitDetectionRenderer=function(e){this.hitDetectionRenderer_=e},e.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},e.prototype.getGeometry=function(){return this.geometry_},e.prototype.getGeometryFunction=function(){return this.geometryFunction_},e.prototype.getFill=function(){return this.fill_},e.prototype.setFill=function(e){this.fill_=e},e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(e){this.image_=e},e.prototype.getStroke=function(){return this.stroke_},e.prototype.setStroke=function(e){this.stroke_=e},e.prototype.getText=function(){return this.text_},e.prototype.setText=function(e){this.text_=e},e.prototype.getZIndex=function(){return this.zIndex_},e.prototype.setGeometry=function(e){"function"==typeof e?this.geometryFunction_=e:"string"==typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=defaultGeometryFunction,this.geometry_=e},e.prototype.setZIndex=function(e){this.zIndex_=e},e}();function toFunction(e){var t;if("function"==typeof e)t=e;else{var n;if(Array.isArray(e))n=e;else assert("function"==typeof e.getZIndex,41),n=[e];t=function(){return n}}return t}var defaultStyles=null;function createDefaultStyle(e,t){if(!defaultStyles){var n=new Fill$1({color:"rgba(255,255,255,0.4)"}),r=new Stroke$1({color:"#3399CC",width:1.25});defaultStyles=[new Style({image:new CircleStyle$1({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return defaultStyles}function createEditingStyle(){var e={},t=[255,255,255,1],n=[0,153,255,1];return e.Polygon=[new Style({fill:new Fill$1({color:[255,255,255,.5]})})],e.MultiPolygon=e.Polygon,e.LineString=[new Style({stroke:new Stroke$1({color:t,width:5})}),new Style({stroke:new Stroke$1({color:n,width:3})})],e.MultiLineString=e.LineString,e.Circle=e.Polygon.concat(e.LineString),e.Point=[new Style({image:new CircleStyle$1({radius:6,fill:new Fill$1({color:n}),stroke:new Stroke$1({color:t,width:1.5})}),zIndex:1/0})],e.MultiPoint=e.Point,e.GeometryCollection=e.Polygon.concat(e.LineString,e.Point),e}function defaultGeometryFunction(e){return e.getGeometry()}const Style$1=Style,TextPlacement={POINT:"point",LINE:"line"};var DEFAULT_FILL_COLOR="#333",Text$1=function(){function e(e){var t=e||{};this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=toSize(void 0!==t.scale?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new Fill$1({color:DEFAULT_FILL_COLOR}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:TextPlacement.POINT,this.overflow_=!!t.overflow,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding}return e.prototype.clone=function(){var t=this.getScale();return new e({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})},e.prototype.getOverflow=function(){return this.overflow_},e.prototype.getFont=function(){return this.font_},e.prototype.getMaxAngle=function(){return this.maxAngle_},e.prototype.getPlacement=function(){return this.placement_},e.prototype.getOffsetX=function(){return this.offsetX_},e.prototype.getOffsetY=function(){return this.offsetY_},e.prototype.getFill=function(){return this.fill_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getScaleArray=function(){return this.scaleArray_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.getText=function(){return this.text_},e.prototype.getTextAlign=function(){return this.textAlign_},e.prototype.getJustify=function(){return this.justify_},e.prototype.getTextBaseline=function(){return this.textBaseline_},e.prototype.getBackgroundFill=function(){return this.backgroundFill_},e.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},e.prototype.getPadding=function(){return this.padding_},e.prototype.setOverflow=function(e){this.overflow_=e},e.prototype.setFont=function(e){this.font_=e},e.prototype.setMaxAngle=function(e){this.maxAngle_=e},e.prototype.setOffsetX=function(e){this.offsetX_=e},e.prototype.setOffsetY=function(e){this.offsetY_=e},e.prototype.setPlacement=function(e){this.placement_=e},e.prototype.setRotateWithView=function(e){this.rotateWithView_=e},e.prototype.setFill=function(e){this.fill_=e},e.prototype.setRotation=function(e){this.rotation_=e},e.prototype.setScale=function(e){this.scale_=e,this.scaleArray_=toSize(void 0!==e?e:1)},e.prototype.setStroke=function(e){this.stroke_=e},e.prototype.setText=function(e){this.text_=e},e.prototype.setTextAlign=function(e){this.textAlign_=e},e.prototype.setJustify=function(e){this.justify_=e},e.prototype.setTextBaseline=function(e){this.textBaseline_=e},e.prototype.setBackgroundFill=function(e){this.backgroundFill_=e},e.prototype.setBackgroundStroke=function(e){this.backgroundStroke_=e},e.prototype.setPadding=function(e){this.padding_=e},e}();const Text$2=Text$1,LayerProperty={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};var __extends$1x=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),BaseLayer=function(e){function t(t){var n=e.call(this)||this;n.on,n.once,n.un,n.background_=t.background;var r=assign({},t);return"object"==typeof t.properties&&(delete r.properties,assign(r,t.properties)),r[LayerProperty.OPACITY]=void 0!==t.opacity?t.opacity:1,assert("number"==typeof r[LayerProperty.OPACITY],64),r[LayerProperty.VISIBLE]=void 0===t.visible||t.visible,r[LayerProperty.Z_INDEX]=t.zIndex,r[LayerProperty.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,r[LayerProperty.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,r[LayerProperty.MIN_ZOOM]=void 0!==t.minZoom?t.minZoom:-1/0,r[LayerProperty.MAX_ZOOM]=void 0!==t.maxZoom?t.maxZoom:1/0,n.className_=void 0!==r.className?r.className:"ol-layer",delete r.className,n.setProperties(r),n.state_=null,n}return __extends$1x(t,e),t.prototype.getBackground=function(){return this.background_},t.prototype.getClassName=function(){return this.className_},t.prototype.getLayerState=function(e){var t=this.state_||{layer:this,managed:void 0===e||e},n=this.getZIndex();return t.opacity=clamp$1(Math.round(100*this.getOpacity())/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=void 0!==n||t.managed?n:1/0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t},t.prototype.getLayersArray=function(e){return abstract()},t.prototype.getLayerStatesArray=function(e){return abstract()},t.prototype.getExtent=function(){return this.get(LayerProperty.EXTENT)},t.prototype.getMaxResolution=function(){return this.get(LayerProperty.MAX_RESOLUTION)},t.prototype.getMinResolution=function(){return this.get(LayerProperty.MIN_RESOLUTION)},t.prototype.getMinZoom=function(){return this.get(LayerProperty.MIN_ZOOM)},t.prototype.getMaxZoom=function(){return this.get(LayerProperty.MAX_ZOOM)},t.prototype.getOpacity=function(){return this.get(LayerProperty.OPACITY)},t.prototype.getSourceState=function(){return abstract()},t.prototype.getVisible=function(){return this.get(LayerProperty.VISIBLE)},t.prototype.getZIndex=function(){return this.get(LayerProperty.Z_INDEX)},t.prototype.setBackground=function(e){this.background_=e,this.changed()},t.prototype.setExtent=function(e){this.set(LayerProperty.EXTENT,e)},t.prototype.setMaxResolution=function(e){this.set(LayerProperty.MAX_RESOLUTION,e)},t.prototype.setMinResolution=function(e){this.set(LayerProperty.MIN_RESOLUTION,e)},t.prototype.setMaxZoom=function(e){this.set(LayerProperty.MAX_ZOOM,e)},t.prototype.setMinZoom=function(e){this.set(LayerProperty.MIN_ZOOM,e)},t.prototype.setOpacity=function(e){assert("number"==typeof e,64),this.set(LayerProperty.OPACITY,e)},t.prototype.setVisible=function(e){this.set(LayerProperty.VISIBLE,e)},t.prototype.setZIndex=function(e){this.set(LayerProperty.Z_INDEX,e)},t.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),e.prototype.disposeInternal.call(this)},t}(BaseObject$1);const BaseLayer$1=BaseLayer;var __extends$1w=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Layer=function(e){function t(t){var n=this,r=assign({},t);delete r.source,(n=e.call(this,r)||this).on,n.once,n.un,n.mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,n.rendered=!1,t.render&&(n.render=t.render),t.map&&n.setMap(t.map),n.addChangeListener(LayerProperty.SOURCE,n.handleSourcePropertyChange_);var o=t.source?t.source:null;return n.setSource(o),n}return __extends$1w(t,e),t.prototype.getLayersArray=function(e){var t=e||[];return t.push(this),t},t.prototype.getLayerStatesArray=function(e){var t=e||[];return t.push(this.getLayerState()),t},t.prototype.getSource=function(){return this.get(LayerProperty.SOURCE)||null},t.prototype.getRenderSource=function(){return this.getSource()},t.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():"undefined"},t.prototype.handleSourceChange_=function(){this.changed()},t.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(unlistenByKey(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();e&&(this.sourceChangeKey_=listen(e,EventType.CHANGE,this.handleSourceChange_,this)),this.changed()},t.prototype.getFeatures=function(e){return this.renderer_?this.renderer_.getFeatures(e):new Promise((function(e){return e([])}))},t.prototype.getData=function(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null},t.prototype.render=function(e,t){var n=this.getRenderer();if(n.prepareFrame(e))return this.rendered=!0,n.renderFrame(e,t)},t.prototype.unrender=function(){this.rendered=!1},t.prototype.setMapInternal=function(e){e||this.unrender(),this.set(LayerProperty.MAP,e)},t.prototype.getMapInternal=function(){return this.get(LayerProperty.MAP)},t.prototype.setMap=function(e){this.mapPrecomposeKey_&&(unlistenByKey(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(unlistenByKey(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=listen(e,RenderEventType.PRECOMPOSE,(function(e){var t=e.frameState.layerStatesArray,n=this.getLayerState(!1);assert(!t.some((function(e){return e.layer===n.layer})),67),t.push(n)}),this),this.mapRenderKey_=listen(this,EventType.CHANGE,e.render,e),this.changed())},t.prototype.setSource=function(e){this.set(LayerProperty.SOURCE,e)},t.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},t.prototype.hasRenderer=function(){return!!this.renderer_},t.prototype.createRenderer=function(){return null},t.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),e.prototype.disposeInternal.call(this)},t}(BaseLayer$1);function inView(e,t){if(!e.visible)return!1;var n=t.resolution;if(n<e.minResolution||n>=e.maxResolution)return!1;var r=t.zoom;return r>e.minZoom&&r<=e.maxZoom}const Layer$1=Layer;function quickselect(e,t,n,r,o){quickselectStep(e,t,n||0,r||e.length-1,o||defaultCompare)}function quickselectStep(e,t,n,r,o){for(;r>n;){if(r-n>600){var i=r-n+1,a=t-n+1,s=Math.log(i),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(i-l)/i)*(a-i/2<0?-1:1);quickselectStep(e,t,Math.max(n,Math.floor(t-a*l/i+u)),Math.min(r,Math.floor(t+(i-a)*l/i+u)),o)}var c=e[t],d=n,h=r;for(swap(e,n,t),o(e[r],c)>0&&swap(e,n,r);d<h;){for(swap(e,d,h),d++,h--;o(e[d],c)<0;)d++;for(;o(e[h],c)>0;)h--}0===o(e[n],c)?swap(e,n,h):swap(e,++h,r),h<=t&&(n=h+1),t<=h&&(r=h-1)}}function swap(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function defaultCompare(e,t){return e<t?-1:e>t?1:0}let RBush$1=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const n=[];if(!intersects(e,t))return n;const r=this.toBBox,o=[];for(;t;){for(let i=0;i<t.children.length;i++){const a=t.children[i],s=t.leaf?r(a):a;intersects(e,s)&&(t.leaf?n.push(a):contains(e,s)?this._all(a,n):o.push(a))}t=o.pop()}return n}collides(e){let t=this.data;if(!intersects(e,t))return!1;const n=[];for(;t;){for(let r=0;r<t.children.length;r++){const o=t.children[r],i=t.leaf?this.toBBox(o):o;if(intersects(e,i)){if(t.leaf||contains(e,i))return!0;n.push(o)}}t=n.pop()}return!1}load(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(let t=0;t<e.length;t++)this.insert(e[t]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const e=this.data;this.data=t,t=e}this._insert(t,this.data.height-t.height-1,!0)}else this.data=t;return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=createNode([]),this}remove(e,t){if(!e)return this;let n=this.data;const r=this.toBBox(e),o=[],i=[];let a,s,l;for(;n||o.length;){if(n||(n=o.pop(),s=o[o.length-1],a=i.pop(),l=!0),n.leaf){const r=findItem$2(e,n.children,t);if(-1!==r)return n.children.splice(r,1),o.push(n),this._condense(o),this}l||n.leaf||!contains(n,r)?s?(a++,n=s.children[a],l=!1):n=null:(o.push(n),i.push(a),a=0,s=n,n=n.children[0])}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const n=[];for(;e;)e.leaf?t.push(...e.children):n.push(...e.children),e=n.pop();return t}_build(e,t,n,r){const o=n-t+1;let i,a=this._maxEntries;if(o<=a)return i=createNode(e.slice(t,n+1)),calcBBox(i,this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,r-1))),i=createNode([]),i.leaf=!1,i.height=r;const s=Math.ceil(o/a),l=s*Math.ceil(Math.sqrt(a));multiSelect(e,t,n,l,this.compareMinX);for(let u=t;u<=n;u+=l){const t=Math.min(u+l-1,n);multiSelect(e,u,t,s,this.compareMinY);for(let n=u;n<=t;n+=s){const o=Math.min(n+s-1,t);i.children.push(this._build(e,n,o,r-1))}}return calcBBox(i,this.toBBox),i}_chooseSubtree(e,t,n,r){for(;r.push(t),!t.leaf&&r.length-1!==n;){let n,r=1/0,o=1/0;for(let i=0;i<t.children.length;i++){const a=t.children[i],s=bboxArea(a),l=enlargedArea(e,a)-s;l<o?(o=l,r=s<r?s:r,n=a):l===o&&s<r&&(r=s,n=a)}t=n||t.children[0]}return t}_insert(e,t,n){const r=n?e:this.toBBox(e),o=[],i=this._chooseSubtree(r,this.data,t,o);for(i.children.push(e),extend$1(i,r);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(r,o,t)}_split(e,t){const n=e[t],r=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,r);const i=this._chooseSplitIndex(n,o,r),a=createNode(n.children.splice(i,n.children.length-i));a.height=n.height,a.leaf=n.leaf,calcBBox(n,this.toBBox),calcBBox(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(n,a)}_splitRoot(e,t){this.data=createNode([e,t]),this.data.height=e.height+1,this.data.leaf=!1,calcBBox(this.data,this.toBBox)}_chooseSplitIndex(e,t,n){let r,o=1/0,i=1/0;for(let a=t;a<=n-t;a++){const t=distBBox(e,0,a,this.toBBox),s=distBBox(e,a,n,this.toBBox),l=intersectionArea(t,s),u=bboxArea(t)+bboxArea(s);l<o?(o=l,r=a,i=u<i?u:i):l===o&&u<i&&(i=u,r=a)}return r||n-t}_chooseSplitAxis(e,t,n){const r=e.leaf?this.compareMinX:compareNodeMinX,o=e.leaf?this.compareMinY:compareNodeMinY;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,o)&&e.children.sort(r)}_allDistMargin(e,t,n,r){e.children.sort(r);const o=this.toBBox,i=distBBox(e,0,t,o),a=distBBox(e,n-t,n,o);let s=bboxMargin(i)+bboxMargin(a);for(let l=t;l<n-t;l++){const t=e.children[l];extend$1(i,e.leaf?o(t):t),s+=bboxMargin(i)}for(let l=n-t-1;l>=t;l--){const t=e.children[l];extend$1(a,e.leaf?o(t):t),s+=bboxMargin(a)}return s}_adjustParentBBoxes(e,t,n){for(let r=n;r>=0;r--)extend$1(t[r],e)}_condense(e){for(let t,n=e.length-1;n>=0;n--)0===e[n].children.length?n>0?(t=e[n-1].children,t.splice(t.indexOf(e[n]),1)):this.clear():calcBBox(e[n],this.toBBox)}};function findItem$2(e,t,n){if(!n)return t.indexOf(e);for(let r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function calcBBox(e,t){distBBox(e,0,e.children.length,t,e)}function distBBox(e,t,n,r,o){o||(o=createNode(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(let i=t;i<n;i++){const t=e.children[i];extend$1(o,e.leaf?r(t):t)}return o}function extend$1(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function compareNodeMinX(e,t){return e.minX-t.minX}function compareNodeMinY(e,t){return e.minY-t.minY}function bboxArea(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function bboxMargin(e){return e.maxX-e.minX+(e.maxY-e.minY)}function enlargedArea(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function intersectionArea(e,t){const n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),o=Math.min(e.maxX,t.maxX),i=Math.min(e.maxY,t.maxY);return Math.max(0,o-n)*Math.max(0,i-r)}function contains(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function intersects(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function createNode(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function multiSelect(e,t,n,r,o){const i=[t,n];for(;i.length;){if((n=i.pop())-(t=i.pop())<=r)continue;const a=t+Math.ceil((n-t)/r/2)*r;quickselect(e,a,t,n,o),i.push(t,a,a,n)}}var __extends$1v=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Property$3={RENDER_ORDER:"renderOrder"},BaseVectorLayer=function(e){function t(t){var n=this,r=t||{},o=assign({},r);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,(n=e.call(this,o)||this).declutter_=void 0!==r.declutter&&r.declutter,n.renderBuffer_=void 0!==r.renderBuffer?r.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(r.style),n.updateWhileAnimating_=void 0!==r.updateWhileAnimating&&r.updateWhileAnimating,n.updateWhileInteracting_=void 0!==r.updateWhileInteracting&&r.updateWhileInteracting,n}return __extends$1v(t,e),t.prototype.getDeclutter=function(){return this.declutter_},t.prototype.getFeatures=function(t){return e.prototype.getFeatures.call(this,t)},t.prototype.getRenderBuffer=function(){return this.renderBuffer_},t.prototype.getRenderOrder=function(){return this.get(Property$3.RENDER_ORDER)},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},t.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},t.prototype.renderDeclutter=function(e){e.declutterTree||(e.declutterTree=new RBush$1(9)),this.getRenderer().renderDeclutter(e)},t.prototype.setRenderOrder=function(e){this.set(Property$3.RENDER_ORDER,e)},t.prototype.setStyle=function(e){this.style_=void 0!==e?e:createDefaultStyle,this.styleFunction_=null===e?void 0:toFunction(this.style_),this.changed()},t}(Layer$1);const BaseVectorLayer$1=BaseVectorLayer;var Instruction={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},fillInstruction=[Instruction.FILL],strokeInstruction=[Instruction.STROKE],beginPathInstruction=[Instruction.BEGIN_PATH],closePathInstruction=[Instruction.CLOSE_PATH],VectorContext=function(){function e(){}return e.prototype.drawCustom=function(e,t,n,r){},e.prototype.drawGeometry=function(e){},e.prototype.setStyle=function(e){},e.prototype.drawCircle=function(e,t){},e.prototype.drawFeature=function(e,t){},e.prototype.drawGeometryCollection=function(e,t){},e.prototype.drawLineString=function(e,t){},e.prototype.drawMultiLineString=function(e,t){},e.prototype.drawMultiPoint=function(e,t){},e.prototype.drawMultiPolygon=function(e,t){},e.prototype.drawPoint=function(e,t){},e.prototype.drawPolygon=function(e,t){},e.prototype.drawText=function(e,t){},e.prototype.setFillStrokeStyle=function(e,t){},e.prototype.setImageStyle=function(e,t){},e.prototype.setTextStyle=function(e,t){},e}();const VectorContext$1=VectorContext;var __extends$1u=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),CanvasBuilder=function(e){function t(t,n,r,o){var i=e.call(this)||this;return i.tolerance=t,i.maxExtent=n,i.pixelRatio=o,i.maxLineWidth=0,i.resolution=r,i.beginGeometryInstruction1_=null,i.beginGeometryInstruction2_=null,i.bufferedMaxExtent_=null,i.instructions=[],i.coordinates=[],i.tmpCoordinate_=[],i.hitDetectionInstructions=[],i.state={},i}return __extends$1u(t,e),t.prototype.applyPixelRatio=function(e){var t=this.pixelRatio;return 1==t?e:e.map((function(e){return e*t}))},t.prototype.appendFlatPointCoordinates=function(e,t){for(var n=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,o=this.coordinates,i=o.length,a=0,s=e.length;a<s;a+=t)r[0]=e[a],r[1]=e[a+1],containsCoordinate(n,r)&&(o[i++]=r[0],o[i++]=r[1]);return i},t.prototype.appendFlatLineCoordinates=function(e,t,n,r,o,i){var a=this.coordinates,s=a.length,l=this.getBufferedMaxExtent();i&&(t+=r);var u,c,d,h=e[t],p=e[t+1],f=this.tmpCoordinate_,m=!0;for(u=t+r;u<n;u+=r)f[0]=e[u],f[1]=e[u+1],(d=coordinateRelationship(l,f))!==c?(m&&(a[s++]=h,a[s++]=p,m=!1),a[s++]=f[0],a[s++]=f[1]):d===Relationship.INTERSECTING?(a[s++]=f[0],a[s++]=f[1],m=!1):m=!0,h=f[0],p=f[1],c=d;return(o&&m||u===t+r)&&(a[s++]=h,a[s++]=p),s},t.prototype.drawCustomCoordinates_=function(e,t,n,r,o){for(var i=0,a=n.length;i<a;++i){var s=n[i],l=this.appendFlatLineCoordinates(e,t,s,r,!1,!1);o.push(l),t=s}return t},t.prototype.drawCustom=function(e,t,n,r){this.beginGeometry(e,t);var o,i,a,s,l,u=e.getType(),c=e.getStride(),d=this.coordinates.length;switch(u){case"MultiPolygon":o=e.getOrientedFlatCoordinates(),s=[];var h=e.getEndss();l=0;for(var p=0,f=h.length;p<f;++p){var m=[];l=this.drawCustomCoordinates_(o,l,h[p],c,m),s.push(m)}this.instructions.push([Instruction.CUSTOM,d,s,e,n,inflateMultiCoordinatesArray]),this.hitDetectionInstructions.push([Instruction.CUSTOM,d,s,e,r||n,inflateMultiCoordinatesArray]);break;case"Polygon":case"MultiLineString":a=[],o="Polygon"==u?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),l=this.drawCustomCoordinates_(o,0,e.getEnds(),c,a),this.instructions.push([Instruction.CUSTOM,d,a,e,n,inflateCoordinatesArray]),this.hitDetectionInstructions.push([Instruction.CUSTOM,d,a,e,r||n,inflateCoordinatesArray]);break;case"LineString":case"Circle":o=e.getFlatCoordinates(),i=this.appendFlatLineCoordinates(o,0,o.length,c,!1,!1),this.instructions.push([Instruction.CUSTOM,d,i,e,n,inflateCoordinates]),this.hitDetectionInstructions.push([Instruction.CUSTOM,d,i,e,r||n,inflateCoordinates]);break;case"MultiPoint":o=e.getFlatCoordinates(),(i=this.appendFlatPointCoordinates(o,c))>d&&(this.instructions.push([Instruction.CUSTOM,d,i,e,n,inflateCoordinates]),this.hitDetectionInstructions.push([Instruction.CUSTOM,d,i,e,r||n,inflateCoordinates]));break;case"Point":o=e.getFlatCoordinates(),this.coordinates.push(o[0],o[1]),i=this.coordinates.length,this.instructions.push([Instruction.CUSTOM,d,i,e,n]),this.hitDetectionInstructions.push([Instruction.CUSTOM,d,i,e,r||n])}this.endGeometry(t)},t.prototype.beginGeometry=function(e,t){this.beginGeometryInstruction1_=[Instruction.BEGIN_GEOMETRY,t,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Instruction.BEGIN_GEOMETRY,t,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},t.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},t.prototype.reverseHitDetectionInstructions=function(){var e,t=this.hitDetectionInstructions;t.reverse();var n,r,o=t.length,i=-1;for(e=0;e<o;++e)(r=(n=t[e])[0])==Instruction.END_GEOMETRY?i=e:r==Instruction.BEGIN_GEOMETRY&&(n[2]=e,reverseSubArray(this.hitDetectionInstructions,i,e),i=-1)},t.prototype.setFillStrokeStyle=function(e,t){var n=this.state;if(e){var r=e.getColor();n.fillStyle=asColorLike(r||defaultFillStyle)}else n.fillStyle=void 0;if(t){var o=t.getColor();n.strokeStyle=asColorLike(o||defaultStrokeStyle);var i=t.getLineCap();n.lineCap=void 0!==i?i:defaultLineCap;var a=t.getLineDash();n.lineDash=a?a.slice():defaultLineDash;var s=t.getLineDashOffset();n.lineDashOffset=s||defaultLineDashOffset;var l=t.getLineJoin();n.lineJoin=void 0!==l?l:defaultLineJoin;var u=t.getWidth();n.lineWidth=void 0!==u?u:defaultLineWidth;var c=t.getMiterLimit();n.miterLimit=void 0!==c?c:defaultMiterLimit,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},t.prototype.createFill=function(e){var t=e.fillStyle,n=[Instruction.SET_FILL_STYLE,t];return"string"!=typeof t&&n.push(!0),n},t.prototype.applyStroke=function(e){this.instructions.push(this.createStroke(e))},t.prototype.createStroke=function(e){return[Instruction.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]},t.prototype.updateFillStyle=function(e,t){var n=e.fillStyle;"string"==typeof n&&e.currentFillStyle==n||(void 0!==n&&this.instructions.push(t.call(this,e)),e.currentFillStyle=n)},t.prototype.updateStrokeStyle=function(e,t){var n=e.strokeStyle,r=e.lineCap,o=e.lineDash,i=e.lineDashOffset,a=e.lineJoin,s=e.lineWidth,l=e.miterLimit;(e.currentStrokeStyle!=n||e.currentLineCap!=r||o!=e.currentLineDash&&!equals$2(e.currentLineDash,o)||e.currentLineDashOffset!=i||e.currentLineJoin!=a||e.currentLineWidth!=s||e.currentMiterLimit!=l)&&(void 0!==n&&t.call(this,e),e.currentStrokeStyle=n,e.currentLineCap=r,e.currentLineDash=o,e.currentLineDashOffset=i,e.currentLineJoin=a,e.currentLineWidth=s,e.currentMiterLimit=l)},t.prototype.endGeometry=function(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var t=[Instruction.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)},t.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=clone$1(this.maxExtent),this.maxLineWidth>0)){var e=this.resolution*(this.maxLineWidth+1)/2;buffer(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},t}(VectorContext$1);const Builder=CanvasBuilder;var __extends$1t=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),CanvasImageBuilder=function(e){function t(t,n,r,o){var i=e.call(this,t,n,r,o)||this;return i.hitDetectionImage_=null,i.image_=null,i.imagePixelRatio_=void 0,i.anchorX_=void 0,i.anchorY_=void 0,i.height_=void 0,i.opacity_=void 0,i.originX_=void 0,i.originY_=void 0,i.rotateWithView_=void 0,i.rotation_=void 0,i.scale_=void 0,i.width_=void 0,i.declutterMode_=void 0,i.declutterImageWithText_=void 0,i}return __extends$1t(t,e),t.prototype.drawPoint=function(e,t){if(this.image_){this.beginGeometry(e,t);var n=e.getFlatCoordinates(),r=e.getStride(),o=this.coordinates.length,i=this.appendFlatPointCoordinates(n,r);this.instructions.push([Instruction.DRAW_IMAGE,o,i,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Instruction.DRAW_IMAGE,o,i,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}},t.prototype.drawMultiPoint=function(e,t){if(this.image_){this.beginGeometry(e,t);var n=e.getFlatCoordinates(),r=e.getStride(),o=this.coordinates.length,i=this.appendFlatPointCoordinates(n,r);this.instructions.push([Instruction.DRAW_IMAGE,o,i,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Instruction.DRAW_IMAGE,o,i,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}},t.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,e.prototype.finish.call(this)},t.prototype.setImageStyle=function(e,t){var n=e.getAnchor(),r=e.getSize(),o=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=e.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=r[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t},t}(Builder);const ImageBuilder=CanvasImageBuilder;var __extends$1s=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),CanvasLineStringBuilder=function(e){function t(t,n,r,o){return e.call(this,t,n,r,o)||this}return __extends$1s(t,e),t.prototype.drawFlatCoordinates_=function(e,t,n,r){var o=this.coordinates.length,i=this.appendFlatLineCoordinates(e,t,n,r,!1,!1),a=[Instruction.MOVE_TO_LINE_TO,o,i];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n},t.prototype.drawLineString=function(e,t){var n=this.state,r=n.strokeStyle,o=n.lineWidth;if(void 0!==r&&void 0!==o){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([Instruction.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,defaultLineDash,defaultLineDashOffset],beginPathInstruction);var i=e.getFlatCoordinates(),a=e.getStride();this.drawFlatCoordinates_(i,0,i.length,a),this.hitDetectionInstructions.push(strokeInstruction),this.endGeometry(t)}},t.prototype.drawMultiLineString=function(e,t){var n=this.state,r=n.strokeStyle,o=n.lineWidth;if(void 0!==r&&void 0!==o){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([Instruction.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],beginPathInstruction);for(var i=e.getEnds(),a=e.getFlatCoordinates(),s=e.getStride(),l=0,u=0,c=i.length;u<c;++u)l=this.drawFlatCoordinates_(a,l,i[u],s);this.hitDetectionInstructions.push(strokeInstruction),this.endGeometry(t)}},t.prototype.finish=function(){var t=this.state;return null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(strokeInstruction),this.reverseHitDetectionInstructions(),this.state=null,e.prototype.finish.call(this)},t.prototype.applyStroke=function(t){null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(strokeInstruction),t.lastStroke=this.coordinates.length),t.lastStroke=0,e.prototype.applyStroke.call(this,t),this.instructions.push(beginPathInstruction)},t}(Builder);const LineStringBuilder=CanvasLineStringBuilder;var __extends$1r=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),CanvasPolygonBuilder=function(e){function t(t,n,r,o){return e.call(this,t,n,r,o)||this}return __extends$1r(t,e),t.prototype.drawFlatCoordinatess_=function(e,t,n,r){var o=this.state,i=void 0!==o.fillStyle,a=void 0!==o.strokeStyle,s=n.length;this.instructions.push(beginPathInstruction),this.hitDetectionInstructions.push(beginPathInstruction);for(var l=0;l<s;++l){var u=n[l],c=this.coordinates.length,d=this.appendFlatLineCoordinates(e,t,u,r,!0,!a),h=[Instruction.MOVE_TO_LINE_TO,c,d];this.instructions.push(h),this.hitDetectionInstructions.push(h),a&&(this.instructions.push(closePathInstruction),this.hitDetectionInstructions.push(closePathInstruction)),t=u}return i&&(this.instructions.push(fillInstruction),this.hitDetectionInstructions.push(fillInstruction)),a&&(this.instructions.push(strokeInstruction),this.hitDetectionInstructions.push(strokeInstruction)),t},t.prototype.drawCircle=function(e,t){var n=this.state,r=n.fillStyle,o=n.strokeStyle;if(void 0!==r||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Instruction.SET_FILL_STYLE,defaultFillStyle]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Instruction.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var i=e.getFlatCoordinates(),a=e.getStride(),s=this.coordinates.length;this.appendFlatLineCoordinates(i,0,i.length,a,!1,!1);var l=[Instruction.CIRCLE,s];this.instructions.push(beginPathInstruction,l),this.hitDetectionInstructions.push(beginPathInstruction,l),void 0!==n.fillStyle&&(this.instructions.push(fillInstruction),this.hitDetectionInstructions.push(fillInstruction)),void 0!==n.strokeStyle&&(this.instructions.push(strokeInstruction),this.hitDetectionInstructions.push(strokeInstruction)),this.endGeometry(t)}},t.prototype.drawPolygon=function(e,t){var n=this.state,r=n.fillStyle,o=n.strokeStyle;if(void 0!==r||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Instruction.SET_FILL_STYLE,defaultFillStyle]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Instruction.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var i=e.getEnds(),a=e.getOrientedFlatCoordinates(),s=e.getStride();this.drawFlatCoordinatess_(a,0,i,s),this.endGeometry(t)}},t.prototype.drawMultiPolygon=function(e,t){var n=this.state,r=n.fillStyle,o=n.strokeStyle;if(void 0!==r||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Instruction.SET_FILL_STYLE,defaultFillStyle]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Instruction.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var i=e.getEndss(),a=e.getOrientedFlatCoordinates(),s=e.getStride(),l=0,u=0,c=i.length;u<c;++u)l=this.drawFlatCoordinatess_(a,l,i[u],s);this.endGeometry(t)}},t.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var n=this.coordinates,r=0,o=n.length;r<o;++r)n[r]=snap(n[r],t);return e.prototype.finish.call(this)},t.prototype.setFillStrokeStyles_=function(){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},t}(Builder);const PolygonBuilder=CanvasPolygonBuilder;function matchingChunk(e,t,n,r,o){var i,a,s,l,u,c,d,h,p,f=n,m=n,_=0,g=0,v=n;for(i=n;i<r;i+=o){var y=t[i],b=t[i+1];void 0!==l&&(h=y-l,p=b-u,s=Math.sqrt(h*h+p*p),void 0!==c&&(g+=a,Math.acos((c*h+d*p)/(a*s))>e&&(g>_&&(_=g,f=v,m=i),g=0,v=i-o)),a=s,c=h,d=p),l=y,u=b}return(g+=s)>_?[v,i]:[f,m]}var __extends$1q=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),TEXT_ALIGN={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},CanvasTextBuilder=function(e){function t(t,n,r,o){var i=e.call(this,t,n,r,o)||this;return i.labels_=null,i.text_="",i.textOffsetX_=0,i.textOffsetY_=0,i.textRotateWithView_=void 0,i.textRotation_=0,i.textFillState_=null,i.fillStates={},i.textStrokeState_=null,i.strokeStates={},i.textState_={},i.textStates={},i.textKey_="",i.fillKey_="",i.strokeKey_="",i.declutterImageWithText_=void 0,i}return __extends$1q(t,e),t.prototype.finish=function(){var t=e.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},t.prototype.drawText=function(e,t){var n=this.textFillState_,r=this.textStrokeState_,o=this.textState_;if(""!==this.text_&&o&&(n||r)){var i=this.coordinates,a=i.length,s=e.getType(),l=null,u=e.getStride();if(o.placement!==TextPlacement.LINE||"LineString"!=s&&"MultiLineString"!=s&&"Polygon"!=s&&"MultiPolygon"!=s){var c=o.overflow?null:[];switch(s){case"Point":case"MultiPoint":l=e.getFlatCoordinates();break;case"LineString":l=e.getFlatMidpoint();break;case"Circle":l=e.getCenter();break;case"MultiLineString":l=e.getFlatMidpoints(),u=2;break;case"Polygon":l=e.getFlatInteriorPoint(),o.overflow||c.push(l[2]/this.resolution),u=3;break;case"MultiPolygon":var d=e.getFlatInteriorPoints();l=[];for(C=0,x=d.length;C<x;C+=3)o.overflow||c.push(d[C+2]/this.resolution),l.push(d[C],d[C+1]);if(0===l.length)return;u=2}if((M=this.appendFlatPointCoordinates(l,u))===a)return;if(c&&(M-a)/2!=l.length/u){var h=a/2;c=c.filter((function(e,t){var n=i[2*(h+t)]===l[t*u]&&i[2*(h+t)+1]===l[t*u+1];return n||--h,n}))}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t);var p=o.padding;if(p!=defaultPadding&&(o.scale[0]<0||o.scale[1]<0)){var f=o.padding[0],m=o.padding[1],_=o.padding[2],g=o.padding[3];o.scale[0]<0&&(m=-m,g=-g),o.scale[1]<0&&(f=-f,_=-_),p=[f,m,_,g]}var v=this.pixelRatio;this.instructions.push([Instruction.DRAW_IMAGE,a,M,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,p==defaultPadding?defaultPadding:p.map((function(e){return e*v})),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]);var y=1/v;this.hitDetectionInstructions.push([Instruction.DRAW_IMAGE,a,M,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[y,y],NaN,void 0,this.declutterImageWithText_,p,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]),this.endGeometry(t)}else{if(!intersects$1(this.getBufferedMaxExtent(),e.getExtent()))return;var b=void 0;if(l=e.getFlatCoordinates(),"LineString"==s)b=[l.length];else if("MultiLineString"==s)b=e.getEnds();else if("Polygon"==s)b=e.getEnds().slice(0,1);else if("MultiPolygon"==s){var E=e.getEndss();b=[];for(var C=0,x=E.length;C<x;++C)b.push(E[C][0])}this.beginGeometry(e,t);for(var w=o.textAlign,S=0,T=void 0,k=0,L=b.length;k<L;++k){if(null==w){var P=matchingChunk(o.maxAngle,l,S,b[k],u);S=P[0],T=P[1]}else T=b[k];for(var C=S;C<T;C+=u)i.push(l[C],l[C+1]);var M=i.length;S=b[k],this.drawChars_(a,M),a=M}this.endGeometry(t)}}},t.prototype.saveTextStates_=function(){var e=this.textStrokeState_,t=this.textState_,n=this.textFillState_,r=this.strokeKey_;e&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));var o=this.textKey_;o in this.textStates||(this.textStates[o]={font:t.font,textAlign:t.textAlign||defaultTextAlign,justify:t.justify,textBaseline:t.textBaseline||defaultTextBaseline,scale:t.scale});var i=this.fillKey_;n&&(i in this.fillStates||(this.fillStates[i]={fillStyle:n.fillStyle}))},t.prototype.drawChars_=function(e,t){var n=this.textStrokeState_,r=this.textState_,o=this.strokeKey_,i=this.textKey_,a=this.fillKey_;this.saveTextStates_();var s=this.pixelRatio,l=TEXT_ALIGN[r.textBaseline],u=this.textOffsetY_*s,c=this.text_,d=n?n.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([Instruction.DRAW_CHARS,e,t,l,r.overflow,a,r.maxAngle,s,u,o,d*s,c,i,1]),this.hitDetectionInstructions.push([Instruction.DRAW_CHARS,e,t,l,r.overflow,a,r.maxAngle,1,u,o,d,c,i,1/s])},t.prototype.setTextStyle=function(e,t){var n,r,o;if(e){var i=e.getFill();i?((r=this.textFillState_)||(r={},this.textFillState_=r),r.fillStyle=asColorLike(i.getColor()||defaultFillStyle)):(r=null,this.textFillState_=r);var a=e.getStroke();if(a){(o=this.textStrokeState_)||(o={},this.textStrokeState_=o);var s=a.getLineDash(),l=a.getLineDashOffset(),u=a.getWidth(),c=a.getMiterLimit();o.lineCap=a.getLineCap()||defaultLineCap,o.lineDash=s?s.slice():defaultLineDash,o.lineDashOffset=void 0===l?defaultLineDashOffset:l,o.lineJoin=a.getLineJoin()||defaultLineJoin,o.lineWidth=void 0===u?defaultLineWidth:u,o.miterLimit=void 0===c?defaultMiterLimit:c,o.strokeStyle=asColorLike(a.getColor()||defaultStrokeStyle)}else o=null,this.textStrokeState_=o;n=this.textState_;var d=e.getFont()||defaultFont;registerFont(d);var h=e.getScaleArray();n.overflow=e.getOverflow(),n.font=d,n.maxAngle=e.getMaxAngle(),n.placement=e.getPlacement(),n.textAlign=e.getTextAlign(),n.justify=e.getJustify(),n.textBaseline=e.getTextBaseline()||defaultTextBaseline,n.backgroundFill=e.getBackgroundFill(),n.backgroundStroke=e.getBackgroundStroke(),n.padding=e.getPadding()||defaultPadding,n.scale=void 0===h?[1,1]:h;var p=e.getOffsetX(),f=e.getOffsetY(),m=e.getRotateWithView(),_=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===p?0:p,this.textOffsetY_=void 0===f?0:f,this.textRotateWithView_=void 0!==m&&m,this.textRotation_=void 0===_?0:_,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:getUid(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+getUid(r.fillStyle):""}else this.text_="";this.declutterImageWithText_=t},t}(Builder),BATCH_CONSTRUCTORS={Circle:PolygonBuilder,Default:Builder,Image:ImageBuilder,LineString:LineStringBuilder,Polygon:PolygonBuilder,Text:CanvasTextBuilder},BuilderGroup=function(){function e(e,t,n,r){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=r,this.resolution_=n,this.buildersByZIndex_={}}return e.prototype.finish=function(){var e={};for(var t in this.buildersByZIndex_){e[t]=e[t]||{};var n=this.buildersByZIndex_[t];for(var r in n){var o=n[r].finish();e[t][r]=o}}return e},e.prototype.getBuilder=function(e,t){var n=void 0!==e?e.toString():"0",r=this.buildersByZIndex_[n];void 0===r&&(r={},this.buildersByZIndex_[n]=r);var o=r[t];void 0===o&&(o=new(0,BATCH_CONSTRUCTORS[t])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[t]=o);return o},e}(),__extends$1p=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),LayerRenderer=function(e){function t(t){var n=e.call(this)||this;return n.ready=!0,n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=t,n.declutterExecutorGroup=null,n}return __extends$1p(t,e),t.prototype.getFeatures=function(e){return abstract()},t.prototype.getData=function(e){return null},t.prototype.prepareFrame=function(e){return abstract()},t.prototype.renderFrame=function(e,t){return abstract()},t.prototype.loadedTileCallback=function(e,t,n){e[t]||(e[t]={}),e[t][n.tileCoord.toString()]=n},t.prototype.createLoadedTileFinder=function(e,t,n){return function(r,o){var i=this.loadedTileCallback.bind(this,n,r);return e.forEachLoadedTile(t,r,o,i)}.bind(this)},t.prototype.forEachFeatureAtCoordinate=function(e,t,n,r,o){},t.prototype.getDataAtPixel=function(e,t,n){return null},t.prototype.getLayer=function(){return this.layer_},t.prototype.handleFontsChanged=function(){},t.prototype.handleImageChange_=function(e){e.target.getState()===ImageState.LOADED&&this.renderIfReadyAndVisible()},t.prototype.loadImage=function(e){var t=e.getState();return t!=ImageState.LOADED&&t!=ImageState.ERROR&&e.addEventListener(EventType.CHANGE,this.boundHandleImageChange_),t==ImageState.IDLE&&(e.load(),t=e.getState()),t==ImageState.LOADED},t.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e&&e.getVisible()&&"ready"===e.getSourceState()&&e.changed()},t.prototype.disposeInternal=function(){delete this.layer_,e.prototype.disposeInternal.call(this)},t}(Observable$1);const LayerRenderer$1=LayerRenderer;var __extends$1o=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),RenderEvent=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i.inversePixelTransform=n,i.frameState=r,i.context=o,i}return __extends$1o(t,e),t}(Event$1);const RenderEvent$1=RenderEvent;var __extends$1n=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),canvasPool$1=[],pixelContext$1=null;function createPixelContext$1(){var e=document.createElement("canvas");e.width=1,e.height=1,pixelContext$1=e.getContext("2d")}var CanvasLayerRenderer=function(e){function t(t){var n=e.call(this,t)||this;return n.container=null,n.renderedResolution,n.tempTransform=create$2(),n.pixelTransform=create$2(),n.inversePixelTransform=create$2(),n.context=null,n.containerReused=!1,n.pixelContext_=null,n.frameState=null,n}return __extends$1n(t,e),t.prototype.getImageData=function(e,t,n){var r;pixelContext$1||createPixelContext$1(),pixelContext$1.clearRect(0,0,1,1);try{pixelContext$1.drawImage(e,t,n,1,1,0,0,1,1),r=pixelContext$1.getImageData(0,0,1,1).data}catch(o){return pixelContext$1=null,null}return r},t.prototype.getBackground=function(e){var t=this.getLayer().getBackground();return"function"==typeof t&&(t=t(e.viewState.resolution)),t||void 0},t.prototype.useContainer=function(e,t,n){var r,o,i=this.getLayer().getClassName();e&&e.className===i&&(!n||e&&e.style.backgroundColor&&equals$2(asArray(e.style.backgroundColor),asArray(n)))&&((s=e.firstElementChild)instanceof HTMLCanvasElement&&(o=s.getContext("2d")));if(o&&o.canvas.style.transform===t?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(r=document.createElement("div")).className=i;var a=r.style;a.position="absolute",a.width="100%",a.height="100%";var s=(o=createCanvasContext2D()).canvas;r.appendChild(s),(a=s.style).position="absolute",a.left="0",a.transformOrigin="top left",this.container=r,this.context=o}this.containerReused||!n||this.container.style.backgroundColor||(this.container.style.backgroundColor=n)},t.prototype.clipUnrotated=function(e,t,n){var r=getTopLeft(n),o=getTopRight(n),i=getBottomRight(n),a=getBottomLeft(n);apply$1(t.coordinateToPixelTransform,r),apply$1(t.coordinateToPixelTransform,o),apply$1(t.coordinateToPixelTransform,i),apply$1(t.coordinateToPixelTransform,a);var s=this.inversePixelTransform;apply$1(s,r),apply$1(s,o),apply$1(s,i),apply$1(s,a),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()},t.prototype.dispatchRenderEvent_=function(e,t,n){var r=this.getLayer();if(r.hasListener(e)){var o=new RenderEvent$1(e,this.inversePixelTransform,n,t);r.dispatchEvent(o)}},t.prototype.preRender=function(e,t){this.frameState=t,this.dispatchRenderEvent_(RenderEventType.PRERENDER,e,t)},t.prototype.postRender=function(e,t){this.dispatchRenderEvent_(RenderEventType.POSTRENDER,e,t)},t.prototype.getRenderTransform=function(e,t,n,r,o,i,a){var s=o/2,l=i/2,u=r/t,c=-u,d=-e[0]+a,h=-e[1];return compose$1(this.tempTransform,s,l,u,c,-n,d,h)},t.prototype.getDataAtPixel=function(e,t,n){var r=apply$1(this.inversePixelTransform,e.slice()),o=this.context,i=this.getLayer().getExtent();if(i&&!containsCoordinate(i,apply$1(t.pixelToCoordinateTransform,e.slice())))return null;var a,s=Math.round(r[0]),l=Math.round(r[1]),u=this.pixelContext_;if(!u){var c=document.createElement("canvas");c.width=1,c.height=1,u=c.getContext("2d"),this.pixelContext_=u}u.clearRect(0,0,1,1);try{u.drawImage(o.canvas,s,l,1,1,0,0,1,1),a=u.getImageData(0,0,1,1).data}catch(d){return"SecurityError"===d.name?(this.pixelContext_=null,new Uint8Array):a}return 0===a[3]?null:a},t.prototype.disposeInternal=function(){delete this.frameState,e.prototype.disposeInternal.call(this)},t}(LayerRenderer$1);const CanvasLayerRenderer$1=CanvasLayerRenderer;function drawTextOnPath(e,t,n,r,o,i,a,s,l,u,c,d){var h=e[t],p=e[t+1],f=0,m=0,_=0,g=0;function v(){f=h,m=p,h=e[t+=r],p=e[t+1],g+=_,_=Math.sqrt((h-f)*(h-f)+(p-m)*(p-m))}do{v()}while(t<n-r&&g+_<i);for(var y=0===_?0:(i-g)/_,b=lerp(f,h,y),E=lerp(m,p,y),C=t-r,x=g,w=i+s*l(u,o,c);t<n-r&&g+_<w;)v();var S,T=lerp(f,h,y=0===_?0:(w-g)/_),k=lerp(m,p,y);if(d){var L=[b,E,T,k];rotate(L,0,4,2,d,L,L),S=L[0]>L[2]}else S=b>T;var P,M=Math.PI,O=[],N=C+r===t;if(_=0,g=x,h=e[t=C],p=e[t+1],N){v(),P=Math.atan2(p-m,h-f),S&&(P+=P>0?-M:M);var A=(T+b)/2,I=(k+E)/2;return O[0]=[A,I,(w-i)/2,P,o],O}for(var R=0,$=(o=o.replace(/\n/g," ")).length;R<$;){v();var B=Math.atan2(p-m,h-f);if(S&&(B+=B>0?-M:M),void 0!==P){var D=B-P;if(D+=D>M?-2*M:D<-M?2*M:0,Math.abs(D)>a)return null}P=B;for(var F=R,V=0;R<$;++R){var z=s*l(u,o[S?$-R-1:R],c);if(t+r<n&&g+_<i+V+z/2)break;V+=z}if(R!==F){var j=S?o.substring($-F,$-R):o.substring(F,R);A=lerp(f,h,y=0===_?0:(i+V/2-g)/_),I=lerp(m,p,y);O.push([A,I,V/2,B,j]),i+=V}}return O}var tmpExtent=createEmpty(),p1=[],p2=[],p3=[],p4=[];function getDeclutterBox(e){return e[3].declutterBox}var rtlRegEx=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function horizontalTextAlign(e,t){return"start"!==t&&"end"!==t||rtlRegEx.test(e)||(t="start"===t?"left":"right"),TEXT_ALIGN[t]}function createTextChunks(e,t,n){return n>0&&e.push("\n",""),e.push(t,""),e}var Executor=function(){function e(e,t,n,r){this.overlaps=n,this.pixelRatio=t,this.resolution=e,this.alignFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=create$2(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={}}return e.prototype.createLabel=function(e,t,n,r){var o=e+t+n+r;if(this.labels_[o])return this.labels_[o];var i=r?this.strokeStates[r]:null,a=n?this.fillStates[n]:null,s=this.textStates[t],l=this.pixelRatio,u=[s.scale[0]*l,s.scale[1]*l],c=Array.isArray(e),d=s.justify?TEXT_ALIGN[s.justify]:horizontalTextAlign(Array.isArray(e)?e[0]:e,s.textAlign||defaultTextAlign),h=r&&i.lineWidth?i.lineWidth:0,p=c?e:e.split("\n").reduce(createTextChunks,[]),f=getTextDimensions(s,p),m=f.width,_=f.height,g=f.widths,v=f.heights,y=f.lineWidths,b=m+h,E=[],C=(b+2)*u[0],x=(_+h)*u[1],w={width:C<0?Math.floor(C):Math.ceil(C),height:x<0?Math.floor(x):Math.ceil(x),contextInstructions:E};(1==u[0]&&1==u[1]||E.push("scale",u),r)&&(E.push("strokeStyle",i.strokeStyle),E.push("lineWidth",h),E.push("lineCap",i.lineCap),E.push("lineJoin",i.lineJoin),E.push("miterLimit",i.miterLimit),(WORKER_OFFSCREEN_CANVAS?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(E.push("setLineDash",[i.lineDash]),E.push("lineDashOffset",i.lineDashOffset)));n&&E.push("fillStyle",a.fillStyle),E.push("textBaseline","middle"),E.push("textAlign","center");for(var S,T=.5-d,k=d*b+T*h,L=[],P=[],M=0,O=0,N=0,A=0,I=0,R=p.length;I<R;I+=2){var $=p[I];if("\n"!==$){var B=p[I+1]||s.font;B!==S&&(r&&L.push("font",B),n&&P.push("font",B),S=B),M=Math.max(M,v[N]);var D=[$,k+T*g[N]+d*(g[N]-y[A]),.5*(h+M)+O];k+=g[N],r&&L.push("strokeText",D),n&&P.push("fillText",D),++N}else O+=M,M=0,k=d*b+T*h,++A}return Array.prototype.push.apply(E,L),Array.prototype.push.apply(E,P),this.labels_[o]=w,w},e.prototype.replayTextBackground_=function(e,t,n,r,o,i,a){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,n),e.lineTo.apply(e,r),e.lineTo.apply(e,o),e.lineTo.apply(e,t),i&&(this.alignFill_=i[2],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())},e.prototype.calculateImageOrLabelDimensions_=function(e,t,n,r,o,i,a,s,l,u,c,d,h,p,f,m){var _,g=n-(a*=d[0]),v=r-(s*=d[1]),y=o+l>e?e-l:o,b=i+u>t?t-u:i,E=p[3]+y*d[0]+p[1],C=p[0]+b*d[1]+p[2],x=g-p[3],w=v-p[0];return(f||0!==c)&&(p1[0]=x,p4[0]=x,p1[1]=w,p2[1]=w,p2[0]=x+E,p3[0]=p2[0],p3[1]=w+C,p4[1]=p3[1]),0!==c?(apply$1(_=compose$1(create$2(),n,r,1,1,c,-n,-r),p1),apply$1(_,p2),apply$1(_,p3),apply$1(_,p4),createOrUpdate$2(Math.min(p1[0],p2[0],p3[0],p4[0]),Math.min(p1[1],p2[1],p3[1],p4[1]),Math.max(p1[0],p2[0],p3[0],p4[0]),Math.max(p1[1],p2[1],p3[1],p4[1]),tmpExtent)):createOrUpdate$2(Math.min(x,x+E),Math.min(w,w+C),Math.max(x,x+E),Math.max(w,w+C),tmpExtent),h&&(g=Math.round(g),v=Math.round(v)),{drawImageX:g,drawImageY:v,drawImageW:y,drawImageH:b,originX:l,originY:u,declutterBox:{minX:tmpExtent[0],minY:tmpExtent[1],maxX:tmpExtent[2],maxY:tmpExtent[3],value:m},canvasTransform:_,scale:d}},e.prototype.replayImageOrLabel_=function(e,t,n,r,o,i,a){var s=!(!i&&!a),l=r.declutterBox,u=e.canvas,c=a?a[2]*r.scale[0]/2:0;return l.minX-c<=u.width/t&&l.maxX+c>=0&&l.minY-c<=u.height/t&&l.maxY+c>=0&&(s&&this.replayTextBackground_(e,p1,p2,p3,p4,i,a),drawImageOrLabel(e,r.canvasTransform,o,n,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0},e.prototype.fill_=function(e){if(this.alignFill_){var t=apply$1(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;e.save(),e.translate(t[0]%n,t[1]%n),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()},e.prototype.setStrokeStyle_=function(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.setLineDash&&(e.lineDashOffset=t[7],e.setLineDash(t[6]))},e.prototype.drawLabelWithPointPlacement_=function(e,t,n,r){var o=this.textStates[t],i=this.createLabel(e,t,r,n),a=this.strokeStates[n],s=this.pixelRatio,l=horizontalTextAlign(Array.isArray(e)?e[0]:e,o.textAlign||defaultTextAlign),u=TEXT_ALIGN[o.textBaseline||defaultTextBaseline],c=a&&a.lineWidth?a.lineWidth:0;return{label:i,anchorX:l*(i.width/s-2*o.scale[0])+2*(.5-l)*c,anchorY:u*i.height/s+2*(.5-u)*c}},e.prototype.execute_=function(e,t,n,r,o,i,a,s){var l;this.pixelCoordinates_&&equals$2(n,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=transform2D(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),setFromArray(this.renderedTransform_,n));for(var u,c,d,h,p,f,m,_,g,v,y,b,E,C,x,w,S=0,T=r.length,k=0,L=0,P=0,M=null,O=null,N=this.coordinateCache_,A=this.viewRotation_,I=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,R={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:A},$=this.instructions!=r||this.overlaps?0:200;S<T;){var B=r[S];switch(B[0]){case Instruction.BEGIN_GEOMETRY:E=B[1],w=B[3],E.getGeometry()?void 0===a||intersects$1(a,w.getExtent())?++S:S=B[2]+1:S=B[2];break;case Instruction.BEGIN_PATH:L>$&&(this.fill_(e),L=0),P>$&&(e.stroke(),P=0),L||P||(e.beginPath(),h=NaN,p=NaN),++S;break;case Instruction.CIRCLE:var D=l[k=B[1]],F=l[k+1],V=l[k+2]-D,z=l[k+3]-F,j=Math.sqrt(V*V+z*z);e.moveTo(D+j,F),e.arc(D,F,j,0,2*Math.PI,!0),++S;break;case Instruction.CLOSE_PATH:e.closePath(),++S;break;case Instruction.CUSTOM:k=B[1],u=B[2];var U=B[3],G=B[4],H=6==B.length?B[5]:void 0;R.geometry=U,R.feature=E,S in N||(N[S]=[]);var K=N[S];H?H(l,k,u,2,K):(K[0]=l[k],K[1]=l[k+1],K.length=2),G(K,R),++S;break;case Instruction.DRAW_IMAGE:k=B[1],u=B[2],_=B[3],c=B[4],d=B[5];var W=B[6],Y=B[7],q=B[8],Z=B[9],X=B[10],J=B[11],Q=B[12],ee=B[13],te=B[14],ne=B[15];if(!_&&B.length>=20){g=B[19],v=B[20],y=B[21],b=B[22];var re=this.drawLabelWithPointPlacement_(g,v,y,b);_=re.label,B[3]=_;var oe=B[23];c=(re.anchorX-oe)*this.pixelRatio,B[4]=c;var ie=B[24];d=(re.anchorY-ie)*this.pixelRatio,B[5]=d,W=_.height,B[6]=W,ee=_.width,B[13]=ee}var ae=void 0;B.length>25&&(ae=B[25]);var se=void 0,le=void 0,ue=void 0;B.length>17?(se=B[16],le=B[17],ue=B[18]):(se=defaultPadding,le=!1,ue=!1),X&&I?J+=A:X||I||(J-=A);for(var ce=0;k<u;k+=2)if(!(ae&&ae[ce++]<ee/this.pixelRatio)){var de=[e,t,_,De=this.calculateImageOrLabelDimensions_(_.width,_.height,l[k],l[k+1],ee,W,c,d,q,Z,J,Q,o,se,le||ue,E),Y,le?M:null,ue?O:null];if(s){if("none"===te)continue;if("obstacle"===te){s.insert(De.declutterBox);continue}var he=void 0,pe=void 0;if(ne){var fe=u-k;if(!ne[fe]){ne[fe]=de;continue}if(he=ne[fe],delete ne[fe],pe=getDeclutterBox(he),s.collides(pe))continue}if(s.collides(De.declutterBox))continue;he&&(s.insert(pe),this.replayImageOrLabel_.apply(this,he)),s.insert(De.declutterBox)}this.replayImageOrLabel_.apply(this,de)}++S;break;case Instruction.DRAW_CHARS:var me=B[1],_e=B[2],ge=B[3],ve=B[4];b=B[5];var ye=B[6],be=B[7],Ee=B[8];y=B[9];var Ce=B[10];g=B[11],v=B[12];var xe=[B[13],B[13]],we=this.textStates[v],Se=we.font,Te=[we.scale[0]*be,we.scale[1]*be],ke=void 0;Se in this.widths_?ke=this.widths_[Se]:(ke={},this.widths_[Se]=ke);var Le=lineStringLength(l,me,_e,2),Pe=Math.abs(Te[0])*measureAndCacheTextWidth(Se,g,ke);if(ve||Pe<=Le){var Me=this.textStates[v].textAlign,Oe=drawTextOnPath(l,me,_e,2,g,(Le-Pe)*TEXT_ALIGN[Me],ye,Math.abs(Te[0]),measureAndCacheTextWidth,Se,ke,I?0:this.viewRotation_);e:if(Oe){var Ne=[],Ae=void 0,Ie=void 0,Re=void 0,$e=void 0,Be=void 0;if(y)for(Ae=0,Ie=Oe.length;Ae<Ie;++Ae){Re=(Be=Oe[Ae])[4],$e=this.createLabel(Re,v,"",y),c=Be[2]+(Te[0]<0?-Ce:Ce),d=ge*$e.height+2*(.5-ge)*Ce*Te[1]/Te[0]-Ee;var De=this.calculateImageOrLabelDimensions_($e.width,$e.height,Be[0],Be[1],$e.width,$e.height,c,d,0,0,Be[3],xe,!1,defaultPadding,!1,E);if(s&&s.collides(De.declutterBox))break e;Ne.push([e,t,$e,De,1,null,null])}if(b)for(Ae=0,Ie=Oe.length;Ae<Ie;++Ae){Re=(Be=Oe[Ae])[4],$e=this.createLabel(Re,v,b,""),c=Be[2],d=ge*$e.height-Ee;De=this.calculateImageOrLabelDimensions_($e.width,$e.height,Be[0],Be[1],$e.width,$e.height,c,d,0,0,Be[3],xe,!1,defaultPadding,!1,E);if(s&&s.collides(De.declutterBox))break e;Ne.push([e,t,$e,De,1,null,null])}s&&s.load(Ne.map(getDeclutterBox));for(var Fe=0,Ve=Ne.length;Fe<Ve;++Fe)this.replayImageOrLabel_.apply(this,Ne[Fe])}}++S;break;case Instruction.END_GEOMETRY:if(void 0!==i){var ze=i(E=B[1],w);if(ze)return ze}++S;break;case Instruction.FILL:$?L++:this.fill_(e),++S;break;case Instruction.MOVE_TO_LINE_TO:for(k=B[1],u=B[2],C=l[k],m=(x=l[k+1])+.5|0,(f=C+.5|0)===h&&m===p||(e.moveTo(C,x),h=f,p=m),k+=2;k<u;k+=2)f=(C=l[k])+.5|0,m=(x=l[k+1])+.5|0,k!=u-2&&f===h&&m===p||(e.lineTo(C,x),h=f,p=m);++S;break;case Instruction.SET_FILL_STYLE:M=B,this.alignFill_=B[2],L&&(this.fill_(e),L=0,P&&(e.stroke(),P=0)),e.fillStyle=B[1],++S;break;case Instruction.SET_STROKE_STYLE:O=B,P&&(e.stroke(),P=0),this.setStrokeStyle_(e,B),++S;break;case Instruction.STROKE:$?P++:e.stroke(),++S;break;default:++S}}L&&this.fill_(e),P&&e.stroke()},e.prototype.execute=function(e,t,n,r,o,i){this.viewRotation_=r,this.execute_(e,t,n,this.instructions,o,void 0,void 0,i)},e.prototype.executeHitDetection=function(e,t,n,r,o){return this.viewRotation_=n,this.execute_(e,1,t,this.hitDetectionInstructions,!0,r,o)},e}();const Executor$1=Executor;var ORDER=["Polygon","Circle","LineString","Image","Text","Default"],ExecutorGroup=function(){function e(e,t,n,r,o,i){this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=n,this.resolution_=t,this.renderBuffer_=i,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=create$2(),this.createExecutors_(o)}return e.prototype.clip=function(e,t){var n=this.getClipCoords(t);e.beginPath(),e.moveTo(n[0],n[1]),e.lineTo(n[2],n[3]),e.lineTo(n[4],n[5]),e.lineTo(n[6],n[7]),e.clip()},e.prototype.createExecutors_=function(e){for(var t in e){var n=this.executorsByZIndex_[t];void 0===n&&(n={},this.executorsByZIndex_[t]=n);var r=e[t];for(var o in r){var i=r[o];n[o]=new Executor$1(this.resolution_,this.pixelRatio_,this.overlaps_,i)}}},e.prototype.hasExecutors=function(e){for(var t in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[t],r=0,o=e.length;r<o;++r)if(e[r]in n)return!0;return!1},e.prototype.forEachFeatureAtCoordinate=function(e,t,n,r,o,i){var a=2*(r=Math.round(r))+1,s=compose$1(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-n,-e[0],-e[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=createCanvasContext2D(a,a));var u,c=this.hitDetectionContext_;c.canvas.width!==a||c.canvas.height!==a?(c.canvas.width=a,c.canvas.height=a):l||c.clearRect(0,0,a,a),void 0!==this.renderBuffer_&&(extendCoordinate(u=createEmpty(),e),buffer(u,t*(this.renderBuffer_+r),u));var d,h=getPixelIndexArray(r);function p(e,t){for(var n=c.getImageData(0,0,a,a).data,s=0,l=h.length;s<l;s++)if(n[h[s]]>0){if(!i||"Image"!==d&&"Text"!==d||-1!==i.indexOf(e)){var u=(h[s]-3)/4,p=r-u%a,f=r-(u/a|0),m=o(e,t,p*p+f*f);if(m)return m}c.clearRect(0,0,a,a);break}}var f,m,_,g,v,y=Object.keys(this.executorsByZIndex_).map(Number);for(y.sort(numberSafeCompareFunction),f=y.length-1;f>=0;--f){var b=y[f].toString();for(_=this.executorsByZIndex_[b],m=ORDER.length-1;m>=0;--m)if(void 0!==(g=_[d=ORDER[m]])&&(v=g.executeHitDetection(c,s,n,p,u)))return v}},e.prototype.getClipCoords=function(e){var t=this.maxExtent_;if(!t)return null;var n=t[0],r=t[1],o=t[2],i=t[3],a=[n,r,n,i,o,i,o,r];return transform2D(a,0,8,2,e,a),a},e.prototype.isEmpty=function(){return isEmpty$2(this.executorsByZIndex_)},e.prototype.execute=function(e,t,n,r,o,i,a){var s=Object.keys(this.executorsByZIndex_).map(Number);s.sort(numberSafeCompareFunction),this.maxExtent_&&(e.save(),this.clip(e,n));var l,u,c,d,h,p,f=i||ORDER;for(a&&s.reverse(),l=0,u=s.length;l<u;++l){var m=s[l].toString();for(h=this.executorsByZIndex_[m],c=0,d=f.length;c<d;++c){void 0!==(p=h[f[c]])&&p.execute(e,t,n,r,o,a)}}this.maxExtent_&&e.restore()},e}(),circlePixelIndexArrayCache={};function getPixelIndexArray(e){if(void 0!==circlePixelIndexArrayCache[e])return circlePixelIndexArrayCache[e];for(var t=2*e+1,n=e*e,r=new Array(n+1),o=0;o<=e;++o)for(var i=0;i<=e;++i){var a=o*o+i*i;if(a>n)break;var s=r[a];s||(s=[],r[a]=s),s.push(4*((e+o)*t+(e+i))+3),o>0&&s.push(4*((e-o)*t+(e+i))+3),i>0&&(s.push(4*((e+o)*t+(e-i))+3),o>0&&s.push(4*((e-o)*t+(e-i))+3))}for(var l=[],u=(o=0,r.length);o<u;++o)r[o]&&l.push.apply(l,r[o]);return circlePixelIndexArrayCache[e]=l,l}const CanvasExecutorGroup=ExecutorGroup,ViewHint={ANIMATING:0,INTERACTING:1};var __extends$1m=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),CanvasImmediateRenderer=function(e){function t(t,n,r,o,i,a,s){var l=e.call(this)||this;return l.context_=t,l.pixelRatio_=n,l.extent_=r,l.transform_=o,l.viewRotation_=i,l.squaredTolerance_=a,l.userTransform_=s,l.contextFillState_=null,l.contextStrokeState_=null,l.contextTextState_=null,l.fillState_=null,l.strokeState_=null,l.image_=null,l.imageAnchorX_=0,l.imageAnchorY_=0,l.imageHeight_=0,l.imageOpacity_=0,l.imageOriginX_=0,l.imageOriginY_=0,l.imageRotateWithView_=!1,l.imageRotation_=0,l.imageScale_=[0,0],l.imageWidth_=0,l.text_="",l.textOffsetX_=0,l.textOffsetY_=0,l.textRotateWithView_=!1,l.textRotation_=0,l.textScale_=[0,0],l.textFillState_=null,l.textStrokeState_=null,l.textState_=null,l.pixelCoordinates_=[],l.tmpLocalTransform_=create$2(),l}return __extends$1m(t,e),t.prototype.drawImages_=function(e,t,n,r){if(this.image_){var o=transform2D(e,t,n,r,this.transform_,this.pixelCoordinates_),i=this.context_,a=this.tmpLocalTransform_,s=i.globalAlpha;1!=this.imageOpacity_&&(i.globalAlpha=s*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var u=0,c=o.length;u<c;u+=2){var d=o[u]-this.imageAnchorX_,h=o[u+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var p=d+this.imageAnchorX_,f=h+this.imageAnchorY_;compose$1(a,p,f,1,1,l,-p,-f),i.setTransform.apply(i,a),i.translate(p,f),i.scale(this.imageScale_[0],this.imageScale_[1]),i.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),i.setTransform(1,0,0,1,0,0)}else i.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,d,h,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(i.globalAlpha=s)}},t.prototype.drawText_=function(e,t,n,r){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var o=transform2D(e,t,n,r,this.transform_,this.pixelCoordinates_),i=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);t<n;t+=r){var s=o[t]+this.textOffsetX_,l=o[t+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_[0]||1!=this.textScale_[1]){var u=compose$1(this.tmpLocalTransform_,s,l,1,1,a,-s,-l);i.setTransform.apply(i,u),i.translate(s,l),i.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&i.strokeText(this.text_,0,0),this.textFillState_&&i.fillText(this.text_,0,0),i.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&i.strokeText(this.text_,s,l),this.textFillState_&&i.fillText(this.text_,s,l)}}},t.prototype.moveToLineTo_=function(e,t,n,r,o){var i=this.context_,a=transform2D(e,t,n,r,this.transform_,this.pixelCoordinates_);i.moveTo(a[0],a[1]);var s=a.length;o&&(s-=2);for(var l=2;l<s;l+=2)i.lineTo(a[l],a[l+1]);return o&&i.closePath(),n},t.prototype.drawRings_=function(e,t,n,r){for(var o=0,i=n.length;o<i;++o)t=this.moveToLineTo_(e,t,n[o],r,!0);return t},t.prototype.drawCircle=function(e){if(intersects$1(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=transformGeom2D(e,this.transform_,this.pixelCoordinates_),n=t[2]-t[0],r=t[3]-t[1],o=Math.sqrt(n*n+r*r),i=this.context_;i.beginPath(),i.arc(t[0],t[1],o,0,2*Math.PI),this.fillState_&&i.fill(),this.strokeState_&&i.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}},t.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())},t.prototype.setTransform=function(e){this.transform_=e},t.prototype.drawGeometry=function(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e)}},t.prototype.drawFeature=function(e,t){var n=t.getGeometryFunction()(e);n&&intersects$1(this.extent_,n.getExtent())&&(this.setStyle(t),this.drawGeometry(n))},t.prototype.drawGeometryCollection=function(e){for(var t=e.getGeometriesArray(),n=0,r=t.length;n<r;++n)this.drawGeometry(t[n])},t.prototype.drawPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(t,0,t.length,n),""!==this.text_&&this.drawText_(t,0,t.length,n)},t.prototype.drawMultiPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(t,0,t.length,n),""!==this.text_&&this.drawText_(t,0,t.length,n)},t.prototype.drawLineString=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),intersects$1(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var t=this.context_,n=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(n,0,n.length,e.getStride(),!1),t.stroke()}if(""!==this.text_){var r=e.getFlatMidpoint();this.drawText_(r,0,2,2)}}},t.prototype.drawMultiLineString=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getExtent();if(intersects$1(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,r=e.getFlatCoordinates(),o=0,i=e.getEnds(),a=e.getStride();n.beginPath();for(var s=0,l=i.length;s<l;++s)o=this.moveToLineTo_(r,o,i[s],a,!1);n.stroke()}if(""!==this.text_){var u=e.getFlatMidpoints();this.drawText_(u,0,u.length,2)}}},t.prototype.drawPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),intersects$1(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){var n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},t.prototype.drawMultiPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),intersects$1(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=this.context_,n=e.getOrientedFlatCoordinates(),r=0,o=e.getEndss(),i=e.getStride();t.beginPath();for(var a=0,s=o.length;a<s;++a){var l=o[a];r=this.drawRings_(n,r,l,i)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){var u=e.getFlatInteriorPoints();this.drawText_(u,0,u.length,2)}}},t.prototype.setContextFillState_=function(e){var t=this.context_,n=this.contextFillState_;n?n.fillStyle!=e.fillStyle&&(n.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})},t.prototype.setContextStrokeState_=function(e){var t=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=e.lineCap&&(n.lineCap=e.lineCap,t.lineCap=e.lineCap),t.setLineDash&&(equals$2(n.lineDash,e.lineDash)||t.setLineDash(n.lineDash=e.lineDash),n.lineDashOffset!=e.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset)),n.lineJoin!=e.lineJoin&&(n.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),n.lineWidth!=e.lineWidth&&(n.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),n.miterLimit!=e.miterLimit&&(n.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),n.strokeStyle!=e.strokeStyle&&(n.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},t.prototype.setContextTextState_=function(e){var t=this.context_,n=this.contextTextState_,r=e.textAlign?e.textAlign:defaultTextAlign;n?(n.font!=e.font&&(n.font=e.font,t.font=e.font),n.textAlign!=r&&(n.textAlign=r,t.textAlign=r),n.textBaseline!=e.textBaseline&&(n.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=r,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:r,textBaseline:e.textBaseline})},t.prototype.setFillStrokeStyle=function(e,t){var n=this;if(e){var r=e.getColor();this.fillState_={fillStyle:asColorLike(r||defaultFillStyle)}}else this.fillState_=null;if(t){var o=t.getColor(),i=t.getLineCap(),a=t.getLineDash(),s=t.getLineDashOffset(),l=t.getLineJoin(),u=t.getWidth(),c=t.getMiterLimit(),d=a||defaultLineDash;this.strokeState_={lineCap:void 0!==i?i:defaultLineCap,lineDash:1===this.pixelRatio_?d:d.map((function(e){return e*n.pixelRatio_})),lineDashOffset:(s||defaultLineDashOffset)*this.pixelRatio_,lineJoin:void 0!==l?l:defaultLineJoin,lineWidth:(void 0!==u?u:defaultLineWidth)*this.pixelRatio_,miterLimit:void 0!==c?c:defaultMiterLimit,strokeStyle:asColorLike(o||defaultStrokeStyle)}}else this.strokeState_=null},t.prototype.setImageStyle=function(e){var t;if(e&&(t=e.getSize())){var n=e.getAnchor(),r=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*this.pixelRatio_,this.imageAnchorY_=n[1]*this.pixelRatio_,this.imageHeight_=t[1]*this.pixelRatio_,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),this.imageScale_=e.getScaleArray(),this.imageWidth_=t[0]*this.pixelRatio_}else this.image_=null},t.prototype.setTextStyle=function(e){if(e){var t=e.getFill();if(t){var n=t.getColor();this.textFillState_={fillStyle:asColorLike(n||defaultFillStyle)}}else this.textFillState_=null;var r=e.getStroke();if(r){var o=r.getColor(),i=r.getLineCap(),a=r.getLineDash(),s=r.getLineDashOffset(),l=r.getLineJoin(),u=r.getWidth(),c=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==i?i:defaultLineCap,lineDash:a||defaultLineDash,lineDashOffset:s||defaultLineDashOffset,lineJoin:void 0!==l?l:defaultLineJoin,lineWidth:void 0!==u?u:defaultLineWidth,miterLimit:void 0!==c?c:defaultMiterLimit,strokeStyle:asColorLike(o||defaultStrokeStyle)}}else this.textStrokeState_=null;var d=e.getFont(),h=e.getOffsetX(),p=e.getOffsetY(),f=e.getRotateWithView(),m=e.getRotation(),_=e.getScaleArray(),g=e.getText(),v=e.getTextAlign(),y=e.getTextBaseline();this.textState_={font:void 0!==d?d:defaultFont,textAlign:void 0!==v?v:defaultTextAlign,textBaseline:void 0!==y?y:defaultTextBaseline},this.text_=void 0!==g?Array.isArray(g)?g.reduce((function(e,t,n){return e+(n%2?" ":t)}),""):g:"",this.textOffsetX_=void 0!==h?this.pixelRatio_*h:0,this.textOffsetY_=void 0!==p?this.pixelRatio_*p:0,this.textRotateWithView_=void 0!==f&&f,this.textRotation_=void 0!==m?m:0,this.textScale_=[this.pixelRatio_*_[0],this.pixelRatio_*_[1]]}else this.text_=""},t}(VectorContext$1);const IconAnchorUnits={FRACTION:"fraction",PIXELS:"pixels"},IconOrigin={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};var IconImageCache=function(){function e(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return e.prototype.clear=function(){this.cache_={},this.cacheSize_=0},e.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},e.prototype.expire=function(){if(this.canExpireCache()){var e=0;for(var t in this.cache_){var n=this.cache_[t];0!=(3&e++)||n.hasListener()||(delete this.cache_[t],--this.cacheSize_)}}},e.prototype.get=function(e,t,n){var r=getKey$1(e,t,n);return r in this.cache_?this.cache_[r]:null},e.prototype.set=function(e,t,n,r){var o=getKey$1(e,t,n);this.cache_[o]=r,++this.cacheSize_},e.prototype.setSize=function(e){this.maxCacheSize_=e,this.expire()},e}();function getKey$1(e,t,n){return t+":"+e+":"+(n?asString(n):"null")}var shared=new IconImageCache,__extends$1l=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ImageBase=function(e){function t(t,n,r,o){var i=e.call(this)||this;return i.extent=t,i.pixelRatio_=r,i.resolution=n,i.state=o,i}return __extends$1l(t,e),t.prototype.changed=function(){this.dispatchEvent(EventType.CHANGE)},t.prototype.getExtent=function(){return this.extent},t.prototype.getImage=function(){return abstract()},t.prototype.getPixelRatio=function(){return this.pixelRatio_},t.prototype.getResolution=function(){return this.resolution},t.prototype.getState=function(){return this.state},t.prototype.load=function(){abstract()},t}(EventTarget);const ImageBase$1=ImageBase;var __extends$1k=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ImageWrapper=function(e){function t(t,n,r,o,i,a){var s=e.call(this,t,n,r,ImageState.IDLE)||this;return s.src_=o,s.image_=new Image,null!==i&&(s.image_.crossOrigin=i),s.unlisten_=null,s.state=ImageState.IDLE,s.imageLoadFunction_=a,s}return __extends$1k(t,e),t.prototype.getImage=function(){return this.image_},t.prototype.handleImageError_=function(){this.state=ImageState.ERROR,this.unlistenImage_(),this.changed()},t.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=getHeight(this.extent)/this.image_.height),this.state=ImageState.LOADED,this.unlistenImage_(),this.changed()},t.prototype.load=function(){this.state!=ImageState.IDLE&&this.state!=ImageState.ERROR||(this.state=ImageState.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=listenImage(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.setImage=function(e){this.image_=e,this.resolution=getHeight(this.extent)/this.image_.height},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(ImageBase$1);function listenImage(e,t,n){var r=e,o=!0,i=!1,a=!1,s=[listenOnce(r,EventType.LOAD,(function(){a=!0,i||t()}))];return r.src&&IMAGE_DECODE?(i=!0,r.decode().then((function(){o&&t()})).catch((function(e){o&&(a?t():n())}))):s.push(listenOnce(r,EventType.ERROR,n)),function(){o=!1,s.forEach(unlistenByKey)}}const ImageWrapper$1=ImageWrapper;var __extends$1j=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),taintedTestContext=null,IconImage=function(t){function n(e,n,r,o,i,a){var s=t.call(this)||this;return s.hitDetectionImage_=null,s.image_=e||new Image,null!==o&&(s.image_.crossOrigin=o),s.canvas_={},s.color_=a,s.unlisten_=null,s.imageState_=i,s.size_=r,s.src_=n,s.tainted_,s}return __extends$1j(n,t),n.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===ImageState.LOADED){taintedTestContext||(taintedTestContext=createCanvasContext2D(1,1)),taintedTestContext.drawImage(this.image_,0,0);try{taintedTestContext.getImageData(0,0,1,1),this.tainted_=!1}catch(e){taintedTestContext=null,this.tainted_=!0}}return!0===this.tainted_},n.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(EventType.CHANGE)},n.prototype.handleImageError_=function(){this.imageState_=ImageState.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},n.prototype.handleImageLoad_=function(){this.imageState_=ImageState.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},n.prototype.getImage=function(e){return this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_},n.prototype.getPixelRatio=function(e){return this.replaceColor_(e),this.canvas_[e]?e:1},n.prototype.getImageState=function(){return this.imageState_},n.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],t=this.size_[1],n=createCanvasContext2D(e,t);n.fillRect(0,0,e,t),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},n.prototype.getSize=function(){return this.size_},n.prototype.getSrc=function(){return this.src_},n.prototype.load=function(){if(this.imageState_==ImageState.IDLE){this.imageState_=ImageState.LOADING;try{this.image_.src=this.src_}catch(e){this.handleImageError_()}this.unlisten_=listenImage(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},n.prototype.replaceColor_=function(e){if(this.color_&&!this.canvas_[e]&&this.imageState_===ImageState.LOADED){var t=document.createElement("canvas");this.canvas_[e]=t,t.width=Math.ceil(this.image_.width*e),t.height=Math.ceil(this.image_.height*e);var n=t.getContext("2d");if(n.scale(e,e),n.drawImage(this.image_,0,0),n.globalCompositeOperation="multiply","multiply"===n.globalCompositeOperation||this.isTainted_())n.fillStyle=asString(this.color_),n.fillRect(0,0,t.width/e,t.height/e),n.globalCompositeOperation="destination-in",n.drawImage(this.image_,0,0);else{for(var r=n.getImageData(0,0,t.width,t.height),o=r.data,i=this.color_[0]/255,a=this.color_[1]/255,s=this.color_[2]/255,l=this.color_[3],u=0,c=o.length;u<c;u+=4)o[u]*=i,o[u+1]*=a,o[u+2]*=s,o[u+3]*=l;n.putImageData(r,0,0)}}},n.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},n}(EventTarget);function get$2(e,t,n,r,o,i){var a=shared.get(t,r,i);return a||(a=new IconImage(e,t,n,r,o,i),shared.set(t,r,i,a)),a}var __extends$1i=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Icon$1=function(e){function t(t){var n=this,r=t||{},o=void 0!==r.opacity?r.opacity:1,i=void 0!==r.rotation?r.rotation:0,a=void 0!==r.scale?r.scale:1,s=void 0!==r.rotateWithView&&r.rotateWithView;(n=e.call(this,{opacity:o,rotation:i,scale:a,displacement:void 0!==r.displacement?r.displacement:[0,0],rotateWithView:s,declutterMode:r.declutterMode})||this).anchor_=void 0!==r.anchor?r.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==r.anchorOrigin?r.anchorOrigin:IconOrigin.TOP_LEFT,n.anchorXUnits_=void 0!==r.anchorXUnits?r.anchorXUnits:IconAnchorUnits.FRACTION,n.anchorYUnits_=void 0!==r.anchorYUnits?r.anchorYUnits:IconAnchorUnits.FRACTION,n.crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:null;var l=void 0!==r.img?r.img:null;n.imgSize_=r.imgSize;var u=r.src;assert(!(void 0!==u&&l),4),assert(!l||l&&n.imgSize_,5),void 0!==u&&0!==u.length||!l||(u=l.src||getUid(l)),assert(void 0!==u&&u.length>0,6);var c=void 0!==r.src?ImageState.IDLE:ImageState.LOADED;return n.color_=void 0!==r.color?asArray(r.color):null,n.iconImage_=get$2(l,u,void 0!==n.imgSize_?n.imgSize_:null,n.crossOrigin_,c,n.color_),n.offset_=void 0!==r.offset?r.offset:[0,0],n.offsetOrigin_=void 0!==r.offsetOrigin?r.offsetOrigin:IconOrigin.TOP_LEFT,n.origin_=null,n.size_=void 0!==r.size?r.size:null,n}return __extends$1i(t,e),t.prototype.clone=function(){var e=this.getScale();return new t({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(e)?e.slice():e,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},t.prototype.getAnchor=function(){var e=this.normalizedAnchor_;if(!e){e=this.anchor_;var t=this.getSize();if(this.anchorXUnits_==IconAnchorUnits.FRACTION||this.anchorYUnits_==IconAnchorUnits.FRACTION){if(!t)return null;e=this.anchor_.slice(),this.anchorXUnits_==IconAnchorUnits.FRACTION&&(e[0]*=t[0]),this.anchorYUnits_==IconAnchorUnits.FRACTION&&(e[1]*=t[1])}if(this.anchorOrigin_!=IconOrigin.TOP_LEFT){if(!t)return null;e===this.anchor_&&(e=this.anchor_.slice()),this.anchorOrigin_!=IconOrigin.TOP_RIGHT&&this.anchorOrigin_!=IconOrigin.BOTTOM_RIGHT||(e[0]=-e[0]+t[0]),this.anchorOrigin_!=IconOrigin.BOTTOM_LEFT&&this.anchorOrigin_!=IconOrigin.BOTTOM_RIGHT||(e[1]=-e[1]+t[1])}this.normalizedAnchor_=e}var n=this.getDisplacement();return[e[0]-n[0],e[1]+n[1]]},t.prototype.setAnchor=function(e){this.anchor_=e,this.normalizedAnchor_=null},t.prototype.getColor=function(){return this.color_},t.prototype.getImage=function(e){return this.iconImage_.getImage(e)},t.prototype.getPixelRatio=function(e){return this.iconImage_.getPixelRatio(e)},t.prototype.getImageSize=function(){return this.iconImage_.getSize()},t.prototype.getImageState=function(){return this.iconImage_.getImageState()},t.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},t.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var e=this.offset_;if(this.offsetOrigin_!=IconOrigin.TOP_LEFT){var t=this.getSize(),n=this.iconImage_.getSize();if(!t||!n)return null;e=e.slice(),this.offsetOrigin_!=IconOrigin.TOP_RIGHT&&this.offsetOrigin_!=IconOrigin.BOTTOM_RIGHT||(e[0]=n[0]-t[0]-e[0]),this.offsetOrigin_!=IconOrigin.BOTTOM_LEFT&&this.offsetOrigin_!=IconOrigin.BOTTOM_RIGHT||(e[1]=n[1]-t[1]-e[1])}return this.origin_=e,this.origin_},t.prototype.getSrc=function(){return this.iconImage_.getSrc()},t.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},t.prototype.listenImageChange=function(e){this.iconImage_.addEventListener(EventType.CHANGE,e)},t.prototype.load=function(){this.iconImage_.load()},t.prototype.unlistenImageChange=function(e){this.iconImage_.removeEventListener(EventType.CHANGE,e)},t}(ImageStyle$1);const Icon$2=Icon$1;var HIT_DETECT_RESOLUTION=.5;function createHitDetectionImageData(e,t,n,r,o,i,a){var s=createCanvasContext2D(e[0]*HIT_DETECT_RESOLUTION,e[1]*HIT_DETECT_RESOLUTION);s.imageSmoothingEnabled=!1;for(var l=s.canvas,u=new CanvasImmediateRenderer(s,HIT_DETECT_RESOLUTION,o,null,a),c=n.length,d=Math.floor(16777215/c),h={},p=1;p<=c;++p){var f=n[p-1],m=f.getStyleFunction()||r;if(r){var _=m(f,i);if(_){Array.isArray(_)||(_=[_]);for(var g="#"+("000000"+(p*d).toString(16)).slice(-6),v=0,y=_.length;v<y;++v){var b=_[v],E=b.getGeometryFunction()(f);if(E&&intersects$1(o,E.getExtent())){var C=b.clone(),x=C.getFill();x&&x.setColor(g);var w=C.getStroke();w&&(w.setColor(g),w.setLineDash(null)),C.setText(void 0);var S=b.getImage();if(S&&0!==S.getOpacity()){var T=S.getImageSize();if(!T)continue;var k=createCanvasContext2D(T[0],T[1],void 0,{alpha:!1}),L=k.canvas;k.fillStyle=g,k.fillRect(0,0,L.width,L.height),C.setImage(new Icon$2({img:L,imgSize:T,anchor:S.getAnchor(),anchorXUnits:IconAnchorUnits.PIXELS,anchorYUnits:IconAnchorUnits.PIXELS,offset:S.getOrigin(),opacity:1,size:S.getSize(),scale:S.getScale(),rotation:S.getRotation(),rotateWithView:S.getRotateWithView()}))}var P=C.getZIndex()||0;(N=h[P])||(N={},h[P]=N,N.Polygon=[],N.Circle=[],N.LineString=[],N.Point=[]),N[E.getType().replace("Multi","")].push(E,C)}}}}}for(var M=Object.keys(h).map(Number).sort(numberSafeCompareFunction),O=(p=0,M.length);p<O;++p){var N=h[M[p]];for(var A in N){var I=N[A];for(v=0,y=I.length;v<y;v+=2){u.setStyle(I[v+1]);for(var R=0,$=t.length;R<$;++R)u.setTransform(t[R]),u.drawGeometry(I[v])}}}return s.getImageData(0,0,l.width,l.height)}function hitDetect(e,t,n){var r=[];if(n){var o=Math.floor(Math.round(e[0])*HIT_DETECT_RESOLUTION),i=Math.floor(Math.round(e[1])*HIT_DETECT_RESOLUTION),a=4*(clamp$1(o,0,n.width-1)+clamp$1(i,0,n.height-1)*n.width),s=n.data[a],l=n.data[a+1],u=n.data[a+2]+256*(l+256*s),c=Math.floor(16777215/t.length);u&&u%c==0&&r.push(t[u/c-1])}return r}var SIMPLIFY_TOLERANCE=.5,GEOMETRY_RENDERERS={Point:renderPointGeometry,LineString:renderLineStringGeometry,Polygon:renderPolygonGeometry,MultiPoint:renderMultiPointGeometry,MultiLineString:renderMultiLineStringGeometry,MultiPolygon:renderMultiPolygonGeometry,GeometryCollection:renderGeometryCollectionGeometry,Circle:renderCircleGeometry};function defaultOrder(e,t){return parseInt(getUid(e),10)-parseInt(getUid(t),10)}function getSquaredTolerance(e,t){var n=getTolerance(e,t);return n*n}function getTolerance(e,t){return SIMPLIFY_TOLERANCE*e/t}function renderCircleGeometry(e,t,n,r,o){var i=n.getFill(),a=n.getStroke();if(i||a){var s=e.getBuilder(n.getZIndex(),"Circle");s.setFillStrokeStyle(i,a),s.drawCircle(t,r)}var l=n.getText();if(l&&l.getText()){var u=(o||e).getBuilder(n.getZIndex(),"Text");u.setTextStyle(l),u.drawText(t,r)}}function renderFeature(e,t,n,r,o,i,a){var s=!1,l=n.getImage();if(l){var u=l.getImageState();u==ImageState.LOADED||u==ImageState.ERROR?l.unlistenImageChange(o):(u==ImageState.IDLE&&l.load(),l.listenImageChange(o),s=!0)}return renderFeatureInternal(e,t,n,r,i,a),s}function renderFeatureInternal(e,t,n,r,o,i){var a=n.getGeometryFunction()(t);if(a){var s=a.simplifyTransformed(r,o);if(n.getRenderer())renderGeometry(e,s,n,t);else(0,GEOMETRY_RENDERERS[s.getType()])(e,s,n,t,i)}}function renderGeometry(e,t,n,r){if("GeometryCollection"!=t.getType())e.getBuilder(n.getZIndex(),"Default").drawCustom(t,r,n.getRenderer(),n.getHitDetectionRenderer());else for(var o=t.getGeometries(),i=0,a=o.length;i<a;++i)renderGeometry(e,o[i],n,r)}function renderGeometryCollectionGeometry(e,t,n,r,o){var i,a,s=t.getGeometriesArray();for(i=0,a=s.length;i<a;++i){(0,GEOMETRY_RENDERERS[s[i].getType()])(e,s[i],n,r,o)}}function renderLineStringGeometry(e,t,n,r,o){var i=n.getStroke();if(i){var a=e.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,i),a.drawLineString(t,r)}var s=n.getText();if(s&&s.getText()){var l=(o||e).getBuilder(n.getZIndex(),"Text");l.setTextStyle(s),l.drawText(t,r)}}function renderMultiLineStringGeometry(e,t,n,r,o){var i=n.getStroke();if(i){var a=e.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,i),a.drawMultiLineString(t,r)}var s=n.getText();if(s&&s.getText()){var l=(o||e).getBuilder(n.getZIndex(),"Text");l.setTextStyle(s),l.drawText(t,r)}}function renderMultiPolygonGeometry(e,t,n,r,o){var i=n.getFill(),a=n.getStroke();if(a||i){var s=e.getBuilder(n.getZIndex(),"Polygon");s.setFillStrokeStyle(i,a),s.drawMultiPolygon(t,r)}var l=n.getText();if(l&&l.getText()){var u=(o||e).getBuilder(n.getZIndex(),"Text");u.setTextStyle(l),u.drawText(t,r)}}function renderPointGeometry(e,t,n,r,o){var i,a=n.getImage(),s=n.getText();if(a){if(a.getImageState()!=ImageState.LOADED)return;var l=e;if(o){var u=a.getDeclutterMode();if("none"!==u)if(l=o,"obstacle"===u){var c=e.getBuilder(n.getZIndex(),"Image");c.setImageStyle(a,i),c.drawPoint(t,r)}else s&&s.getText()&&(i={})}var d=l.getBuilder(n.getZIndex(),"Image");d.setImageStyle(a,i),d.drawPoint(t,r)}if(s&&s.getText()){var h=e;o&&(h=o);var p=h.getBuilder(n.getZIndex(),"Text");p.setTextStyle(s,i),p.drawText(t,r)}}function renderMultiPointGeometry(e,t,n,r,o){var i,a=n.getImage(),s=n.getText();if(a){if(a.getImageState()!=ImageState.LOADED)return;var l=e;if(o){var u=a.getDeclutterMode();if("none"!==u)if(l=o,"obstacle"===u){var c=e.getBuilder(n.getZIndex(),"Image");c.setImageStyle(a,i),c.drawMultiPoint(t,r)}else s&&s.getText()&&(i={})}var d=l.getBuilder(n.getZIndex(),"Image");d.setImageStyle(a,i),d.drawMultiPoint(t,r)}if(s&&s.getText()){var h=e;o&&(h=o);var p=h.getBuilder(n.getZIndex(),"Text");p.setTextStyle(s,i),p.drawText(t,r)}}function renderPolygonGeometry(e,t,n,r,o){var i=n.getFill(),a=n.getStroke();if(i||a){var s=e.getBuilder(n.getZIndex(),"Polygon");s.setFillStrokeStyle(i,a),s.drawPolygon(t,r)}var l=n.getText();if(l&&l.getText()){var u=(o||e).getBuilder(n.getZIndex(),"Text");u.setTextStyle(l),u.drawText(t,r)}}var __extends$1h=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),CanvasVectorLayerRenderer=function(e){function t(t){var n=e.call(this,t)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.animatingOrInteracting_,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=createEmpty(),n.wrappedRenderedExtent_=createEmpty(),n.renderedRotation_,n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n.declutterExecutorGroup=null,n.clipping=!0,n.compositionContext_=null,n.opacity_=1,n}return __extends$1h(t,e),t.prototype.renderWorlds=function(e,t,n){var r=t.extent,o=t.viewState,i=o.center,a=o.resolution,s=o.projection,l=o.rotation,u=s.getExtent(),c=this.getLayer().getSource(),d=t.pixelRatio,h=t.viewHints,p=!(h[ViewHint.ANIMATING]||h[ViewHint.INTERACTING]),f=this.compositionContext_,m=Math.round(t.size[0]*d),_=Math.round(t.size[1]*d),g=c.getWrapX()&&s.canWrapX(),v=g?getWidth(u):null,y=g?Math.ceil((r[2]-u[2])/v)+1:1,b=g?Math.floor((r[0]-u[0])/v):0;do{var E=this.getRenderTransform(i,a,l,d,m,_,b*v);e.execute(f,1,E,l,p,void 0,n)}while(++b<y)},t.prototype.setupCompositionContext_=function(){if(1!==this.opacity_){var e=createCanvasContext2D(this.context.canvas.width,this.context.canvas.height,canvasPool$1);this.compositionContext_=e}else this.compositionContext_=this.context},t.prototype.releaseCompositionContext_=function(){if(1!==this.opacity_){var e=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=e,releaseCanvas$1(this.compositionContext_),canvasPool$1.push(this.compositionContext_.canvas),this.compositionContext_=null}},t.prototype.renderDeclutter=function(e){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree),this.releaseCompositionContext_())},t.prototype.renderFrame=function(e,t){var n=e.pixelRatio,r=e.layerStatesArray[e.layerIndex];makeScale(this.pixelTransform,1/n,1/n),makeInverse(this.inversePixelTransform,this.pixelTransform);var o=toString$3(this.pixelTransform);this.useContainer(t,o,this.getBackground(e));var i=this.context,a=i.canvas,s=this.replayGroup_,l=this.declutterExecutorGroup;if((!s||s.isEmpty())&&(!l||l.isEmpty()))return null;var u=Math.round(e.size[0]*n),c=Math.round(e.size[1]*n);a.width!=u||a.height!=c?(a.width=u,a.height=c,a.style.transform!==o&&(a.style.transform=o)):this.containerReused||i.clearRect(0,0,u,c),this.preRender(i,e);var d=e.viewState;d.projection,this.opacity_=r.opacity,this.setupCompositionContext_();var h=!1,p=!0;if(r.extent&&this.clipping){var f=fromUserExtent(r.extent);(h=(p=intersects$1(f,e.extent))&&!containsExtent(f,e.extent))&&this.clipUnrotated(this.compositionContext_,e,f)}return p&&this.renderWorlds(s,e),h&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(i,e),this.renderedRotation_!==d.rotation&&(this.renderedRotation_=d.rotation,this.hitDetectionImageData_=null),this.container},t.prototype.getFeatures=function(e){return new Promise(function(t){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var n=[this.context.canvas.width,this.context.canvas.height];apply$1(this.pixelTransform,n);var r=this.renderedCenter_,o=this.renderedResolution_,i=this.renderedRotation_,a=this.renderedProjection_,s=this.wrappedRenderedExtent_,l=this.getLayer(),u=[],c=n[0]*HIT_DETECT_RESOLUTION,d=n[1]*HIT_DETECT_RESOLUTION;u.push(this.getRenderTransform(r,o,i,HIT_DETECT_RESOLUTION,c,d,0).slice());var h=l.getSource(),p=a.getExtent();if(h.getWrapX()&&a.canWrapX()&&!containsExtent(p,s)){for(var f=s[0],m=getWidth(p),_=0,g=void 0;f<p[0];)g=m*--_,u.push(this.getRenderTransform(r,o,i,HIT_DETECT_RESOLUTION,c,d,g).slice()),f+=m;for(_=0,f=s[2];f>p[2];)g=m*++_,u.push(this.getRenderTransform(r,o,i,HIT_DETECT_RESOLUTION,c,d,g).slice()),f-=m}this.hitDetectionImageData_=createHitDetectionImageData(n,u,this.renderedFeatures_,l.getStyleFunction(),s,o,i)}t(hitDetect(e,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},t.prototype.forEachFeatureAtCoordinate=function(e,t,n,r,o){var i=this;if(this.replayGroup_){var a,s=t.viewState.resolution,l=t.viewState.rotation,u=this.getLayer(),c={},d=function(e,t,n){var i=getUid(e),a=c[i];if(a){if(!0!==a&&n<a.distanceSq){if(0===n)return c[i]=!0,o.splice(o.lastIndexOf(a),1),r(e,u,t);a.geometry=t,a.distanceSq=n}}else{if(0===n)return c[i]=!0,r(e,u,t);o.push(c[i]={feature:e,layer:u,geometry:t,distanceSq:n,callback:r})}},h=[this.replayGroup_];return this.declutterExecutorGroup&&h.push(this.declutterExecutorGroup),h.some((function(r){return a=r.forEachFeatureAtCoordinate(e,s,l,n,d,r===i.declutterExecutorGroup&&t.declutterTree?t.declutterTree.all().map((function(e){return e.value})):null)})),a}},t.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},t.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},t.prototype.prepareFrame=function(e){var t=this.getLayer(),n=t.getSource();if(!n)return!1;var r=e.viewHints[ViewHint.ANIMATING],o=e.viewHints[ViewHint.INTERACTING],i=t.getUpdateWhileAnimating(),a=t.getUpdateWhileInteracting();if(this.ready&&!i&&r||!a&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var s=e.extent,l=e.viewState,u=l.projection,c=l.resolution,d=e.pixelRatio,h=t.getRevision(),p=t.getRenderBuffer(),f=t.getRenderOrder();void 0===f&&(f=defaultOrder);var m=l.center.slice(),_=buffer(s,p*c),g=_.slice(),v=[_.slice()],y=u.getExtent();if(n.getWrapX()&&u.canWrapX()&&!containsExtent(y,e.extent)){var b=getWidth(y),E=Math.max(getWidth(_)/2,b);_[0]=y[0]-E,_[2]=y[2]+E,wrapX$1(m,u);var C=wrapX$2(v[0],u);C[0]<y[0]&&C[2]<y[2]?v.push([C[0]+b,C[1],C[2]+b,C[3]]):C[0]>y[0]&&C[2]>y[2]&&v.push([C[0]-b,C[1],C[2]-b,C[3]])}if(this.ready&&this.renderedResolution_==c&&this.renderedRevision_==h&&this.renderedRenderOrder_==f&&containsExtent(this.wrappedRenderedExtent_,_))return equals$2(this.renderedExtent_,g)||(this.hitDetectionImageData_=null,this.renderedExtent_=g),this.renderedCenter_=m,this.replayGroupChanged=!1,!0;this.replayGroup_=null;var x,w=new BuilderGroup(getTolerance(c,d),_,c,d);this.getLayer().getDeclutter()&&(x=new BuilderGroup(getTolerance(c,d),_,c,d));for(var S=0,T=v.length;S<T;++S)n.loadFeatures(v[S],c,u);var k=getSquaredTolerance(c,d),L=!0,P=function(e){var n,r=e.getStyleFunction()||t.getStyleFunction();if(r&&(n=r(e,c)),n){var o=this.renderFeature(e,k,n,w,undefined,x);L=L&&!o}}.bind(this),M=toUserExtent(_),O=n.getFeaturesInExtent(M);f&&O.sort(f);for(S=0,T=O.length;S<T;++S)P(O[S]);this.renderedFeatures_=O,this.ready=L;var N=w.finish(),A=new CanvasExecutorGroup(_,c,d,n.getOverlaps(),N,t.getRenderBuffer());return x&&(this.declutterExecutorGroup=new CanvasExecutorGroup(_,c,d,n.getOverlaps(),x.finish(),t.getRenderBuffer())),this.renderedResolution_=c,this.renderedRevision_=h,this.renderedRenderOrder_=f,this.renderedExtent_=g,this.wrappedRenderedExtent_=_,this.renderedCenter_=m,this.renderedProjection_=u,this.replayGroup_=A,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},t.prototype.renderFeature=function(e,t,n,r,o,i){if(!n)return!1;var a=!1;if(Array.isArray(n))for(var s=0,l=n.length;s<l;++s)a=renderFeature(r,e,n[s],t,this.boundHandleStyleImageChange_,o,i)||a;else a=renderFeature(r,e,n,t,this.boundHandleStyleImageChange_,o,i);return a},t}(CanvasLayerRenderer$1);const CanvasVectorLayerRenderer$1=CanvasVectorLayerRenderer;var __extends$1g=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),VectorLayer=function(e){function t(t){return e.call(this,t)||this}return __extends$1g(t,e),t.prototype.createRenderer=function(){return new CanvasVectorLayerRenderer$1(this)},t}(BaseVectorLayer$1),RBush=function(){function e(e){this.rbush_=new RBush$1(e),this.items_={}}return e.prototype.insert=function(e,t){var n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(n),this.items_[getUid(t)]=n},e.prototype.load=function(e,t){for(var n=new Array(t.length),r=0,o=t.length;r<o;r++){var i=e[r],a=t[r],s={minX:i[0],minY:i[1],maxX:i[2],maxY:i[3],value:a};n[r]=s,this.items_[getUid(a)]=s}this.rbush_.load(n)},e.prototype.remove=function(e){var t=getUid(e),n=this.items_[t];return delete this.items_[t],null!==this.rbush_.remove(n)},e.prototype.update=function(e,t){var n=this.items_[getUid(t)];equals$1([n.minX,n.minY,n.maxX,n.maxY],e)||(this.remove(t),this.insert(e,t))},e.prototype.getAll=function(){return this.rbush_.all().map((function(e){return e.value}))},e.prototype.getInExtent=function(e){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map((function(e){return e.value}))},e.prototype.forEach=function(e){return this.forEach_(this.getAll(),e)},e.prototype.forEachInExtent=function(e,t){return this.forEach_(this.getInExtent(e),t)},e.prototype.forEach_=function(e,t){for(var n,r=0,o=e.length;r<o;r++)if(n=t(e[r]))return n;return n},e.prototype.isEmpty=function(){return isEmpty$2(this.items_)},e.prototype.clear=function(){this.rbush_.clear(),this.items_={}},e.prototype.getExtent=function(e){var t=this.rbush_.toJSON();return createOrUpdate$2(t.minX,t.minY,t.maxX,t.maxY,e)},e.prototype.concat=function(e){for(var t in this.rbush_.load(e.rbush_.all()),e.items_)this.items_[t]=e.items_[t]},e}(),__extends$1f=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Source=function(e){function t(t){var n=e.call(this)||this;n.projection=get$3(t.projection),n.attributions_=adaptAttributions(t.attributions),n.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,n.loading=!1,n.state_=void 0!==t.state?t.state:"ready",n.wrapX_=void 0!==t.wrapX&&t.wrapX,n.interpolate_=!!t.interpolate,n.viewResolver=null,n.viewRejector=null;var r=n;return n.viewPromise_=new Promise((function(e,t){r.viewResolver=e,r.viewRejector=t})),n}return __extends$1f(t,e),t.prototype.getAttributions=function(){return this.attributions_},t.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},t.prototype.getProjection=function(){return this.projection},t.prototype.getResolutions=function(){return abstract()},t.prototype.getView=function(){return this.viewPromise_},t.prototype.getState=function(){return this.state_},t.prototype.getWrapX=function(){return this.wrapX_},t.prototype.getInterpolate=function(){return this.interpolate_},t.prototype.refresh=function(){this.changed()},t.prototype.setAttributions=function(e){this.attributions_=adaptAttributions(e),this.changed()},t.prototype.setState=function(e){this.state_=e,this.changed()},t}(BaseObject$1);function adaptAttributions(e){return e?Array.isArray(e)?function(t){return e}:"function"==typeof e?e:function(t){return[e]}:null}const Source$1=Source,VectorEventType={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function all$1(e,t){return[[-1/0,-1/0,1/0,1/0]]}var withCredentials=!1;function loadFeaturesXhr(e,t,n,r,o,i,a){var s=new XMLHttpRequest;s.open("GET","function"==typeof e?e(n,r,o):e,!0),"arraybuffer"==t.getType()&&(s.responseType="arraybuffer"),s.withCredentials=withCredentials,s.onload=function(e){if(!s.status||s.status>=200&&s.status<300){var r=t.getType(),l=void 0;"json"==r||"text"==r?l=s.responseText:"xml"==r?(l=s.responseXML)||(l=(new DOMParser).parseFromString(s.responseText,"application/xml")):"arraybuffer"==r&&(l=s.response),l?i(t.readFeatures(l,{extent:n,featureProjection:o}),t.readProjection(l)):a()}else a()},s.onerror=a,s.send()}function xhr(e,t){return function(n,r,o,i,a){var s=this;loadFeaturesXhr(e,t,n,r,o,(function(e,t){s.addFeatures(e),void 0!==i&&i(e)}),a||VOID)}}var __extends$1e=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),VectorSourceEvent=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.feature=n,o.features=r,o}return __extends$1e(t,e),t}(Event$1),VectorSource=function(e){function t(t){var n=this,r=t||{};(n=e.call(this,{attributions:r.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===r.wrapX||r.wrapX})||this).on,n.once,n.un,n.loader_=VOID,n.format_=r.format,n.overlaps_=void 0===r.overlaps||r.overlaps,n.url_=r.url,void 0!==r.loader?n.loader_=r.loader:void 0!==n.url_&&(assert(n.format_,7),n.loader_=xhr(n.url_,n.format_)),n.strategy_=void 0!==r.strategy?r.strategy:all$1;var o,i,a=void 0===r.useSpatialIndex||r.useSpatialIndex;return n.featuresRtree_=a?new RBush:null,n.loadedExtentsRtree_=new RBush,n.loadingExtentsCount_=0,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(r.features)?i=r.features:r.features&&(i=(o=r.features).getArray()),a||void 0!==o||(o=new Collection$1(i)),void 0!==i&&n.addFeaturesInternal(i),void 0!==o&&n.bindFeaturesCollection_(o),n}return __extends$1e(t,e),t.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},t.prototype.addFeatureInternal=function(e){var t=getUid(e);if(this.addToIndex_(t,e)){this.setupChangeEvents_(t,e);var n=e.getGeometry();if(n){var r=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new VectorSourceEvent(VectorEventType.ADDFEATURE,e))}else this.featuresCollection_&&this.featuresCollection_.remove(e)},t.prototype.setupChangeEvents_=function(e,t){this.featureChangeKeys_[e]=[listen(t,EventType.CHANGE,this.handleFeatureChange_,this),listen(t,ObjectEventType.PROPERTYCHANGE,this.handleFeatureChange_,this)]},t.prototype.addToIndex_=function(e,t){var n=!0,r=t.getId();return void 0!==r&&(r.toString()in this.idIndex_?n=!1:this.idIndex_[r.toString()]=t),n&&(assert(!(e in this.uidIndex_),30),this.uidIndex_[e]=t),n},t.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},t.prototype.addFeaturesInternal=function(e){for(var t=[],n=[],r=[],o=0,i=e.length;o<i;o++){var a=getUid(l=e[o]);this.addToIndex_(a,l)&&n.push(l)}o=0;for(var s=n.length;o<s;o++){var l;a=getUid(l=n[o]);this.setupChangeEvents_(a,l);var u=l.getGeometry();if(u){var c=u.getExtent();t.push(c),r.push(l)}else this.nullGeometryFeatures_[a]=l}if(this.featuresRtree_&&this.featuresRtree_.load(t,r),this.hasListener(VectorEventType.ADDFEATURE)){o=0;for(var d=n.length;o<d;o++)this.dispatchEvent(new VectorSourceEvent(VectorEventType.ADDFEATURE,n[o]))}},t.prototype.bindFeaturesCollection_=function(e){var t=!1;this.addEventListener(VectorEventType.ADDFEATURE,(function(n){t||(t=!0,e.push(n.feature),t=!1)})),this.addEventListener(VectorEventType.REMOVEFEATURE,(function(n){t||(t=!0,e.remove(n.feature),t=!1)})),e.addEventListener(CollectionEventType.ADD,function(e){t||(t=!0,this.addFeature(e.element),t=!1)}.bind(this)),e.addEventListener(CollectionEventType.REMOVE,function(e){t||(t=!0,this.removeFeature(e.element),t=!1)}.bind(this)),this.featuresCollection_=e},t.prototype.clear=function(e){if(e){for(var t in this.featureChangeKeys_){this.featureChangeKeys_[t].forEach(unlistenByKey)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var n=function(e){this.removeFeatureInternal(e)}.bind(this);for(var r in this.featuresRtree_.forEach(n),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var o=new VectorSourceEvent(VectorEventType.CLEAR);this.dispatchEvent(o),this.changed()},t.prototype.forEachFeature=function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},t.prototype.forEachFeatureAtCoordinateDirect=function(e,t){var n=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(n,(function(n){return n.getGeometry().intersectsCoordinate(e)?t(n):void 0}))},t.prototype.forEachFeatureInExtent=function(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},t.prototype.forEachFeatureIntersectingExtent=function(e,t){return this.forEachFeatureInExtent(e,(function(n){if(n.getGeometry().intersectsExtent(e)){var r=t(n);if(r)return r}}))},t.prototype.getFeaturesCollection=function(){return this.featuresCollection_},t.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),isEmpty$2(this.nullGeometryFeatures_)||extend$3(e,getValues(this.nullGeometryFeatures_))),e},t.prototype.getFeaturesAtCoordinate=function(e){var t=[];return this.forEachFeatureAtCoordinateDirect(e,(function(e){t.push(e)})),t},t.prototype.getFeaturesInExtent=function(e,t){var n=this;if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);var r=wrapAndSliceX(e,t);return[].concat.apply([],r.map((function(e){return n.featuresRtree_.getInExtent(e)})))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},t.prototype.getClosestFeatureToCoordinate=function(e,t){var n=e[0],r=e[1],o=null,i=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],l=t||TRUE;return this.featuresRtree_.forEachInExtent(s,(function(e){if(l(e)){var t=e.getGeometry(),u=a;if((a=t.closestPointXY(n,r,i,a))<u){o=e;var c=Math.sqrt(a);s[0]=n-c,s[1]=r-c,s[2]=n+c,s[3]=r+c}}})),o},t.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},t.prototype.getFeatureById=function(e){var t=this.idIndex_[e.toString()];return void 0!==t?t:null},t.prototype.getFeatureByUid=function(e){var t=this.uidIndex_[e];return void 0!==t?t:null},t.prototype.getFormat=function(){return this.format_},t.prototype.getOverlaps=function(){return this.overlaps_},t.prototype.getUrl=function(){return this.url_},t.prototype.handleFeatureChange_=function(e){var t=e.target,n=getUid(t),r=t.getGeometry();if(r){var o=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,t)):this.featuresRtree_&&this.featuresRtree_.update(o,t)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[n]=t);var i=t.getId();if(void 0!==i){var a=i.toString();this.idIndex_[a]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[a]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[n]=t;this.changed(),this.dispatchEvent(new VectorSourceEvent(VectorEventType.CHANGEFEATURE,t))},t.prototype.hasFeature=function(e){var t=e.getId();return void 0!==t?t in this.idIndex_:getUid(e)in this.uidIndex_},t.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&isEmpty$2(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()},t.prototype.loadFeatures=function(e,t,n){for(var r=this.loadedExtentsRtree_,o=this.strategy_(e,t,n),i=function(e,i){var s=o[e];r.forEachInExtent(s,(function(e){return containsExtent(e.extent,s)}))||(++a.loadingExtentsCount_,a.dispatchEvent(new VectorSourceEvent(VectorEventType.FEATURESLOADSTART)),a.loader_.call(a,s,t,n,function(e){--this.loadingExtentsCount_,this.dispatchEvent(new VectorSourceEvent(VectorEventType.FEATURESLOADEND,void 0,e))}.bind(a),function(){--this.loadingExtentsCount_,this.dispatchEvent(new VectorSourceEvent(VectorEventType.FEATURESLOADERROR))}.bind(a)),r.insert(s,{extent:s.slice()}))},a=this,s=0,l=o.length;s<l;++s)i(s);this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0},t.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),e.prototype.refresh.call(this)},t.prototype.removeLoadedExtent=function(e){var t,n=this.loadedExtentsRtree_;n.forEachInExtent(e,(function(n){if(equals$1(n.extent,e))return t=n,!0})),t&&n.remove(t)},t.prototype.removeFeature=function(e){if(e){var t=getUid(e);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e)&&this.changed()}},t.prototype.removeFeatureInternal=function(e){var t=getUid(e),n=this.featureChangeKeys_[t];if(n){n.forEach(unlistenByKey),delete this.featureChangeKeys_[t];var r=e.getId();return void 0!==r&&delete this.idIndex_[r.toString()],delete this.uidIndex_[t],this.dispatchEvent(new VectorSourceEvent(VectorEventType.REMOVEFEATURE,e)),e}},t.prototype.removeFromIdIndex_=function(e){var t=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===e){delete this.idIndex_[n],t=!0;break}return t},t.prototype.setLoader=function(e){this.loader_=e},t.prototype.setUrl=function(e){assert(this.format_,7),this.url_=e,this.setLoader(xhr(e,this.format_))},t}(Source$1);function getVectorContext(e){if(!(e.context instanceof CanvasRenderingContext2D))throw new Error("Only works for render events from Canvas 2D layers");var t=e.inversePixelTransform[0],n=e.frameState,r=multiply(e.inversePixelTransform.slice(),n.coordinateToPixelTransform),o=getSquaredTolerance(n.viewState.resolution,t);return new CanvasImmediateRenderer(e.context,t,n.extent,r,n.viewState.rotation,o,undefined)}const TileState={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function easeIn(e){return Math.pow(e,3)}function easeOut(e){return 1-easeIn(1-e)}function inAndOut(e){return 3*e*e-2*e*e*e}function linear(e){return e}var __extends$1d=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tile=function(e){function t(t,n,r){var o=e.call(this)||this,i=r||{};return o.tileCoord=t,o.state=n,o.interimTile=null,o.key="",o.transition_=void 0===i.transition?250:i.transition,o.transitionStarts_={},o.interpolate=!!i.interpolate,o}return __extends$1d(t,e),t.prototype.changed=function(){this.dispatchEvent(EventType.CHANGE)},t.prototype.release=function(){},t.prototype.getKey=function(){return this.key+"/"+this.tileCoord},t.prototype.getInterimTile=function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(e.getState()==TileState.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this},t.prototype.refreshInterimChain=function(){if(this.interimTile){var e=this.interimTile,t=this;do{if(e.getState()==TileState.LOADED){e.interimTile=null;break}e.getState()==TileState.LOADING?t=e:e.getState()==TileState.IDLE?t.interimTile=e.interimTile:t=e,e=t.interimTile}while(e)}},t.prototype.getTileCoord=function(){return this.tileCoord},t.prototype.getState=function(){return this.state},t.prototype.setState=function(e){if(this.state!==TileState.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()},t.prototype.load=function(){abstract()},t.prototype.getAlpha=function(e,t){if(!this.transition_)return 1;var n=this.transitionStarts_[e];if(n){if(-1===n)return 1}else n=t,this.transitionStarts_[e]=n;var r=t-n+1e3/60;return r>=this.transition_?1:easeIn(r/this.transition_)},t.prototype.inTransition=function(e){return!!this.transition_&&-1!==this.transitionStarts_[e]},t.prototype.endTransition=function(e){this.transition_&&(this.transitionStarts_[e]=-1)},t}(EventTarget);const Tile$1=Tile;var __extends$1c=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ImageTile=function(e){function t(t,n,r,o,i,a){var s=e.call(this,t,n,a)||this;return s.crossOrigin_=o,s.src_=r,s.key=r,s.image_=new Image,null!==o&&(s.image_.crossOrigin=o),s.unlisten_=null,s.tileLoadFunction_=i,s}return __extends$1c(t,e),t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(e){this.image_=e,this.state=TileState.LOADED,this.unlistenImage_(),this.changed()},t.prototype.handleImageError_=function(){this.state=TileState.ERROR,this.unlistenImage_(),this.image_=getBlankImage(),this.changed()},t.prototype.handleImageLoad_=function(){var e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=TileState.LOADED:this.state=TileState.EMPTY,this.unlistenImage_(),this.changed()},t.prototype.load=function(){this.state==TileState.ERROR&&(this.state=TileState.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==TileState.IDLE&&(this.state=TileState.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=listenImage(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(Tile$1);function getBlankImage(){var e=createCanvasContext2D(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}const ImageTile$1=ImageTile;var Kinetic=function(){function e(e,t,n){this.decay_=e,this.minVelocity_=t,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return e.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},e.prototype.update=function(e,t){this.points_.push(e,t,Date.now())},e.prototype.end=function(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;for(var n=t-3;n>0&&this.points_[n+2]>e;)n-=3;var r=this.points_[t+2]-this.points_[n+2];if(r<1e3/60)return!1;var o=this.points_[t]-this.points_[n],i=this.points_[t+1]-this.points_[n+1];return this.angle_=Math.atan2(i,o),this.initialVelocity_=Math.sqrt(o*o+i*i)/r,this.initialVelocity_>this.minVelocity_},e.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},e.prototype.getAngle=function(){return this.angle_},e}(),__extends$1b=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),MapRenderer=function(e){function t(t){var n=e.call(this)||this;return n.map_=t,n}return __extends$1b(t,e),t.prototype.dispatchRenderEvent=function(e,t){abstract()},t.prototype.calculateMatrices2D=function(e){var t=e.viewState,n=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;compose$1(n,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),makeInverse(r,n)},t.prototype.forEachFeatureAtCoordinate=function(e,t,n,r,o,i,a,s){var l,u=t.viewState;function c(e,t,n,r){return o.call(i,t,e?n:null,r)}var d=u.projection,h=wrapX$1(e.slice(),d),p=[[0,0]];if(d.canWrapX()&&r){var f=getWidth(d.getExtent());p.push([-f,0],[f,0])}for(var m=t.layerStatesArray,_=m.length,g=[],v=[],y=0;y<p.length;y++)for(var b=_-1;b>=0;--b){var E=m[b],C=E.layer;if(C.hasRenderer()&&inView(E,u)&&a.call(s,C)){var x=C.getRenderer(),w=C.getSource();if(x&&w){var S=w.getWrapX()?h:e,T=c.bind(null,E.managed);v[0]=S[0]+p[y][0],v[1]=S[1]+p[y][1],l=x.forEachFeatureAtCoordinate(v,t,n,T,g)}if(l)return l}}if(0!==g.length){var k=1/g.length;return g.forEach((function(e,t){return e.distanceSq+=t*k})),g.sort((function(e,t){return e.distanceSq-t.distanceSq})),g.some((function(e){return l=e.callback(e.feature,e.layer,e.geometry)})),l}},t.prototype.forEachLayerAtPixel=function(e,t,n,r,o){return abstract()},t.prototype.hasFeatureAtCoordinate=function(e,t,n,r,o,i){return void 0!==this.forEachFeatureAtCoordinate(e,t,n,r,TRUE,this,o,i)},t.prototype.getMap=function(){return this.map_},t.prototype.renderFrame=function(e){abstract()},t.prototype.scheduleExpireIconCache=function(e){shared.canExpireCache()&&e.postRenderFunctions.push(expireIconCache)},t}(Disposable$1);function expireIconCache(e,t){shared.expire()}const MapRenderer$1=MapRenderer;var __extends$1a=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),CompositeMapRenderer=function(e){function t(t){var n=e.call(this,t)||this;n.fontChangeListenerKey_=listen(checkedFonts,ObjectEventType.PROPERTYCHANGE,t.redrawText.bind(t)),n.element_=document.createElement("div");var r=n.element_.style;r.position="absolute",r.width="100%",r.height="100%",r.zIndex="0",n.element_.className=CLASS_UNSELECTABLE+" ol-layers";var o=t.getViewport();return o.insertBefore(n.element_,o.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return __extends$1a(t,e),t.prototype.dispatchRenderEvent=function(e,t){var n=this.getMap();if(n.hasListener(e)){var r=new RenderEvent$1(e,void 0,t);n.dispatchEvent(r)}},t.prototype.disposeInternal=function(){unlistenByKey(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),e.prototype.disposeInternal.call(this)},t.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent(RenderEventType.PRECOMPOSE,e);var t=e.layerStatesArray.sort((function(e,t){return e.zIndex-t.zIndex})),n=e.viewState;this.children_.length=0;for(var r=[],o=null,i=0,a=t.length;i<a;++i){var s=t[i];e.layerIndex=i;var l=s.layer,u=l.getSourceState();if(!inView(s,n)||"ready"!=u&&"undefined"!=u)l.unrender();else{var c=l.render(e,o);c&&(c!==o&&(this.children_.push(c),o=c),"getDeclutter"in l&&r.push(l))}}for(i=r.length-1;i>=0;--i)r[i].renderDeclutter(e);replaceChildren(this.element_,this.children_),this.dispatchRenderEvent(RenderEventType.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},t.prototype.forEachLayerAtPixel=function(e,t,n,r,o){for(var i=t.viewState,a=t.layerStatesArray,s=a.length-1;s>=0;--s){var l=a[s],u=l.layer;if(u.hasRenderer()&&inView(l,i)&&o(u)){var c=u.getRenderer().getDataAtPixel(e,t,n);if(c){var d=r(u,c);if(d)return d}}}},t}(MapRenderer$1);const CompositeMapRenderer$1=CompositeMapRenderer;var __extends$19=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),GroupEvent=function(e){function t(t,n){var r=e.call(this,t)||this;return r.layer=n,r}return __extends$19(t,e),t}(Event$1),Property$2={LAYERS:"layers"},LayerGroup=function(e){function t(t){var n=this,r=t||{},o=assign({},r);delete o.layers;var i=r.layers;return(n=e.call(this,o)||this).on,n.once,n.un,n.layersListenerKeys_=[],n.listenerKeys_={},n.addChangeListener(Property$2.LAYERS,n.handleLayersChanged_),i?Array.isArray(i)?i=new Collection$1(i.slice(),{unique:!0}):assert("function"==typeof i.getArray,43):i=new Collection$1(void 0,{unique:!0}),n.setLayers(i),n}return __extends$19(t,e),t.prototype.handleLayerChange_=function(){this.changed()},t.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(unlistenByKey),this.layersListenerKeys_.length=0;var e=this.getLayers();for(var t in this.layersListenerKeys_.push(listen(e,CollectionEventType.ADD,this.handleLayersAdd_,this),listen(e,CollectionEventType.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[t].forEach(unlistenByKey);clear(this.listenerKeys_);for(var n=e.getArray(),r=0,o=n.length;r<o;r++){var i=n[r];this.registerLayerListeners_(i),this.dispatchEvent(new GroupEvent("addlayer",i))}this.changed()},t.prototype.registerLayerListeners_=function(e){var n=[listen(e,ObjectEventType.PROPERTYCHANGE,this.handleLayerChange_,this),listen(e,EventType.CHANGE,this.handleLayerChange_,this)];e instanceof t&&n.push(listen(e,"addlayer",this.handleLayerGroupAdd_,this),listen(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[getUid(e)]=n},t.prototype.handleLayerGroupAdd_=function(e){this.dispatchEvent(new GroupEvent("addlayer",e.layer))},t.prototype.handleLayerGroupRemove_=function(e){this.dispatchEvent(new GroupEvent("removelayer",e.layer))},t.prototype.handleLayersAdd_=function(e){var t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new GroupEvent("addlayer",t)),this.changed()},t.prototype.handleLayersRemove_=function(e){var t=e.element,n=getUid(t);this.listenerKeys_[n].forEach(unlistenByKey),delete this.listenerKeys_[n],this.dispatchEvent(new GroupEvent("removelayer",t)),this.changed()},t.prototype.getLayers=function(){return this.get(Property$2.LAYERS)},t.prototype.setLayers=function(e){var t=this.getLayers();if(t)for(var n=t.getArray(),r=0,o=n.length;r<o;++r)this.dispatchEvent(new GroupEvent("removelayer",n[r]));this.set(Property$2.LAYERS,e)},t.prototype.getLayersArray=function(e){var t=void 0!==e?e:[];return this.getLayers().forEach((function(e){e.getLayersArray(t)})),t},t.prototype.getLayerStatesArray=function(e){var t=void 0!==e?e:[],n=t.length;this.getLayers().forEach((function(e){e.getLayerStatesArray(t)}));var r=this.getLayerState(),o=r.zIndex;e||void 0!==r.zIndex||(o=0);for(var i=n,a=t.length;i<a;i++){var s=t[i];s.opacity*=r.opacity,s.visible=s.visible&&r.visible,s.maxResolution=Math.min(s.maxResolution,r.maxResolution),s.minResolution=Math.max(s.minResolution,r.minResolution),s.minZoom=Math.max(s.minZoom,r.minZoom),s.maxZoom=Math.min(s.maxZoom,r.maxZoom),void 0!==r.extent&&(void 0!==s.extent?s.extent=getIntersection(s.extent,r.extent):s.extent=r.extent),void 0===s.zIndex&&(s.zIndex=o)}return t},t.prototype.getSourceState=function(){return"ready"},t}(BaseLayer$1);const LayerGroup$1=LayerGroup;var __extends$18=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),MapEvent=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.map=n,o.frameState=void 0!==r?r:null,o}return __extends$18(t,e),t}(Event$1),__extends$17=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),MapBrowserEvent=function(e){function t(t,n,r,o,i,a){var s=e.call(this,t,n,i)||this;return s.originalEvent=r,s.pixel_=null,s.coordinate_=null,s.dragging=void 0!==o&&o,s.activePointers=a,s}return __extends$17(t,e),Object.defineProperty(t.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(e){this.pixel_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(e){this.coordinate_=e},enumerable:!1,configurable:!0}),t.prototype.preventDefault=function(){e.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){e.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},t}(MapEvent);const MapBrowserEventType={SINGLECLICK:"singleclick",CLICK:EventType.CLICK,DBLCLICK:EventType.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},PointerEventType={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var __extends$16=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),MapBrowserEventHandler=function(e){function t(t,n){var r=e.call(this,t)||this;r.map_=t,r.clickTimeoutId_,r.emulateClicks_=!1,r.dragging_=!1,r.dragListenerKeys_=[],r.moveTolerance_=void 0===n?1:n,r.down_=null;var o=r.map_.getViewport();return r.activePointers_=[],r.trackedTouches_={},r.element_=o,r.pointerdownListenerKey_=listen(o,PointerEventType.POINTERDOWN,r.handlePointerDown_,r),r.originalPointerMoveEvent_,r.relayedListenerKey_=listen(o,PointerEventType.POINTERMOVE,r.relayMoveEvent_,r),r.boundHandleTouchMove_=r.handleTouchMove_.bind(r),r.element_.addEventListener(EventType.TOUCHMOVE,r.boundHandleTouchMove_,!!PASSIVE_EVENT_LISTENERS&&{passive:!1}),r}return __extends$16(t,e),t.prototype.emulateClick_=function(e){var t=new MapBrowserEvent(MapBrowserEventType.CLICK,this.map_,e);this.dispatchEvent(t),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new MapBrowserEvent(MapBrowserEventType.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var t=new MapBrowserEvent(MapBrowserEventType.SINGLECLICK,this.map_,e);this.dispatchEvent(t)}.bind(this),250)},t.prototype.updateActivePointers_=function(e){var t=e,n=t.pointerId;if(t.type==MapBrowserEventType.POINTERUP||t.type==MapBrowserEventType.POINTERCANCEL){for(var r in delete this.trackedTouches_[n],this.trackedTouches_)if(this.trackedTouches_[r].target!==t.target){delete this.trackedTouches_[r];break}}else t.type!=MapBrowserEventType.POINTERDOWN&&t.type!=MapBrowserEventType.POINTERMOVE||(this.trackedTouches_[n]=t);this.activePointers_=getValues(this.trackedTouches_)},t.prototype.handlePointerUp_=function(e){this.updateActivePointers_(e);var t=new MapBrowserEvent(MapBrowserEventType.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},t.prototype.isMouseActionButton_=function(e){return 0===e.button},t.prototype.handlePointerDown_=function(e){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(e);var t=new MapBrowserEvent(MapBrowserEventType.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);for(var n in this.dispatchEvent(t),this.down_={},e){var r=e[n];this.down_[n]="function"==typeof r?VOID:r}if(0===this.dragListenerKeys_.length){var o=this.map_.getOwnerDocument();this.dragListenerKeys_.push(listen(o,MapBrowserEventType.POINTERMOVE,this.handlePointerMove_,this),listen(o,MapBrowserEventType.POINTERUP,this.handlePointerUp_,this),listen(this.element_,MapBrowserEventType.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==o&&this.dragListenerKeys_.push(listen(this.element_.getRootNode(),MapBrowserEventType.POINTERUP,this.handlePointerUp_,this))}},t.prototype.handlePointerMove_=function(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;var t=new MapBrowserEvent(MapBrowserEventType.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}},t.prototype.relayMoveEvent_=function(e){this.originalPointerMoveEvent_=e;var t=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new MapBrowserEvent(MapBrowserEventType.POINTERMOVE,this.map_,e,t))},t.prototype.handleTouchMove_=function(e){var t=this.originalPointerMoveEvent_;t&&!t.defaultPrevented||"boolean"==typeof e.cancelable&&!0!==e.cancelable||e.preventDefault()},t.prototype.isMoving_=function(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_},t.prototype.disposeInternal=function(){this.relayedListenerKey_&&(unlistenByKey(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(EventType.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(unlistenByKey(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(unlistenByKey),this.dragListenerKeys_.length=0,this.element_=null,e.prototype.disposeInternal.call(this)},t}(EventTarget);const MapBrowserEventHandler$1=MapBrowserEventHandler,MapEventType={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},MapProperty={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};var DROP=1/0,PriorityQueue=function(){function e(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return e.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,clear(this.queuedElements_)},e.prototype.dequeue=function(){var e=this.elements_,t=this.priorities_,n=e[0];1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));var r=this.keyFunction_(n);return delete this.queuedElements_[r],n},e.prototype.enqueue=function(e){assert(!(this.keyFunction_(e)in this.queuedElements_),31);var t=this.priorityFunction_(e);return t!=DROP&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},e.prototype.getCount=function(){return this.elements_.length},e.prototype.getLeftChildIndex_=function(e){return 2*e+1},e.prototype.getRightChildIndex_=function(e){return 2*e+2},e.prototype.getParentIndex_=function(e){return e-1>>1},e.prototype.heapify_=function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)},e.prototype.isEmpty=function(){return 0===this.elements_.length},e.prototype.isKeyQueued=function(e){return e in this.queuedElements_},e.prototype.isQueued=function(e){return this.isKeyQueued(this.keyFunction_(e))},e.prototype.siftUp_=function(e){for(var t=this.elements_,n=this.priorities_,r=t.length,o=t[e],i=n[e],a=e;e<r>>1;){var s=this.getLeftChildIndex_(e),l=this.getRightChildIndex_(e),u=l<r&&n[l]<n[s]?l:s;t[e]=t[u],n[e]=n[u],e=u}t[e]=o,n[e]=i,this.siftDown_(a,e)},e.prototype.siftDown_=function(e,t){for(var n=this.elements_,r=this.priorities_,o=n[t],i=r[t];t>e;){var a=this.getParentIndex_(t);if(!(r[a]>i))break;n[t]=n[a],r[t]=r[a],t=a}n[t]=o,r[t]=i},e.prototype.reprioritize=function(){var e,t,n,r=this.priorityFunction_,o=this.elements_,i=this.priorities_,a=0,s=o.length;for(t=0;t<s;++t)(n=r(e=o[t]))==DROP?delete this.queuedElements_[this.keyFunction_(e)]:(i[a]=n,o[a++]=e);o.length=a,i.length=a,this.heapify_()},e}();const PriorityQueue$1=PriorityQueue;var __extends$15=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),TileQueue=function(e){function t(t,n){var r=e.call(this,(function(e){return t.apply(null,e)}),(function(e){return e[0].getKey()}))||this;return r.boundHandleTileChange_=r.handleTileChange.bind(r),r.tileChangeCallback_=n,r.tilesLoading_=0,r.tilesLoadingKeys_={},r}return __extends$15(t,e),t.prototype.enqueue=function(t){var n=e.prototype.enqueue.call(this,t);n&&t[0].addEventListener(EventType.CHANGE,this.boundHandleTileChange_);return n},t.prototype.getTilesLoading=function(){return this.tilesLoading_},t.prototype.handleTileChange=function(e){var t=e.target,n=t.getState();if(n===TileState.LOADED||n===TileState.ERROR||n===TileState.EMPTY){t.removeEventListener(EventType.CHANGE,this.boundHandleTileChange_);var r=t.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}},t.prototype.loadMoreTiles=function(e,t){for(var n,r,o=0;this.tilesLoading_<e&&o<t&&this.getCount()>0;)r=(n=this.dequeue()[0]).getKey(),n.getState()!==TileState.IDLE||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++o,n.load())},t}(PriorityQueue$1);const TileQueue$1=TileQueue;function getTilePriority(e,t,n,r,o){if(!e||!(n in e.wantedTiles))return DROP;if(!e.wantedTiles[n][t.getKey()])return DROP;var i=e.viewState.center,a=r[0]-i[0],s=r[1]-i[1];return 65536*Math.log(o)+Math.sqrt(a*a+s*s)/o}const ViewProperty={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var DEFAULT_MAX_ZOOM=42,DEFAULT_TILE_SIZE=256;function createExtent(e,t,n){return function(r,o,i,a,s){if(r){if(!o&&!t)return r;var l=t?0:i[0]*o,u=t?0:i[1]*o,c=s?s[0]:0,d=s?s[1]:0,h=e[0]+l/2+c,p=e[2]-l/2+c,f=e[1]+u/2+d,m=e[3]-u/2+d;h>p&&(p=h=(p+h)/2),f>m&&(m=f=(m+f)/2);var _=clamp$1(r[0],h,p),g=clamp$1(r[1],f,m);if(a&&n&&o){var v=30*o;_+=-v*Math.log(1+Math.max(0,h-r[0])/v)+v*Math.log(1+Math.max(0,r[0]-p)/v),g+=-v*Math.log(1+Math.max(0,f-r[1])/v)+v*Math.log(1+Math.max(0,r[1]-m)/v)}return[_,g]}}}function none$1(e){return e}function getViewportClampedResolution(e,t,n,r){var o=getWidth(t)/n[0],i=getHeight(t)/n[1];return r?Math.min(e,Math.max(o,i)):Math.min(e,Math.min(o,i))}function getSmoothClampedResolution(e,t,n){var r=Math.min(e,t);return r*=Math.log(1+50*Math.max(0,e/t-1))/50+1,n&&(r=Math.max(r,n),r/=Math.log(1+50*Math.max(0,n/e-1))/50+1),clamp$1(r,n/2,2*t)}function createSnapToResolutions(e,t,n,r){return function(o,i,a,s){if(void 0!==o){var l=e[0],u=e[e.length-1],c=n?getViewportClampedResolution(l,n,a,r):l;if(s)return void 0===t||t?getSmoothClampedResolution(o,c,u):clamp$1(o,u,c);var d=Math.min(c,o),h=Math.floor(linearFindNearest(e,d,i));return e[h]>c&&h<e.length-1?e[h+1]:e[h]}}}function createSnapToPower(e,t,n,r,o,i){return function(a,s,l,u){if(void 0!==a){var c=o?getViewportClampedResolution(t,o,l,i):t,d=void 0!==n?n:0;if(u)return void 0===r||r?getSmoothClampedResolution(a,c,d):clamp$1(a,d,c);var h=Math.ceil(Math.log(t/c)/Math.log(e)-1e-9),p=-s*(.5-1e-9)+.5,f=Math.min(c,a),m=Math.floor(Math.log(t/f)/Math.log(e)+p),_=Math.max(h,m);return clamp$1(t/Math.pow(e,_),d,c)}}}function createMinMaxResolution(e,t,n,r,o){return function(i,a,s,l){if(void 0!==i){var u=r?getViewportClampedResolution(e,r,s,o):e;return(void 0===n||n)&&l?getSmoothClampedResolution(i,u,t):clamp$1(i,t,u)}}}function disable(e){return void 0!==e?0:void 0}function none(e){return void 0!==e?e:void 0}function createSnapToN(e){var t=2*Math.PI/e;return function(e,n){return n?e:void 0!==e?e=Math.floor(e/t+.5)*t:void 0}}function createSnapToZero(e){var t=e||toRadians(5);return function(e,n){return n?e:void 0!==e?Math.abs(e)<=t?0:e:void 0}}var __extends$14=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),DEFAULT_MIN_ZOOM=0,View=function(e){function t(t){var n=e.call(this)||this;n.on,n.once,n.un;var r=assign({},t);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=createProjection(r.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.targetResolution_,n.targetRotation_,n.nextCenter_=null,n.nextResolution_,n.nextRotation_,n.cancelAnchor_=void 0,r.projection&&disableCoordinateWarning(),r.center&&(r.center=fromUserCoordinate(r.center,n.projection_)),r.extent&&(r.extent=fromUserExtent(r.extent,n.projection_)),n.applyOptions_(r),n}return __extends$14(t,e),t.prototype.applyOptions_=function(e){var t=assign({},e);for(var n in ViewProperty)delete t[n];this.setProperties(t,!0);var r=createResolutionConstraint(e);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=r.minZoom;var o=createCenterConstraint(e),i=r.constraint,a=createRotationConstraint(e);this.constraints_={center:o,resolution:i,rotation:a},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom)},Object.defineProperty(t.prototype,"padding",{get:function(){return this.padding_},set:function(e){var t=this.padding_;this.padding_=e;var n=this.getCenter();if(n){var r=e||[0,0,0,0];t=t||[0,0,0,0];var o=this.getResolution(),i=o/2*(r[3]-t[3]+t[1]-r[1]),a=o/2*(r[0]-t[0]+t[2]-r[2]);this.setCenterInternal([n[0]+i,n[1]-a])}},enumerable:!1,configurable:!0}),t.prototype.getUpdatedOptions_=function(e){var t=this.getProperties();return void 0!==t.resolution?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),assign({},t,e)},t.prototype.animate=function(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var t=new Array(arguments.length),n=0;n<t.length;++n){var r=arguments[n];r.center&&((r=assign({},r)).center=fromUserCoordinate(r.center,this.getProjection())),r.anchor&&((r=assign({},r)).anchor=fromUserCoordinate(r.anchor,this.getProjection())),t[n]=r}this.animateInternal.apply(this,t)},t.prototype.animateInternal=function(e){var t,n=arguments.length;n>1&&"function"==typeof arguments[n-1]&&(t=arguments[n-1],--n);for(var r=0;r<n&&!this.isDef();++r){var o=arguments[r];o.center&&this.setCenterInternal(o.center),void 0!==o.zoom?this.setZoom(o.zoom):o.resolution&&this.setResolution(o.resolution),void 0!==o.rotation&&this.setRotation(o.rotation)}if(r!==n){for(var i=Date.now(),a=this.targetCenter_.slice(),s=this.targetResolution_,l=this.targetRotation_,u=[];r<n;++r){var c=arguments[r],d={start:i,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||inAndOut,callback:t};if(c.center&&(d.sourceCenter=a,d.targetCenter=c.center.slice(),a=d.targetCenter),void 0!==c.zoom?(d.sourceResolution=s,d.targetResolution=this.getResolutionForZoom(c.zoom),s=d.targetResolution):c.resolution&&(d.sourceResolution=s,d.targetResolution=c.resolution,s=d.targetResolution),void 0!==c.rotation){d.sourceRotation=l;var h=modulo(c.rotation-l+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=l+h,l=d.targetRotation}isNoopAnimation(d)?d.complete=!0:i+=d.duration,u.push(d)}this.animations_.push(u),this.setHint(ViewHint.ANIMATING,1),this.updateAnimations_()}else t&&animationCallback(t,!0)},t.prototype.getAnimating=function(){return this.hints_[ViewHint.ANIMATING]>0},t.prototype.getInteracting=function(){return this.hints_[ViewHint.INTERACTING]>0},t.prototype.cancelAnimations=function(){var e;this.setHint(ViewHint.ANIMATING,-this.hints_[ViewHint.ANIMATING]);for(var t=0,n=this.animations_.length;t<n;++t){var r=this.animations_[t];if(r[0].callback&&animationCallback(r[0].callback,!1),!e)for(var o=0,i=r.length;o<i;++o){var a=r[o];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},t.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var e=Date.now(),t=!1,n=this.animations_.length-1;n>=0;--n){for(var r=this.animations_[n],o=!0,i=0,a=r.length;i<a;++i){var s=r[i];if(!s.complete){var l=e-s.start,u=s.duration>0?l/s.duration:1;u>=1?(s.complete=!0,u=1):o=!1;var c=s.easing(u);if(s.sourceCenter){var d=s.sourceCenter[0],h=s.sourceCenter[1],p=s.targetCenter[0],f=s.targetCenter[1];this.nextCenter_=s.targetCenter;var m=d+c*(p-d),_=h+c*(f-h);this.targetCenter_=[m,_]}if(s.sourceResolution&&s.targetResolution){var g=1===c?s.targetResolution:s.sourceResolution+c*(s.targetResolution-s.sourceResolution);if(s.anchor){var v=this.getViewportSize_(this.getRotation()),y=this.constraints_.resolution(g,0,v,!0);this.targetCenter_=this.calculateCenterZoom(y,s.anchor)}this.nextResolution_=s.targetResolution,this.targetResolution_=g,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var b=1===c?modulo(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+c*(s.targetRotation-s.sourceRotation);if(s.anchor){var E=this.constraints_.rotation(b,!0);this.targetCenter_=this.calculateCenterRotate(E,s.anchor)}this.nextRotation_=s.targetRotation,this.targetRotation_=b}if(this.applyTargetState_(!0),t=!0,!s.complete)break}}if(o){this.animations_[n]=null,this.setHint(ViewHint.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var C=r[0].callback;C&&animationCallback(C,!0)}}this.animations_=this.animations_.filter(Boolean),t&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},t.prototype.calculateCenterRotate=function(e,t){var n,r=this.getCenterInternal();return void 0!==r&&(rotate$1(n=[r[0]-t[0],r[1]-t[1]],e-this.getRotation()),add$1(n,t)),n},t.prototype.calculateCenterZoom=function(e,t){var n,r=this.getCenterInternal(),o=this.getResolution();void 0!==r&&void 0!==o&&(n=[t[0]-e*(t[0]-r[0])/o,t[1]-e*(t[1]-r[1])/o]);return n},t.prototype.getViewportSize_=function(e){var t=this.viewportSize_;if(e){var n=t[0],r=t[1];return[Math.abs(n*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(n*Math.sin(e))+Math.abs(r*Math.cos(e))]}return t},t.prototype.setViewportSize=function(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},t.prototype.getCenter=function(){var e=this.getCenterInternal();return e?toUserCoordinate(e,this.getProjection()):e},t.prototype.getCenterInternal=function(){return this.get(ViewProperty.CENTER)},t.prototype.getConstraints=function(){return this.constraints_},t.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},t.prototype.getHints=function(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()},t.prototype.calculateExtent=function(e){return toUserExtent(this.calculateExtentInternal(e),this.getProjection())},t.prototype.calculateExtentInternal=function(e){var t=e||this.getViewportSizeMinusPadding_(),n=this.getCenterInternal();assert(n,1);var r=this.getResolution();assert(void 0!==r,2);var o=this.getRotation();return assert(void 0!==o,3),getForViewAndSize(n,r,o,t)},t.prototype.getMaxResolution=function(){return this.maxResolution_},t.prototype.getMinResolution=function(){return this.minResolution_},t.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},t.prototype.setMaxZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))},t.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},t.prototype.setMinZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))},t.prototype.setConstrainResolution=function(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))},t.prototype.getProjection=function(){return this.projection_},t.prototype.getResolution=function(){return this.get(ViewProperty.RESOLUTION)},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getResolutionForExtent=function(e,t){return this.getResolutionForExtentInternal(fromUserExtent(e,this.getProjection()),t)},t.prototype.getResolutionForExtentInternal=function(e,t){var n=t||this.getViewportSizeMinusPadding_(),r=getWidth(e)/n[0],o=getHeight(e)/n[1];return Math.max(r,o)},t.prototype.getResolutionForValueFunction=function(e){var t=e||2,n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,o=Math.log(n/r)/Math.log(t);return function(e){return n/Math.pow(t,e*o)}},t.prototype.getRotation=function(){return this.get(ViewProperty.ROTATION)},t.prototype.getValueForResolutionFunction=function(e){var t=Math.log(e||2),n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,o=Math.log(n/r)/t;return function(e){return Math.log(n/e)/t/o}},t.prototype.getViewportSizeMinusPadding_=function(e){var t=this.getViewportSize_(e),n=this.padding_;return n&&(t=[t[0]-n[1]-n[3],t[1]-n[0]-n[2]]),t},t.prototype.getState=function(){var e=this.getProjection(),t=this.getResolution(),n=this.getRotation(),r=this.getCenterInternal(),o=this.padding_;if(o){var i=this.getViewportSizeMinusPadding_();r=calculateCenterOn(r,this.getViewportSize_(),[i[0]/2+o[3],i[1]/2+o[0]],t,n)}return{center:r.slice(0),projection:void 0!==e?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}},t.prototype.getZoom=function(){var e,t=this.getResolution();return void 0!==t&&(e=this.getZoomForResolution(t)),e},t.prototype.getZoomForResolution=function(e){var t,n,r=this.minZoom_||0;if(this.resolutions_){var o=linearFindNearest(this.resolutions_,e,1);r=o,t=this.resolutions_[o],n=o==this.resolutions_.length-1?2:t/this.resolutions_[o+1]}else t=this.maxResolution_,n=this.zoomFactor_;return r+Math.log(t/e)/Math.log(n)},t.prototype.getResolutionForZoom=function(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var t=clamp$1(Math.floor(e),0,this.resolutions_.length-2),n=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(n,clamp$1(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)},t.prototype.fit=function(e,t){var n;if(assert(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,24),Array.isArray(e))assert(!isEmpty$1(e),25),n=fromExtent(r=fromUserExtent(e,this.getProjection()));else if("Circle"===e.getType()){var r;(n=fromExtent(r=fromUserExtent(e.getExtent(),this.getProjection()))).rotate(this.getRotation(),getCenter(r))}else{var o=getUserProjection();n=o?e.clone().transform(o,this.getProjection()):e}this.fitInternal(n,t)},t.prototype.rotatedExtentForGeometry=function(e){for(var t=this.getRotation(),n=Math.cos(t),r=Math.sin(-t),o=e.getFlatCoordinates(),i=e.getStride(),a=1/0,s=1/0,l=-1/0,u=-1/0,c=0,d=o.length;c<d;c+=i){var h=o[c]*n-o[c+1]*r,p=o[c]*r+o[c+1]*n;a=Math.min(a,h),s=Math.min(s,p),l=Math.max(l,h),u=Math.max(u,p)}return[a,s,l,u]},t.prototype.fitInternal=function(e,t){var n=t||{},r=n.size;r||(r=this.getViewportSizeMinusPadding_());var o,i=void 0!==n.padding?n.padding:[0,0,0,0],a=void 0!==n.nearest&&n.nearest;o=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;var s=this.rotatedExtentForGeometry(e),l=this.getResolutionForExtentInternal(s,[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]);l=isNaN(l)?o:Math.max(l,o),l=this.getConstrainedResolution(l,a?0:1);var u=this.getRotation(),c=Math.sin(u),d=Math.cos(u),h=getCenter(s);h[0]+=(i[1]-i[3])/2*l,h[1]+=(i[0]-i[2])/2*l;var p=h[0]*d-h[1]*c,f=h[1]*d+h[0]*c,m=this.getConstrainedCenter([p,f],l),_=n.callback?n.callback:VOID;void 0!==n.duration?this.animateInternal({resolution:l,center:m,duration:n.duration,easing:n.easing},_):(this.targetResolution_=l,this.targetCenter_=m,this.applyTargetState_(!1,!0),animationCallback(_,!0))},t.prototype.centerOn=function(e,t,n){this.centerOnInternal(fromUserCoordinate(e,this.getProjection()),t,n)},t.prototype.centerOnInternal=function(e,t,n){this.setCenterInternal(calculateCenterOn(e,t,n,this.getResolution(),this.getRotation()))},t.prototype.calculateCenterShift=function(e,t,n,r){var o,i=this.padding_;if(i&&e){var a=this.getViewportSizeMinusPadding_(-n),s=calculateCenterOn(e,r,[a[0]/2+i[3],a[1]/2+i[0]],t,n);o=[e[0]-s[0],e[1]-s[1]]}return o},t.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},t.prototype.adjustCenter=function(e){var t=toUserCoordinate(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])},t.prototype.adjustCenterInternal=function(e){var t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])},t.prototype.adjustResolution=function(e,t){var n=t&&fromUserCoordinate(t,this.getProjection());this.adjustResolutionInternal(e,n)},t.prototype.adjustResolutionInternal=function(e,t){var n=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*e,0,r,n);t&&(this.targetCenter_=this.calculateCenterZoom(o,t)),this.targetResolution_*=e,this.applyTargetState_()},t.prototype.adjustZoom=function(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)},t.prototype.adjustRotation=function(e,t){t&&(t=fromUserCoordinate(t,this.getProjection())),this.adjustRotationInternal(e,t)},t.prototype.adjustRotationInternal=function(e,t){var n=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,n);t&&(this.targetCenter_=this.calculateCenterRotate(r,t)),this.targetRotation_+=e,this.applyTargetState_()},t.prototype.setCenter=function(e){this.setCenterInternal(e?fromUserCoordinate(e,this.getProjection()):e)},t.prototype.setCenterInternal=function(e){this.targetCenter_=e,this.applyTargetState_()},t.prototype.setHint=function(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]},t.prototype.setResolution=function(e){this.targetResolution_=e,this.applyTargetState_()},t.prototype.setRotation=function(e){this.targetRotation_=e,this.applyTargetState_()},t.prototype.setZoom=function(e){this.setResolution(this.getResolutionForZoom(e))},t.prototype.applyTargetState_=function(e,t){var n=this.getAnimating()||this.getInteracting()||t,r=this.constraints_.rotation(this.targetRotation_,n),o=this.getViewportSize_(r),i=this.constraints_.resolution(this.targetResolution_,0,o,n),a=this.constraints_.center(this.targetCenter_,i,o,n,this.calculateCenterShift(this.targetCenter_,i,r,o));this.get(ViewProperty.ROTATION)!==r&&this.set(ViewProperty.ROTATION,r),this.get(ViewProperty.RESOLUTION)!==i&&(this.set(ViewProperty.RESOLUTION,i),this.set("zoom",this.getZoom(),!0)),a&&this.get(ViewProperty.CENTER)&&equals(this.get(ViewProperty.CENTER),a)||this.set(ViewProperty.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0},t.prototype.resolveConstraints=function(e,t,n){var r=void 0!==e?e:200,o=t||0,i=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(i),s=this.constraints_.resolution(this.targetResolution_,o,a),l=this.constraints_.center(this.targetCenter_,s,a,!1,this.calculateCenterShift(this.targetCenter_,s,i,a));if(0===r&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=i,this.targetCenter_=l,void this.applyTargetState_();var u=n||(0===r?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===i&&this.getCenterInternal()&&equals(this.getCenterInternal(),l)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:i,center:l,resolution:s,duration:r,easing:easeOut,anchor:u}))},t.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(ViewHint.INTERACTING,1)},t.prototype.endInteraction=function(e,t,n){var r=n&&fromUserCoordinate(n,this.getProjection());this.endInteractionInternal(e,t,r)},t.prototype.endInteractionInternal=function(e,t,n){this.setHint(ViewHint.INTERACTING,-1),this.resolveConstraints(e,t,n)},t.prototype.getConstrainedCenter=function(e,t){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),n)},t.prototype.getConstrainedZoom=function(e,t){var n=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(n,t))},t.prototype.getConstrainedResolution=function(e,t){var n=t||0,r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,r)},t}(BaseObject$1);function animationCallback(e,t){setTimeout((function(){e(t)}),0)}function createCenterConstraint(e){if(void 0!==e.extent){var t=void 0===e.smoothExtentConstraint||e.smoothExtentConstraint;return createExtent(e.extent,e.constrainOnlyCenter,t)}var n=createProjection(e.projection,"EPSG:3857");if(!0!==e.multiWorld&&n.isGlobal()){var r=n.getExtent().slice();return r[0]=-1/0,r[2]=1/0,createExtent(r,!1,!1)}return none$1}function createResolutionConstraint(e){var t,n,r,o=void 0!==e.minZoom?e.minZoom:DEFAULT_MIN_ZOOM,i=void 0!==e.maxZoom?e.maxZoom:28,a=void 0!==e.zoomFactor?e.zoomFactor:2,s=void 0!==e.multiWorld&&e.multiWorld,l=void 0===e.smoothResolutionConstraint||e.smoothResolutionConstraint,u=void 0!==e.showFullExtent&&e.showFullExtent,c=createProjection(e.projection,"EPSG:3857"),d=c.getExtent(),h=e.constrainOnlyCenter,p=e.extent;if(s||p||!c.isGlobal()||(h=!1,p=d),void 0!==e.resolutions){var f=e.resolutions;n=f[o],r=void 0!==f[i]?f[i]:f[f.length-1],t=e.constrainResolution?createSnapToResolutions(f,l,!h&&p,u):createMinMaxResolution(n,r,l,!h&&p,u)}else{var m=(d?Math.max(getWidth(d),getHeight(d)):360*METERS_PER_UNIT$1[Units$2.DEGREES]/c.getMetersPerUnit())/DEFAULT_TILE_SIZE/Math.pow(2,DEFAULT_MIN_ZOOM),_=m/Math.pow(2,28-DEFAULT_MIN_ZOOM);void 0!==(n=e.maxResolution)?o=0:n=m/Math.pow(a,o),void 0===(r=e.minResolution)&&(r=void 0!==e.maxZoom?void 0!==e.maxResolution?n/Math.pow(a,i):m/Math.pow(a,i):_),i=o+Math.floor(Math.log(n/r)/Math.log(a)),r=n/Math.pow(a,i-o),t=e.constrainResolution?createSnapToPower(a,n,r,l,!h&&p,u):createMinMaxResolution(n,r,l,!h&&p,u)}return{constraint:t,maxResolution:n,minResolution:r,minZoom:o,zoomFactor:a}}function createRotationConstraint(e){if(void 0===e.enableRotation||e.enableRotation){var t=e.constrainRotation;return void 0===t||!0===t?createSnapToZero():!1===t?none:"number"==typeof t?createSnapToN(t):none}return disable}function isNoopAnimation(e){return!(e.sourceCenter&&e.targetCenter&&!equals(e.sourceCenter,e.targetCenter))&&(e.sourceResolution===e.targetResolution&&e.sourceRotation===e.targetRotation)}function calculateCenterOn(e,t,n,r,o){var i=Math.cos(-o),a=Math.sin(-o),s=e[0]*i-e[1]*a,l=e[1]*i+e[0]*a;return[(s+=(t[0]/2-n[0])*r)*i-(l+=(n[1]-t[1]/2)*r)*(a=-a),l*i+s*a]}var __extends$13=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function removeLayerMapProperty(e){e instanceof Layer$1?e.setMapInternal(null):e instanceof LayerGroup$1&&e.getLayers().forEach(removeLayerMapProperty)}function setLayerMapProperty(e,t){if(e instanceof Layer$1)e.setMapInternal(t);else if(e instanceof LayerGroup$1)for(var n=e.getLayers().getArray(),r=0,o=n.length;r<o;++r)setLayerMapProperty(n[r],t)}var PluggableMap=function(e){function t(t){var n=e.call(this)||this;n.on,n.once,n.un;var r=createOptionsInternal(t);n.renderComplete_,n.loaded_=!0,n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==t.maxTilesLoading?t.maxTilesLoading:16,n.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:DEVICE_PIXEL_RATIO,n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=create$2(),n.pixelToCoordinateTransform_=create$2(),n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.style.pointerEvents="none",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.style.pointerEvents="none",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=t.moveTolerance,n.keyboardEventTarget_=r.keyboardEventTarget,n.targetChangeHandlerKeys_=null,n.controls=r.controls||new Collection$1,n.interactions=r.interactions||new Collection$1,n.overlays_=r.overlays,n.overlayIdIndex_={},n.renderer_=null,n.postRenderFunctions_=[],n.tileQueue_=new TileQueue$1(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addChangeListener(MapProperty.LAYERGROUP,n.handleLayerGroupChanged_),n.addChangeListener(MapProperty.VIEW,n.handleViewChanged_),n.addChangeListener(MapProperty.SIZE,n.handleSizeChanged_),n.addChangeListener(MapProperty.TARGET,n.handleTargetChanged_),n.setProperties(r.values);var o=n;return!t.view||t.view instanceof View||t.view.then((function(e){o.setView(new View(e))})),n.controls.addEventListener(CollectionEventType.ADD,function(e){e.element.setMap(this)}.bind(n)),n.controls.addEventListener(CollectionEventType.REMOVE,function(e){e.element.setMap(null)}.bind(n)),n.interactions.addEventListener(CollectionEventType.ADD,function(e){e.element.setMap(this)}.bind(n)),n.interactions.addEventListener(CollectionEventType.REMOVE,function(e){e.element.setMap(null)}.bind(n)),n.overlays_.addEventListener(CollectionEventType.ADD,function(e){this.addOverlayInternal_(e.element)}.bind(n)),n.overlays_.addEventListener(CollectionEventType.REMOVE,function(e){var t=e.element.getId();void 0!==t&&delete this.overlayIdIndex_[t.toString()],e.element.setMap(null)}.bind(n)),n.controls.forEach(function(e){e.setMap(this)}.bind(n)),n.interactions.forEach(function(e){e.setMap(this)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n}return __extends$13(t,e),t.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},t.prototype.addControl=function(e){this.getControls().push(e)},t.prototype.addInteraction=function(e){this.getInteractions().push(e)},t.prototype.addLayer=function(e){this.getLayerGroup().getLayers().push(e)},t.prototype.handleLayerAdd_=function(e){setLayerMapProperty(e.layer,this)},t.prototype.addOverlay=function(e){this.getOverlays().push(e)},t.prototype.addOverlayInternal_=function(e){var t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)},t.prototype.disposeInternal=function(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.setTarget(null),e.prototype.disposeInternal.call(this)},t.prototype.forEachFeatureAtPixel=function(e,t,n){if(this.frameState_&&this.renderer_){var r=this.getCoordinateFromPixelInternal(e),o=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,i=void 0!==n.layerFilter?n.layerFilter:TRUE,a=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,o,a,t,null,i,null)}},t.prototype.getFeaturesAtPixel=function(e,t){var n=[];return this.forEachFeatureAtPixel(e,(function(e){n.push(e)}),t),n},t.prototype.getAllLayers=function(){var e=[];return function t(n){n.forEach((function(n){n instanceof LayerGroup$1?t(n.getLayers()):e.push(n)}))}(this.getLayers()),e},t.prototype.forEachLayerAtPixel=function(e,t,n){if(this.frameState_&&this.renderer_){var r=n||{},o=void 0!==r.hitTolerance?r.hitTolerance:0,i=r.layerFilter||TRUE;return this.renderer_.forEachLayerAtPixel(e,this.frameState_,o,t,i)}},t.prototype.hasFeatureAtPixel=function(e,t){if(!this.frameState_||!this.renderer_)return!1;var n=this.getCoordinateFromPixelInternal(e),r=void 0!==(t=void 0!==t?t:{}).layerFilter?t.layerFilter:TRUE,o=void 0!==t.hitTolerance?t.hitTolerance:0,i=!1!==t.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,o,i,r,null)},t.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))},t.prototype.getEventCoordinateInternal=function(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))},t.prototype.getEventPixel=function(e){var t=this.viewport_.getBoundingClientRect(),n="changedTouches"in e?e.changedTouches[0]:e;return[n.clientX-t.left,n.clientY-t.top]},t.prototype.getTarget=function(){return this.get(MapProperty.TARGET)},t.prototype.getTargetElement=function(){var e=this.getTarget();return void 0!==e?"string"==typeof e?document.getElementById(e):e:null},t.prototype.getCoordinateFromPixel=function(e){return toUserCoordinate(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())},t.prototype.getCoordinateFromPixelInternal=function(e){var t=this.frameState_;return t?apply$1(t.pixelToCoordinateTransform,e.slice()):null},t.prototype.getControls=function(){return this.controls},t.prototype.getOverlays=function(){return this.overlays_},t.prototype.getOverlayById=function(e){var t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null},t.prototype.getInteractions=function(){return this.interactions},t.prototype.getLayerGroup=function(){return this.get(MapProperty.LAYERGROUP)},t.prototype.setLayers=function(e){var t=this.getLayerGroup();if(e instanceof Collection$1)t.setLayers(e);else{var n=t.getLayers();n.clear(),n.extend(e)}},t.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},t.prototype.getLoadingOrNotReady=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,n=e.length;t<n;++t){var r=e[t];if(r.visible){var o=r.layer.getRenderer();if(o&&!o.ready)return!0;var i=r.layer.getSource();if(i&&i.loading)return!0}}return!1},t.prototype.getPixelFromCoordinate=function(e){var t=fromUserCoordinate(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)},t.prototype.getPixelFromCoordinateInternal=function(e){var t=this.frameState_;return t?apply$1(t.coordinateToPixelTransform,e.slice(0,2)):null},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.getSize=function(){return this.get(MapProperty.SIZE)},t.prototype.getView=function(){return this.get(MapProperty.VIEW)},t.prototype.getViewport=function(){return this.viewport_},t.prototype.getOverlayContainer=function(){return this.overlayContainer_},t.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},t.prototype.getOwnerDocument=function(){var e=this.getTargetElement();return e?e.ownerDocument:document},t.prototype.getTilePriority=function(e,t,n,r){return getTilePriority(this.frameState_,e,t,n,r)},t.prototype.handleBrowserEvent=function(e,t){var n=t||e.type,r=new MapBrowserEvent(n,this,e);this.handleMapBrowserEvent(r)},t.prototype.handleMapBrowserEvent=function(e){if(this.frameState_){var t=e.originalEvent,n=t.type;if(n===PointerEventType.POINTERDOWN||n===EventType.WHEEL||n===EventType.KEYDOWN){var r=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():r,i=t.target;if(this.overlayContainerStopEvent_.contains(i)||!(o===r?r.documentElement:o).contains(i))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e))for(var a=this.getInteractions().getArray().slice(),s=a.length-1;s>=0;s--){var l=a[s];if(l.getMap()===this&&l.getActive()&&this.getTargetElement())if(!l.handleEvent(e)||e.propagationStopped)break}}},t.prototype.handlePostRender=function(){var e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){var n=this.maxTilesLoading_,r=n;if(e){var o=e.viewHints;if(o[ViewHint.ANIMATING]||o[ViewHint.INTERACTING]){var i=Date.now()-e.time>8;n=i?0:8,r=i?0:2}}t.getTilesLoading()<n&&(t.reprioritize(),t.loadMoreTiles(n,r))}e&&this.renderer_&&!e.animate&&(!0===this.renderComplete_?(this.hasListener(RenderEventType.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(RenderEventType.RENDERCOMPLETE,e),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new MapEvent(MapEventType.LOADEND,this,e)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new MapEvent(MapEventType.LOADSTART,this,e))));for(var a=this.postRenderFunctions_,s=0,l=a.length;s<l;++s)a[s](this,e);a.length=0},t.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},t.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var e=0,t=this.targetChangeHandlerKeys_.length;e<t;++e)unlistenByKey(this.targetChangeHandlerKeys_[e]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(EventType.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(EventType.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,removeNode(this.viewport_)}var n=this.getTargetElement();if(n){for(var r in n.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new MapBrowserEventHandler$1(this,this.moveTolerance_),MapBrowserEventType)this.mapBrowserEventHandler_.addEventListener(MapBrowserEventType[r],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(EventType.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(EventType.WHEEL,this.boundHandleBrowserEvent_,!!PASSIVE_EVENT_LISTENERS&&{passive:!1});var o=this.getOwnerDocument().defaultView,i=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[listen(i,EventType.KEYDOWN,this.handleBrowserEvent,this),listen(i,EventType.KEYPRESS,this.handleBrowserEvent,this),listen(o,EventType.RESIZE,this.updateSize,this)]}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},t.prototype.handleTileChange_=function(){this.render()},t.prototype.handleViewPropertyChanged_=function(){this.render()},t.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(unlistenByKey(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(unlistenByKey(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=listen(e,ObjectEventType.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=listen(e,EventType.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()},t.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.handleLayerAdd_(new GroupEvent("addlayer",e)),this.layerGroupPropertyListenerKeys_=[listen(e,ObjectEventType.PROPERTYCHANGE,this.render,this),listen(e,EventType.CHANGE,this.render,this),listen(e,"addlayer",this.handleLayerAdd_,this),listen(e,"removelayer",this.handleLayerRemove_,this)]),this.render()},t.prototype.isRendered=function(){return!!this.frameState_},t.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},t.prototype.redrawText=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,n=e.length;t<n;++t){var r=e[t].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}},t.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},t.prototype.removeControl=function(e){return this.getControls().remove(e)},t.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)},t.prototype.removeLayer=function(e){return this.getLayerGroup().getLayers().remove(e)},t.prototype.handleLayerRemove_=function(e){removeLayerMapProperty(e.layer)},t.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)},t.prototype.renderFrame_=function(e){var t=this,n=this.getSize(),r=this.getView(),o=this.frameState_,i=null;if(void 0!==n&&hasArea(n)&&r&&r.isDef()){var a=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),s=r.getState();if(i={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:getForViewAndSize(s.center,s.resolution,s.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:s,viewHints:a,wantedTiles:{},mapId:getUid(this),renderTargets:{}},s.nextCenter&&s.nextResolution){var l=isNaN(s.nextRotation)?s.rotation:s.nextRotation;i.nextExtent=getForViewAndSize(s.nextCenter,s.nextResolution,l,n)}}if(this.frameState_=i,this.renderer_.renderFrame(i),i){if(i.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,i.postRenderFunctions),o)(!this.previousExtent_||!isEmpty$1(this.previousExtent_)&&!equals$1(i.extent,this.previousExtent_))&&(this.dispatchEvent(new MapEvent(MapEventType.MOVESTART,this,o)),this.previousExtent_=createOrUpdateEmpty(this.previousExtent_));this.previousExtent_&&!i.viewHints[ViewHint.ANIMATING]&&!i.viewHints[ViewHint.INTERACTING]&&!equals$1(i.extent,this.previousExtent_)&&(this.dispatchEvent(new MapEvent(MapEventType.MOVEEND,this,i)),clone$1(i.extent,this.previousExtent_))}this.dispatchEvent(new MapEvent(MapEventType.POSTRENDER,this,i)),this.renderComplete_=this.hasListener(MapEventType.LOADSTART)||this.hasListener(MapEventType.LOADEND)||this.hasListener(RenderEventType.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((function(){t.postRenderTimeoutHandle_=void 0,t.handlePostRender()}),0))},t.prototype.setLayerGroup=function(e){var t=this.getLayerGroup();t&&this.handleLayerRemove_(new GroupEvent("removelayer",t)),this.set(MapProperty.LAYERGROUP,e)},t.prototype.setSize=function(e){this.set(MapProperty.SIZE,e)},t.prototype.setTarget=function(e){this.set(MapProperty.TARGET,e)},t.prototype.setView=function(e){if(!e||e instanceof View)this.set(MapProperty.VIEW,e);else{this.set(MapProperty.VIEW,new View);var t=this;e.then((function(e){t.setView(new View(e))}))}},t.prototype.updateSize=function(){var e=this.getTargetElement(),t=void 0;if(e){var n=getComputedStyle(e),r=e.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),o=e.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(r)||isNaN(o)||!hasArea(t=[r,o])&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}this.setSize(t),this.updateViewportSize_()},t.prototype.updateViewportSize_=function(){var e=this.getView();if(e){var t=void 0,n=getComputedStyle(this.viewport_);n.width&&n.height&&(t=[parseInt(n.width,10),parseInt(n.height,10)]),e.setViewportSize(t)}},t}(BaseObject$1);function createOptionsInternal(e){var t=null;void 0!==e.keyboardEventTarget&&(t="string"==typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var n,r,o,i={},a=e.layers&&"function"==typeof e.layers.getLayers?e.layers:new LayerGroup$1({layers:e.layers});return i[MapProperty.LAYERGROUP]=a,i[MapProperty.TARGET]=e.target,i[MapProperty.VIEW]=e.view instanceof View?e.view:new View,void 0!==e.controls&&(Array.isArray(e.controls)?n=new Collection$1(e.controls.slice()):(assert("function"==typeof e.controls.getArray,47),n=e.controls)),void 0!==e.interactions&&(Array.isArray(e.interactions)?r=new Collection$1(e.interactions.slice()):(assert("function"==typeof e.interactions.getArray,48),r=e.interactions)),void 0!==e.overlays?Array.isArray(e.overlays)?o=new Collection$1(e.overlays.slice()):(assert("function"==typeof e.overlays.getArray,49),o=e.overlays):o=new Collection$1,{controls:n,interactions:r,keyboardEventTarget:t,overlays:o,values:i}}const PluggableMap$1=PluggableMap;var __extends$12=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Control=function(e){function t(t){var n=e.call(this)||this,r=t.element;return!r||t.target||r.style.pointerEvents||(r.style.pointerEvents="auto"),n.element=r||null,n.target_=null,n.map_=null,n.listenerKeys=[],t.render&&(n.render=t.render),t.target&&n.setTarget(t.target),n}return __extends$12(t,e),t.prototype.disposeInternal=function(){removeNode(this.element),e.prototype.disposeInternal.call(this)},t.prototype.getMap=function(){return this.map_},t.prototype.setMap=function(e){this.map_&&removeNode(this.element);for(var t=0,n=this.listenerKeys.length;t<n;++t)unlistenByKey(this.listenerKeys[t]);(this.listenerKeys.length=0,this.map_=e,e)&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==VOID&&this.listenerKeys.push(listen(e,MapEventType.POSTRENDER,this.render,this)),e.render())},t.prototype.render=function(e){},t.prototype.setTarget=function(e){this.target_="string"==typeof e?document.getElementById(e):e},t}(BaseObject$1),__extends$11=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Attribution=function(e){function t(t){var n=this,r=t||{};(n=e.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===r.collapsed||r.collapsed,n.userCollapsed_=n.collapsed_,n.overrideCollapsible_=void 0!==r.collapsible,n.collapsible_=void 0===r.collapsible||r.collapsible,n.collapsible_||(n.collapsed_=!1);var o=void 0!==r.className?r.className:"ol-attribution",i=void 0!==r.tipLabel?r.tipLabel:"Attributions",a=void 0!==r.expandClassName?r.expandClassName:o+"-expand",s=void 0!==r.collapseLabel?r.collapseLabel:"",l=void 0!==r.collapseClassName?r.collapseClassName:o+"-collapse";"string"==typeof s?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=s,n.collapseLabel_.className=l):n.collapseLabel_=s;var u=void 0!==r.label?r.label:"i";"string"==typeof u?(n.label_=document.createElement("span"),n.label_.textContent=u,n.label_.className=a):n.label_=u;var c=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_;n.toggleButton_=document.createElement("button"),n.toggleButton_.setAttribute("type","button"),n.toggleButton_.setAttribute("aria-expanded",String(!n.collapsed_)),n.toggleButton_.title=i,n.toggleButton_.appendChild(c),n.toggleButton_.addEventListener(EventType.CLICK,n.handleClick_.bind(n),!1);var d=o+" "+CLASS_UNSELECTABLE+" "+CLASS_CONTROL+(n.collapsed_&&n.collapsible_?" "+CLASS_COLLAPSED:"")+(n.collapsible_?"":" ol-uncollapsible"),h=n.element;return h.className=d,h.appendChild(n.toggleButton_),h.appendChild(n.ulElement_),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return __extends$11(t,e),t.prototype.collectSourceAttributions_=function(e){for(var t={},n=[],r=!0,o=e.layerStatesArray,i=0,a=o.length;i<a;++i){var s=o[i];if(inView(s,e.viewState)){var l=s.layer.getSource();if(l){var u=l.getAttributions();if(u){var c=u(e);if(c)if(r=r&&!1!==l.getAttributionsCollapsible(),Array.isArray(c))for(var d=0,h=c.length;d<h;++d)c[d]in t||(n.push(c[d]),t[c[d]]=!0);else c in t||(n.push(c),t[c]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(r),n},t.prototype.updateElement_=function(e){if(e){var t=this.collectSourceAttributions_(e),n=t.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!equals$2(t,this.renderedAttributions_)){removeChildren(this.ulElement_);for(var r=0,o=t.length;r<o;++r){var i=document.createElement("li");i.innerHTML=t[r],this.ulElement_.appendChild(i)}this.renderedAttributions_=t}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},t.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},t.prototype.handleToggle_=function(){this.element.classList.toggle(CLASS_COLLAPSED),this.collapsed_?replaceNode(this.collapseLabel_,this.label_):replaceNode(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t.prototype.render=function(e){this.updateElement_(e.frameState)},t}(Control);const Attribution$1=Attribution;var __extends$10=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rotate=function(e){function t(t){var n=this,r=t||{};n=e.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this;var o=void 0!==r.className?r.className:"ol-rotate",i=void 0!==r.label?r.label:"",a=void 0!==r.compassClassName?r.compassClassName:"ol-compass";n.label_=null,"string"==typeof i?(n.label_=document.createElement("span"),n.label_.className=a,n.label_.textContent=i):(n.label_=i,n.label_.classList.add(a));var s=r.tipLabel?r.tipLabel:"Reset rotation",l=document.createElement("button");l.className=o+"-reset",l.setAttribute("type","button"),l.title=s,l.appendChild(n.label_),l.addEventListener(EventType.CLICK,n.handleClick_.bind(n),!1);var u=o+" "+CLASS_UNSELECTABLE+" "+CLASS_CONTROL,c=n.element;return c.className=u,c.appendChild(l),n.callResetNorth_=r.resetNorth?r.resetNorth:void 0,n.duration_=void 0!==r.duration?r.duration:250,n.autoHide_=void 0===r.autoHide||r.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(CLASS_HIDDEN),n}return __extends$10(t,e),t.prototype.handleClick_=function(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},t.prototype.resetNorth_=function(){var e=this.getMap().getView();if(e){var t=e.getRotation();void 0!==t&&(this.duration_>0&&t%(2*Math.PI)!=0?e.animate({rotation:0,duration:this.duration_,easing:easeOut}):e.setRotation(0))}},t.prototype.render=function(e){var t=e.frameState;if(t){var n=t.viewState.rotation;if(n!=this.rotation_){var r="rotate("+n+"rad)";if(this.autoHide_){var o=this.element.classList.contains(CLASS_HIDDEN);o||0!==n?o&&0!==n&&this.element.classList.remove(CLASS_HIDDEN):this.element.classList.add(CLASS_HIDDEN)}this.label_.style.transform=r}this.rotation_=n}},t}(Control);const Rotate$1=Rotate;var __extends$$=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zoom=function(e){function t(t){var n=this,r=t||{};n=e.call(this,{element:document.createElement("div"),target:r.target})||this;var o=void 0!==r.className?r.className:"ol-zoom",i=void 0!==r.delta?r.delta:1,a=void 0!==r.zoomInClassName?r.zoomInClassName:o+"-in",s=void 0!==r.zoomOutClassName?r.zoomOutClassName:o+"-out",l=void 0!==r.zoomInLabel?r.zoomInLabel:"+",u=void 0!==r.zoomOutLabel?r.zoomOutLabel:"",c=void 0!==r.zoomInTipLabel?r.zoomInTipLabel:"Zoom in",d=void 0!==r.zoomOutTipLabel?r.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=a,h.setAttribute("type","button"),h.title=c,h.appendChild("string"==typeof l?document.createTextNode(l):l),h.addEventListener(EventType.CLICK,n.handleClick_.bind(n,i),!1);var p=document.createElement("button");p.className=s,p.setAttribute("type","button"),p.title=d,p.appendChild("string"==typeof u?document.createTextNode(u):u),p.addEventListener(EventType.CLICK,n.handleClick_.bind(n,-i),!1);var f=o+" "+CLASS_UNSELECTABLE+" "+CLASS_CONTROL,m=n.element;return m.className=f,m.appendChild(h),m.appendChild(p),n.duration_=void 0!==r.duration?r.duration:250,n}return __extends$$(t,e),t.prototype.handleClick_=function(e,t){t.preventDefault(),this.zoomByDelta_(e)},t.prototype.zoomByDelta_=function(e){var t=this.getMap().getView();if(t){var n=t.getZoom();if(void 0!==n){var r=t.getConstrainedZoom(n+e);this.duration_>0?(t.getAnimating()&&t.cancelAnimations(),t.animate({zoom:r,duration:this.duration_,easing:easeOut})):t.setZoom(r)}}},t}(Control);const Zoom$1=Zoom;var __extends$_=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),events=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],FullScreenEventType={ENTERFULLSCREEN:"enterfullscreen",LEAVEFULLSCREEN:"leavefullscreen"},FullScreen=function(e){function t(t){var n=this,r=t||{};(n=e.call(this,{element:document.createElement("div"),target:r.target})||this).on,n.once,n.un,n.keys_=void 0!==r.keys&&r.keys,n.source_=r.source,n.isInFullscreen_=!1,n.boundHandleMapTargetChange_=n.handleMapTargetChange_.bind(n),n.cssClassName_=void 0!==r.className?r.className:"ol-full-screen",n.documentListeners_=[],n.activeClassName_=void 0!==r.activeClassName?r.activeClassName.split(" "):[n.cssClassName_+"-true"],n.inactiveClassName_=void 0!==r.inactiveClassName?r.inactiveClassName.split(" "):[n.cssClassName_+"-false"];var o=void 0!==r.label?r.label:"";n.labelNode_="string"==typeof o?document.createTextNode(o):o;var i=void 0!==r.labelActive?r.labelActive:"";n.labelActiveNode_="string"==typeof i?document.createTextNode(i):i;var a=r.tipLabel?r.tipLabel:"Toggle full-screen";return n.button_=document.createElement("button"),n.button_.title=a,n.button_.setAttribute("type","button"),n.button_.appendChild(n.labelNode_),n.button_.addEventListener(EventType.CLICK,n.handleClick_.bind(n),!1),n.setClassName_(n.button_,n.isInFullscreen_),n.element.className="".concat(n.cssClassName_," ").concat(CLASS_UNSELECTABLE," ").concat(CLASS_CONTROL),n.element.appendChild(n.button_),n}return __extends$_(t,e),t.prototype.handleClick_=function(e){e.preventDefault(),this.handleFullScreen_()},t.prototype.handleFullScreen_=function(){var e=this.getMap();if(e){var t=e.getOwnerDocument();if(isFullScreenSupported(t))if(isFullScreen(t))exitFullScreen(t);else{var n=void 0;n=this.source_?"string"==typeof this.source_?t.getElementById(this.source_):this.source_:e.getTargetElement(),this.keys_?requestFullScreenWithKeys(n):requestFullScreen(n)}}},t.prototype.handleFullScreenChange_=function(){var e=this.getMap();if(e){var t=this.isInFullscreen_;this.isInFullscreen_=isFullScreen(e.getOwnerDocument()),t!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?(replaceNode(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(FullScreenEventType.ENTERFULLSCREEN)):(replaceNode(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(FullScreenEventType.LEAVEFULLSCREEN)),e.updateSize())}},t.prototype.setClassName_=function(e,t){var n,r,o,i;t?((n=e.classList).remove.apply(n,this.inactiveClassName_),(r=e.classList).add.apply(r,this.activeClassName_)):((o=e.classList).remove.apply(o,this.activeClassName_),(i=e.classList).add.apply(i,this.inactiveClassName_))},t.prototype.setMap=function(t){var n=this.getMap();n&&n.removeChangeListener(MapProperty.TARGET,this.boundHandleMapTargetChange_),e.prototype.setMap.call(this,t),this.handleMapTargetChange_(),t&&t.addChangeListener(MapProperty.TARGET,this.boundHandleMapTargetChange_)},t.prototype.handleMapTargetChange_=function(){for(var e=this.documentListeners_,t=0,n=e.length;t<n;++t)unlistenByKey(e[t]);e.length=0;var r=this.getMap();if(r){var o=r.getOwnerDocument();isFullScreenSupported(o)?this.element.classList.remove(CLASS_UNSUPPORTED):this.element.classList.add(CLASS_UNSUPPORTED);for(t=0,n=events.length;t<n;++t)e.push(listen(o,events[t],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}},t}(Control);function isFullScreenSupported(e){var t=e.body;return!!(t.webkitRequestFullscreen||t.msRequestFullscreen&&e.msFullscreenEnabled||t.requestFullscreen&&e.fullscreenEnabled)}function isFullScreen(e){return!!(e.webkitIsFullScreen||e.msFullscreenElement||e.fullscreenElement)}function requestFullScreen(e){e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}function requestFullScreenWithKeys(e){e.webkitRequestFullscreen?e.webkitRequestFullscreen():requestFullScreen(e)}function exitFullScreen(e){e.exitFullscreen?e.exitFullscreen():e.msExitFullscreen?e.msExitFullscreen():e.webkitExitFullscreen&&e.webkitExitFullscreen()}const FullScreen$1=FullScreen;var __extends$Z=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),PROJECTION="projection",COORDINATE_FORMAT="coordinateFormat",MousePosition=function(e){function t(t){var n=this,r=t||{},o=document.createElement("div");o.className=void 0!==r.className?r.className:"ol-mouse-position",(n=e.call(this,{element:o,render:r.render,target:r.target})||this).on,n.once,n.un,n.addChangeListener(PROJECTION,n.handleProjectionChanged_),r.coordinateFormat&&n.setCoordinateFormat(r.coordinateFormat),r.projection&&n.setProjection(r.projection);var i=!0,a="&#160;";return"undefinedHTML"in r?(void 0!==r.undefinedHTML&&(a=r.undefinedHTML),i=!!a):"placeholder"in r&&(!1===r.placeholder?i=!1:a=String(r.placeholder)),n.placeholder_=a,n.renderOnMouseOut_=i,n.renderedHTML_=o.innerHTML,n.mapProjection_=null,n.transform_=null,n}return __extends$Z(t,e),t.prototype.handleProjectionChanged_=function(){this.transform_=null},t.prototype.getCoordinateFormat=function(){return this.get(COORDINATE_FORMAT)},t.prototype.getProjection=function(){return this.get(PROJECTION)},t.prototype.handleMouseMove=function(e){var t=this.getMap();this.updateHTML_(t.getEventPixel(e))},t.prototype.handleMouseOut=function(e){this.updateHTML_(null)},t.prototype.setMap=function(t){if(e.prototype.setMap.call(this,t),t){var n=t.getViewport();this.listenerKeys.push(listen(n,PointerEventType.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(listen(n,PointerEventType.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null)}},t.prototype.setCoordinateFormat=function(e){this.set(COORDINATE_FORMAT,e)},t.prototype.setProjection=function(e){this.set(PROJECTION,get$3(e))},t.prototype.updateHTML_=function(e){var t=this.placeholder_;if(e&&this.mapProjection_){if(!this.transform_){var n=this.getProjection();this.transform_=n?getTransformFromProjections(this.mapProjection_,n):identityTransform}var r=this.getMap().getCoordinateFromPixelInternal(e);if(r){var o=getUserProjection();o&&(this.transform_=getTransformFromProjections(this.mapProjection_,o)),this.transform_(r,r);var i=this.getCoordinateFormat();t=i?i(r):r.toString()}}this.renderedHTML_&&t===this.renderedHTML_||(this.element.innerHTML=t,this.renderedHTML_=t)},t.prototype.render=function(e){var t=e.frameState;t?this.mapProjection_!=t.viewState.projection&&(this.mapProjection_=t.viewState.projection,this.transform_=null):this.mapProjection_=null},t}(Control);const MousePosition$1=MousePosition;var __extends$Y=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Property$1={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},Overlay$2=function(e){function t(t){var n=e.call(this)||this;n.on,n.once,n.un,n.options=t,n.id=t.id,n.insertFirst=void 0===t.insertFirst||t.insertFirst,n.stopEvent=void 0===t.stopEvent||t.stopEvent,n.element=document.createElement("div"),n.element.className=void 0!==t.className?t.className:"ol-overlay-container "+CLASS_SELECTABLE,n.element.style.position="absolute",n.element.style.pointerEvents="auto";var r=t.autoPan;return r&&"object"!=typeof r&&(r={animation:t.autoPanAnimation,margin:t.autoPanMargin}),n.autoPan=r||!1,n.rendered={transform_:"",visible:!0},n.mapPostrenderListenerKey=null,n.addChangeListener(Property$1.ELEMENT,n.handleElementChanged),n.addChangeListener(Property$1.MAP,n.handleMapChanged),n.addChangeListener(Property$1.OFFSET,n.handleOffsetChanged),n.addChangeListener(Property$1.POSITION,n.handlePositionChanged),n.addChangeListener(Property$1.POSITIONING,n.handlePositioningChanged),void 0!==t.element&&n.setElement(t.element),n.setOffset(void 0!==t.offset?t.offset:[0,0]),n.setPositioning(t.positioning||"top-left"),void 0!==t.position&&n.setPosition(t.position),n}return __extends$Y(t,e),t.prototype.getElement=function(){return this.get(Property$1.ELEMENT)},t.prototype.getId=function(){return this.id},t.prototype.getMap=function(){return this.get(Property$1.MAP)||null},t.prototype.getOffset=function(){return this.get(Property$1.OFFSET)},t.prototype.getPosition=function(){return this.get(Property$1.POSITION)},t.prototype.getPositioning=function(){return this.get(Property$1.POSITIONING)},t.prototype.handleElementChanged=function(){removeChildren(this.element);var e=this.getElement();e&&this.element.appendChild(e)},t.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(removeNode(this.element),unlistenByKey(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var e=this.getMap();if(e){this.mapPostrenderListenerKey=listen(e,MapEventType.POSTRENDER,this.render,this),this.updatePixelPosition();var t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}},t.prototype.render=function(){this.updatePixelPosition()},t.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},t.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},t.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},t.prototype.setElement=function(e){this.set(Property$1.ELEMENT,e)},t.prototype.setMap=function(e){this.set(Property$1.MAP,e)},t.prototype.setOffset=function(e){this.set(Property$1.OFFSET,e)},t.prototype.setPosition=function(e){this.set(Property$1.POSITION,e)},t.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},t.prototype.panIntoView=function(e){var t=this.getMap();if(t&&t.getTargetElement()&&this.get(Property$1.POSITION)){var n=this.getRect(t.getTargetElement(),t.getSize()),r=this.getElement(),o=this.getRect(r,[outerWidth(r),outerHeight(r)]),i=e||{},a=void 0===i.margin?20:i.margin;if(!containsExtent(n,o)){var s=o[0]-n[0],l=n[2]-o[2],u=o[1]-n[1],c=n[3]-o[3],d=[0,0];if(s<0?d[0]=s-a:l<0&&(d[0]=Math.abs(l)+a),u<0?d[1]=u-a:c<0&&(d[1]=Math.abs(c)+a),0!==d[0]||0!==d[1]){var h=t.getView().getCenterInternal(),p=t.getPixelFromCoordinateInternal(h);if(!p)return;var f=[p[0]+d[0],p[1]+d[1]],m=i.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(f),duration:m.duration,easing:m.easing})}}}},t.prototype.getRect=function(e,t){var n=e.getBoundingClientRect(),r=n.left+window.pageXOffset,o=n.top+window.pageYOffset;return[r,o,r+t[0],o+t[1]]},t.prototype.setPositioning=function(e){this.set(Property$1.POSITIONING,e)},t.prototype.setVisible=function(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)},t.prototype.updatePixelPosition=function(){var e=this.getMap(),t=this.getPosition();if(e&&e.isRendered()&&t){var n=e.getPixelFromCoordinate(t),r=e.getSize();this.updateRenderedPosition(n,r)}else this.setVisible(!1)},t.prototype.updateRenderedPosition=function(e,t){var n=this.element.style,r=this.getOffset(),o=this.getPositioning();this.setVisible(!0);var i=Math.round(e[0]+r[0])+"px",a=Math.round(e[1]+r[1])+"px",s="0%",l="0%";"bottom-right"==o||"center-right"==o||"top-right"==o?s="-100%":"bottom-center"!=o&&"center-center"!=o&&"top-center"!=o||(s="-50%"),"bottom-left"==o||"bottom-center"==o||"bottom-right"==o?l="-100%":"center-left"!=o&&"center-center"!=o&&"center-right"!=o||(l="-50%");var u="translate(".concat(s,", ").concat(l,") translate(").concat(i,", ").concat(a,")");this.rendered.transform_!=u&&(this.rendered.transform_=u,n.transform=u,n.msTransform=u)},t.prototype.getOptions=function(){return this.options},t}(BaseObject$1);const Overlay$3=Overlay$2;var __extends$X=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),MAX_RATIO=.75,MIN_RATIO=.1,ControlledMap=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends$X(t,e),t.prototype.createRenderer=function(){return new CompositeMapRenderer$1(this)},t}(PluggableMap$1),OverviewMap=function(e){function t(t){var n=this,r=t||{};(n=e.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this).boundHandleRotationChanged_=n.handleRotationChanged_.bind(n),n.collapsed_=void 0===r.collapsed||r.collapsed,n.collapsible_=void 0===r.collapsible||r.collapsible,n.collapsible_||(n.collapsed_=!1),n.rotateWithView_=void 0!==r.rotateWithView&&r.rotateWithView,n.viewExtent_=void 0;var o=void 0!==r.className?r.className:"ol-overviewmap",i=void 0!==r.tipLabel?r.tipLabel:"Overview map",a=void 0!==r.collapseLabel?r.collapseLabel:"";"string"==typeof a?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=a):n.collapseLabel_=a;var s=void 0!==r.label?r.label:"";"string"==typeof s?(n.label_=document.createElement("span"),n.label_.textContent=s):n.label_=s;var l=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_,u=document.createElement("button");u.setAttribute("type","button"),u.title=i,u.appendChild(l),u.addEventListener(EventType.CLICK,n.handleClick_.bind(n),!1),n.ovmapDiv_=document.createElement("div"),n.ovmapDiv_.className="ol-overviewmap-map",n.view_=r.view,n.ovmap_=new ControlledMap({view:r.view});var c=n.ovmap_;r.layers&&r.layers.forEach((function(e){c.addLayer(e)}));var d=document.createElement("div");d.className="ol-overviewmap-box",d.style.boxSizing="border-box",n.boxOverlay_=new Overlay$3({position:[0,0],positioning:"center-center",element:d}),n.ovmap_.addOverlay(n.boxOverlay_);var h=o+" "+CLASS_UNSELECTABLE+" "+CLASS_CONTROL+(n.collapsed_&&n.collapsible_?" "+CLASS_COLLAPSED:"")+(n.collapsible_?"":" ol-uncollapsible"),p=n.element;p.className=h,p.appendChild(n.ovmapDiv_),p.appendChild(u);var f=n,m=n.boxOverlay_,_=n.boxOverlay_.getElement(),g=function(e){var t,n={clientX:(t=e).clientX,clientY:t.clientY},r=c.getEventCoordinateInternal(n);m.setPosition(r)},v=function(e){var t=c.getEventCoordinateInternal(e);f.getMap().getView().setCenterInternal(t),window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",v)};return _.addEventListener("mousedown",(function(){window.addEventListener("mousemove",g),window.addEventListener("mouseup",v)})),n}return __extends$X(t,e),t.prototype.setMap=function(t){var n=this.getMap();if(t!==n){if(n){var r=n.getView();r&&this.unbindView_(r),this.ovmap_.setTarget(null)}if(e.prototype.setMap.call(this,t),t){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(listen(t,ObjectEventType.PROPERTYCHANGE,this.handleMapPropertyChange_,this));var o=t.getView();o&&(this.bindView_(o),o.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_())),this.ovmap_.isRendered()||this.updateBoxAfterOvmapIsRendered_()}}},t.prototype.handleMapPropertyChange_=function(e){if(e.key===MapProperty.VIEW){var t=e.oldValue;t&&this.unbindView_(t);var n=this.getMap().getView();this.bindView_(n)}else this.ovmap_.isRendered()||e.key!==MapProperty.TARGET&&e.key!==MapProperty.SIZE||this.ovmap_.updateSize()},t.prototype.bindView_=function(e){if(!this.view_){var t=new View({projection:e.getProjection()});this.ovmap_.setView(t)}e.addChangeListener(ViewProperty.ROTATION,this.boundHandleRotationChanged_),this.handleRotationChanged_()},t.prototype.unbindView_=function(e){e.removeChangeListener(ViewProperty.ROTATION,this.boundHandleRotationChanged_)},t.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},t.prototype.validateExtent_=function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var n=e.getSize(),r=e.getView().calculateExtentInternal(n);if(!this.viewExtent_||!equals$1(r,this.viewExtent_)){this.viewExtent_=r;var o=t.getSize(),i=t.getView().calculateExtentInternal(o),a=t.getPixelFromCoordinateInternal(getTopLeft(r)),s=t.getPixelFromCoordinateInternal(getBottomRight(r)),l=Math.abs(a[0]-s[0]),u=Math.abs(a[1]-s[1]),c=o[0],d=o[1];l<c*MIN_RATIO||u<d*MIN_RATIO||l>c*MAX_RATIO||u>d*MAX_RATIO?this.resetExtent_():containsExtent(i,r)||this.recenter_()}}},t.prototype.resetExtent_=function(){var e=this.getMap(),t=this.ovmap_,n=e.getSize(),r=e.getView().calculateExtentInternal(n),o=t.getView(),i=Math.log(MAX_RATIO/MIN_RATIO)/Math.LN2;scaleFromCenter(r,1/(Math.pow(2,i/2)*MIN_RATIO)),o.fitInternal(fromExtent(r))},t.prototype.recenter_=function(){var e=this.getMap(),t=this.ovmap_,n=e.getView();t.getView().setCenterInternal(n.getCenterInternal())},t.prototype.updateBox_=function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var n=e.getSize(),r=e.getView(),o=t.getView(),i=this.rotateWithView_?0:-r.getRotation(),a=this.boxOverlay_,s=this.boxOverlay_.getElement(),l=r.getCenterInternal(),u=r.getResolution(),c=o.getResolution(),d=n[0]*u/c,h=n[1]*u/c;if(a.setPosition(l),s){s.style.width=d+"px",s.style.height=h+"px";var p="rotate("+i+"rad)";s.style.transform=p}}},t.prototype.updateBoxAfterOvmapIsRendered_=function(){this.ovmapPostrenderKey_||(this.ovmapPostrenderKey_=listenOnce(this.ovmap_,MapEventType.POSTRENDER,(function(e){delete this.ovmapPostrenderKey_,this.updateBox_()}),this))},t.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_()},t.prototype.handleToggle_=function(){this.element.classList.toggle(CLASS_COLLAPSED),this.collapsed_?replaceNode(this.collapseLabel_,this.label_):replaceNode(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var e=this.ovmap_;if(!this.collapsed_){if(e.isRendered())return this.viewExtent_=void 0,void e.render();e.updateSize(),this.resetExtent_(),this.updateBoxAfterOvmapIsRendered_()}},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.setRotateWithView=function(e){this.rotateWithView_!==e&&(this.rotateWithView_=e,0!==this.getMap().getView().getRotation()&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))},t.prototype.getOverviewMap=function(){return this.ovmap_},t.prototype.render=function(e){this.validateExtent_(),this.updateBox_()},t}(Control);const OverviewMap$1=OverviewMap;var __extends$W=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),UNITS_PROP="units",Units={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},LEADING_DIGITS=[1,2,5],DEFAULT_DPI=25.4/.28,ScaleLine=function(e){function t(t){var n=this,r=t||{},o=void 0!==r.className?r.className:r.bar?"ol-scale-bar":"ol-scale-line";return(n=e.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this).on,n.once,n.un,n.innerElement_=document.createElement("div"),n.innerElement_.className=o+"-inner",n.element.className=o+" "+CLASS_UNSELECTABLE,n.element.appendChild(n.innerElement_),n.viewState_=null,n.minWidth_=void 0!==r.minWidth?r.minWidth:64,n.maxWidth_=r.maxWidth,n.renderedVisible_=!1,n.renderedWidth_=void 0,n.renderedHTML_="",n.addChangeListener(UNITS_PROP,n.handleUnitsChanged_),n.setUnits(r.units||Units.METRIC),n.scaleBar_=r.bar||!1,n.scaleBarSteps_=r.steps||4,n.scaleBarText_=r.text||!1,n.dpi_=r.dpi||void 0,n}return __extends$W(t,e),t.prototype.getUnits=function(){return this.get(UNITS_PROP)},t.prototype.handleUnitsChanged_=function(){this.updateElement_()},t.prototype.setUnits=function(e){this.set(UNITS_PROP,e)},t.prototype.setDpi=function(e){this.dpi_=e},t.prototype.updateElement_=function(){var e=this.viewState_;if(e){var t=e.center,n=e.projection,r=this.getUnits(),o=r==Units.DEGREES?Units$2.DEGREES:Units$2.METERS,i=getPointResolution(n,e.resolution,t,o),a=this.minWidth_*(this.dpi_||DEFAULT_DPI)/DEFAULT_DPI,s=void 0!==this.maxWidth_?this.maxWidth_*(this.dpi_||DEFAULT_DPI)/DEFAULT_DPI:void 0,l=a*i,u="";if(r==Units.DEGREES){var c=METERS_PER_UNIT$1[Units$2.DEGREES];(l*=c)<c/60?(u="",i*=3600):l<c?(u="",i*=60):u=""}else r==Units.IMPERIAL?l<.9144?(u="in",i/=.0254):l<1609.344?(u="ft",i/=.3048):(u="mi",i/=1609.344):r==Units.NAUTICAL?(i/=1852,u="NM"):r==Units.METRIC?l<.001?(u="m",i*=1e6):l<1?(u="mm",i*=1e3):l<1e3?u="m":(u="km",i/=1e3):r==Units.US?l<.9144?(u="in",i*=39.37):l<1609.344?(u="ft",i/=.30480061):(u="mi",i/=1609.3472):assert(!1,33);for(var d,h,p,f,m,_,g,v=3*Math.floor(Math.log(a*i)/Math.log(10));;){p=Math.floor(v/3);var y=Math.pow(10,p);if(d=LEADING_DIGITS[(v%3+3)%3]*y,h=Math.round(d/i),isNaN(h))return this.element.style.display="none",void(this.renderedVisible_=!1);if(void 0!==s&&h>=s){d=f,h=m,p=_;break}if(h>=a)break;f=d,m=h,_=p,++v}g=this.scaleBar_?this.createScaleBar(h,d,u):d.toFixed(p<0?-p:0)+" "+u,this.renderedHTML_!=g&&(this.innerElement_.innerHTML=g,this.renderedHTML_=g),this.renderedWidth_!=h&&(this.innerElement_.style.width=h+"px",this.renderedWidth_=h),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},t.prototype.createScaleBar=function(e,t,n){for(var r="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),o=[],i=e/this.scaleBarSteps_,a="ol-scale-singlebar-odd",s=0;s<this.scaleBarSteps_;s++)0===s&&o.push(this.createMarker("absolute",s)),o.push('<div><div class="ol-scale-singlebar '+a+'" style="width: '+i+'px;"></div>'+this.createMarker("relative",s)+(s%2==0||2===this.scaleBarSteps_?this.createStepText(s,e,!1,t,n):"")+"</div>"),s===this.scaleBarSteps_-1&&o.push(this.createStepText(s+1,e,!0,t,n)),a="ol-scale-singlebar-odd"===a?"ol-scale-singlebar-even":"ol-scale-singlebar-odd";return'<div style="display: flex;">'+(this.scaleBarText_?'<div class="ol-scale-text" style="width: '+e+'px;">'+r+"</div>":"")+o.join("")+"</div>"},t.prototype.createMarker=function(e,t){return'<div class="ol-scale-step-marker" style="position: '+e+";top: "+("absolute"===e?3:-10)+'px;"></div>'},t.prototype.createStepText=function(e,t,n,r,o){var i=(0===e?0:Math.round(r/this.scaleBarSteps_*e*100)/100)+(0===e?"":" "+o);return'<div class="ol-scale-step-text" style="margin-left: '+(0===e?-3:t/this.scaleBarSteps_*-1)+"px;text-align: "+(0===e?"left":"center")+"; min-width: "+(0===e?0:t/this.scaleBarSteps_*2)+"px;left: "+(n?t+"px":"unset")+';">'+i+"</div>"},t.prototype.getScaleForResolution=function(){var e=getPointResolution(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,Units$2.METERS),t=this.dpi_||DEFAULT_DPI;return parseFloat(e.toString())*(1e3/25.4)*t},t.prototype.render=function(e){var t=e.frameState;this.viewState_=t?t.viewState:null,this.updateElement_()},t}(Control),__extends$V=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ZoomToExtent=function(e){function t(t){var n=this,r=t||{};(n=e.call(this,{element:document.createElement("div"),target:r.target})||this).extent=r.extent?r.extent:null;var o=void 0!==r.className?r.className:"ol-zoom-extent",i=void 0!==r.label?r.label:"E",a=void 0!==r.tipLabel?r.tipLabel:"Fit to extent",s=document.createElement("button");s.setAttribute("type","button"),s.title=a,s.appendChild("string"==typeof i?document.createTextNode(i):i),s.addEventListener(EventType.CLICK,n.handleClick_.bind(n),!1);var l=o+" "+CLASS_UNSELECTABLE+" "+CLASS_CONTROL,u=n.element;return u.className=l,u.appendChild(s),n}return __extends$V(t,e),t.prototype.handleClick_=function(e){e.preventDefault(),this.handleZoomToExtent()},t.prototype.handleZoomToExtent=function(){var e=this.getMap().getView(),t=this.extent?this.extent:e.getProjection().getExtent();e.fitInternal(fromExtent(t))},t}(Control);function defaults$1(e){var t=e||{},n=new Collection$1;return(void 0===t.zoom||t.zoom)&&n.push(new Zoom$1(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&n.push(new Rotate$1(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&n.push(new Attribution$1(t.attributionOptions)),n}const InteractionProperty={ACTIVE:"active"};var __extends$U=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Interaction=function(e){function t(t){var n=e.call(this)||this;return n.on,n.once,n.un,t&&t.handleEvent&&(n.handleEvent=t.handleEvent),n.map_=null,n.setActive(!0),n}return __extends$U(t,e),t.prototype.getActive=function(){return this.get(InteractionProperty.ACTIVE)},t.prototype.getMap=function(){return this.map_},t.prototype.handleEvent=function(e){return!0},t.prototype.setActive=function(e){this.set(InteractionProperty.ACTIVE,e)},t.prototype.setMap=function(e){this.map_=e},t}(BaseObject$1);function pan(e,t,n){var r=e.getCenterInternal();if(r){var o=[r[0]+t[0],r[1]+t[1]];e.animateInternal({duration:void 0!==n?n:250,easing:linear,center:e.getConstrainedCenter(o)})}}function zoomByDelta(e,t,n,r){var o=e.getZoom();if(void 0!==o){var i=e.getConstrainedZoom(o+t),a=e.getResolutionForZoom(i);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:a,anchor:n,duration:void 0!==r?r:250,easing:easeOut})}}const Interaction$1=Interaction;var __extends$T=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),DoubleClickZoom=function(e){function t(t){var n=e.call(this)||this,r=t||{};return n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:250,n}return __extends$T(t,e),t.prototype.handleEvent=function(e){var t=!1;if(e.type==MapBrowserEventType.DBLCLICK){var n=e.originalEvent,r=e.map,o=e.coordinate,i=n.shiftKey?-this.delta_:this.delta_;zoomByDelta(r.getView(),i,o,this.duration_),n.preventDefault(),t=!0}return!t},t}(Interaction$1);const DoubleClickZoom$1=DoubleClickZoom;var __extends$S=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),PointerInteraction=function(e){function t(t){var n=this,r=t||{};return n=e.call(this,r)||this,r.handleDownEvent&&(n.handleDownEvent=r.handleDownEvent),r.handleDragEvent&&(n.handleDragEvent=r.handleDragEvent),r.handleMoveEvent&&(n.handleMoveEvent=r.handleMoveEvent),r.handleUpEvent&&(n.handleUpEvent=r.handleUpEvent),r.stopDown&&(n.stopDown=r.stopDown),n.handlingDownUpSequence=!1,n.targetPointers=[],n}return __extends$S(t,e),t.prototype.getPointerCount=function(){return this.targetPointers.length},t.prototype.handleDownEvent=function(e){return!1},t.prototype.handleDragEvent=function(e){},t.prototype.handleEvent=function(e){if(!e.originalEvent)return!0;var t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==MapBrowserEventType.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==MapBrowserEventType.POINTERUP){var n=this.handleUpEvent(e);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(e.type==MapBrowserEventType.POINTERDOWN){var r=this.handleDownEvent(e);this.handlingDownUpSequence=r,t=this.stopDown(r)}else e.type==MapBrowserEventType.POINTERMOVE&&this.handleMoveEvent(e);return!t},t.prototype.handleMoveEvent=function(e){},t.prototype.handleUpEvent=function(e){return!1},t.prototype.stopDown=function(e){return e},t.prototype.updateTrackedPointers_=function(e){e.activePointers&&(this.targetPointers=e.activePointers)},t}(Interaction$1);function centroid(e){for(var t=e.length,n=0,r=0,o=0;o<t;o++)n+=e[o].clientX,r+=e[o].clientY;return[n/t,r/t]}function all(e){var t=arguments;return function(e){for(var n=!0,r=0,o=t.length;r<o&&(n=n&&t[r](e));++r);return n}}var altKeyOnly=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},altShiftKeysOnly=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},focus=function(e){var t=e.map.getTargetElement(),n=e.map.getOwnerDocument().activeElement;return t.contains(n)},focusWithTabindex=function(e){return!e.map.getTargetElement().hasAttribute("tabindex")||focus(e)},always=TRUE,mouseActionButton=function(e){var t=e.originalEvent;return 0==t.button&&!(WEBKIT&&MAC&&t.ctrlKey)},never=FALSE,singleClick=function(e){return e.type==MapBrowserEventType.SINGLECLICK},noModifierKeys=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},shiftKeyOnly=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},targetNotEditable=function(e){var t=e.originalEvent,n=t.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!t.target.isContentEditable},mouseOnly=function(e){var t=e.originalEvent;return assert(void 0!==t,56),"mouse"==t.pointerType},primaryAction=function(e){var t=e.originalEvent;return assert(void 0!==t,56),t.isPrimary&&0===t.button},__extends$R=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),DragPan=function(e){function t(t){var n=e.call(this,{stopDown:FALSE})||this,r=t||{};n.kinetic_=r.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1;var o=r.condition?r.condition:all(noModifierKeys,primaryAction);return n.condition_=r.onFocusOnly?all(focusWithTabindex,o):o,n.noKinetic_=!1,n}return __extends$R(t,e),t.prototype.handleDragEvent=function(e){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var t=this.targetPointers,n=centroid(t);if(t.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var r=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],o=e.map.getView();scale$2(r,o.getResolution()),rotate$1(r,o.getRotation()),o.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=t.length,e.originalEvent.preventDefault()},t.prototype.handleUpEvent=function(e){var t=e.map,n=t.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var r=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),i=n.getCenterInternal(),a=t.getPixelFromCoordinateInternal(i),s=t.getCoordinateFromPixelInternal([a[0]-r*Math.cos(o),a[1]-r*Math.sin(o)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:easeOut})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>0&&this.condition_(e)){var t=e.map.getView();return this.lastCentroid=null,t.getAnimating()&&t.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},t}(PointerInteraction);const DragPan$1=DragPan;var __extends$Q=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),DragRotate=function(e){function t(t){var n=this,r=t||{};return(n=e.call(this,{stopDown:FALSE})||this).condition_=r.condition?r.condition:altShiftKeysOnly,n.lastAngle_=void 0,n.duration_=void 0!==r.duration?r.duration:250,n}return __extends$Q(t,e),t.prototype.handleDragEvent=function(e){if(mouseOnly(e)){var t=e.map,n=t.getView();if(n.getConstraints().rotation!==disable){var r=t.getSize(),o=e.pixel,i=Math.atan2(r[1]/2-o[1],o[0]-r[0]/2);if(void 0!==this.lastAngle_){var a=i-this.lastAngle_;n.adjustRotationInternal(-a)}this.lastAngle_=i}}},t.prototype.handleUpEvent=function(e){return!mouseOnly(e)||(e.map.getView().endInteraction(this.duration_),!1)},t.prototype.handleDownEvent=function(e){return!!mouseOnly(e)&&(!(!mouseActionButton(e)||!this.condition_(e))&&(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))},t}(PointerInteraction),__extends$P=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),RenderBox=function(e){function t(t){var n=e.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.style.pointerEvents="auto",n.element_.className="ol-box "+t,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return __extends$P(t,e),t.prototype.disposeInternal=function(){this.setMap(null)},t.prototype.render_=function(){var e=this.startPixel_,t=this.endPixel_,n="px",r=this.element_.style;r.left=Math.min(e[0],t[0])+n,r.top=Math.min(e[1],t[1])+n,r.width=Math.abs(t[0]-e[0])+n,r.height=Math.abs(t[1]-e[1])+n},t.prototype.setMap=function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},t.prototype.setPixels=function(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()},t.prototype.createOrUpdateGeometry=function(){var e=this.startPixel_,t=this.endPixel_,n=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Polygon([n])},t.prototype.getGeometry=function(){return this.geometry_},t}(Disposable$1);const RenderBox$1=RenderBox;var __extends$O=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),DragBoxEventType={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},DragBoxEvent=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.coordinate=n,o.mapBrowserEvent=r,o}return __extends$O(t,e),t}(Event$1),DragBox=function(e){function t(t){var n=e.call(this)||this;n.on,n.once,n.un;var r=t||{};return n.box_=new RenderBox$1(r.className||"ol-dragbox"),n.minArea_=void 0!==r.minArea?r.minArea:64,r.onBoxEnd&&(n.onBoxEnd=r.onBoxEnd),n.startPixel_=null,n.condition_=r.condition?r.condition:mouseActionButton,n.boxEndCondition_=r.boxEndCondition?r.boxEndCondition:n.defaultBoxEndCondition,n}return __extends$O(t,e),t.prototype.defaultBoxEndCondition=function(e,t,n){var r=n[0]-t[0],o=n[1]-t[1];return r*r+o*o>=this.minArea_},t.prototype.getGeometry=function(){return this.box_.getGeometry()},t.prototype.handleDragEvent=function(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new DragBoxEvent(DragBoxEventType.BOXDRAG,e.coordinate,e))},t.prototype.handleUpEvent=function(e){this.box_.setMap(null);var t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new DragBoxEvent(t?DragBoxEventType.BOXEND:DragBoxEventType.BOXCANCEL,e.coordinate,e)),!1},t.prototype.handleDownEvent=function(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new DragBoxEvent(DragBoxEventType.BOXSTART,e.coordinate,e)),!0)},t.prototype.onBoxEnd=function(e){},t}(PointerInteraction);const DragBox$1=DragBox;var __extends$N=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),DragZoom=function(e){function t(t){var n=this,r=t||{},o=r.condition?r.condition:shiftKeyOnly;return(n=e.call(this,{condition:o,className:r.className||"ol-dragzoom",minArea:r.minArea})||this).duration_=void 0!==r.duration?r.duration:200,n.out_=void 0!==r.out&&r.out,n}return __extends$N(t,e),t.prototype.onBoxEnd=function(e){var t=this.getMap().getView(),n=this.getGeometry();if(this.out_){var r=t.rotatedExtentForGeometry(n),o=t.getResolutionForExtentInternal(r),i=t.getResolution()/o;(n=n.clone()).scale(i*i)}t.fitInternal(n,{duration:this.duration_,easing:easeOut})},t}(DragBox$1);const DragZoom$1=DragZoom,KeyCode={LEFT:37,UP:38,RIGHT:39,DOWN:40};var __extends$M=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),KeyboardPan=function(e){function t(t){var n=e.call(this)||this,r=t||{};return n.defaultCondition_=function(e){return noModifierKeys(e)&&targetNotEditable(e)},n.condition_=void 0!==r.condition?r.condition:n.defaultCondition_,n.duration_=void 0!==r.duration?r.duration:100,n.pixelDelta_=void 0!==r.pixelDelta?r.pixelDelta:128,n}return __extends$M(t,e),t.prototype.handleEvent=function(e){var t=!1;if(e.type==EventType.KEYDOWN){var n=e.originalEvent,r=n.keyCode;if(this.condition_(e)&&(r==KeyCode.DOWN||r==KeyCode.LEFT||r==KeyCode.RIGHT||r==KeyCode.UP)){var o=e.map.getView(),i=o.getResolution()*this.pixelDelta_,a=0,s=0;r==KeyCode.DOWN?s=-i:r==KeyCode.LEFT?a=-i:r==KeyCode.RIGHT?a=i:s=i;var l=[a,s];rotate$1(l,o.getRotation()),pan(o,l,this.duration_),n.preventDefault(),t=!0}}return!t},t}(Interaction$1),__extends$L=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),KeyboardZoom=function(e){function t(t){var n=e.call(this)||this,r=t||{};return n.condition_=r.condition?r.condition:targetNotEditable,n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:100,n}return __extends$L(t,e),t.prototype.handleEvent=function(e){var t=!1;if(e.type==EventType.KEYDOWN||e.type==EventType.KEYPRESS){var n=e.originalEvent,r=n.charCode;if(this.condition_(e)&&(r=="+".charCodeAt(0)||r=="-".charCodeAt(0))){var o=e.map,i=r=="+".charCodeAt(0)?this.delta_:-this.delta_;zoomByDelta(o.getView(),i,void 0,this.duration_),n.preventDefault(),t=!0}}return!t},t}(Interaction$1);const KeyboardZoom$1=KeyboardZoom;var __extends$K=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mode$1={TRACKPAD:"trackpad",WHEEL:"wheel"},MouseWheelZoom=function(e){function t(t){var n=this,r=t||{};(n=e.call(this,r)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==r.maxDelta?r.maxDelta:1,n.duration_=void 0!==r.duration?r.duration:250,n.timeout_=void 0!==r.timeout?r.timeout:80,n.useAnchor_=void 0===r.useAnchor||r.useAnchor,n.constrainResolution_=void 0!==r.constrainResolution&&r.constrainResolution;var o=r.condition?r.condition:always;return n.condition_=r.onFocusOnly?all(focusWithTabindex,o):o,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.deltaPerZoom_=300,n}return __extends$K(t,e),t.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var e=this.getMap();e&&e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},t.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;if(e.type!==EventType.WHEEL)return!0;var t,n=e.map,r=e.originalEvent;if(r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),e.type==EventType.WHEEL&&(t=r.deltaY,FIREFOX&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(t/=DEVICE_PIXEL_RATIO),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(t*=40)),0===t)return!1;this.lastDelta_=t;var o=Date.now();void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(t)<4?Mode$1.TRACKPAD:Mode$1.WHEEL);var i=n.getView();if(this.mode_===Mode$1.TRACKPAD&&!i.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(i.getAnimating()&&i.cancelAnimations(),i.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),i.adjustZoom(-t/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=t;var a=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),a),!1},t.prototype.handleWheelZoom_=function(e){var t=e.getView();t.getAnimating()&&t.cancelAnimations();var n=-clamp$1(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),zoomByDelta(t,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},t.prototype.setMouseAnchor=function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)},t}(Interaction$1);const MouseWheelZoom$1=MouseWheelZoom;var __extends$J=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),PinchRotate=function(e){function t(t){var n=this,r=t||{},o=r;return o.stopDown||(o.stopDown=FALSE),(n=e.call(this,o)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==r.threshold?r.threshold:.3,n.duration_=void 0!==r.duration?r.duration:250,n}return __extends$J(t,e),t.prototype.handleDragEvent=function(e){var t=0,n=this.targetPointers[0],r=this.targetPointers[1],o=Math.atan2(r.clientY-n.clientY,r.clientX-n.clientX);if(void 0!==this.lastAngle_){var i=o-this.lastAngle_;this.rotationDelta_+=i,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=i}this.lastAngle_=o;var a=e.map,s=a.getView();if(s.getConstraints().rotation!==disable){var l=a.getViewport().getBoundingClientRect(),u=centroid(this.targetPointers);u[0]-=l.left,u[1]-=l.top,this.anchor_=a.getCoordinateFromPixelInternal(u),this.rotating_&&(a.render(),s.adjustRotationInternal(t,this.anchor_))}},t.prototype.handleUpEvent=function(e){return!(this.targetPointers.length<2)||(e.map.getView().endInteraction(this.duration_),!1)},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1},t}(PointerInteraction),__extends$I=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),PinchZoom=function(e){function t(t){var n=this,r=t||{},o=r;return o.stopDown||(o.stopDown=FALSE),(n=e.call(this,o)||this).anchor_=null,n.duration_=void 0!==r.duration?r.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return __extends$I(t,e),t.prototype.handleDragEvent=function(e){var t=1,n=this.targetPointers[0],r=this.targetPointers[1],o=n.clientX-r.clientX,i=n.clientY-r.clientY,a=Math.sqrt(o*o+i*i);void 0!==this.lastDistance_&&(t=this.lastDistance_/a),this.lastDistance_=a;var s=e.map,l=s.getView();1!=t&&(this.lastScaleDelta_=t);var u=s.getViewport().getBoundingClientRect(),c=centroid(this.targetPointers);c[0]-=u.left,c[1]-=u.top,this.anchor_=s.getCoordinateFromPixelInternal(c),s.render(),l.adjustResolutionInternal(t,this.anchor_)},t.prototype.handleUpEvent=function(e){if(this.targetPointers.length<2){var t=e.map.getView(),n=this.lastScaleDelta_>1?1:-1;return t.endInteraction(this.duration_,n),!1}return!0},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1},t}(PointerInteraction);const PinchZoom$1=PinchZoom;var __extends$H=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Circle=function(e){function t(t,n,r){var o=e.call(this)||this;if(void 0!==r&&void 0===n)o.setFlatCoordinates(r,t);else{var i=n||0;o.setCenterAndRadius(t,i,r)}return o}return __extends$H(t,e),t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,t,n,r){var o=this.flatCoordinates,i=e-o[0],a=t-o[1],s=i*i+a*a;if(s<r){if(0===s)for(var l=0;l<this.stride;++l)n[l]=o[l];else{var u=this.getRadius()/Math.sqrt(s);n[0]=o[0]+u*i,n[1]=o[1]+u*a;for(l=2;l<this.stride;++l)n[l]=o[l]}return n.length=this.stride,s}return r},t.prototype.containsXY=function(e,t){var n=this.flatCoordinates,r=e-n[0],o=t-n[1];return r*r+o*o<=this.getRadiusSquared_()},t.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.computeExtent=function(e){var t=this.flatCoordinates,n=t[this.stride]-t[0];return createOrUpdate$2(t[0]-n,t[1]-n,t[0]+n,t[1]+n,e)},t.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},t.prototype.getRadiusSquared_=function(){var e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t},t.prototype.getType=function(){return"Circle"},t.prototype.intersectsExtent=function(e){if(intersects$1(e,this.getExtent())){var t=this.getCenter();return e[0]<=t[0]&&e[2]>=t[0]||(e[1]<=t[1]&&e[3]>=t[1]||forEachCorner(e,this.intersectsCoordinate.bind(this)))}return!1},t.prototype.setCenter=function(e){var t=this.stride,n=this.flatCoordinates[t]-this.flatCoordinates[0],r=e.slice();r[t]=r[0]+n;for(var o=1;o<t;++o)r[t+o]=e[o];this.setFlatCoordinates(this.layout,r),this.changed()},t.prototype.setCenterAndRadius=function(e,t,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]);var r=this.flatCoordinates,o=deflateCoordinate(r,0,e,this.stride);r[o++]=r[0]+t;for(var i=1,a=this.stride;i<a;++i)r[o++]=r[i];r.length=o,this.changed()},t.prototype.getCoordinates=function(){return null},t.prototype.setCoordinates=function(e,t){},t.prototype.setRadius=function(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()},t.prototype.rotate=function(e,t){var n=this.getCenter(),r=this.getStride();this.setCenter(rotate(n,0,n.length,r,e,t,n)),this.changed()},t.prototype.translate=function(e,t){var n=this.getCenter(),r=this.getStride();this.setCenter(translate$1(n,0,n.length,r,e,t,n)),this.changed()},t}(SimpleGeometry$1);Circle.prototype.transform;var __extends$G=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),MultiLineString=function(e){function t(t,n,r){var o=e.call(this)||this;if(o.ends_=[],o.maxDelta_=-1,o.maxDeltaRevision_=-1,Array.isArray(t[0]))o.setCoordinates(t,n);else if(void 0!==n&&r)o.setFlatCoordinates(n,t),o.ends_=r;else{for(var i=o.getLayout(),a=t,s=[],l=[],u=0,c=a.length;u<c;++u){var d=a[u];0===u&&(i=d.getLayout()),extend$3(s,d.getFlatCoordinates()),l.push(s.length)}o.setFlatCoordinates(i,s),o.ends_=l}return o}return __extends$G(t,e),t.prototype.appendLineString=function(e){this.flatCoordinates?extend$3(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,t,n,r){return r<closestSquaredDistanceXY(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(arrayMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),assignClosestArrayPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,n,r))},t.prototype.getCoordinateAtM=function(e,t,n){if(this.layout!=GeometryLayout.XYM&&this.layout!=GeometryLayout.XYZM||0===this.flatCoordinates.length)return null;var r=void 0!==t&&t,o=void 0!==n&&n;return lineStringsCoordinateAtM(this.flatCoordinates,0,this.ends_,this.stride,e,r,o)},t.prototype.getCoordinates=function(){return inflateCoordinatesArray(this.flatCoordinates,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getLineString=function(e){return e<0||this.ends_.length<=e?null:new LineString(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)},t.prototype.getLineStrings=function(){for(var e=this.flatCoordinates,t=this.ends_,n=this.layout,r=[],o=0,i=0,a=t.length;i<a;++i){var s=t[i],l=new LineString(e.slice(o,s),n);r.push(l),o=s}return r},t.prototype.getFlatMidpoints=function(){for(var e=[],t=this.flatCoordinates,n=0,r=this.ends_,o=this.stride,i=0,a=r.length;i<a;++i){var s=r[i];extend$3(e,interpolatePoint(t,n,s,o,.5)),n=s}return e},t.prototype.getSimplifiedGeometryInternal=function(e){var n=[],r=[];return n.length=douglasPeuckerArray(this.flatCoordinates,0,this.ends_,this.stride,e,n,0,r),new t(n,GeometryLayout.XY,r)},t.prototype.getType=function(){return"MultiLineString"},t.prototype.intersectsExtent=function(e){return intersectsLineStringArray(this.flatCoordinates,0,this.ends_,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=deflateCoordinatesArray(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},t}(SimpleGeometry$1);const MultiLineString$1=MultiLineString;var __extends$F=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),MultiPoint=function(e){function t(t,n){var r=e.call(this)||this;return n&&!Array.isArray(t[0])?r.setFlatCoordinates(n,t):r.setCoordinates(t,n),r}return __extends$F(t,e),t.prototype.appendPoint=function(e){this.flatCoordinates?extend$3(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,t,n,r){if(r<closestSquaredDistanceXY(this.getExtent(),e,t))return r;for(var o=this.flatCoordinates,i=this.stride,a=0,s=o.length;a<s;a+=i){var l=squaredDistance$1(e,t,o[a],o[a+1]);if(l<r){r=l;for(var u=0;u<i;++u)n[u]=o[a+u];n.length=i}}return r},t.prototype.getCoordinates=function(){return inflateCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getPoint=function(e){var t=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return e<0||t<=e?null:new Point$1(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)},t.prototype.getPoints=function(){for(var e=this.flatCoordinates,t=this.layout,n=this.stride,r=[],o=0,i=e.length;o<i;o+=n){var a=new Point$1(e.slice(o,o+n),t);r.push(a)}return r},t.prototype.getType=function(){return"MultiPoint"},t.prototype.intersectsExtent=function(e){for(var t=this.flatCoordinates,n=this.stride,r=0,o=t.length;r<o;r+=n){if(containsXY(e,t[r],t[r+1]))return!0}return!1},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=deflateCoordinates(this.flatCoordinates,0,e,this.stride),this.changed()},t}(SimpleGeometry$1);const MultiPoint$1=MultiPoint;function linearRingss(e,t,n,r){for(var o=[],i=createEmpty(),a=0,s=n.length;a<s;++a){var l=n[a];i=createOrUpdateFromFlatCoordinates(e,t,l[0],r),o.push((i[0]+i[2])/2,(i[1]+i[3])/2),t=l[l.length-1]}return o}var __extends$E=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),MultiPolygon=function(e){function t(t,n,r){var o=e.call(this)||this;if(o.endss_=[],o.flatInteriorPointsRevision_=-1,o.flatInteriorPoints_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,!r&&!Array.isArray(t[0])){for(var i=o.getLayout(),a=t,s=[],l=[],u=0,c=a.length;u<c;++u){var d=a[u];0===u&&(i=d.getLayout());for(var h=s.length,p=d.getEnds(),f=0,m=p.length;f<m;++f)p[f]+=h;extend$3(s,d.getFlatCoordinates()),l.push(p)}n=i,t=s,r=l}return void 0!==n&&r?(o.setFlatCoordinates(n,t),o.endss_=r):o.setCoordinates(t,n),o}return __extends$E(t,e),t.prototype.appendPolygon=function(e){var t;if(this.flatCoordinates){var n=this.flatCoordinates.length;extend$3(this.flatCoordinates,e.getFlatCoordinates());for(var r=0,o=(t=e.getEnds().slice()).length;r<o;++r)t[r]+=n}else this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();this.endss_.push(t),this.changed()},t.prototype.clone=function(){for(var e=this.endss_.length,n=new Array(e),r=0;r<e;++r)n[r]=this.endss_[r].slice();var o=new t(this.flatCoordinates.slice(),this.layout,n);return o.applyProperties(this),o},t.prototype.closestPointXY=function(e,t,n,r){return r<closestSquaredDistanceXY(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(multiArrayMaxSquaredDelta(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),assignClosestMultiArrayPoint(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,n,r))},t.prototype.containsXY=function(e,t){return linearRingssContainsXY(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)},t.prototype.getArea=function(){return linearRingss$1(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},t.prototype.getCoordinates=function(e){var t;return void 0!==e?orientLinearRingsArray(t=this.getOrientedFlatCoordinates().slice(),0,this.endss_,this.stride,e):t=this.flatCoordinates,inflateMultiCoordinatesArray(t,0,this.endss_,this.stride)},t.prototype.getEndss=function(){return this.endss_},t.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var e=linearRingss(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=getInteriorPointsOfMultiArray(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},t.prototype.getInteriorPoints=function(){return new MultiPoint$1(this.getFlatInteriorPoints().slice(),GeometryLayout.XYM)},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;linearRingssAreOriented(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=orientLinearRingsArray(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(e){var n=[],r=[];return n.length=quantizeMultiArray(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),n,0,r),new t(n,GeometryLayout.XY,r)},t.prototype.getPolygon=function(e){if(e<0||this.endss_.length<=e)return null;var t;if(0===e)t=0;else{var n=this.endss_[e-1];t=n[n.length-1]}var r=this.endss_[e].slice(),o=r[r.length-1];if(0!==t)for(var i=0,a=r.length;i<a;++i)r[i]-=t;return new Polygon(this.flatCoordinates.slice(t,o),this.layout,r)},t.prototype.getPolygons=function(){for(var e=this.layout,t=this.flatCoordinates,n=this.endss_,r=[],o=0,i=0,a=n.length;i<a;++i){var s=n[i].slice(),l=s[s.length-1];if(0!==o)for(var u=0,c=s.length;u<c;++u)s[u]-=o;var d=new Polygon(t.slice(o,l),e,s);r.push(d),o=l}return r},t.prototype.getType=function(){return"MultiPolygon"},t.prototype.intersectsExtent=function(e){return intersectsLinearRingMultiArray(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=deflateMultiCoordinatesArray(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var r=n[n.length-1];this.flatCoordinates.length=0===r.length?0:r[r.length-1]}this.changed()},t}(SimpleGeometry$1);const MultiPolygon$1=MultiPolygon;var __extends$D=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mode={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},DrawEventType={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"},DrawEvent=function(e){function t(t,n){var r=e.call(this,t)||this;return r.feature=n,r}return __extends$D(t,e),t}(Event$1),Draw=function(e){function t(t){var n=this,r=t;r.stopDown||(r.stopDown=FALSE),(n=e.call(this,r)||this).on,n.once,n.un,n.shouldHandle_=!1,n.downPx_=null,n.downTimeout_,n.lastDragTime_,n.pointerType_,n.freehand_=!1,n.source_=t.source?t.source:null,n.features_=t.features?t.features:null,n.snapTolerance_=t.snapTolerance?t.snapTolerance:12,n.type_=t.type,n.mode_=getMode(n.type_),n.stopClick_=!!t.stopClick,n.minPoints_=t.minPoints?t.minPoints:n.mode_===Mode.POLYGON?3:2,n.maxPoints_=n.mode_===Mode.CIRCLE?2:t.maxPoints?t.maxPoints:1/0,n.finishCondition_=t.finishCondition?t.finishCondition:TRUE,n.geometryLayout_=t.geometryLayout?t.geometryLayout:GeometryLayout.XY;var o=t.geometryFunction;if(!o){var i,a=n.mode_;if(a===Mode.CIRCLE)o=function(e,t,n){var r=t||new Circle([NaN,NaN]),o=fromUserCoordinate(e[0]),i=squaredDistance(o,fromUserCoordinate(e[e.length-1]));return r.setCenterAndRadius(o,Math.sqrt(i),this.geometryLayout_),r};else a===Mode.POINT?i=Point$1:a===Mode.LINE_STRING?i=LineString:a===Mode.POLYGON&&(i=Polygon),o=function(e,t,n){return t?a===Mode.POLYGON?e[0].length?t.setCoordinates([e[0].concat([e[0][0]])],this.geometryLayout_):t.setCoordinates([],this.geometryLayout_):t.setCoordinates(e,this.geometryLayout_):t=new i(e,this.geometryLayout_),t}}return n.geometryFunction_=o,n.dragVertexDelay_=void 0!==t.dragVertexDelay?t.dragVertexDelay:500,n.finishCoordinate_=null,n.sketchFeature_=null,n.sketchPoint_=null,n.sketchCoords_=null,n.sketchLine_=null,n.sketchLineCoords_=null,n.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,n.overlay_=new VectorLayer({source:new VectorSource({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:getDefaultStyleFunction$2(),updateWhileInteracting:!0}),n.geometryName_=t.geometryName,n.condition_=t.condition?t.condition:noModifierKeys,n.freehandCondition_,t.freehand?n.freehandCondition_=always:n.freehandCondition_=t.freehandCondition?t.freehandCondition:shiftKeyOnly,n.addChangeListener(InteractionProperty.ACTIVE,n.updateState_),n}return __extends$D(t,e),t.prototype.setMap=function(t){e.prototype.setMap.call(this,t),this.updateState_()},t.prototype.getOverlay=function(){return this.overlay_},t.prototype.handleEvent=function(t){t.originalEvent.type===EventType.CONTEXTMENU&&t.originalEvent.preventDefault(),this.freehand_=this.mode_!==Mode.POINT&&this.freehandCondition_(t);var n=t.type===MapBrowserEventType.POINTERMOVE,r=!0;!this.freehand_&&this.lastDragTime_&&t.type===MapBrowserEventType.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,n=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));return this.freehand_&&t.type===MapBrowserEventType.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(t.coordinate),r=!1):this.freehand_&&t.type===MapBrowserEventType.POINTERDOWN?r=!1:n&&this.getPointerCount()<2?(r=t.type===MapBrowserEventType.POINTERMOVE)&&this.freehand_?(this.handlePointerMove_(t),this.shouldHandle_&&t.originalEvent.preventDefault()):("mouse"===t.originalEvent.pointerType||t.type===MapBrowserEventType.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(t):t.type===MapBrowserEventType.DBLCLICK&&(r=!1),e.prototype.handleEvent.call(this,t)&&r},t.prototype.handleDownEvent=function(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e.coordinate),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new MapBrowserEvent(MapBrowserEventType.POINTERMOVE,e.map,e.originalEvent,!1,e.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)},t.prototype.handleUpEvent=function(e){var t=!0;if(0===this.getPointerCount())if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e),this.shouldHandle_){var n=!this.finishCoordinate_;n&&this.startDrawing_(e.coordinate),!n&&this.freehand_?this.finishDrawing():this.freehand_||n&&this.mode_!==Mode.POINT||(this.atFinish_(e.pixel)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e.coordinate)),t=!1}else this.freehand_&&this.abortDrawing();return!t&&this.stopClick_&&e.preventDefault(),t},t.prototype.handlePointerMove_=function(e){if(this.pointerType_=e.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var t=this.downPx_,n=e.pixel,r=t[0]-n[0],o=t[1]-n[1],i=r*r+o*o;if(this.shouldHandle_=this.freehand_?i>this.squaredClickTolerance_:i<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(e.coordinate):this.createOrUpdateSketchPoint_(e.coordinate.slice())},t.prototype.atFinish_=function(e){var t=!1;if(this.sketchFeature_){var n=!1,r=[this.finishCoordinate_],o=this.mode_;if(o===Mode.POINT)t=!0;else if(o===Mode.CIRCLE)t=2===this.sketchCoords_.length;else if(o===Mode.LINE_STRING)n=this.sketchCoords_.length>this.minPoints_;else if(o===Mode.POLYGON){var i=this.sketchCoords_;n=i[0].length>this.minPoints_,r=[i[0][0],i[0][i[0].length-2]]}if(n)for(var a=this.getMap(),s=0,l=r.length;s<l;s++){var u=r[s],c=a.getPixelFromCoordinate(u),d=e[0]-c[0],h=e[1]-c[1],p=this.freehand_?1:this.snapTolerance_;if(t=Math.sqrt(d*d+h*h)<=p){this.finishCoordinate_=u;break}}}return t},t.prototype.createOrUpdateSketchPoint_=function(e){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new Feature$1(new Point$1(e)),this.updateSketchFeatures_())},t.prototype.createOrUpdateCustomSketchLine_=function(e){this.sketchLine_||(this.sketchLine_=new Feature$1);var t=e.getLinearRing(0),n=this.sketchLine_.getGeometry();n?(n.setFlatCoordinates(t.getLayout(),t.getFlatCoordinates()),n.changed()):(n=new LineString(t.getFlatCoordinates(),t.getLayout()),this.sketchLine_.setGeometry(n))},t.prototype.startDrawing_=function(e){for(var t=this.getMap().getView().getProjection(),n=getStrideForLayout(this.geometryLayout_);e.length<n;)e.push(0);this.finishCoordinate_=e,this.mode_===Mode.POINT?this.sketchCoords_=e.slice():this.mode_===Mode.POLYGON?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Feature$1(new LineString(this.sketchLineCoords_)));var r=this.geometryFunction_(this.sketchCoords_,void 0,t);this.sketchFeature_=new Feature$1,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(r),this.updateSketchFeatures_(),this.dispatchEvent(new DrawEvent(DrawEventType.DRAWSTART,this.sketchFeature_))},t.prototype.modifyDrawing_=function(e){for(var t,n,r=this.getMap(),o=this.sketchFeature_.getGeometry(),i=r.getView().getProjection(),a=getStrideForLayout(this.geometryLayout_);e.length<a;)e.push(0);(this.mode_===Mode.POINT?n=this.sketchCoords_:this.mode_===Mode.POLYGON?(n=(t=this.sketchCoords_[0])[t.length-1],this.atFinish_(r.getPixelFromCoordinate(e))&&(e=this.finishCoordinate_.slice())):n=(t=this.sketchCoords_)[t.length-1],n[0]=e[0],n[1]=e[1],this.geometryFunction_(this.sketchCoords_,o,i),this.sketchPoint_)&&this.sketchPoint_.getGeometry().setCoordinates(e);if("Polygon"===o.getType()&&this.mode_!==Mode.POLYGON)this.createOrUpdateCustomSketchLine_(o);else if(this.sketchLineCoords_){this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()},t.prototype.addToDrawing_=function(e){var t,n,r=this.sketchFeature_.getGeometry(),o=this.getMap().getView().getProjection(),i=this.mode_;i===Mode.LINE_STRING||i===Mode.CIRCLE?(this.finishCoordinate_=e.slice(),(n=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?n.pop():t=!0),n.push(e.slice()),this.geometryFunction_(n,r,o)):i===Mode.POLYGON&&((n=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?n.pop():t=!0),n.push(e.slice()),t&&(this.finishCoordinate_=n[0]),this.geometryFunction_(this.sketchCoords_,r,o)),this.createOrUpdateSketchPoint_(e.slice()),this.updateSketchFeatures_(),t&&this.finishDrawing()},t.prototype.removeLastPoint=function(){if(this.sketchFeature_){var e,t=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection(),r=this.mode_;if(r===Mode.LINE_STRING||r===Mode.CIRCLE){if((e=this.sketchCoords_).splice(-2,1),e.length>=2){this.finishCoordinate_=e[e.length-2].slice();var o=this.finishCoordinate_.slice();e[e.length-1]=o,this.createOrUpdateSketchPoint_(o)}this.geometryFunction_(e,t,n),"Polygon"===t.getType()&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if(r===Mode.POLYGON){(e=this.sketchCoords_[0]).splice(-2,1);var i=this.sketchLine_.getGeometry();if(e.length>=2){o=e[e.length-2].slice();e[e.length-1]=o,this.createOrUpdateSketchPoint_(o)}i.setCoordinates(e),this.geometryFunction_(this.sketchCoords_,t,n)}1===e.length&&this.abortDrawing(),this.updateSketchFeatures_()}},t.prototype.finishDrawing=function(){var e=this.abortDrawing_();if(e){var t=this.sketchCoords_,n=e.getGeometry(),r=this.getMap().getView().getProjection();this.mode_===Mode.LINE_STRING?(t.pop(),this.geometryFunction_(t,n,r)):this.mode_===Mode.POLYGON&&(t[0].pop(),this.geometryFunction_(t,n,r),t=n.getCoordinates()),"MultiPoint"===this.type_?e.setGeometry(new MultiPoint$1([t])):"MultiLineString"===this.type_?e.setGeometry(new MultiLineString$1([t])):"MultiPolygon"===this.type_&&e.setGeometry(new MultiPolygon$1([t])),this.dispatchEvent(new DrawEvent(DrawEventType.DRAWEND,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e)}},t.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var e=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),e},t.prototype.abortDrawing=function(){var e=this.abortDrawing_();e&&this.dispatchEvent(new DrawEvent(DrawEventType.DRAWABORT,e))},t.prototype.appendCoordinates=function(e){var t,n=this.mode_,r=!this.sketchFeature_;if(r&&this.startDrawing_(e[0]),n===Mode.LINE_STRING||n===Mode.CIRCLE)t=this.sketchCoords_;else{if(n!==Mode.POLYGON)return;t=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}r&&t.shift(),t.pop();for(var o=0;o<e.length;o++)this.addToDrawing_(e[o]);var i=e[e.length-1];this.addToDrawing_(i),this.modifyDrawing_(i)},t.prototype.extend=function(e){var t=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=t.getCoordinates();var n=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=n.slice(),this.sketchCoords_.push(n.slice()),this.sketchPoint_=new Feature$1(new Point$1(n)),this.updateSketchFeatures_(),this.dispatchEvent(new DrawEvent(DrawEventType.DRAWSTART,this.sketchFeature_))},t.prototype.updateSketchFeatures_=function(){var e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);var t=this.overlay_.getSource();t.clear(!0),t.addFeatures(e)},t.prototype.updateState_=function(){var e=this.getMap(),t=this.getActive();e&&t||this.abortDrawing(),this.overlay_.setMap(t?e:null)},t}(PointerInteraction);function getDefaultStyleFunction$2(){var e=createEditingStyle();return function(t,n){return e[t.getGeometry().getType()]}}function createRegularPolygon(e,t){return function(n,r,o){var i=fromUserCoordinate(n[0]),a=fromUserCoordinate(n[n.length-1]),s=Math.sqrt(squaredDistance(i,a)),l=r||fromCircle(new Circle(i),e),u=t;if(!t&&0!==t){var c=a[0]-i[0],d=a[1]-i[1];u=Math.atan2(d,c)}return makeRegular(l,i,s,u),l}}function getMode(e){switch(e){case"Point":case"MultiPoint":return Mode.POINT;case"LineString":case"MultiLineString":return Mode.LINE_STRING;case"Polygon":case"MultiPolygon":return Mode.POLYGON;case"Circle":return Mode.CIRCLE;default:throw new Error("Invalid type: "+e)}}var __extends$C=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),CIRCLE_CENTER_INDEX=0,CIRCLE_CIRCUMFERENCE_INDEX=1,tempExtent=[0,0,0,0],tempSegment=[],ModifyEventType={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"},ModifyEvent=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.features=n,o.mapBrowserEvent=r,o}return __extends$C(t,e),t}(Event$1),Modify$1=function(e){function t(t){var n,r=e.call(this,t)||this;if(r.on,r.once,r.un,r.boundHandleFeatureChange_=r.handleFeatureChange_.bind(r),r.condition_=t.condition?t.condition:primaryAction,r.defaultDeleteCondition_=function(e){return altKeyOnly(e)&&singleClick(e)},r.deleteCondition_=t.deleteCondition?t.deleteCondition:r.defaultDeleteCondition_,r.insertVertexCondition_=t.insertVertexCondition?t.insertVertexCondition:always,r.vertexFeature_=null,r.vertexSegments_=null,r.lastPixel_=[0,0],r.ignoreNextSingleClick_=!1,r.featuresBeingModified_=null,r.rBush_=new RBush,r.pixelTolerance_=void 0!==t.pixelTolerance?t.pixelTolerance:10,r.snappedToVertex_=!1,r.changingFeature_=!1,r.dragSegments_=[],r.overlay_=new VectorLayer({source:new VectorSource({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:getDefaultStyleFunction$1(),updateWhileAnimating:!0,updateWhileInteracting:!0}),r.SEGMENT_WRITERS_={Point:r.writePointGeometry_.bind(r),LineString:r.writeLineStringGeometry_.bind(r),LinearRing:r.writeLineStringGeometry_.bind(r),Polygon:r.writePolygonGeometry_.bind(r),MultiPoint:r.writeMultiPointGeometry_.bind(r),MultiLineString:r.writeMultiLineStringGeometry_.bind(r),MultiPolygon:r.writeMultiPolygonGeometry_.bind(r),Circle:r.writeCircleGeometry_.bind(r),GeometryCollection:r.writeGeometryCollectionGeometry_.bind(r)},r.source_=null,r.hitDetection_=null,t.features?n=t.features:t.source&&(r.source_=t.source,n=new Collection$1(r.source_.getFeatures()),r.source_.addEventListener(VectorEventType.ADDFEATURE,r.handleSourceAdd_.bind(r)),r.source_.addEventListener(VectorEventType.REMOVEFEATURE,r.handleSourceRemove_.bind(r))),!n)throw new Error("The modify interaction requires features, a source or a layer");return t.hitDetection&&(r.hitDetection_=t.hitDetection),r.features_=n,r.features_.forEach(r.addFeature_.bind(r)),r.features_.addEventListener(CollectionEventType.ADD,r.handleFeatureAdd_.bind(r)),r.features_.addEventListener(CollectionEventType.REMOVE,r.handleFeatureRemove_.bind(r)),r.lastPointerEvent_=null,r.delta_=[0,0],r.snapToPointer_=void 0===t.snapToPointer?!r.hitDetection_:t.snapToPointer,r}return __extends$C(t,e),t.prototype.addFeature_=function(e){var t=e.getGeometry();if(t){var n=this.SEGMENT_WRITERS_[t.getType()];n&&n(e,t)}var r=this.getMap();r&&r.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,r),e.addEventListener(EventType.CHANGE,this.boundHandleFeatureChange_)},t.prototype.willModifyFeatures_=function(e,t){if(!this.featuresBeingModified_){this.featuresBeingModified_=new Collection$1;for(var n=this.featuresBeingModified_.getArray(),r=0,o=t.length;r<o;++r)for(var i=t[r],a=0,s=i.length;a<s;++a){var l=i[a].feature;l&&-1===n.indexOf(l)&&this.featuresBeingModified_.push(l)}0===this.featuresBeingModified_.getLength()?this.featuresBeingModified_=null:this.dispatchEvent(new ModifyEvent(ModifyEventType.MODIFYSTART,this.featuresBeingModified_,e))}},t.prototype.removeFeature_=function(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.removeEventListener(EventType.CHANGE,this.boundHandleFeatureChange_)},t.prototype.removeFeatureSegmentData_=function(e){var t=this.rBush_,n=[];t.forEach((function(t){e===t.feature&&n.push(t)}));for(var r=n.length-1;r>=0;--r){for(var o=n[r],i=this.dragSegments_.length-1;i>=0;--i)this.dragSegments_[i][0]===o&&this.dragSegments_.splice(i,1);t.remove(o)}},t.prototype.setActive=function(t){this.vertexFeature_&&!t&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.prototype.setActive.call(this,t)},t.prototype.setMap=function(t){this.overlay_.setMap(t),e.prototype.setMap.call(this,t)},t.prototype.getOverlay=function(){return this.overlay_},t.prototype.handleSourceAdd_=function(e){e.feature&&this.features_.push(e.feature)},t.prototype.handleSourceRemove_=function(e){e.feature&&this.features_.remove(e.feature)},t.prototype.handleFeatureAdd_=function(e){this.addFeature_(e.element)},t.prototype.handleFeatureChange_=function(e){if(!this.changingFeature_){var t=e.target;this.removeFeature_(t),this.addFeature_(t)}},t.prototype.handleFeatureRemove_=function(e){var t=e.element;this.removeFeature_(t)},t.prototype.writePointGeometry_=function(e,t){var n=t.getCoordinates(),r={feature:e,geometry:t,segment:[n,n]};this.rBush_.insert(t.getExtent(),r)},t.prototype.writeMultiPointGeometry_=function(e,t){for(var n=t.getCoordinates(),r=0,o=n.length;r<o;++r){var i=n[r],a={feature:e,geometry:t,depth:[r],index:r,segment:[i,i]};this.rBush_.insert(t.getExtent(),a)}},t.prototype.writeLineStringGeometry_=function(e,t){for(var n=t.getCoordinates(),r=0,o=n.length-1;r<o;++r){var i=n.slice(r,r+2),a={feature:e,geometry:t,index:r,segment:i};this.rBush_.insert(boundingExtent(i),a)}},t.prototype.writeMultiLineStringGeometry_=function(e,t){for(var n=t.getCoordinates(),r=0,o=n.length;r<o;++r)for(var i=n[r],a=0,s=i.length-1;a<s;++a){var l=i.slice(a,a+2),u={feature:e,geometry:t,depth:[r],index:a,segment:l};this.rBush_.insert(boundingExtent(l),u)}},t.prototype.writePolygonGeometry_=function(e,t){for(var n=t.getCoordinates(),r=0,o=n.length;r<o;++r)for(var i=n[r],a=0,s=i.length-1;a<s;++a){var l=i.slice(a,a+2),u={feature:e,geometry:t,depth:[r],index:a,segment:l};this.rBush_.insert(boundingExtent(l),u)}},t.prototype.writeMultiPolygonGeometry_=function(e,t){for(var n=t.getCoordinates(),r=0,o=n.length;r<o;++r)for(var i=n[r],a=0,s=i.length;a<s;++a)for(var l=i[a],u=0,c=l.length-1;u<c;++u){var d=l.slice(u,u+2),h={feature:e,geometry:t,depth:[a,r],index:u,segment:d};this.rBush_.insert(boundingExtent(d),h)}},t.prototype.writeCircleGeometry_=function(e,t){var n=t.getCenter(),r={feature:e,geometry:t,index:CIRCLE_CENTER_INDEX,segment:[n,n]},o={feature:e,geometry:t,index:CIRCLE_CIRCUMFERENCE_INDEX,segment:[n,n]},i=[r,o];r.featureSegments=i,o.featureSegments=i,this.rBush_.insert(createOrUpdateFromCoordinate(n),r);var a=t;this.rBush_.insert(a.getExtent(),o)},t.prototype.writeGeometryCollectionGeometry_=function(e,t){for(var n=t.getGeometriesArray(),r=0;r<n.length;++r){var o=n[r];(0,this.SEGMENT_WRITERS_[o.getType()])(e,o)}},t.prototype.createOrUpdateVertexFeature_=function(e,t,n){var r=this.vertexFeature_;r?r.getGeometry().setCoordinates(e):(r=new Feature$1(new Point$1(e)),this.vertexFeature_=r,this.overlay_.getSource().addFeature(r));return r.set("features",t),r.set("geometries",n),r},t.prototype.handleEvent=function(t){return!t.originalEvent||(this.lastPointerEvent_=t,t.map.getView().getInteracting()||t.type!=MapBrowserEventType.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(t),this.vertexFeature_&&this.deleteCondition_(t)&&(n=!(t.type!=MapBrowserEventType.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),t.type==MapBrowserEventType.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),e.prototype.handleEvent.call(this,t)&&!n);var n},t.prototype.handleDragEvent=function(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e,this.dragSegments_);for(var t=[e.coordinate[0]+this.delta_[0],e.coordinate[1]+this.delta_[1]],n=[],r=[],o=0,i=this.dragSegments_.length;o<i;++o){var a=this.dragSegments_[o],s=a[0],l=s.feature;-1===n.indexOf(l)&&n.push(l);var u=s.geometry;-1===r.indexOf(u)&&r.push(u);for(var c=s.depth,d=void 0,h=s.segment,p=a[1];t.length<u.getStride();)t.push(h[p][t.length]);switch(u.getType()){case"Point":d=t,h[0]=t,h[1]=t;break;case"MultiPoint":(d=u.getCoordinates())[s.index]=t,h[0]=t,h[1]=t;break;case"LineString":(d=u.getCoordinates())[s.index+p]=t,h[p]=t;break;case"MultiLineString":case"Polygon":(d=u.getCoordinates())[c[0]][s.index+p]=t,h[p]=t;break;case"MultiPolygon":(d=u.getCoordinates())[c[1]][c[0]][s.index+p]=t,h[p]=t;break;case"Circle":if(h[0]=t,h[1]=t,s.index===CIRCLE_CENTER_INDEX)this.changingFeature_=!0,u.setCenter(t),this.changingFeature_=!1;else{this.changingFeature_=!0;var f=e.map.getView().getProjection(),m=distance$1(fromUserCoordinate(u.getCenter()),fromUserCoordinate(t)),_=getUserProjection();if(_){var g=u.clone().transform(_,f);g.setRadius(m),m=g.transform(f,_).getRadius()}u.setRadius(m),this.changingFeature_=!1}}d&&this.setGeometryCoordinates_(u,d)}this.createOrUpdateVertexFeature_(t,n,r)},t.prototype.handleDownEvent=function(e){if(!this.condition_(e))return!1;var t=e.coordinate;this.handlePointerAtPixel_(e.pixel,e.map,t),this.dragSegments_.length=0,this.featuresBeingModified_=null;var n=this.vertexFeature_;if(n){var r=e.map.getView().getProjection(),o=[],i=n.getGeometry().getCoordinates(),a=boundingExtent([i]),s=this.rBush_.getInExtent(a),l={};s.sort(compareIndexes);for(var u=0,c=s.length;u<c;++u){var d=s[u],h=d.segment,p=getUid(d.geometry),f=d.depth;if(f&&(p+="-"+f.join("-")),l[p]||(l[p]=new Array(2)),"Circle"!==d.geometry.getType()||d.index!==CIRCLE_CIRCUMFERENCE_INDEX)if(!equals(h[0],i)||l[p][0])if(!equals(h[1],i)||l[p][1])getUid(h)in this.vertexSegments_&&!l[p][0]&&!l[p][1]&&this.insertVertexCondition_(e)&&o.push(d);else{if(l[p][0]&&0===l[p][0].index){var m=d.geometry.getCoordinates();switch(d.geometry.getType()){case"LineString":case"MultiLineString":continue;case"MultiPolygon":m=m[f[1]];case"Polygon":if(d.index!==m[f[0]].length-2)continue}}this.dragSegments_.push([d,1]),l[p][1]=d}else this.dragSegments_.push([d,0]),l[p][0]=d;else equals(closestOnSegmentData(t,d,r),i)&&!l[p][0]&&(this.dragSegments_.push([d,0]),l[p][0]=d)}o.length&&this.willModifyFeatures_(e,[o]);for(var _=o.length-1;_>=0;--_)this.insertVertex_(o[_],i)}return!!this.vertexFeature_},t.prototype.handleUpEvent=function(e){for(var t=this.dragSegments_.length-1;t>=0;--t){var n=this.dragSegments_[t][0],r=n.geometry;if("Circle"===r.getType()){var o=r.getCenter(),i=n.featureSegments[0],a=n.featureSegments[1];i.segment[0]=o,i.segment[1]=o,a.segment[0]=o,a.segment[1]=o,this.rBush_.update(createOrUpdateFromCoordinate(o),i);var s=r,l=getUserProjection();if(l){var u=e.map.getView().getProjection();s=fromCircle(s=s.clone().transform(l,u)).transform(u,l)}this.rBush_.update(s.getExtent(),a)}else this.rBush_.update(boundingExtent(n.segment),n)}return this.featuresBeingModified_&&(this.dispatchEvent(new ModifyEvent(ModifyEventType.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null),!1},t.prototype.handlePointerMove_=function(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map,e.coordinate)},t.prototype.handlePointerAtPixel_=function(e,t,n){var r,o,i=this,a=n||t.getCoordinateFromPixel(e),s=t.getView().getProjection();if(this.hitDetection_){var l="object"==typeof this.hitDetection_?function(e){return e===i.hitDetection_}:void 0;t.forEachFeatureAtPixel(e,(function(e,t,n){if("Point"===(n=n||e.getGeometry()).getType()&&includes(i.features_.getArray(),e)){o=n;var a=n.getFlatCoordinates().slice(0,2);r=[{feature:e,geometry:n,segment:[a,a]}]}return!0}),{layerFilter:l})}if(!r){var u=toUserExtent(buffer(fromUserExtent(createOrUpdateFromCoordinate(a,tempExtent)),t.getView().getResolution()*this.pixelTolerance_,tempExtent));r=this.rBush_.getInExtent(u)}if(r&&r.length>0){var c=r.sort((function(e,t){return projectedDistanceToSegmentDataSquared(a,e,s)-projectedDistanceToSegmentDataSquared(a,t,s)}))[0],d=c.segment,h=closestOnSegmentData(a,c,s),p=t.getPixelFromCoordinate(h),f=distance$1(e,p);if(o||f<=this.pixelTolerance_){var m={};if(m[getUid(d)]=!0,this.snapToPointer_||(this.delta_[0]=h[0]-a[0],this.delta_[1]=h[1]-a[1]),"Circle"===c.geometry.getType()&&c.index===CIRCLE_CIRCUMFERENCE_INDEX)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(h,[c.feature],[c.geometry]);else{var _=t.getPixelFromCoordinate(d[0]),g=t.getPixelFromCoordinate(d[1]),v=squaredDistance(p,_),y=squaredDistance(p,g);f=Math.sqrt(Math.min(v,y)),this.snappedToVertex_=f<=this.pixelTolerance_,this.snappedToVertex_&&(h=v>y?d[1]:d[0]),this.createOrUpdateVertexFeature_(h,[c.feature],[c.geometry]);var b={};b[getUid(c.geometry)]=!0;for(var E=1,C=r.length;E<C;++E){var x=r[E].segment;if(!(equals(d[0],x[0])&&equals(d[1],x[1])||equals(d[0],x[1])&&equals(d[1],x[0])))break;var w=getUid(r[E].geometry);w in b||(b[w]=!0,m[getUid(x)]=!0)}}return void(this.vertexSegments_=m)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},t.prototype.insertVertex_=function(e,t){for(var n,r=e.segment,o=e.feature,i=e.geometry,a=e.depth,s=e.index;t.length<i.getStride();)t.push(0);switch(i.getType()){case"MultiLineString":case"Polygon":(n=i.getCoordinates())[a[0]].splice(s+1,0,t);break;case"MultiPolygon":(n=i.getCoordinates())[a[1]][a[0]].splice(s+1,0,t);break;case"LineString":(n=i.getCoordinates()).splice(s+1,0,t);break;default:return}this.setGeometryCoordinates_(i,n);var l=this.rBush_;l.remove(e),this.updateSegmentIndices_(i,s,a,1);var u={segment:[r[0],t],feature:o,geometry:i,depth:a,index:s};l.insert(boundingExtent(u.segment),u),this.dragSegments_.push([u,1]);var c={segment:[t,r[1]],feature:o,geometry:i,depth:a,index:s+1};l.insert(boundingExtent(c.segment),c),this.dragSegments_.push([c,0]),this.ignoreNextSingleClick_=!0},t.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=MapBrowserEventType.POINTERDRAG){var e=this.lastPointerEvent_;this.willModifyFeatures_(e,this.dragSegments_);var t=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new ModifyEvent(ModifyEventType.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null,t}return!1},t.prototype.removeVertex_=function(){var e,t,n,r,o,i,a,s,l,u,c,d=this.dragSegments_,h={},p=!1;for(o=d.length-1;o>=0;--o)c=getUid((u=(n=d[o])[0]).feature),u.depth&&(c+="-"+u.depth.join("-")),c in h||(h[c]={}),0===n[1]?(h[c].right=u,h[c].index=u.index):1==n[1]&&(h[c].left=u,h[c].index=u.index+1);for(c in h){switch(l=h[c].right,a=h[c].left,(s=(i=h[c].index)-1)<0&&(s=0),e=t=(r=(u=void 0!==a?a:l).geometry).getCoordinates(),p=!1,r.getType()){case"MultiLineString":t[u.depth[0]].length>2&&(t[u.depth[0]].splice(i,1),p=!0);break;case"LineString":t.length>2&&(t.splice(i,1),p=!0);break;case"MultiPolygon":e=e[u.depth[1]];case"Polygon":(e=e[u.depth[0]]).length>4&&(i==e.length-1&&(i=0),e.splice(i,1),p=!0,0===i&&(e.pop(),e.push(e[0]),s=e.length-1))}if(p){this.setGeometryCoordinates_(r,t);var f=[];if(void 0!==a&&(this.rBush_.remove(a),f.push(a.segment[0])),void 0!==l&&(this.rBush_.remove(l),f.push(l.segment[1])),void 0!==a&&void 0!==l){var m={depth:u.depth,feature:u.feature,geometry:u.geometry,index:s,segment:f};this.rBush_.insert(boundingExtent(m.segment),m)}this.updateSegmentIndices_(r,i,u.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),d.length=0}}return p},t.prototype.setGeometryCoordinates_=function(e,t){this.changingFeature_=!0,e.setCoordinates(t),this.changingFeature_=!1},t.prototype.updateSegmentIndices_=function(e,t,n,r){this.rBush_.forEachInExtent(e.getExtent(),(function(o){o.geometry===e&&(void 0===n||void 0===o.depth||equals$2(o.depth,n))&&o.index>t&&(o.index+=r)}))},t}(PointerInteraction);function compareIndexes(e,t){return e.index-t.index}function projectedDistanceToSegmentDataSquared(e,t,n){var r=t.geometry;if("Circle"===r.getType()){var o=r;if(t.index===CIRCLE_CIRCUMFERENCE_INDEX){var i=getUserProjection();i&&(o=o.clone().transform(i,n));var a=squaredDistance(o.getCenter(),fromUserCoordinate(e)),s=Math.sqrt(a)-o.getRadius();return s*s}}var l=fromUserCoordinate(e);return tempSegment[0]=fromUserCoordinate(t.segment[0]),tempSegment[1]=fromUserCoordinate(t.segment[1]),squaredDistanceToSegment(l,tempSegment)}function closestOnSegmentData(e,t,n){var r=t.geometry;if("Circle"===r.getType()&&t.index===CIRCLE_CIRCUMFERENCE_INDEX){var o=r,i=getUserProjection();return i&&(o=o.clone().transform(i,n)),toUserCoordinate(o.getClosestPoint(fromUserCoordinate(e)))}var a=fromUserCoordinate(e);return tempSegment[0]=fromUserCoordinate(t.segment[0]),tempSegment[1]=fromUserCoordinate(t.segment[1]),toUserCoordinate(closestOnSegment(a,tempSegment))}function getDefaultStyleFunction$1(){var e=createEditingStyle();return function(t,n){return e.Point}}var __extends$B=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),SelectEventType={SELECT:"select"},SelectEvent=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i.selected=n,i.deselected=r,i.mapBrowserEvent=o,i}return __extends$B(t,e),t}(Event$1),originalFeatureStyles={},Select$2=function(e){function t(t){var n=e.call(this)||this;n.on,n.once,n.un;var r,o=t||{};if(n.boundAddFeature_=n.addFeature_.bind(n),n.boundRemoveFeature_=n.removeFeature_.bind(n),n.condition_=o.condition?o.condition:singleClick,n.addCondition_=o.addCondition?o.addCondition:never,n.removeCondition_=o.removeCondition?o.removeCondition:never,n.toggleCondition_=o.toggleCondition?o.toggleCondition:shiftKeyOnly,n.multi_=!!o.multi&&o.multi,n.filter_=o.filter?o.filter:TRUE,n.hitTolerance_=o.hitTolerance?o.hitTolerance:0,n.style_=void 0!==o.style?o.style:getDefaultStyleFunction(),n.features_=o.features||new Collection$1,o.layers)if("function"==typeof o.layers)r=o.layers;else{var i=o.layers;r=function(e){return includes(i,e)}}else r=TRUE;return n.layerFilter_=r,n.featureLayerAssociation_={},n}return __extends$B(t,e),t.prototype.addFeatureLayerAssociation_=function(e,t){this.featureLayerAssociation_[getUid(e)]=t},t.prototype.getFeatures=function(){return this.features_},t.prototype.getHitTolerance=function(){return this.hitTolerance_},t.prototype.getLayer=function(e){return this.featureLayerAssociation_[getUid(e)]},t.prototype.setHitTolerance=function(e){this.hitTolerance_=e},t.prototype.setMap=function(t){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),e.prototype.setMap.call(this,t),t?(this.features_.addEventListener(CollectionEventType.ADD,this.boundAddFeature_),this.features_.addEventListener(CollectionEventType.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(CollectionEventType.ADD,this.boundAddFeature_),this.features_.removeEventListener(CollectionEventType.REMOVE,this.boundRemoveFeature_))},t.prototype.addFeature_=function(e){var t=e.element;if(this.style_&&this.applySelectedStyle_(t),!this.getLayer(t)){var n=this.getMap().getAllLayers().find((function(e){if(e instanceof VectorLayer&&e.getSource()&&e.getSource().hasFeature(t))return e}));n&&this.addFeatureLayerAssociation_(t,n)}},t.prototype.removeFeature_=function(e){var t=e.element;this.style_&&this.restorePreviousStyle_(t)},t.prototype.getStyle=function(){return this.style_},t.prototype.applySelectedStyle_=function(e){var t=getUid(e);t in originalFeatureStyles||(originalFeatureStyles[t]=e.getStyle()),e.setStyle(this.style_)},t.prototype.restorePreviousStyle_=function(e){for(var n=this.getMap().getInteractions().getArray(),r=n.length-1;r>=0;--r){var o=n[r];if(o!==this&&o instanceof t&&o.getStyle()&&-1!==o.getFeatures().getArray().lastIndexOf(e))return void e.setStyle(o.getStyle())}var i=getUid(e);e.setStyle(originalFeatureStyles[i]),delete originalFeatureStyles[i]},t.prototype.removeFeatureLayerAssociation_=function(e){delete this.featureLayerAssociation_[getUid(e)]},t.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;var t=this.addCondition_(e),n=this.removeCondition_(e),r=this.toggleCondition_(e),o=!t&&!n&&!r,i=e.map,a=this.getFeatures(),s=[],l=[];if(o){clear(this.featureLayerAssociation_),i.forEachFeatureAtPixel(e.pixel,function(e,t){if(this.filter_(e,t))return this.addFeatureLayerAssociation_(e,t),l.push(e),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var u=a.getLength()-1;u>=0;--u){var c=a.item(u),d=l.indexOf(c);d>-1?l.splice(d,1):(a.remove(c),s.push(c))}0!==l.length&&a.extend(l)}else{i.forEachFeatureAtPixel(e.pixel,function(e,o){if(this.filter_(e,o))return!t&&!r||includes(a.getArray(),e)?(n||r)&&includes(a.getArray(),e)&&(s.push(e),this.removeFeatureLayerAssociation_(e)):(this.addFeatureLayerAssociation_(e,o),l.push(e)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var h=s.length-1;h>=0;--h)a.remove(s[h]);a.extend(l)}return(l.length>0||s.length>0)&&this.dispatchEvent(new SelectEvent(SelectEventType.SELECT,l,s,e)),!0},t}(Interaction$1);function getDefaultStyleFunction(){var e=createEditingStyle();return extend$3(e.Polygon,e.LineString),extend$3(e.GeometryCollection,e.LineString),function(t){return t.getGeometry()?e[t.getGeometry().getType()]:null}}function defaults(e){var t=e||{},n=new Collection$1,r=new Kinetic(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&n.push(new DragRotate),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&n.push(new DoubleClickZoom$1({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&n.push(new DragPan$1({onFocusOnly:t.onFocusOnly,kinetic:r})),(void 0===t.pinchRotate||t.pinchRotate)&&n.push(new PinchRotate),(void 0===t.pinchZoom||t.pinchZoom)&&n.push(new PinchZoom$1({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(n.push(new KeyboardPan),n.push(new KeyboardZoom$1({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&n.push(new MouseWheelZoom$1({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&n.push(new DragZoom$1({duration:t.zoomDuration})),n}var __extends$A=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Map$2=function(e){function t(t){return(t=assign({},t)).controls||(t.controls=defaults$1()),t.interactions||(t.interactions=defaults({onFocusOnly:!0})),e.call(this,t)||this}return __extends$A(t,e),t.prototype.createRenderer=function(){return new CompositeMapRenderer$1(this)},t}(PluggableMap$1),LRUCache$1=function(){function e(e){this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return e.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},e.prototype.expireCache=function(e){for(;this.canExpireCache();)this.pop()},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},e.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},e.prototype.forEach=function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer},e.prototype.get=function(e,t){var n=this.entries_[e];return assert(void 0!==n,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_},e.prototype.remove=function(e){var t=this.entries_[e];return assert(void 0!==t,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var e,t=new Array(this.count_),n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.key_;return t},e.prototype.getValues=function(){var e,t=new Array(this.count_),n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.value_;return t},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.peek=function(e){if(this.containsKey(e))return this.entries_[e].value_},e.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},e.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},e.prototype.set=function(e,t){assert(!(e in this.entries_),16);var n={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[e]=n,++this.count_},e.prototype.setSize=function(e){this.highWaterMark=e},e}();const LRUCache$2=LRUCache$1;function createOrUpdate$1(e,t,n,r){return void 0!==r?(r[0]=e,r[1]=t,r[2]=n,r):[e,t,n]}function getKeyZXY(e,t,n){return e+"/"+t+"/"+n}function getKey(e){return getKeyZXY(e[0],e[1],e[2])}function fromKey(e){return e.split("/").map(Number)}function hash(e){return(e[1]<<e[0])+e[2]}function withinExtentAndZ(e,t){var n=e[0],r=e[1],o=e[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;var i=t.getFullTileRange(n);return!i||i.containsXY(r,o)}var __extends$z=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),TileCache=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends$z(t,e),t.prototype.expireCache=function(e){for(;this.canExpireCache();){if(this.peekLast().getKey()in e)break;this.pop().release()}},t.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var e=fromKey(this.peekFirstKey())[0];this.forEach(function(t){t.tileCoord[0]!==e&&(this.remove(getKey(t.tileCoord)),t.release())}.bind(this))}},t}(LRUCache$2);const TileCache$1=TileCache;var TileRange=function(){function e(e,t,n,r){this.minX=e,this.maxX=t,this.minY=n,this.maxY=r}return e.prototype.contains=function(e){return this.containsXY(e[1],e[2])},e.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY},e.prototype.containsXY=function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY},e.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY},e.prototype.extend=function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)},e.prototype.getHeight=function(){return this.maxY-this.minY+1},e.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},e.prototype.getWidth=function(){return this.maxX-this.minX+1},e.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY},e}();function createOrUpdate(e,t,n,r,o){return void 0!==o?(o.minX=e,o.maxX=t,o.minY=n,o.maxY=r,o):new TileRange(e,t,n,r)}var ARRAY_BUFFER=34962,ELEMENT_ARRAY_BUFFER=34963,STREAM_DRAW=35040,STATIC_DRAW=35044,DYNAMIC_DRAW=35048,UNSIGNED_BYTE=5121,UNSIGNED_SHORT=5123,UNSIGNED_INT=5125,FLOAT=5126,CONTEXT_IDS=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function getContext(t,n){for(var r=assign({preserveDrawingBuffer:!0,antialias:!SAFARI_BUG_237906},n),o=CONTEXT_IDS.length,i=0;i<o;++i)try{var a=t.getContext(CONTEXT_IDS[i],r);if(a)return a}catch(e){}return null}var BufferUsage={STATIC_DRAW:STATIC_DRAW,STREAM_DRAW:STREAM_DRAW,DYNAMIC_DRAW:DYNAMIC_DRAW},WebGLArrayBuffer=function(){function e(e,t){this.array=null,this.type=e,assert(e===ARRAY_BUFFER||e===ELEMENT_ARRAY_BUFFER,62),this.usage=void 0!==t?t:BufferUsage.STATIC_DRAW}return e.prototype.ofSize=function(e){this.array=new(getArrayClassForType(this.type))(e)},e.prototype.fromArray=function(e){var t=getArrayClassForType(this.type);this.array=t.from?t.from(e):new t(e)},e.prototype.fromArrayBuffer=function(e){this.array=new(getArrayClassForType(this.type))(e)},e.prototype.getType=function(){return this.type},e.prototype.getArray=function(){return this.array},e.prototype.getUsage=function(){return this.usage},e.prototype.getSize=function(){return this.array?this.array.length:0},e}();function getArrayClassForType(e){switch(e){case ARRAY_BUFFER:return Float32Array;case ELEMENT_ARRAY_BUFFER:return Uint32Array;default:return Float32Array}}const ContextEventType={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"};var DEFAULT_VERTEX_SHADER="\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord = a_position * 0.5 + 0.5;\n    v_screenCoord = v_texCoord * u_screenSize;\n    gl_Position = vec4(a_position, 0.0, 1.0);\n  }\n",DEFAULT_FRAGMENT_SHADER="\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n  uniform float u_opacity;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;\n  }\n",WebGLPostProcessingPass=function(){function e(e){this.gl_=e.webGlContext;var t=this.gl_;this.scaleRatio_=e.scaleRatio||1,this.renderTargetTexture_=t.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=t.createFramebuffer();var n=t.createShader(t.VERTEX_SHADER);t.shaderSource(n,e.vertexShader||DEFAULT_VERTEX_SHADER),t.compileShader(n);var r=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(r,e.fragmentShader||DEFAULT_FRAGMENT_SHADER),t.compileShader(r),this.renderTargetProgram_=t.createProgram(),t.attachShader(this.renderTargetProgram_,n),t.attachShader(this.renderTargetProgram_,r),t.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),t.STATIC_DRAW),this.renderTargetAttribLocation_=t.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetOpacityLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_opacity"),this.renderTargetTextureLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],e.uniforms&&Object.keys(e.uniforms).forEach(function(n){this.uniforms_.push({value:e.uniforms[n],location:t.getUniformLocation(this.renderTargetProgram_,n)})}.bind(this))}return e.prototype.getGL=function(){return this.gl_},e.prototype.init=function(e){var t=this.getGL(),n=[t.drawingBufferWidth*this.scaleRatio_,t.drawingBufferHeight*this.scaleRatio_];if(t.bindFramebuffer(t.FRAMEBUFFER,this.getFrameBuffer()),t.viewport(0,0,n[0],n[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==n[0]||this.renderTargetTextureSize_[1]!==n[1]){this.renderTargetTextureSize_=n;var r=t.RGBA,o=t.RGBA,i=t.UNSIGNED_BYTE;t.bindTexture(t.TEXTURE_2D,this.renderTargetTexture_),t.texImage2D(t.TEXTURE_2D,0,r,n[0],n[1],0,o,i,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.renderTargetTexture_,0)}},e.prototype.apply=function(e,t,n,r){var o=this.getGL(),i=e.size;if(o.bindFramebuffer(o.FRAMEBUFFER,t?t.getFrameBuffer():null),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,this.renderTargetTexture_),!t){var a=getUid(o.canvas);if(!e.renderTargets[a]){var s=o.getContextAttributes();s&&s.preserveDrawingBuffer&&(o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT)),e.renderTargets[a]=!0}}o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),o.viewport(0,0,o.drawingBufferWidth,o.drawingBufferHeight),o.bindBuffer(o.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),o.useProgram(this.renderTargetProgram_),o.enableVertexAttribArray(this.renderTargetAttribLocation_),o.vertexAttribPointer(this.renderTargetAttribLocation_,2,o.FLOAT,!1,0,0),o.uniform2f(this.renderTargetUniformLocation_,i[0],i[1]),o.uniform1i(this.renderTargetTextureLocation_,0);var l=e.layerStatesArray[e.layerIndex].opacity;o.uniform1f(this.renderTargetOpacityLocation_,l),this.applyUniforms(e),n&&n(o,e),o.drawArrays(o.TRIANGLES,0,6),r&&r(o,e)},e.prototype.getFrameBuffer=function(){return this.frameBuffer_},e.prototype.applyUniforms=function(e){var t,n=this.getGL(),r=1;this.uniforms_.forEach((function(o){if((t="function"==typeof o.value?o.value(e):o.value)instanceof HTMLCanvasElement||t instanceof ImageData)o.texture||(o.texture=n.createTexture()),n.activeTexture(n["TEXTURE".concat(r)]),n.bindTexture(n.TEXTURE_2D,o.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),t instanceof ImageData?n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,t.width,t.height,0,n.UNSIGNED_BYTE,new Uint8Array(t.data)):n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,t),n.uniform1i(o.location,r++);else if(Array.isArray(t))switch(t.length){case 2:return void n.uniform2f(o.location,t[0],t[1]);case 3:return void n.uniform3f(o.location,t[0],t[1],t[2]);case 4:return void n.uniform4f(o.location,t[0],t[1],t[2],t[3]);default:return}else"number"==typeof t&&n.uniform1f(o.location,t)}))},e}();const WebGLPostProcessingPass$1=WebGLPostProcessingPass;function create$1(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function fromTransform(e,t){return e[0]=t[0],e[1]=t[1],e[4]=t[2],e[5]=t[3],e[12]=t[4],e[13]=t[5],e}var __extends$y=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),DefaultUniform={PROJECTION_MATRIX:"u_projectionMatrix",OFFSET_SCALE_MATRIX:"u_offsetScaleMatrix",OFFSET_ROTATION_MATRIX:"u_offsetRotateMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution"},AttributeType={UNSIGNED_BYTE:UNSIGNED_BYTE,UNSIGNED_SHORT:UNSIGNED_SHORT,UNSIGNED_INT:UNSIGNED_INT,FLOAT:FLOAT},canvasCache={};function getSharedCanvasCacheKey(e){return"shared/"+e}var uniqueCanvasCacheKeyCount=0;function getUniqueCanvasCacheKey(){var e="unique/"+uniqueCanvasCacheKeyCount;return uniqueCanvasCacheKeyCount+=1,e}function getCanvas(e){var t=canvasCache[e];if(!t){var n=document.createElement("canvas");n.style.position="absolute",n.style.left="0",t={users:0,canvas:n},canvasCache[e]=t}return t.users+=1,t.canvas}function releaseCanvas(e){var t=canvasCache[e];if(t&&(t.users-=1,!(t.users>0))){var n=getContext(t.canvas).getExtension("WEBGL_lose_context");n&&n.loseContext(),delete canvasCache[e]}}var WebGLHelper=function(e){function t(t){var n=e.call(this)||this,r=t||{};n.boundHandleWebGLContextLost_=n.handleWebGLContextLost.bind(n),n.boundHandleWebGLContextRestored_=n.handleWebGLContextRestored.bind(n),n.canvasCacheKey_=r.canvasCacheKey?getSharedCanvasCacheKey(r.canvasCacheKey):getUniqueCanvasCacheKey(),n.canvas_=getCanvas(n.canvasCacheKey_),n.gl_=getContext(n.canvas_),n.bufferCache_={},n.extensionCache_={},n.currentProgram_=null,n.canvas_.addEventListener(ContextEventType.LOST,n.boundHandleWebGLContextLost_),n.canvas_.addEventListener(ContextEventType.RESTORED,n.boundHandleWebGLContextRestored_),n.offsetRotateMatrix_=create$2(),n.offsetScaleMatrix_=create$2(),n.tmpMat4_=create$1(),n.uniformLocations_={},n.attribLocations_={},n.uniforms_=[],r.uniforms&&n.setUniforms(r.uniforms);var o=n.getGL();return n.postProcessPasses_=r.postProcesses?r.postProcesses.map((function(e){return new WebGLPostProcessingPass$1({webGlContext:o,scaleRatio:e.scaleRatio,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms})})):[new WebGLPostProcessingPass$1({webGlContext:o})],n.shaderCompileErrors_=null,n.startTime_=Date.now(),n}return __extends$y(t,e),t.prototype.setUniforms=function(e){for(var t in this.uniforms_=[],e)this.uniforms_.push({name:t,value:e[t]});this.uniformLocations_={}},t.prototype.canvasCacheKeyMatches=function(e){return this.canvasCacheKey_===getSharedCanvasCacheKey(e)},t.prototype.getExtension=function(e){if(e in this.extensionCache_)return this.extensionCache_[e];var t=this.gl_.getExtension(e);return this.extensionCache_[e]=t,t},t.prototype.bindBuffer=function(e){var t=this.getGL(),n=getUid(e),r=this.bufferCache_[n];r||(r={buffer:e,webGlBuffer:t.createBuffer()},this.bufferCache_[n]=r);t.bindBuffer(e.getType(),r.webGlBuffer)},t.prototype.flushBufferData=function(e){var t=this.getGL();this.bindBuffer(e),t.bufferData(e.getType(),e.getArray(),e.getUsage())},t.prototype.deleteBuffer=function(e){var t=this.getGL(),n=getUid(e),r=this.bufferCache_[n];r&&!t.isContextLost()&&t.deleteBuffer(r.webGlBuffer),delete this.bufferCache_[n]},t.prototype.disposeInternal=function(){this.canvas_.removeEventListener(ContextEventType.LOST,this.boundHandleWebGLContextLost_),this.canvas_.removeEventListener(ContextEventType.RESTORED,this.boundHandleWebGLContextRestored_),releaseCanvas(this.canvasCacheKey_),delete this.gl_,delete this.canvas_},t.prototype.prepareDraw=function(e,t){var n=this.getGL(),r=this.getCanvas(),o=e.size,i=e.pixelRatio;r.width=o[0]*i,r.height=o[1]*i,r.style.width=o[0]+"px",r.style.height=o[1]+"px",n.useProgram(this.currentProgram_);for(var a=this.postProcessPasses_.length-1;a>=0;a--)this.postProcessPasses_[a].init(e);n.bindTexture(n.TEXTURE_2D,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.enable(n.BLEND),n.blendFunc(n.ONE,t?n.ZERO:n.ONE_MINUS_SRC_ALPHA),n.useProgram(this.currentProgram_),this.applyFrameState(e),this.applyUniforms(e)},t.prototype.prepareDrawToRenderTarget=function(e,t,n){var r=this.getGL(),o=t.getSize();r.bindFramebuffer(r.FRAMEBUFFER,t.getFramebuffer()),r.viewport(0,0,o[0],o[1]),r.bindTexture(r.TEXTURE_2D,t.getTexture()),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.enable(r.BLEND),r.blendFunc(r.ONE,n?r.ZERO:r.ONE_MINUS_SRC_ALPHA),r.useProgram(this.currentProgram_),this.applyFrameState(e),this.applyUniforms(e)},t.prototype.drawElements=function(e,t){var n=this.getGL();this.getExtension("OES_element_index_uint");var r=n.UNSIGNED_INT,o=t-e,i=4*e;n.drawElements(n.TRIANGLES,o,r,i)},t.prototype.finalizeDraw=function(e,t,n){for(var r=0,o=this.postProcessPasses_.length;r<o;r++)r===o-1?this.postProcessPasses_[r].apply(e,null,t,n):this.postProcessPasses_[r].apply(e,this.postProcessPasses_[r+1])},t.prototype.getCanvas=function(){return this.canvas_},t.prototype.getGL=function(){return this.gl_},t.prototype.applyFrameState=function(e){var t=e.size,n=e.viewState.rotation,r=reset(this.offsetScaleMatrix_);scale$3(r,2/t[0],2/t[1]);var o=reset(this.offsetRotateMatrix_);0!==n&&rotate$2(o,-n),this.setUniformMatrixValue(DefaultUniform.OFFSET_SCALE_MATRIX,fromTransform(this.tmpMat4_,r)),this.setUniformMatrixValue(DefaultUniform.OFFSET_ROTATION_MATRIX,fromTransform(this.tmpMat4_,o)),this.setUniformFloatValue(DefaultUniform.TIME,.001*(Date.now()-this.startTime_)),this.setUniformFloatValue(DefaultUniform.ZOOM,e.viewState.zoom),this.setUniformFloatValue(DefaultUniform.RESOLUTION,e.viewState.resolution)},t.prototype.applyUniforms=function(e){var t,n=this.getGL(),r=0;this.uniforms_.forEach(function(o){if((t="function"==typeof o.value?o.value(e):o.value)instanceof HTMLCanvasElement||t instanceof HTMLImageElement||t instanceof ImageData)o.texture||(o.prevValue=void 0,o.texture=n.createTexture()),n.activeTexture(n["TEXTURE".concat(r)]),n.bindTexture(n.TEXTURE_2D,o.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(!(t instanceof HTMLImageElement)||t.complete)&&o.prevValue!==t&&(o.prevValue=t,n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,t)),n.uniform1i(this.getUniformLocation(o.name),r++);else if(Array.isArray(t)&&6===t.length)this.setUniformMatrixValue(o.name,fromTransform(this.tmpMat4_,t));else if(Array.isArray(t)&&t.length<=4)switch(t.length){case 2:return void n.uniform2f(this.getUniformLocation(o.name),t[0],t[1]);case 3:return void n.uniform3f(this.getUniformLocation(o.name),t[0],t[1],t[2]);case 4:return void n.uniform4f(this.getUniformLocation(o.name),t[0],t[1],t[2],t[3]);default:return}else"number"==typeof t&&n.uniform1f(this.getUniformLocation(o.name),t)}.bind(this))},t.prototype.useProgram=function(e){return e!=this.currentProgram_&&(this.getGL().useProgram(e),this.currentProgram_=e,this.uniformLocations_={},this.attribLocations_={},!0)},t.prototype.compileShader=function(e,t){var n=this.getGL(),r=n.createShader(t);return n.shaderSource(r,e),n.compileShader(r),r},t.prototype.getProgram=function(e,t){var n=this.getGL(),r=this.compileShader(e,n.FRAGMENT_SHADER),o=this.compileShader(t,n.VERTEX_SHADER),i=n.createProgram();if(n.attachShader(i,r),n.attachShader(i,o),n.linkProgram(i),!n.getShaderParameter(r,n.COMPILE_STATUS)){var a="Fragment shader compliation failed: ".concat(n.getShaderInfoLog(r));throw new Error(a)}if(n.deleteShader(r),!n.getShaderParameter(o,n.COMPILE_STATUS)){a="Vertex shader compilation failed: ".concat(n.getShaderInfoLog(o));throw new Error(a)}if(n.deleteShader(o),!n.getProgramParameter(i,n.LINK_STATUS)){a="GL program linking failed: ".concat(n.getShaderInfoLog(o));throw new Error(a)}return i},t.prototype.getUniformLocation=function(e){return void 0===this.uniformLocations_[e]&&(this.uniformLocations_[e]=this.getGL().getUniformLocation(this.currentProgram_,e)),this.uniformLocations_[e]},t.prototype.getAttributeLocation=function(e){return void 0===this.attribLocations_[e]&&(this.attribLocations_[e]=this.getGL().getAttribLocation(this.currentProgram_,e)),this.attribLocations_[e]},t.prototype.makeProjectionTransform=function(e,t){var n=e.size,r=e.viewState.rotation,o=e.viewState.resolution,i=e.viewState.center;return reset(t),compose$1(t,0,0,2/(o*n[0]),2/(o*n[1]),-r,-i[0],-i[1]),t},t.prototype.setUniformFloatValue=function(e,t){this.getGL().uniform1f(this.getUniformLocation(e),t)},t.prototype.setUniformFloatVec4=function(e,t){this.getGL().uniform4fv(this.getUniformLocation(e),t)},t.prototype.setUniformMatrixValue=function(e,t){this.getGL().uniformMatrix4fv(this.getUniformLocation(e),!1,t)},t.prototype.enableAttributeArray_=function(e,t,n,r,o){var i=this.getAttributeLocation(e);i<0||(this.getGL().enableVertexAttribArray(i),this.getGL().vertexAttribPointer(i,t,n,!1,r,o))},t.prototype.enableAttributes=function(e){for(var t=computeAttributesStride(e),n=0,r=0;r<e.length;r++){var o=e[r];this.enableAttributeArray_(o.name,o.size,o.type||FLOAT,t,n),n+=o.size*getByteSizeFromType(o.type)}},t.prototype.handleWebGLContextLost=function(){clear(this.bufferCache_),this.currentProgram_=null},t.prototype.handleWebGLContextRestored=function(){},t.prototype.createTexture=function(e,t,n){var r=this.getGL(),o=n||r.createTexture(),i=r.RGBA,a=r.RGBA,s=r.UNSIGNED_BYTE;return r.bindTexture(r.TEXTURE_2D,o),t?r.texImage2D(r.TEXTURE_2D,0,i,a,s,t):r.texImage2D(r.TEXTURE_2D,0,i,e[0],e[1],0,a,s,null),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),o},t}(Disposable$1);function computeAttributesStride(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];t+=r.size*getByteSizeFromType(r.type)}return t}function getByteSizeFromType(e){switch(e){case AttributeType.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case AttributeType.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case AttributeType.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case AttributeType.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}var __extends$x=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),WebGLWorkerMessageType={GENERATE_BUFFERS:"GENERATE_BUFFERS"},WebGLLayerRenderer=function(e){function t(t,n){var r=e.call(this,t)||this,o=n||{};return r.inversePixelTransform_=create$2(),r.pixelContext_=null,r.postProcesses_=o.postProcesses,r.uniforms_=o.uniforms,r.helper,t.addChangeListener(LayerProperty.MAP,r.removeHelper.bind(r)),r.dispatchPreComposeEvent=r.dispatchPreComposeEvent.bind(r),r.dispatchPostComposeEvent=r.dispatchPostComposeEvent.bind(r),r}return __extends$x(t,e),t.prototype.dispatchPreComposeEvent=function(e,t){var n=this.getLayer();if(n.hasListener(RenderEventType.PRECOMPOSE)){var r=new RenderEvent$1(RenderEventType.PRECOMPOSE,void 0,t,e);n.dispatchEvent(r)}},t.prototype.dispatchPostComposeEvent=function(e,t){var n=this.getLayer();if(n.hasListener(RenderEventType.POSTCOMPOSE)){var r=new RenderEvent$1(RenderEventType.POSTCOMPOSE,void 0,t,e);n.dispatchEvent(r)}},t.prototype.reset=function(e){this.uniforms_=e.uniforms,this.helper&&this.helper.setUniforms(this.uniforms_)},t.prototype.removeHelper=function(){this.helper&&(this.helper.dispose(),delete this.helper)},t.prototype.prepareFrame=function(e){if(this.getLayer().getRenderSource()){for(var n=!0,r=-1,o=void 0,i=0,a=e.layerStatesArray.length;i<a;i++){var s=e.layerStatesArray[i].layer,l=s.getRenderer();if(l instanceof t){var u=s.getClassName();if((n||u!==o)&&(r+=1,n=!1),o=u,l===this)break}else n=!0}var c="map/"+e.mapId+"/group/"+r;this.helper&&this.helper.canvasCacheKeyMatches(c)||(this.removeHelper(),this.helper=new WebGLHelper({postProcesses:this.postProcesses_,uniforms:this.uniforms_,canvasCacheKey:c}),o&&(this.helper.getCanvas().className=o),this.afterHelperCreated())}return this.prepareFrameInternal(e)},t.prototype.afterHelperCreated=function(){},t.prototype.prepareFrameInternal=function(e){return!0},t.prototype.disposeInternal=function(){this.removeHelper(),e.prototype.disposeInternal.call(this)},t.prototype.dispatchRenderEvent_=function(e,t,n){var r=this.getLayer();if(r.hasListener(e)){compose$1(this.inversePixelTransform_,0,0,n.pixelRatio,-n.pixelRatio,0,0,-n.size[1]);var o=new RenderEvent$1(e,this.inversePixelTransform_,n,t);r.dispatchEvent(o)}},t.prototype.preRender=function(e,t){this.dispatchRenderEvent_(RenderEventType.PRERENDER,e,t)},t.prototype.postRender=function(e,t){this.dispatchRenderEvent_(RenderEventType.POSTRENDER,e,t)},t.prototype.getDataAtPixel=function(e,t,n){var r=apply$1([t.pixelRatio,0,0,t.pixelRatio,0,0],e.slice()),o=this.helper.getGL();if(!o)return null;var i=this.getLayer().getExtent();if(i&&!containsCoordinate(i,apply$1(t.pixelToCoordinateTransform,e.slice())))return null;var a=o.getContextAttributes();if(!a||!a.preserveDrawingBuffer)return new Uint8Array;var s,l=Math.round(r[0]),u=Math.round(r[1]),c=this.pixelContext_;if(!c){var d=document.createElement("canvas");d.width=1,d.height=1,c=d.getContext("2d"),this.pixelContext_=c}c.clearRect(0,0,1,1);try{c.drawImage(o.canvas,l,u,1,1,0,0,1,1),s=c.getImageData(0,0,1,1).data}catch(h){return s}return 0===s[3]?null:s},t}(LayerRenderer$1);function colorEncodeId(e,t){var n=t||[],r=256,o=255;return n[0]=Math.floor(e/r/r/r)/o,n[1]=Math.floor(e/r/r)%r/o,n[2]=Math.floor(e/r)%r/o,n[3]=e%r/o,n}function colorDecodeId(e){var t=0,n=256,r=255;return t+=Math.round(e[0]*n*n*n*r),t+=Math.round(e[1]*n*n*r),t+=Math.round(e[2]*n*r),t+=Math.round(e[3]*r)}const WebGLLayerRenderer$1=WebGLLayerRenderer;var tmpArray4=new Uint8Array(4),WebGLRenderTarget=function(){function e(e,t){this.helper_=e;var n=e.getGL();this.texture_=n.createTexture(),this.framebuffer_=n.createFramebuffer(),this.size_=t||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}return e.prototype.setSize=function(e){equals$2(e,this.size_)||(this.size_[0]=e[0],this.size_[1]=e[1],this.updateSize_())},e.prototype.getSize=function(){return this.size_},e.prototype.clearCachedData=function(){this.dataCacheDirty_=!0},e.prototype.readAll=function(){if(this.dataCacheDirty_){var e=this.size_,t=this.helper_.getGL();t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_),t.readPixels(0,0,e[0],e[1],t.RGBA,t.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_},e.prototype.readPixel=function(e,t){if(e<0||t<0||e>this.size_[0]||t>=this.size_[1])return tmpArray4[0]=0,tmpArray4[1]=0,tmpArray4[2]=0,tmpArray4[3]=0,tmpArray4;this.readAll();var n=Math.floor(e)+(this.size_[1]-Math.floor(t)-1)*this.size_[0];return tmpArray4[0]=this.data_[4*n],tmpArray4[1]=this.data_[4*n+1],tmpArray4[2]=this.data_[4*n+2],tmpArray4[3]=this.data_[4*n+3],tmpArray4},e.prototype.getTexture=function(){return this.texture_},e.prototype.getFramebuffer=function(){return this.framebuffer_},e.prototype.updateSize_=function(){var e=this.size_,t=this.helper_.getGL();this.texture_=this.helper_.createTexture(e,null,this.texture_),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_),t.viewport(0,0,e[0],e[1]),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture_,0),this.data_=new Uint8Array(e[0]*e[1]*4)},e}();const WebGLRenderTarget$1=WebGLRenderTarget;function create(){var e='const e="function"==typeof Object.assign?Object.assign:function(e,n){if(null==e)throw new TypeError("Cannot convert undefined or null to object");const t=Object(e);for(let e=1,n=arguments.length;e<n;++e){const n=arguments[e];if(null!=n)for(const e in n)n.hasOwnProperty(e)&&(t[e]=n[e])}return t},n="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"";n.indexOf("firefox");-1!==n.indexOf("safari")&&-1==n.indexOf("chrom")&&(n.indexOf("version/15.4")>=0||n.match(/cpu (os|iphone os) 15_4 like mac os x/)),-1!==n.indexOf("webkit")&&n.indexOf("edge"),n.indexOf("macintosh"),"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&(self,WorkerGlobalScope),function(){let e=!1;try{const n=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,n),window.removeEventListener("_",null,n)}catch(e){}}(),new Array(6);const t="GENERATE_BUFFERS",o=[],r={vertexPosition:0,indexPosition:0};function i(e,n,t,o,r){e[n+0]=t,e[n+1]=o,e[n+2]=r}function s(e,n,t,s,f,c){const l=3+f,a=e[n+0],u=e[n+1],d=o;d.length=f;for(let t=0;t<d.length;t++)d[t]=e[n+2+t];let g=c?c.vertexPosition:0,x=c?c.indexPosition:0;const h=g/l;return i(t,g,a,u,0),d.length&&t.set(d,g+3),g+=l,i(t,g,a,u,1),d.length&&t.set(d,g+3),g+=l,i(t,g,a,u,2),d.length&&t.set(d,g+3),g+=l,i(t,g,a,u,3),d.length&&t.set(d,g+3),g+=l,s[x++]=h,s[x++]=h+1,s[x++]=h+3,s[x++]=h+1,s[x++]=h+2,s[x++]=h+3,r.vertexPosition=g,r.indexPosition=x,r}const f=self;f.onmessage=n=>{const o=n.data;if(o.type===t){const n=3,t=2,r=o.customAttributesCount,i=t+r,c=new Float32Array(o.renderInstructions),l=c.length/i,a=4*l*(r+n),u=new Uint32Array(6*l),d=new Float32Array(a);let g;for(let e=0;e<c.length;e+=i)g=s(c,e,d,u,r,g);const x=e({vertexBuffer:d.buffer,indexBuffer:u.buffer,renderInstructions:c.buffer},o);f.postMessage(x,[d.buffer,u.buffer,c.buffer])}};';return new Worker("undefined"==typeof Blob?"data:application/javascript;base64,"+Buffer.from(e,"binary").toString("base64"):URL.createObjectURL(new Blob([e],{type:"application/javascript"})))}var __extends$w=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),WebGLPointsLayerRenderer=function(e){function t(t,n){var r=this,o=n.uniforms||{},i=create$2();o[DefaultUniform.PROJECTION_MATRIX]=i,(r=e.call(this,t,{uniforms:o,postProcesses:n.postProcesses})||this).ready=!1,r.sourceRevision_=-1,r.verticesBuffer_=new WebGLArrayBuffer(ARRAY_BUFFER,DYNAMIC_DRAW),r.hitVerticesBuffer_=new WebGLArrayBuffer(ARRAY_BUFFER,DYNAMIC_DRAW),r.indicesBuffer_=new WebGLArrayBuffer(ELEMENT_ARRAY_BUFFER,DYNAMIC_DRAW),r.vertexShader_=n.vertexShader,r.fragmentShader_=n.fragmentShader,r.program_,r.hitDetectionEnabled_=!(!n.hitFragmentShader||!n.hitVertexShader),r.hitVertexShader_=n.hitVertexShader,r.hitFragmentShader_=n.hitFragmentShader,r.hitProgram_;var a=n.attributes?n.attributes.map((function(e){return{name:"a_"+e.name,size:1,type:AttributeType.FLOAT}})):[];r.attributes=[{name:"a_position",size:2,type:AttributeType.FLOAT},{name:"a_index",size:1,type:AttributeType.FLOAT}].concat(a),r.hitDetectionAttributes=[{name:"a_position",size:2,type:AttributeType.FLOAT},{name:"a_index",size:1,type:AttributeType.FLOAT},{name:"a_hitColor",size:4,type:AttributeType.FLOAT},{name:"a_featureUid",size:1,type:AttributeType.FLOAT}].concat(a),r.customAttributes=n.attributes?n.attributes:[],r.previousExtent_=createEmpty(),r.currentTransform_=i,r.renderTransform_=create$2(),r.invertRenderTransform_=create$2(),r.renderInstructions_=new Float32Array(0),r.hitRenderInstructions_=new Float32Array(0),r.hitRenderTarget_,r.generateBuffersRun_=0,r.worker_=create(),r.worker_.addEventListener("message",function(e){var t=e.data;if(t.type===WebGLWorkerMessageType.GENERATE_BUFFERS){var n=t.projectionTransform;t.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(t.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(t.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_)),this.indicesBuffer_.fromArrayBuffer(t.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=n,makeInverse(this.invertRenderTransform_,this.renderTransform_),t.hitDetection?this.hitRenderInstructions_=new Float32Array(e.data.renderInstructions):(this.renderInstructions_=new Float32Array(e.data.renderInstructions),t.generateBuffersRun===this.generateBuffersRun_&&(this.ready=!0)),this.getLayer().changed()}}.bind(r)),r.featureCache_={},r.featureCount_=0;var s=r.getLayer().getSource();return r.sourceListenKeys_=[listen(s,VectorEventType.ADDFEATURE,r.handleSourceFeatureAdded_,r),listen(s,VectorEventType.CHANGEFEATURE,r.handleSourceFeatureChanged_,r),listen(s,VectorEventType.REMOVEFEATURE,r.handleSourceFeatureDelete_,r),listen(s,VectorEventType.CLEAR,r.handleSourceFeatureClear_,r)],s.forEachFeature(function(e){this.featureCache_[getUid(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()},this.featureCount_++}.bind(r)),r}return __extends$w(t,e),t.prototype.afterHelperCreated=function(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.hitDetectionEnabled_&&(this.hitProgram_=this.helper.getProgram(this.hitFragmentShader_,this.hitVertexShader_),this.hitRenderTarget_=new WebGLRenderTarget$1(this.helper))},t.prototype.handleSourceFeatureAdded_=function(e){var t=e.feature;this.featureCache_[getUid(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()},this.featureCount_++},t.prototype.handleSourceFeatureChanged_=function(e){var t=e.feature;this.featureCache_[getUid(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()}},t.prototype.handleSourceFeatureDelete_=function(e){var t=e.feature;delete this.featureCache_[getUid(t)],this.featureCount_--},t.prototype.handleSourceFeatureClear_=function(){this.featureCache_={},this.featureCount_=0},t.prototype.renderFrame=function(e){var t=this.helper.getGL();this.preRender(t,e);var n=e.viewState.projection,r=this.getLayer().getSource().getWrapX()&&n.canWrapX(),o=n.getExtent(),i=e.extent,a=r?getWidth(o):null,s=r?Math.ceil((i[2]-o[2])/a)+1:1,l=r?Math.floor((i[0]-o[0])/a):0,u=l,c=this.indicesBuffer_.getSize();do{this.helper.makeProjectionTransform(e,this.currentTransform_),translate$2(this.currentTransform_,u*a,0),multiply(this.currentTransform_,this.invertRenderTransform_),this.helper.applyUniforms(e),this.helper.drawElements(0,c)}while(++u<s);this.helper.finalizeDraw(e,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);var d=this.helper.getCanvas();return this.hitDetectionEnabled_&&(this.renderHitDetection(e,l,s,a),this.hitRenderTarget_.clearCachedData()),this.postRender(t,e),d},t.prototype.prepareFrameInternal=function(e){var t=this.getLayer(),n=t.getSource(),r=e.viewState,o=!e.viewHints[ViewHint.ANIMATING]&&!e.viewHints[ViewHint.INTERACTING],i=!equals$1(this.previousExtent_,e.extent),a=this.sourceRevision_<n.getRevision();if(a&&(this.sourceRevision_=n.getRevision()),o&&(i||a)){var s=r.projection,l=r.resolution,u=t instanceof BaseVectorLayer$1?t.getRenderBuffer():0,c=buffer(e.extent,u*l);n.loadFeatures(c,l,s),this.rebuildBuffers_(e),this.previousExtent_=e.extent.slice()}return this.helper.useProgram(this.program_),this.helper.prepareDraw(e),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0},t.prototype.rebuildBuffers_=function(e){var t=create$2();this.helper.makeProjectionTransform(e,t);var n,r,o=(2+this.customAttributes.length)*this.featureCount_;if(this.renderInstructions_&&this.renderInstructions_.length===o||(this.renderInstructions_=new Float32Array(o)),this.hitDetectionEnabled_){var i=(7+this.customAttributes.length)*this.featureCount_;this.hitRenderInstructions_&&this.hitRenderInstructions_.length===i||(this.hitRenderInstructions_=new Float32Array(i))}var a,s=[],l=[],u=0,c=0;for(var d in this.featureCache_)if((r=(n=this.featureCache_[d]).geometry)&&"Point"===r.getType()){s[0]=r.getFlatCoordinates()[0],s[1]=r.getFlatCoordinates()[1],apply$1(t,s),a=colorEncodeId(c+6,l),this.renderInstructions_[u++]=s[0],this.renderInstructions_[u++]=s[1],this.hitDetectionEnabled_&&(this.hitRenderInstructions_[c++]=s[0],this.hitRenderInstructions_[c++]=s[1],this.hitRenderInstructions_[c++]=a[0],this.hitRenderInstructions_[c++]=a[1],this.hitRenderInstructions_[c++]=a[2],this.hitRenderInstructions_[c++]=a[3],this.hitRenderInstructions_[c++]=Number(d));for(var h=void 0,p=0;p<this.customAttributes.length;p++)h=this.customAttributes[p].callback(n.feature,n.properties),this.renderInstructions_[u++]=h,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[c++]=h)}var f={type:WebGLWorkerMessageType.GENERATE_BUFFERS,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};if(f.projectionTransform=t,f.generateBuffersRun=++this.generateBuffersRun_,this.ready=!1,this.worker_.postMessage(f,[this.renderInstructions_.buffer]),this.renderInstructions_=null,this.hitDetectionEnabled_){var m={type:WebGLWorkerMessageType.GENERATE_BUFFERS,renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length};m.projectionTransform=t,m.hitDetection=!0,this.worker_.postMessage(m,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null}},t.prototype.forEachFeatureAtCoordinate=function(e,t,n,r,o){if(assert(this.hitDetectionEnabled_,66),this.hitRenderInstructions_){var i=apply$1(t.coordinateToPixelTransform,e.slice()),a=this.hitRenderTarget_.readPixel(i[0]/2,i[1]/2),s=colorDecodeId([a[0]/255,a[1]/255,a[2]/255,a[3]/255]),l=this.hitRenderInstructions_[s],u=Math.floor(l).toString(),c=this.getLayer().getSource().getFeatureByUid(u);return c?r(c,this.getLayer(),null):void 0}},t.prototype.renderHitDetection=function(e,t,n,r){if(this.hitVerticesBuffer_.getSize()){var o=t;this.hitRenderTarget_.setSize([Math.floor(e.size[0]/2),Math.floor(e.size[1]/2)]),this.helper.useProgram(this.hitProgram_),this.helper.prepareDrawToRenderTarget(e,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes);do{this.helper.makeProjectionTransform(e,this.currentTransform_),translate$2(this.currentTransform_,o*r,0),multiply(this.currentTransform_,this.invertRenderTransform_),this.helper.applyUniforms(e);var i=this.indicesBuffer_.getSize();this.helper.drawElements(0,i)}while(++o<n)}},t.prototype.disposeInternal=function(){this.worker_.terminate(),this.layer_=null,this.sourceListenKeys_.forEach((function(e){unlistenByKey(e)})),this.sourceListenKeys_=null,e.prototype.disposeInternal.call(this)},t}(WebGLLayerRenderer$1);const WebGLPointsLayerRenderer$1=WebGLPointsLayerRenderer;var __extends$v=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Property={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"},DEFAULT_GRADIENT=["#00f","#0ff","#0f0","#ff0","#f00"],Heatmap=function(e){function t(t){var n=this,r=t||{},o=assign({},r);delete o.gradient,delete o.radius,delete o.blur,delete o.weight,(n=e.call(this,o)||this).gradient_=null,n.addChangeListener(Property.GRADIENT,n.handleGradientChanged_),n.setGradient(r.gradient?r.gradient:DEFAULT_GRADIENT),n.setBlur(void 0!==r.blur?r.blur:15),n.setRadius(void 0!==r.radius?r.radius:8);var i=r.weight?r.weight:"weight";return n.weightFunction_="string"==typeof i?function(e){return e.get(i)}:i,n.setRenderOrder(null),n}return __extends$v(t,e),t.prototype.getBlur=function(){return this.get(Property.BLUR)},t.prototype.getGradient=function(){return this.get(Property.GRADIENT)},t.prototype.getRadius=function(){return this.get(Property.RADIUS)},t.prototype.handleGradientChanged_=function(){this.gradient_=createGradient(this.getGradient())},t.prototype.setBlur=function(e){this.set(Property.BLUR,e)},t.prototype.setGradient=function(e){this.set(Property.GRADIENT,e)},t.prototype.setRadius=function(e){this.set(Property.RADIUS,e)},t.prototype.createRenderer=function(){return new WebGLPointsLayerRenderer$1(this,{className:this.getClassName(),attributes:[{name:"weight",callback:function(e){var t=this.weightFunction_(e);return void 0!==t?clamp$1(t,0,1):1}.bind(this)}],vertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_weight = a_weight;\n        }",fragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          gl_FragColor = vec4(alpha, alpha, alpha, alpha);\n        }",hitVertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n        attribute vec4 a_hitColor;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_hitColor = a_hitColor;\n          v_weight = a_weight;\n        }",hitFragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          if (alpha < 0.05) {\n            discard;\n          }\n\n          gl_FragColor = v_hitColor;\n        }",uniforms:{u_size:function(){return 2*(this.get(Property.RADIUS)+this.get(Property.BLUR))}.bind(this),u_blurSlope:function(){return this.get(Property.RADIUS)/Math.max(1,this.get(Property.BLUR))}.bind(this)},postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n            uniform float u_opacity;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color = texture2D(u_image, v_texCoord);\n              gl_FragColor.a = color.a * u_opacity;\n              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *= gl_FragColor.a;\n            }",uniforms:{u_gradientTexture:function(){return this.gradient_}.bind(this),u_opacity:function(){return this.getOpacity()}.bind(this)}}]})},t.prototype.renderDeclutter=function(){},t}(BaseVectorLayer$1);function createGradient(e){for(var t=createCanvasContext2D(1,256),n=t.createLinearGradient(0,0,1,256),r=1/(e.length-1),o=0,i=e.length;o<i;++o)n.addColorStop(o*r,e[o]);return t.fillStyle=n,t.fillRect(0,0,1,256),t.canvas}const Heatmap$1=Heatmap;var __extends$u=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),BaseImageLayer=function(e){function t(t){var n=t||{};return e.call(this,n)||this}return __extends$u(t,e),t}(Layer$1);const BaseImageLayer$1=BaseImageLayer;var ERROR_THRESHOLD=.5,IMAGE_SMOOTHING_DISABLED={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},IMAGE_SMOOTHING_ENABLED={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},__extends$t=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),CanvasImageLayerRenderer=function(e){function t(t){var n=e.call(this,t)||this;return n.image_=null,n}return __extends$t(t,e),t.prototype.getImage=function(){return this.image_?this.image_.getImage():null},t.prototype.prepareFrame=function(e){var t=e.layerStatesArray[e.layerIndex],n=e.pixelRatio,r=e.viewState,o=r.resolution,i=this.getLayer().getSource(),a=e.viewHints,s=e.extent;if(void 0!==t.extent&&(s=getIntersection(s,fromUserExtent(t.extent,r.projection))),!a[ViewHint.ANIMATING]&&!a[ViewHint.INTERACTING]&&!isEmpty$1(s))if(i){var l=r.projection,u=i.getImage(s,o,n,l);u&&(this.loadImage(u)?this.image_=u:u.getState()===ImageState.EMPTY&&(this.image_=null))}else this.image_=null;return!!this.image_},t.prototype.getData=function(e){var t=this.frameState;if(!t)return null;var n=this.getLayer(),r=apply$1(t.pixelToCoordinateTransform,e.slice()),o=n.getExtent();if(o&&!containsCoordinate(o,r))return null;var i=this.image_.getExtent(),a=this.image_.getImage(),s=getWidth(i),l=Math.floor(a.width*((r[0]-i[0])/s));if(l<0||l>=a.width)return null;var u=getHeight(i),c=Math.floor(a.height*((i[3]-r[1])/u));return c<0||c>=a.height?null:this.getImageData(a,l,c)},t.prototype.renderFrame=function(e,t){var n=this.image_,r=n.getExtent(),o=n.getResolution(),i=n.getPixelRatio(),a=e.layerStatesArray[e.layerIndex],s=e.pixelRatio,l=e.viewState,u=l.center,c=s*o/(l.resolution*i),d=e.extent,h=l.resolution,p=l.rotation,f=Math.round(getWidth(d)/h*s),m=Math.round(getHeight(d)/h*s);compose$1(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/s,1/s,p,-f/2,-m/2),makeInverse(this.inversePixelTransform,this.pixelTransform);var _=toString$3(this.pixelTransform);this.useContainer(t,_,this.getBackground(e));var g=this.context,v=g.canvas;v.width!=f||v.height!=m?(v.width=f,v.height=m):this.containerReused||g.clearRect(0,0,f,m);var y=!1,b=!0;if(a.extent){var E=fromUserExtent(a.extent,l.projection);(y=(b=intersects$1(E,e.extent))&&!containsExtent(E,e.extent))&&this.clipUnrotated(g,e,E)}var C=n.getImage(),x=compose$1(this.tempTransform,f/2,m/2,c,c,0,i*(r[0]-u[0])/o,i*(u[1]-r[3])/o);this.renderedResolution=o*s/i;var w=C.width*x[0],S=C.height*x[3];if(this.getLayer().getSource().getInterpolate()||assign(g,IMAGE_SMOOTHING_DISABLED),this.preRender(g,e),b&&w>=.5&&S>=.5){var T=x[4],k=x[5],L=a.opacity,P=void 0;1!==L&&(P=g.globalAlpha,g.globalAlpha=L),g.drawImage(C,0,0,+C.width,+C.height,T,k,w,S),1!==L&&(g.globalAlpha=P)}return this.postRender(g,e),y&&g.restore(),assign(g,IMAGE_SMOOTHING_ENABLED),_!==v.style.transform&&(v.style.transform=_),this.container},t}(CanvasLayerRenderer$1);const CanvasImageLayerRenderer$1=CanvasImageLayerRenderer;var __extends$s=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ImageLayer=function(e){function t(t){return e.call(this,t)||this}return __extends$s(t,e),t.prototype.createRenderer=function(){return new CanvasImageLayerRenderer$1(this)},t.prototype.getData=function(t){return e.prototype.getData.call(this,t)},t}(BaseImageLayer$1);const Image$2=ImageLayer;var FeatureFormat=function(){function e(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return e.prototype.getReadOptions=function(e,t){var n;if(t){var r=t.dataProjection?get$3(t.dataProjection):this.readProjection(e);t.extent&&r&&r.getUnits()===Units$2.TILE_PIXELS&&(r=get$3(r)).setWorldExtent(t.extent),n={dataProjection:r,featureProjection:t.featureProjection}}return this.adaptOptions(n)},e.prototype.adaptOptions=function(e){return assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)},e.prototype.getType=function(){return abstract()},e.prototype.readFeature=function(e,t){return abstract()},e.prototype.readFeatures=function(e,t){return abstract()},e.prototype.readGeometry=function(e,t){return abstract()},e.prototype.readProjection=function(e){return abstract()},e.prototype.writeFeature=function(e,t){return abstract()},e.prototype.writeFeatures=function(e,t){return abstract()},e.prototype.writeGeometry=function(e,t){return abstract()},e}();function transformGeometryWithOptions(e,t,n){var r,o=n?get$3(n.featureProjection):null,i=n?get$3(n.dataProjection):null;if(r=o&&i&&!equivalent(o,i)?(t?e.clone():e).transform(t?o:i,t?i:o):e,t&&n&&void 0!==n.decimals){var a=Math.pow(10,n.decimals);r===e&&(r=e.clone()),r.applyTransform((function(e){for(var t=0,n=e.length;t<n;++t)e[t]=Math.round(e[t]*a)/a;return e}))}return r}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var __extends$r=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),GeometryCollection=function(e){function t(t){var n=e.call(this)||this;return n.geometries_=t||null,n.changeEventsKeys_=[],n.listenGeometriesChange_(),n}return __extends$r(t,e),t.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(unlistenByKey),this.changeEventsKeys_.length=0},t.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var e=0,t=this.geometries_.length;e<t;++e)this.changeEventsKeys_.push(listen(this.geometries_[e],EventType.CHANGE,this.changed,this))},t.prototype.clone=function(){var e=new t(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e},t.prototype.closestPointXY=function(e,t,n,r){if(r<closestSquaredDistanceXY(this.getExtent(),e,t))return r;for(var o=this.geometries_,i=0,a=o.length;i<a;++i)r=o[i].closestPointXY(e,t,n,r);return r},t.prototype.containsXY=function(e,t){for(var n=this.geometries_,r=0,o=n.length;r<o;++r)if(n[r].containsXY(e,t))return!0;return!1},t.prototype.computeExtent=function(e){createOrUpdateEmpty(e);for(var t=this.geometries_,n=0,r=t.length;n<r;++n)extend$2(e,t[n].getExtent());return e},t.prototype.getGeometries=function(){return cloneGeometries(this.geometries_)},t.prototype.getGeometriesArray=function(){return this.geometries_},t.prototype.getGeometriesArrayRecursive=function(){for(var e=[],t=this.geometries_,n=0,r=t.length;n<r;++n)t[n].getType()===this.getType()?e=e.concat(t[n].getGeometriesArrayRecursive()):e.push(t[n]);return e},t.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var n=[],r=this.geometries_,o=!1,i=0,a=r.length;i<a;++i){var s=r[i],l=s.getSimplifiedGeometry(e);n.push(l),l!==s&&(o=!0)}if(o){var u=new t(null);return u.setGeometriesArray(n),u}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this},t.prototype.getType=function(){return"GeometryCollection"},t.prototype.intersectsExtent=function(e){for(var t=this.geometries_,n=0,r=t.length;n<r;++n)if(t[n].intersectsExtent(e))return!0;return!1},t.prototype.isEmpty=function(){return 0===this.geometries_.length},t.prototype.rotate=function(e,t){for(var n=this.geometries_,r=0,o=n.length;r<o;++r)n[r].rotate(e,t);this.changed()},t.prototype.scale=function(e,t,n){var r=n;r||(r=getCenter(this.getExtent()));for(var o=this.geometries_,i=0,a=o.length;i<a;++i)o[i].scale(e,t,r);this.changed()},t.prototype.setGeometries=function(e){this.setGeometriesArray(cloneGeometries(e))},t.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()},t.prototype.applyTransform=function(e){for(var t=this.geometries_,n=0,r=t.length;n<r;++n)t[n].applyTransform(e);this.changed()},t.prototype.translate=function(e,t){for(var n=this.geometries_,r=0,o=n.length;r<o;++r)n[r].translate(e,t);this.changed()},t.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),e.prototype.disposeInternal.call(this)},t}(Geometry$1);function cloneGeometries(e){for(var t=[],n=0,r=e.length;n<r;++n)t.push(e[n].clone());return t}const GeometryCollection$1=GeometryCollection;var MAX_SUBDIVISION=10,MAX_TRIANGLE_WIDTH=.25,Triangulation=function(){function e(e,t,n,r,o,i){this.sourceProj_=e,this.targetProj_=t;var a={},s=getTransform(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){var t=e[0]+"/"+e[1];return a[t]||(a[t]=s(e)),a[t]},this.maxSourceExtent_=r,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&getWidth(r)==getWidth(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?getWidth(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?getWidth(this.targetProj_.getExtent()):null;var l=getTopLeft(n),u=getTopRight(n),c=getBottomRight(n),d=getBottomLeft(n),h=this.transformInv_(l),p=this.transformInv_(u),f=this.transformInv_(c),m=this.transformInv_(d),_=MAX_SUBDIVISION+(i?Math.max(0,Math.ceil(log2(getArea$1(n)/(i*i*256*256)))):0);if(this.addQuad_(l,u,c,d,h,p,f,m,_),this.wrapsXInSource_){var g=1/0;this.triangles_.forEach((function(e,t,n){g=Math.min(g,e.source[0][0],e.source[1][0],e.source[2][0])})),this.triangles_.forEach(function(e){if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-g>this.sourceWorldWidth_/2){var t=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];t[0][0]-g>this.sourceWorldWidth_/2&&(t[0][0]-=this.sourceWorldWidth_),t[1][0]-g>this.sourceWorldWidth_/2&&(t[1][0]-=this.sourceWorldWidth_),t[2][0]-g>this.sourceWorldWidth_/2&&(t[2][0]-=this.sourceWorldWidth_);var n=Math.min(t[0][0],t[1][0],t[2][0]);Math.max(t[0][0],t[1][0],t[2][0])-n<this.sourceWorldWidth_/2&&(e.source=t)}}.bind(this))}a={}}return e.prototype.addTriangle_=function(e,t,n,r,o,i){this.triangles_.push({source:[r,o,i],target:[e,t,n]})},e.prototype.addQuad_=function(e,t,n,r,o,i,a,s,l){var u=boundingExtent([o,i,a,s]),c=this.sourceWorldWidth_?getWidth(u)/this.sourceWorldWidth_:null,d=this.sourceWorldWidth_,h=this.sourceProj_.canWrapX()&&c>.5&&c<1,p=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_)p=getWidth(boundingExtent([e,t,n,r]))/this.targetWorldWidth_>MAX_TRIANGLE_WIDTH||p;!h&&this.sourceProj_.isGlobal()&&c&&(p=c>MAX_TRIANGLE_WIDTH||p)}if(!(!p&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3]))||intersects$1(u,this.maxSourceExtent_)){var f=0;if(!(p||isFinite(o[0])&&isFinite(o[1])&&isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])))if(l>0)p=!0;else if(1!=(f=(isFinite(o[0])&&isFinite(o[1])?0:8)+(isFinite(i[0])&&isFinite(i[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(s[0])&&isFinite(s[1])?0:1))&&2!=f&&4!=f&&8!=f)return;if(l>0){if(!p){var m=[(e[0]+n[0])/2,(e[1]+n[1])/2],_=this.transformInv_(m),g=void 0;if(h)g=(modulo(o[0],d)+modulo(a[0],d))/2-modulo(_[0],d);else g=(o[0]+a[0])/2-_[0];var v=(o[1]+a[1])/2-_[1];p=g*g+v*v>this.errorThresholdSquared_}if(p){if(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])){var y=[(t[0]+n[0])/2,(t[1]+n[1])/2],b=this.transformInv_(y),E=[(r[0]+e[0])/2,(r[1]+e[1])/2],C=this.transformInv_(E);this.addQuad_(e,t,y,E,o,i,b,C,l-1),this.addQuad_(E,y,n,r,C,b,a,s,l-1)}else{var x=[(e[0]+t[0])/2,(e[1]+t[1])/2],w=this.transformInv_(x),S=[(n[0]+r[0])/2,(n[1]+r[1])/2],T=this.transformInv_(S);this.addQuad_(e,x,S,r,o,w,T,s,l-1),this.addQuad_(x,t,n,S,w,i,a,T,l-1)}return}}if(h){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&f)&&this.addTriangle_(e,n,r,o,a,s),0==(14&f)&&this.addTriangle_(e,n,t,o,a,i),f&&(0==(13&f)&&this.addTriangle_(t,r,e,i,s,o),0==(7&f)&&this.addTriangle_(t,r,n,i,s,a))}},e.prototype.calculateSourceExtent=function(){var e=createEmpty();return this.triangles_.forEach((function(t,n,r){var o=t.source;extendCoordinate(e,o[0]),extendCoordinate(e,o[1]),extendCoordinate(e,o[2])})),e},e.prototype.getTriangles=function(){return this.triangles_},e}(),brokenDiagonalRendering_,canvasPool=[];function drawTestTriangle(e,t,n,r,o){e.beginPath(),e.moveTo(0,0),e.lineTo(t,n),e.lineTo(r,o),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,r)+1,Math.max(n,o)),e.restore()}function verifyBrokenDiagonalRendering(e,t){return Math.abs(e[4*t]-210)>2||Math.abs(e[4*t+3]-191.25)>2}function isBrokenDiagonalRendering(){if(void 0===brokenDiagonalRendering_){var e=document.createElement("canvas").getContext("2d");e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",drawTestTriangle(e,4,5,4,0),drawTestTriangle(e,4,5,0,5);var t=e.getImageData(0,0,3,3).data;brokenDiagonalRendering_=verifyBrokenDiagonalRendering(t,0)||verifyBrokenDiagonalRendering(t,4)||verifyBrokenDiagonalRendering(t,8)}return brokenDiagonalRendering_}function calculateSourceResolution(e,t,n,r){var o=transform$1(n,t,e),i=getPointResolution(t,r,n),a=t.getMetersPerUnit();void 0!==a&&(i*=a);var s=e.getMetersPerUnit();void 0!==s&&(i/=s);var l=e.getExtent();if(!l||containsCoordinate(l,o)){var u=getPointResolution(e,i,o)/i;isFinite(u)&&u>0&&(i/=u)}return i}function calculateSourceExtentResolution(e,t,n,r){var o=getCenter(n),i=calculateSourceResolution(e,t,o,r);return(!isFinite(i)||i<=0)&&forEachCorner(n,(function(n){return i=calculateSourceResolution(e,t,n,r),isFinite(i)&&i>0})),i}function render(e,t,n,r,o,i,a,s,l,u,c,d){var h=createCanvasContext2D(Math.round(n*e),Math.round(n*t),canvasPool);if(d||assign(h,IMAGE_SMOOTHING_DISABLED),0===l.length)return h.canvas;function p(e){return Math.round(e*n)/n}h.scale(n,n),h.globalCompositeOperation="lighter";var f=createEmpty();l.forEach((function(e,t,n){extend$2(f,e.extent)}));var m=getWidth(f),_=getHeight(f),g=createCanvasContext2D(Math.round(n*m/r),Math.round(n*_/r));d||assign(g,IMAGE_SMOOTHING_DISABLED);var v=n/r;l.forEach((function(e,t,n){var r=e.extent[0]-f[0],o=-(e.extent[3]-f[3]),i=getWidth(e.extent),a=getHeight(e.extent);e.image.width>0&&e.image.height>0&&g.drawImage(e.image,u,u,e.image.width-2*u,e.image.height-2*u,r*v,o*v,i*v,a*v)}));var y=getTopLeft(a);return s.getTriangles().forEach((function(e,t,o){var a=e.source,s=e.target,l=a[0][0],u=a[0][1],c=a[1][0],m=a[1][1],_=a[2][0],v=a[2][1],b=p((s[0][0]-y[0])/i),E=p(-(s[0][1]-y[1])/i),C=p((s[1][0]-y[0])/i),x=p(-(s[1][1]-y[1])/i),w=p((s[2][0]-y[0])/i),S=p(-(s[2][1]-y[1])/i),T=l,k=u;l=0,u=0;var L=solveLinearSystem([[c-=T,m-=k,0,0,C-b],[_-=T,v-=k,0,0,w-b],[0,0,c,m,x-E],[0,0,_,v,S-E]]);if(L){if(h.save(),h.beginPath(),isBrokenDiagonalRendering()||!d){h.moveTo(C,x);for(var P=b-C,M=E-x,O=0;O<4;O++)h.lineTo(C+p((O+1)*P/4),x+p(O*M/3)),3!=O&&h.lineTo(C+p((O+1)*P/4),x+p((O+1)*M/3));h.lineTo(w,S)}else h.moveTo(C,x),h.lineTo(b,E),h.lineTo(w,S);h.clip(),h.transform(L[0],L[2],L[1],L[3],b,E),h.translate(f[0]-T,f[3]-k),h.scale(r/n,-r/n),h.drawImage(g.canvas,0,0),h.restore()}})),c&&(h.save(),h.globalCompositeOperation="source-over",h.strokeStyle="black",h.lineWidth=1,s.getTriangles().forEach((function(e,t,n){var r=e.target,o=(r[0][0]-y[0])/i,a=-(r[0][1]-y[1])/i,s=(r[1][0]-y[0])/i,l=-(r[1][1]-y[1])/i,u=(r[2][0]-y[0])/i,c=-(r[2][1]-y[1])/i;h.beginPath(),h.moveTo(s,l),h.lineTo(o,a),h.lineTo(u,c),h.closePath(),h.stroke()})),h.restore()),h.canvas}var __extends$q=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ReprojTile=function(e){function t(t,n,r,o,i,a,s,l,u,c,d,h){var p=e.call(this,i,TileState.IDLE,{interpolate:!!h})||this;p.renderEdges_=void 0!==d&&d,p.pixelRatio_=s,p.gutter_=l,p.canvas_=null,p.sourceTileGrid_=n,p.targetTileGrid_=o,p.wrappedTileCoord_=a||i,p.sourceTiles_=[],p.sourcesListenerKeys_=null,p.sourceZ_=0;var f=o.getTileCoordExtent(p.wrappedTileCoord_),m=p.targetTileGrid_.getExtent(),_=p.sourceTileGrid_.getExtent(),g=m?getIntersection(f,m):f;if(0===getArea$1(g))return p.state=TileState.EMPTY,p;var v=t.getExtent();v&&(_=_?getIntersection(_,v):v);var y=o.getResolution(p.wrappedTileCoord_[0]),b=calculateSourceExtentResolution(t,r,g,y);if(!isFinite(b)||b<=0)return p.state=TileState.EMPTY,p;var E=void 0!==c?c:ERROR_THRESHOLD;if(p.triangulation_=new Triangulation(t,r,g,_,b*E,y),0===p.triangulation_.getTriangles().length)return p.state=TileState.EMPTY,p;p.sourceZ_=n.getZForResolution(b);var C=p.triangulation_.calculateSourceExtent();if(_&&(t.canWrapX()?(C[1]=clamp$1(C[1],_[1],_[3]),C[3]=clamp$1(C[3],_[1],_[3])):C=getIntersection(C,_)),getArea$1(C)){for(var x=n.getTileRangeForExtentAndZ(C,p.sourceZ_),w=x.minX;w<=x.maxX;w++)for(var S=x.minY;S<=x.maxY;S++){var T=u(p.sourceZ_,w,S,s);T&&p.sourceTiles_.push(T)}0===p.sourceTiles_.length&&(p.state=TileState.EMPTY)}else p.state=TileState.EMPTY;return p}return __extends$q(t,e),t.prototype.getImage=function(){return this.canvas_},t.prototype.reproject_=function(){var e=[];if(this.sourceTiles_.forEach(function(t,n,r){t&&t.getState()==TileState.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===e.length)this.state=TileState.ERROR;else{var t=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(t),r="number"==typeof n?n:n[0],o="number"==typeof n?n:n[1],i=this.targetTileGrid_.getResolution(t),a=this.sourceTileGrid_.getResolution(this.sourceZ_),s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=render(r,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),i,s,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=TileState.LOADED}this.changed()},t.prototype.load=function(){if(this.state==TileState.IDLE){this.state=TileState.LOADING,this.changed();var e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(t,n,r){var o=t.getState();if(o==TileState.IDLE||o==TileState.LOADING){e++;var i=listen(t,EventType.CHANGE,(function(n){var r=t.getState();r!=TileState.LOADED&&r!=TileState.ERROR&&r!=TileState.EMPTY||(unlistenByKey(i),0===--e&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(i)}}.bind(this)),0===e?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(e,t,n){e.getState()==TileState.IDLE&&e.load()}))}},t.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(unlistenByKey),this.sourcesListenerKeys_=null},t.prototype.release=function(){this.canvas_&&(releaseCanvas$1(this.canvas_.getContext("2d")),canvasPool.push(this.canvas_),this.canvas_=null),e.prototype.release.call(this)},t}(Tile$1);const ReprojTile$1=ReprojTile;var __extends$p=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),CanvasTileLayerRenderer=function(e){function t(t){var n=e.call(this,t)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedPixelRatio,n.renderedProjection=null,n.renderedRevision,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=createEmpty(),n.tmpTileRange_=new TileRange(0,0,0,0),n}return __extends$p(t,e),t.prototype.isDrawableTile=function(e){var t=this.getLayer(),n=e.getState(),r=t.getUseInterimTilesOnError();return n==TileState.LOADED||n==TileState.EMPTY||n==TileState.ERROR&&!r},t.prototype.getTile=function(e,t,n,r){var o=r.pixelRatio,i=r.viewState.projection,a=this.getLayer(),s=a.getSource().getTile(e,t,n,o,i);return s.getState()==TileState.ERROR&&(a.getUseInterimTilesOnError()?a.getPreload()>0&&(this.newTiles_=!0):s.setState(TileState.LOADED)),this.isDrawableTile(s)||(s=s.getInterimTile()),s},t.prototype.getData=function(e){var t=this.frameState;if(!t)return null;var n=this.getLayer(),r=apply$1(t.pixelToCoordinateTransform,e.slice()),o=n.getExtent();if(o&&!containsCoordinate(o,r))return null;for(var i=t.pixelRatio,a=t.viewState.projection,s=t.viewState,l=n.getRenderSource(),u=l.getTileGridForProjection(s.projection),c=l.getTilePixelRatio(t.pixelRatio),d=u.getZForResolution(s.resolution);d>=u.getMinZoom();--d){var h=u.getTileCoordForCoordAndZ(r,d),p=l.getTile(d,h[1],h[2],i,a);if(!(p instanceof ImageTile$1||p instanceof ReprojTile$1))return null;if(p.getState()===TileState.LOADED){var f=u.getOrigin(d),m=toSize(u.getTileSize(d)),_=u.getResolution(d),g=Math.floor(c*((r[0]-f[0])/_-h[1]*m[0])),v=Math.floor(c*((f[1]-r[1])/_-h[2]*m[1])),y=Math.round(c*l.getGutterForProjection(s.projection));return this.getImageData(p.getImage(),g+y,v+y)}}return null},t.prototype.loadedTileCallback=function(t,n,r){return!!this.isDrawableTile(r)&&e.prototype.loadedTileCallback.call(this,t,n,r)},t.prototype.prepareFrame=function(e){return!!this.getLayer().getSource()},t.prototype.renderFrame=function(e,t){var n=e.layerStatesArray[e.layerIndex],r=e.viewState,o=r.projection,i=r.resolution,a=r.center,s=r.rotation,l=e.pixelRatio,u=this.getLayer(),c=u.getSource(),d=c.getRevision(),h=c.getTileGridForProjection(o),p=h.getZForResolution(i,c.zDirection),f=h.getResolution(p),m=e.extent,_=e.viewState.resolution,g=c.getTilePixelRatio(l),v=Math.round(getWidth(m)/_*l),y=Math.round(getHeight(m)/_*l),b=n.extent&&fromUserExtent(n.extent);b&&(m=getIntersection(m,fromUserExtent(n.extent)));var E=f*v/2/g,C=f*y/2/g,x=[a[0]-E,a[1]-C,a[0]+E,a[1]+C],w=h.getTileRangeForExtentAndZ(m,p),S={};S[p]={};var T=this.createLoadedTileFinder(c,o,S),k=this.tmpExtent,L=this.tmpTileRange_;this.newTiles_=!1;for(var P=s?getRotatedViewport(r.center,_,s,e.size):void 0,M=w.minX;M<=w.maxX;++M)for(var O=w.minY;O<=w.maxY;++O)if(!s||h.tileCoordIntersectsViewport([p,M,O],P)){var N=this.getTile(p,M,O,e);if(this.isDrawableTile(N)){var A=getUid(this);if(N.getState()==TileState.LOADED)S[p][N.tileCoord.toString()]=N,(ne=N.inTransition(A))&&1!==n.opacity&&(N.endTransition(A),ne=!1),this.newTiles_||!ne&&-1!==this.renderedTiles.indexOf(N)||(this.newTiles_=!0);if(1===N.getAlpha(A,e.time))continue}var I=h.getTileCoordChildTileRange(N.tileCoord,L,k),R=!1;I&&(R=T(p+1,I)),R||h.forEachTileCoordParentTileRange(N.tileCoord,T,L,k)}var $=f/i*l/g;compose$1(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/l,1/l,s,-v/2,-y/2);var B=toString$3(this.pixelTransform);this.useContainer(t,B,this.getBackground(e));var D=this.context,F=D.canvas;makeInverse(this.inversePixelTransform,this.pixelTransform),compose$1(this.tempTransform,v/2,y/2,$,$,0,-v/2,-y/2),F.width!=v||F.height!=y?(F.width=v,F.height=y):this.containerReused||D.clearRect(0,0,v,y),b&&this.clipUnrotated(D,e,b),c.getInterpolate()||assign(D,IMAGE_SMOOTHING_DISABLED),this.preRender(D,e),this.renderedTiles.length=0;var V,z,j,U=Object.keys(S).map(Number);U.sort(numberSafeCompareFunction),1!==n.opacity||this.containerReused&&!c.getOpaque(e.viewState.projection)?(V=[],z=[]):U=U.reverse();for(var G=U.length-1;G>=0;--G){var H=U[G],K=c.getTilePixelSize(H,l,o),W=h.getResolution(H)/f,Y=K[0]*W*$,q=K[1]*W*$,Z=h.getTileCoordForCoordAndZ(getTopLeft(x),H),X=h.getTileCoordExtent(Z),J=apply$1(this.tempTransform,[g*(X[0]-x[0])/f,g*(x[3]-X[3])/f]),Q=g*c.getGutterForProjection(o),ee=S[H];for(var te in ee){var ne,re=(N=ee[te]).tileCoord,oe=Z[1]-re[1],ie=Math.round(J[0]-(oe-1)*Y),ae=Z[2]-re[2],se=Math.round(J[1]-(ae-1)*q),le=ie-(M=Math.round(J[0]-oe*Y)),ue=se-(O=Math.round(J[1]-ae*q)),ce=p===H,de=!1;if(!(ne=ce&&1!==N.getAlpha(getUid(this),e.time)))if(V){j=[M,O,M+le,O,M+le,O+ue,M,O+ue];for(var he=0,pe=V.length;he<pe;++he)if(p!==H&&H<z[he]){var fe=V[he];intersects$1([M,O,M+le,O+ue],[fe[0],fe[3],fe[4],fe[7]])&&(de||(D.save(),de=!0),D.beginPath(),D.moveTo(j[0],j[1]),D.lineTo(j[2],j[3]),D.lineTo(j[4],j[5]),D.lineTo(j[6],j[7]),D.moveTo(fe[6],fe[7]),D.lineTo(fe[4],fe[5]),D.lineTo(fe[2],fe[3]),D.lineTo(fe[0],fe[1]),D.clip())}V.push(j),z.push(H)}else D.clearRect(M,O,le,ue);this.drawTileImage(N,e,M,O,le,ue,Q,ce),V&&!ne?(de&&D.restore(),this.renderedTiles.unshift(N)):this.renderedTiles.push(N),this.updateUsedTiles(e.usedTiles,c,N)}}return this.renderedRevision=d,this.renderedResolution=f,this.extentChanged=!this.renderedExtent_||!equals$1(this.renderedExtent_,x),this.renderedExtent_=x,this.renderedPixelRatio=l,this.renderedProjection=o,this.manageTilePyramid(e,c,h,l,o,m,p,u.getPreload()),this.scheduleExpireCache(e,c),this.postRender(D,e),n.extent&&D.restore(),assign(D,IMAGE_SMOOTHING_ENABLED),B!==F.style.transform&&(F.style.transform=B),this.container},t.prototype.drawTileImage=function(e,t,n,r,o,i,a,s){var l=this.getTileImage(e);if(l){var u=getUid(this),c=t.layerStatesArray[t.layerIndex],d=c.opacity*(s?e.getAlpha(u,t.time):1),h=d!==this.context.globalAlpha;h&&(this.context.save(),this.context.globalAlpha=d),this.context.drawImage(l,a,a,l.width-2*a,l.height-2*a,n,r,o,i),h&&this.context.restore(),d!==c.opacity?t.animate=!0:s&&e.endTransition(u)}},t.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},t.prototype.getTileImage=function(e){return e.getImage()},t.prototype.scheduleExpireCache=function(e,t){if(t.canExpireCache()){var n=function(e,t,n){var r=getUid(e);r in n.usedTiles&&e.expireCache(n.viewState.projection,n.usedTiles[r])}.bind(null,t);e.postRenderFunctions.push(n)}},t.prototype.updateUsedTiles=function(e,t,n){var r=getUid(t);r in e||(e[r]={}),e[r][n.getKey()]=!0},t.prototype.manageTilePyramid=function(e,t,n,r,o,i,a,s,l){var u=getUid(t);u in e.wantedTiles||(e.wantedTiles[u]={});var c,d,h,p,f,m,_=e.wantedTiles[u],g=e.tileQueue,v=n.getMinZoom(),y=e.viewState.rotation,b=y?getRotatedViewport(e.viewState.center,e.viewState.resolution,y,e.size):void 0,E=0;for(m=v;m<=a;++m)for(d=n.getTileRangeForExtentAndZ(i,m,d),h=n.getResolution(m),p=d.minX;p<=d.maxX;++p)for(f=d.minY;f<=d.maxY;++f)y&&!n.tileCoordIntersectsViewport([m,p,f],b)||(a-m<=s?(++E,(c=t.getTile(m,p,f,r,o)).getState()==TileState.IDLE&&(_[c.getKey()]=!0,g.isKeyQueued(c.getKey())||g.enqueue([c,u,n.getTileCoordCenter(c.tileCoord),h])),void 0!==l&&l(c)):t.useTile(m,p,f,o));t.updateCacheSize(E,o)},t}(CanvasLayerRenderer$1);const CanvasTileLayerRenderer$1=CanvasTileLayerRenderer,TileProperty={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var tmpTileCoord=[0,0,0],DECIMALS=5,TileGrid=function(){function e(e){var t;if(this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,assert(isSorted(this.resolutions_,(function(e,t){return t-e}),!0),17),!e.origins)for(var n=0,r=this.resolutions_.length-1;n<r;++n)if(t){if(this.resolutions_[n]/this.resolutions_[n+1]!==t){t=void 0;break}}else t=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,assert(this.origins_.length==this.resolutions_.length,20));var o=e.extent;void 0===o||this.origin_||this.origins_||(this.origin_=getTopLeft(o)),assert(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,assert(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:DEFAULT_TILE_SIZE,assert(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==o?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map((function(e,t){var n=new TileRange(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1));if(o){var r=this.getTileRangeForExtentAndZ(o,t);n.minX=Math.max(r.minX,n.minX),n.maxX=Math.min(r.maxX,n.maxX),n.minY=Math.max(r.minY,n.minY),n.maxY=Math.min(r.maxY,n.maxY)}return n}),this):o&&this.calculateTileRanges_(o)}return e.prototype.forEachTileCoord=function(e,t,n){for(var r=this.getTileRangeForExtentAndZ(e,t),o=r.minX,i=r.maxX;o<=i;++o)for(var a=r.minY,s=r.maxY;a<=s;++a)n([t,o,a])},e.prototype.forEachTileCoordParentTileRange=function(e,t,n,r){var o,i,a=null,s=e[0]-1;for(2===this.zoomFactor_?(o=e[1],i=e[2]):a=this.getTileCoordExtent(e,r);s>=this.minZoom;){if(t(s,2===this.zoomFactor_?createOrUpdate(o=Math.floor(o/2),o,i=Math.floor(i/2),i,n):this.getTileRangeForExtentAndZ(a,s,n)))return!0;--s}return!1},e.prototype.getExtent=function(){return this.extent_},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.getMinZoom=function(){return this.minZoom},e.prototype.getOrigin=function(e){return this.origin_?this.origin_:this.origins_[e]},e.prototype.getResolution=function(e){return this.resolutions_[e]},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getTileCoordChildTileRange=function(e,t,n){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*e[1],o=2*e[2];return createOrUpdate(r,r+1,o,o+1,t)}var i=this.getTileCoordExtent(e,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,e[0]+1,t)}return null},e.prototype.getTileRangeForTileCoordAndZ=function(e,t,n){if(t>this.maxZoom||t<this.minZoom)return null;var r=e[0],o=e[1],i=e[2];if(t===r)return createOrUpdate(o,i,o,i,n);if(this.zoomFactor_){var a=Math.pow(this.zoomFactor_,t-r),s=Math.floor(o*a),l=Math.floor(i*a);return t<r?createOrUpdate(s,s,l,l,n):createOrUpdate(s,Math.floor(a*(o+1))-1,l,Math.floor(a*(i+1))-1,n)}var u=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(u,t,n)},e.prototype.getTileRangeExtent=function(e,t,n){var r=this.getOrigin(e),o=this.getResolution(e),i=toSize(this.getTileSize(e),this.tmpSize_),a=r[0]+t.minX*i[0]*o,s=r[0]+(t.maxX+1)*i[0]*o;return createOrUpdate$2(a,r[1]+t.minY*i[1]*o,s,r[1]+(t.maxY+1)*i[1]*o,n)},e.prototype.getTileRangeForExtentAndZ=function(e,t,n){var r=tmpTileCoord;this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,r);var o=r[1],i=r[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,r),createOrUpdate(o,r[1],i,r[2],n)},e.prototype.getTileCoordCenter=function(e){var t=this.getOrigin(e[0]),n=this.getResolution(e[0]),r=toSize(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*n,t[1]-(e[2]+.5)*r[1]*n]},e.prototype.getTileCoordExtent=function(e,t){var n=this.getOrigin(e[0]),r=this.getResolution(e[0]),o=toSize(this.getTileSize(e[0]),this.tmpSize_),i=n[0]+e[1]*o[0]*r,a=n[1]-(e[2]+1)*o[1]*r;return createOrUpdate$2(i,a,i+o[0]*r,a+o[1]*r,t)},e.prototype.getTileCoordForCoordAndResolution=function(e,t,n){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,n)},e.prototype.getTileCoordForXYAndResolution_=function(e,t,n,r,o){var i=this.getZForResolution(n),a=n/this.getResolution(i),s=this.getOrigin(i),l=toSize(this.getTileSize(i),this.tmpSize_),u=a*(e-s[0])/n/l[0],c=a*(s[1]-t)/n/l[1];return r?(u=ceil(u,DECIMALS)-1,c=ceil(c,DECIMALS)-1):(u=floor$1(u,DECIMALS),c=floor$1(c,DECIMALS)),createOrUpdate$1(i,u,c,o)},e.prototype.getTileCoordForXYAndZ_=function(e,t,n,r,o){var i=this.getOrigin(n),a=this.getResolution(n),s=toSize(this.getTileSize(n),this.tmpSize_),l=(e-i[0])/a/s[0],u=(i[1]-t)/a/s[1];return r?(l=ceil(l,DECIMALS)-1,u=ceil(u,DECIMALS)-1):(l=floor$1(l,DECIMALS),u=floor$1(u,DECIMALS)),createOrUpdate$1(n,l,u,o)},e.prototype.getTileCoordForCoordAndZ=function(e,t,n){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,n)},e.prototype.getTileCoordResolution=function(e){return this.resolutions_[e[0]]},e.prototype.getTileSize=function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]},e.prototype.getFullTileRange=function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null},e.prototype.getZForResolution=function(e,t){return clamp$1(linearFindNearest(this.resolutions_,e,t||0),this.minZoom,this.maxZoom)},e.prototype.tileCoordIntersectsViewport=function(e,t){return intersectsLinearRing(t,0,t.length,2,this.getTileCoordExtent(e))},e.prototype.calculateTileRanges_=function(e){for(var t=this.resolutions_.length,n=new Array(t),r=this.minZoom;r<t;++r)n[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=n},e}();const TileEventType={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};function getForProjection(e){var t=e.getDefaultTileGrid();return t||(t=createForProjection(e),e.setDefaultTileGrid(t)),t}function wrapX(e,t,n){var r=t[0],o=e.getTileCoordCenter(t),i=extentFromProjection(n);if(containsCoordinate(i,o))return t;var a=getWidth(i),s=Math.ceil((i[0]-o[0])/a);return o[0]+=a*s,e.getTileCoordForCoordAndZ(o,r)}function createForExtent(e,t,n,r){var o=void 0!==r?r:"top-left",i=resolutionsFromExtent(e,t,n);return new TileGrid({extent:e,origin:getCorner(e,o),resolutions:i,tileSize:n})}function createXYZ(e){var t=e||{},n=t.extent||get$3("EPSG:3857").getExtent(),r={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:resolutionsFromExtent(n,t.maxZoom,t.tileSize,t.maxResolution)};return new TileGrid(r)}function resolutionsFromExtent(e,t,n,r){for(var o=void 0!==t?t:DEFAULT_MAX_ZOOM,i=getHeight(e),a=getWidth(e),s=toSize(void 0!==n?n:DEFAULT_TILE_SIZE),l=r>0?r:Math.max(a/s[0],i/s[1]),u=o+1,c=new Array(u),d=0;d<u;++d)c[d]=l/Math.pow(2,d);return c}function createForProjection(e,t,n,r){return createForExtent(extentFromProjection(e),t,n,r)}function extentFromProjection(e){var t=(e=get$3(e)).getExtent();if(!t){var n=180*METERS_PER_UNIT$1[Units$2.DEGREES]/e.getMetersPerUnit();t=createOrUpdate$2(-n,-n,n,n)}return t}var __extends$o=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),TileSource=function(e){function t(t){var n=e.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate})||this;n.on,n.once,n.un,n.opaque_=void 0!==t.opaque&&t.opaque,n.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,n.tileGrid=void 0!==t.tileGrid?t.tileGrid:null;return n.tileGrid&&toSize(n.tileGrid.getTileSize(n.tileGrid.getMinZoom()),[256,256]),n.tileCache=new TileCache$1(t.cacheSize||0),n.tmpSize=[0,0],n.key_=t.key||"",n.tileOptions={transition:t.transition,interpolate:t.interpolate},n.zDirection=t.zDirection?t.zDirection:0,n}return __extends$o(t,e),t.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},t.prototype.expireCache=function(e,t){var n=this.getTileCacheForProjection(e);n&&n.expireCache(t)},t.prototype.forEachLoadedTile=function(e,t,n,r){var o=this.getTileCacheForProjection(e);if(!o)return!1;for(var i,a,s,l=!0,u=n.minX;u<=n.maxX;++u)for(var c=n.minY;c<=n.maxY;++c)a=getKeyZXY(t,u,c),s=!1,o.containsKey(a)&&(s=(i=o.get(a)).getState()===TileState.LOADED)&&(s=!1!==r(i)),s||(l=!1);return l},t.prototype.getGutterForProjection=function(e){return 0},t.prototype.getKey=function(){return this.key_},t.prototype.setKey=function(e){this.key_!==e&&(this.key_=e,this.changed())},t.prototype.getOpaque=function(e){return this.opaque_},t.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},t.prototype.getTile=function(e,t,n,r,o){return abstract()},t.prototype.getTileGrid=function(){return this.tileGrid},t.prototype.getTileGridForProjection=function(e){return this.tileGrid?this.tileGrid:getForProjection(e)},t.prototype.getTileCacheForProjection=function(e){var t=this.getProjection();return assert(null===t||equivalent(t,e),68),this.tileCache},t.prototype.getTilePixelRatio=function(e){return this.tilePixelRatio_},t.prototype.getTilePixelSize=function(e,t,n){var r=this.getTileGridForProjection(n),o=this.getTilePixelRatio(t),i=toSize(r.getTileSize(e),this.tmpSize);return 1==o?i:scale(i,o,this.tmpSize)},t.prototype.getTileCoordForTileUrlFunction=function(e,t){var n=void 0!==t?t:this.getProjection(),r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=wrapX(r,e,n)),withinExtentAndZ(e,r)?e:null},t.prototype.clear=function(){this.tileCache.clear()},t.prototype.refresh=function(){this.clear(),e.prototype.refresh.call(this)},t.prototype.updateCacheSize=function(e,t){var n=this.getTileCacheForProjection(t);e>n.highWaterMark&&(n.highWaterMark=e)},t.prototype.useTile=function(e,t,n,r){},t}(Source$1),TileSourceEvent=function(e){function t(t,n){var r=e.call(this,t)||this;return r.tile=n,r}return __extends$o(t,e),t}(Event$1);const TileSource$1=TileSource;function createFromTemplate(e,t){var n=/\{z\}/g,r=/\{x\}/g,o=/\{y\}/g,i=/\{-y\}/g;return function(a,s,l){return a?e.replace(n,a[0].toString()).replace(r,a[1].toString()).replace(o,a[2].toString()).replace(i,(function(){var e=a[0],n=t.getFullTileRange(e);return assert(n,55),(n.getHeight()-a[2]-1).toString()})):void 0}}function createFromTemplates(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;++o)r[o]=createFromTemplate(e[o],t);return createFromTileUrlFunctions(r)}function createFromTileUrlFunctions(e){return 1===e.length?e[0]:function(t,n,r){if(t){var o=modulo(hash(t),e.length);return e[o](t,n,r)}}}function expandUrl(e){var t=[],n=/\{([a-z])-([a-z])\}/.exec(e);if(n){var r=n[1].charCodeAt(0),o=n[2].charCodeAt(0),i=void 0;for(i=r;i<=o;++i)t.push(e.replace(n[0],String.fromCharCode(i)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e)){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)t.push(e.replace(n[0],s.toString()));return t}return t.push(e),t}var __extends$n=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),UrlTile=function(e){function t(n){var r=e.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,opaque:n.opaque,projection:n.projection,state:n.state,tileGrid:n.tileGrid,tilePixelRatio:n.tilePixelRatio,wrapX:n.wrapX,transition:n.transition,interpolate:n.interpolate,key:n.key,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this;return r.generateTileUrlFunction_=r.tileUrlFunction===t.prototype.tileUrlFunction,r.tileLoadFunction=n.tileLoadFunction,n.tileUrlFunction&&(r.tileUrlFunction=n.tileUrlFunction),r.urls=null,n.urls?r.setUrls(n.urls):n.url&&r.setUrl(n.url),r.tileLoadingKeys_={},r}return __extends$n(t,e),t.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},t.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},t.prototype.getUrls=function(){return this.urls},t.prototype.handleTileChange=function(e){var t,n=e.target,r=getUid(n),o=n.getState();o==TileState.LOADING?(this.tileLoadingKeys_[r]=!0,t=TileEventType.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],t=o==TileState.ERROR?TileEventType.TILELOADERROR:o==TileState.LOADED?TileEventType.TILELOADEND:void 0),null!=t&&this.dispatchEvent(new TileSourceEvent(t,n))},t.prototype.setTileLoadFunction=function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()},t.prototype.setTileUrlFunction=function(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),void 0!==t?this.setKey(t):this.changed()},t.prototype.setUrl=function(e){var t=expandUrl(e);this.urls=t,this.setUrls(t)},t.prototype.setUrls=function(e){this.urls=e;var t=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(createFromTemplates(e,this.tileGrid),t):this.setKey(t)},t.prototype.tileUrlFunction=function(e,t,n){},t.prototype.useTile=function(e,t,n){var r=getKeyZXY(e,t,n);this.tileCache.containsKey(r)&&this.tileCache.get(r)},t}(TileSource$1);const UrlTile$1=UrlTile;var __extends$m=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),JSONFeature=function(e){function t(){return e.call(this)||this}return __extends$m(t,e),t.prototype.getType=function(){return"json"},t.prototype.readFeature=function(e,t){return this.readFeatureFromObject(getObject(e),this.getReadOptions(e,t))},t.prototype.readFeatures=function(e,t){return this.readFeaturesFromObject(getObject(e),this.getReadOptions(e,t))},t.prototype.readFeatureFromObject=function(e,t){return abstract()},t.prototype.readFeaturesFromObject=function(e,t){return abstract()},t.prototype.readGeometry=function(e,t){return this.readGeometryFromObject(getObject(e),this.getReadOptions(e,t))},t.prototype.readGeometryFromObject=function(e,t){return abstract()},t.prototype.readProjection=function(e){return this.readProjectionFromObject(getObject(e))},t.prototype.readProjectionFromObject=function(e){return abstract()},t.prototype.writeFeature=function(e,t){return JSON.stringify(this.writeFeatureObject(e,t))},t.prototype.writeFeatureObject=function(e,t){return abstract()},t.prototype.writeFeatures=function(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))},t.prototype.writeFeaturesObject=function(e,t){return abstract()},t.prototype.writeGeometry=function(e,t){return JSON.stringify(this.writeGeometryObject(e,t))},t.prototype.writeGeometryObject=function(e,t){return abstract()},t}(FeatureFormat);function getObject(e){if("string"==typeof e){var t=JSON.parse(e);return t||null}return null!==e?e:null}const JSONFeature$1=JSONFeature;var __extends$l=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),GeoJSON=function(e){function t(t){var n=this,r=t||{};return(n=e.call(this)||this).dataProjection=get$3(r.dataProjection?r.dataProjection:"EPSG:4326"),r.featureProjection&&(n.defaultFeatureProjection=get$3(r.featureProjection)),n.geometryName_=r.geometryName,n.extractGeometryName_=r.extractGeometryName,n.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],n}return __extends$l(t,e),t.prototype.readFeatureFromObject=function(e,t){var n=null,r=readGeometry((n="Feature"===e.type?e:{type:"Feature",geometry:e,properties:null}).geometry,t),o=new Feature$1;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&o.setGeometryName(n.geometry_name),o.setGeometry(r),"id"in n&&o.setId(n.id),n.properties&&o.setProperties(n.properties,!0),o},t.prototype.readFeaturesFromObject=function(e,t){var n=null;if("FeatureCollection"===e.type){n=[];for(var r=e.features,o=0,i=r.length;o<i;++o)n.push(this.readFeatureFromObject(r[o],t))}else n=[this.readFeatureFromObject(e,t)];return n},t.prototype.readGeometryFromObject=function(e,t){return readGeometry(e,t)},t.prototype.readProjectionFromObject=function(e){var t,n=e.crs;return n?"name"==n.type?t=get$3(n.properties.name):"EPSG"===n.type?t=get$3("EPSG:"+n.properties.code):assert(!1,36):t=this.dataProjection,t},t.prototype.writeFeatureObject=function(e,t){t=this.adaptOptions(t);var n={type:"Feature",geometry:null,properties:null},r=e.getId();if(void 0!==r&&(n.id=r),!e.hasProperties())return n;var o=e.getProperties(),i=e.getGeometry();return i&&(n.geometry=writeGeometry(i,t),delete o[e.getGeometryName()]),isEmpty$2(o)||(n.properties=o),n},t.prototype.writeFeaturesObject=function(e,t){t=this.adaptOptions(t);for(var n=[],r=0,o=e.length;r<o;++r)n.push(this.writeFeatureObject(e[r],t));return{type:"FeatureCollection",features:n}},t.prototype.writeGeometryObject=function(e,t){return writeGeometry(e,this.adaptOptions(t))},t}(JSONFeature$1);function readGeometry(e,t){if(!e)return null;var n;switch(e.type){case"Point":n=readPointGeometry(e);break;case"LineString":n=readLineStringGeometry(e);break;case"Polygon":n=readPolygonGeometry(e);break;case"MultiPoint":n=readMultiPointGeometry(e);break;case"MultiLineString":n=readMultiLineStringGeometry(e);break;case"MultiPolygon":n=readMultiPolygonGeometry(e);break;case"GeometryCollection":n=readGeometryCollectionGeometry(e);break;default:throw new Error("Unsupported GeoJSON type: "+e.type)}return transformGeometryWithOptions(n,!1,t)}function readGeometryCollectionGeometry(e,t){var n=e.geometries.map((function(e){return readGeometry(e,t)}));return new GeometryCollection$1(n)}function readPointGeometry(e){return new Point$1(e.coordinates)}function readLineStringGeometry(e){return new LineString(e.coordinates)}function readMultiLineStringGeometry(e){return new MultiLineString$1(e.coordinates)}function readMultiPointGeometry(e){return new MultiPoint$1(e.coordinates)}function readMultiPolygonGeometry(e){return new MultiPolygon$1(e.coordinates)}function readPolygonGeometry(e){return new Polygon(e.coordinates)}function writeGeometry(e,t){var n,r=(e=transformGeometryWithOptions(e,!0,t)).getType();switch(r){case"Point":n=writePointGeometry(e);break;case"LineString":n=writeLineStringGeometry(e);break;case"Polygon":n=writePolygonGeometry(e,t);break;case"MultiPoint":n=writeMultiPointGeometry(e);break;case"MultiLineString":n=writeMultiLineStringGeometry(e);break;case"MultiPolygon":n=writeMultiPolygonGeometry(e,t);break;case"GeometryCollection":n=writeGeometryCollectionGeometry(e,t);break;case"Circle":n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+r)}return n}function writeGeometryCollectionGeometry(e,t){return{type:"GeometryCollection",geometries:e.getGeometriesArray().map((function(e){var n=assign({},t);return delete n.featureProjection,writeGeometry(e,n)}))}}function writeLineStringGeometry(e,t){return{type:"LineString",coordinates:e.getCoordinates()}}function writeMultiLineStringGeometry(e,t){return{type:"MultiLineString",coordinates:e.getCoordinates()}}function writeMultiPointGeometry(e,t){return{type:"MultiPoint",coordinates:e.getCoordinates()}}function writeMultiPolygonGeometry(e,t){var n;return t&&(n=t.rightHanded),{type:"MultiPolygon",coordinates:e.getCoordinates(n)}}function writePointGeometry(e,t){return{type:"Point",coordinates:e.getCoordinates()}}function writePolygonGeometry(e,t){var n;return t&&(n=t.rightHanded),{type:"Polygon",coordinates:e.getCoordinates(n)}}var __extends$k=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),TileImage=function(e){function t(t){var n=this,r=void 0===t.imageSmoothing||t.imageSmoothing;return void 0!==t.interpolate&&(r=t.interpolate),(n=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:defaultTileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:r,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this).crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,n.tileClass=void 0!==t.tileClass?t.tileClass:ImageTile$1,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,n.renderReprojectionEdges_=!1,n}return __extends$k(t,e),t.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},t.prototype.expireCache=function(e,t){var n=this.getTileCacheForProjection(e);for(var r in this.tileCache.expireCache(this.tileCache==n?t:{}),this.tileCacheForProjection){var o=this.tileCacheForProjection[r];o.expireCache(o==n?t:{})}},t.prototype.getGutterForProjection=function(e){return this.getProjection()&&e&&!equivalent(this.getProjection(),e)?0:this.getGutter()},t.prototype.getGutter=function(){return 0},t.prototype.getKey=function(){var t=e.prototype.getKey.call(this);return this.getInterpolate()||(t+=":disable-interpolation"),t},t.prototype.getOpaque=function(t){return!(this.getProjection()&&t&&!equivalent(this.getProjection(),t))&&e.prototype.getOpaque.call(this,t)},t.prototype.getTileGridForProjection=function(e){var t=this.getProjection();if(!this.tileGrid||t&&!equivalent(t,e)){var n=getUid(e);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=getForProjection(e)),this.tileGridForProjection[n]}return this.tileGrid},t.prototype.getTileCacheForProjection=function(e){var t=this.getProjection();if(!t||equivalent(t,e))return this.tileCache;var n=getUid(e);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new TileCache$1(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},t.prototype.createTile_=function(e,t,n,r,o,i){var a=[e,t,n],s=this.getTileCoordForTileUrlFunction(a,o),l=s?this.tileUrlFunction(s,r,o):void 0,u=new this.tileClass(a,void 0!==l?TileState.IDLE:TileState.EMPTY,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=i,u.addEventListener(EventType.CHANGE,this.handleTileChange.bind(this)),u},t.prototype.getTile=function(e,t,n,r,o){var i=this.getProjection();if(i&&o&&!equivalent(i,o)){var a=this.getTileCacheForProjection(o),s=[e,t,n],l=void 0,u=getKey(s);a.containsKey(u)&&(l=a.get(u));var c=this.getKey();if(l&&l.key==c)return l;var d=this.getTileGridForProjection(i),h=this.getTileGridForProjection(o),p=this.getTileCoordForTileUrlFunction(s,o),f=new ReprojTile$1(i,d,o,h,s,p,this.getTilePixelRatio(r),this.getGutter(),function(e,t,n,r){return this.getTileInternal(e,t,n,r,i)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return f.key=c,l?(f.interimTile=l,f.refreshInterimChain(),a.replace(u,f)):a.set(u,f),f}return this.getTileInternal(e,t,n,r,i||o)},t.prototype.getTileInternal=function(e,t,n,r,o){var i=null,a=getKeyZXY(e,t,n),s=this.getKey();if(this.tileCache.containsKey(a)){if((i=this.tileCache.get(a)).key!=s){var l=i;i=this.createTile_(e,t,n,r,o,s),l.getState()==TileState.IDLE?i.interimTile=l.interimTile:i.interimTile=l,i.refreshInterimChain(),this.tileCache.replace(a,i)}}else i=this.createTile_(e,t,n,r,o,s),this.tileCache.set(a,i);return i},t.prototype.setRenderReprojectionEdges=function(e){if(this.renderReprojectionEdges_!=e){for(var t in this.renderReprojectionEdges_=e,this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}},t.prototype.setTileGridForProjection=function(e,t){var n=get$3(e);if(n){var r=getUid(n);r in this.tileGridForProjection||(this.tileGridForProjection[r]=t)}},t}(UrlTile$1);function defaultTileLoadFunction(e,t){e.getImage().src=t}var __extends$j=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function jsonp(e,t,n,r){var o=document.createElement("script"),i="olc_"+getUid(t);function a(){delete window[i],o.parentNode.removeChild(o)}o.async=!0,o.src=e+(-1==e.indexOf("?")?"?":"&")+(r||"callback")+"="+i;var s=setTimeout((function(){a(),n&&n()}),1e4);window[i]=function(e){clearTimeout(s),a(),t(e)},document.head.appendChild(o)}!function(e){function t(t){var n=this,r="Unexpected response status: "+t.status;return(n=e.call(this,r)||this).name="ResponseError",n.response=t,n}__extends$j(t,e)}(Error),function(e){function t(t){var n=e.call(this,"Failed to issue request")||this;return n.name="ClientError",n.client=t,n}__extends$j(t,e)}(Error);var __extends$i=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),BaseTileLayer=function(e){function t(t){var n=this,r=t||{},o=assign({},r);return delete o.preload,delete o.useInterimTilesOnError,(n=e.call(this,o)||this).on,n.once,n.un,n.setPreload(void 0!==r.preload?r.preload:0),n.setUseInterimTilesOnError(void 0===r.useInterimTilesOnError||r.useInterimTilesOnError),n}return __extends$i(t,e),t.prototype.getPreload=function(){return this.get(TileProperty.PRELOAD)},t.prototype.setPreload=function(e){this.set(TileProperty.PRELOAD,e)},t.prototype.getUseInterimTilesOnError=function(){return this.get(TileProperty.USE_INTERIM_TILES_ON_ERROR)},t.prototype.setUseInterimTilesOnError=function(e){this.set(TileProperty.USE_INTERIM_TILES_ON_ERROR,e)},t.prototype.getData=function(t){return e.prototype.getData.call(this,t)},t}(Layer$1);const BaseTileLayer$1=BaseTileLayer;var __extends$h=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),TileLayer=function(e){function t(t){return e.call(this,t)||this}return __extends$h(t,e),t.prototype.createRenderer=function(){return new CanvasTileLayerRenderer$1(this)},t}(BaseTileLayer$1);const TileLayer$1=TileLayer;var PaletteTexture=function(){function e(e,t){this.name=e,this.data=t,this.texture_=null}return e.prototype.getTexture=function(e){if(!this.texture_){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.data.length/4,1,0,e.RGBA,e.UNSIGNED_BYTE,this.data),this.texture_=t}return this.texture_},e}(),__extends$g=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),DataTile=function(e){function t(t){var n=this,r=TileState.IDLE;return(n=e.call(this,t.tileCoord,r,{transition:t.transition,interpolate:t.interpolate})||this).loader_=t.loader,n.data_=null,n.error_=null,n.size_=t.size||[256,256],n}return __extends$g(t,e),t.prototype.getSize=function(){return this.size_},t.prototype.getData=function(){return this.data_},t.prototype.getError=function(){return this.error_},t.prototype.load=function(){if(this.state===TileState.IDLE||this.state===TileState.ERROR){this.state=TileState.LOADING,this.changed();var e=this;this.loader_().then((function(t){e.data_=t,e.state=TileState.LOADED,e.changed()})).catch((function(t){e.error_=t,e.state=TileState.ERROR,e.changed()}))}},t}(Tile$1);const DataTile$1=DataTile;var __extends$f=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function bindAndConfigure(e,t,n){var r=n?e.LINEAR:e.NEAREST;e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,r)}function uploadImageTexture(e,t,n,r){bindAndConfigure(e,t,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)}function uploadDataTexture(e,t,n,r,o,i){var a,s,l=e.getGL();n instanceof Float32Array?(a=l.FLOAT,e.getExtension("OES_texture_float"),s=null!==e.getExtension("OES_texture_float_linear")):(a=l.UNSIGNED_BYTE,s=!0);bindAndConfigure(l,t,i&&s);var u,c=n.byteLength/r[1],d=1;switch(c%8==0?d=8:c%4==0?d=4:c%2==0&&(d=2),o){case 1:u=l.LUMINANCE;break;case 2:u=l.LUMINANCE_ALPHA;break;case 3:u=l.RGB;break;case 4:u=l.RGBA;break;default:throw new Error("Unsupported number of bands: ".concat(o))}var h=l.getParameter(l.UNPACK_ALIGNMENT);l.pixelStorei(l.UNPACK_ALIGNMENT,d),l.texImage2D(l.TEXTURE_2D,0,u,r[0],r[1],0,u,a,n),l.pixelStorei(l.UNPACK_ALIGNMENT,h)}var pixelContext=null;function createPixelContext(){var e=document.createElement("canvas");e.width=1,e.height=1,pixelContext=e.getContext("2d")}var TileTexture=function(e){function t(t){var n=e.call(this)||this;n.tile,n.textures=[],n.handleTileChange_=n.handleTileChange_.bind(n),n.renderSize_=toSize(t.grid.getTileSize(t.tile.tileCoord[0])),n.gutter_=t.gutter||0,n.bandCount=NaN,n.helper_=t.helper;var r=new WebGLArrayBuffer(ARRAY_BUFFER,STATIC_DRAW);return r.fromArray([0,1,1,1,1,0,0,0]),n.helper_.flushBufferData(r),n.coords=r,n.setTile(t.tile),n}return __extends$f(t,e),t.prototype.setTile=function(e){if(e!==this.tile)if(this.tile&&this.tile.removeEventListener(EventType.CHANGE,this.handleTileChange_),this.tile=e,this.textures.length=0,this.loaded=e.getState()===TileState.LOADED,this.loaded)this.uploadTile_();else{if(e instanceof ImageTile$1){var t=e.getImage();t instanceof Image&&!t.crossOrigin&&(t.crossOrigin="anonymous")}e.addEventListener(EventType.CHANGE,this.handleTileChange_)}},t.prototype.uploadTile_=function(){var e=this.helper_,t=e.getGL(),n=this.tile;if(n instanceof ImageTile$1||n instanceof ReprojTile$1){var r=t.createTexture();return this.textures.push(r),this.bandCount=4,void uploadImageTexture(t,r,n.getImage(),n.interpolate)}var o=n.getSize(),i=[o[0]+2*this.gutter_,o[1]+2*this.gutter_],a=n.getData(),s=a instanceof Float32Array,l=i[0]*i[1],u=s?Float32Array:Uint8Array,c=u.BYTES_PER_ELEMENT,d=a.byteLength/i[1];this.bandCount=Math.floor(d/c/i[0]);var h=Math.ceil(this.bandCount/4);if(1===h){r=t.createTexture();return this.textures.push(r),void uploadDataTexture(e,r,a,i,this.bandCount,n.interpolate)}for(var p=new Array(h),f=0;f<h;++f){r=t.createTexture();this.textures.push(r);var m=f<h-1?4:this.bandCount%4;p[f]=new u(l*m)}for(var _=0,g=0,v=i[0]*this.bandCount,y=0;y<i[1];++y){for(var b=0;b<v;++b){var E=a[g+b],C=Math.floor(_/this.bandCount),x=b%this.bandCount;(w=p[f=Math.floor(x/4)])[C*(m=w.length/l)+x%4]=E,++_}g+=d/c}for(f=0;f<h;++f){var w;uploadDataTexture(e,r=this.textures[f],w=p[f],i,m=w.length/l,n.interpolate)}},t.prototype.handleTileChange_=function(){this.tile.getState()===TileState.LOADED&&(this.loaded=!0,this.uploadTile_(),this.dispatchEvent(EventType.CHANGE))},t.prototype.disposeInternal=function(){var e=this.helper_.getGL();this.helper_.deleteBuffer(this.coords);for(var t=0;t<this.textures.length;++t)e.deleteTexture(this.textures[t]);this.tile.removeEventListener(EventType.CHANGE,this.handleTileChange_)},t.prototype.getPixelData=function(e,t){if(!this.loaded)return null;var n=this.renderSize_[0],r=this.renderSize_[1],o=this.gutter_;if(this.tile instanceof DataTile$1){var i=this.tile.getSize(),a=i[0],s=i[1],l=a+2*o,u=s+2*o,c=o+Math.floor(a*(e/n)),d=o+Math.floor(s*(t/r)),h=this.tile.getData();if(h instanceof DataView){var p=h.byteLength/(l*u),f=p*(d*l+c),m=h.buffer.slice(f,f+p);return new DataView(m)}var _=this.bandCount*(d*l+c);return h.slice(_,_+this.bandCount)}pixelContext||createPixelContext(),pixelContext.clearRect(0,0,1,1);var g,v=this.tile.getImage(),y=v.width-2*o,b=v.height-2*o,E=o+Math.floor(y*(e/n)),C=o+Math.floor(b*(t/r));try{pixelContext.drawImage(v,E,C,1,1,0,0,1,1),g=pixelContext.getImageData(0,0,1,1).data}catch(x){return pixelContext=null,null}return g},t}(EventTarget);const TileTexture$1=TileTexture;var __extends$e=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Uniforms={TILE_TEXTURE_ARRAY:"u_tileTextures",TILE_TRANSFORM:"u_tileTransform",TRANSITION_ALPHA:"u_transitionAlpha",DEPTH:"u_depth",TEXTURE_PIXEL_WIDTH:"u_texturePixelWidth",TEXTURE_PIXEL_HEIGHT:"u_texturePixelHeight",TEXTURE_RESOLUTION:"u_textureResolution",TEXTURE_ORIGIN_X:"u_textureOriginX",TEXTURE_ORIGIN_Y:"u_textureOriginY",RENDER_EXTENT:"u_renderExtent",RESOLUTION:"u_resolution",ZOOM:"u_zoom"},Attributes={TEXTURE_COORD:"a_textureCoord"},attributeDescriptions=[{name:Attributes.TEXTURE_COORD,size:2,type:AttributeType.FLOAT}],empty={};function depthForZ(e){return 2*(1-1/(e+1))-1}function addTileTextureToLookup(e,t,n){n in e||(e[n]=[]),e[n].push(t)}function getRenderExtent(e,t){var n=e.layerStatesArray[e.layerIndex];n.extent&&(t=getIntersection(t,fromUserExtent(n.extent,e.viewState.projection)));var r=n.layer.getRenderSource();if(!r.getWrapX()){var o=r.getTileGridForProjection(e.viewState.projection).getExtent();o&&(t=getIntersection(t,o))}return t}function getCacheKey(e,t){return"".concat(e.getKey(),",").concat(getKey(t))}var WebGLTileLayerRenderer=function(e){function t(t,n){var r=e.call(this,t,{uniforms:n.uniforms})||this;r.renderComplete=!1,r.tileTransform_=create$2(),r.tempMat4_=create$1(),r.tempTileRange_=new TileRange(0,0,0,0),r.tempTileCoord_=createOrUpdate$1(0,0,0),r.tempSize_=[0,0],r.program_,r.vertexShader_=n.vertexShader,r.fragmentShader_=n.fragmentShader,r.indices_=new WebGLArrayBuffer(ELEMENT_ARRAY_BUFFER,STATIC_DRAW),r.indices_.fromArray([0,1,3,1,2,3]);var o=void 0!==n.cacheSize?n.cacheSize:512;return r.tileTextureCache_=new LRUCache$2(o),r.paletteTextures_=n.paletteTextures||[],r.frameState_=null,r}return __extends$e(t,e),t.prototype.reset=function(t){e.prototype.reset.call(this,{uniforms:t.uniforms}),this.vertexShader_=t.vertexShader,this.fragmentShader_=t.fragmentShader,this.paletteTextures_=t.paletteTextures||[],this.helper&&(this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_))},t.prototype.afterHelperCreated=function(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.helper.flushBufferData(this.indices_)},t.prototype.isDrawableTile_=function(e){var t=this.getLayer(),n=e.getState(),r=t.getUseInterimTilesOnError();return n==TileState.LOADED||n==TileState.EMPTY||n==TileState.ERROR&&!r},t.prototype.prepareFrameInternal=function(e){var t=this.getLayer().getRenderSource();return!!t&&(!isEmpty$1(getRenderExtent(e,e.extent))&&"ready"===t.getState())},t.prototype.enqueueTiles=function(e,t,n,r){var o=e.viewState,i=this.getLayer(),a=i.getRenderSource(),s=a.getTileGridForProjection(o.projection),l=a.getGutterForProjection(o.projection),u=getUid(a);u in e.wantedTiles||(e.wantedTiles[u]={});for(var c=e.wantedTiles[u],d=this.tileTextureCache_,h=Math.max(n-i.getPreload(),s.getMinZoom(),i.getMinZoom()),p=n;p>=h;--p)for(var f=s.getTileRangeForExtentAndZ(t,p,this.tempTileRange_),m=s.getResolution(p),_=f.minX;_<=f.maxX;++_)for(var g=f.minY;g<=f.maxY;++g){var v=createOrUpdate$1(p,_,g,this.tempTileCoord_),y=getCacheKey(a,v),b=void 0,E=void 0;if(d.containsKey(y)&&(E=(b=d.get(y)).tile),!b||b.tile.key!==a.getKey())if(E=a.getTile(p,_,g,e.pixelRatio,o.projection),b)if(this.isDrawableTile_(E))b.setTile(E);else{var C=E.getInterimTile();b.setTile(C)}else b=new TileTexture$1({tile:E,grid:s,helper:this.helper,gutter:l}),d.set(y,b);addTileTextureToLookup(r,b,p);var x=E.getKey();c[x]=!0,E.getState()===TileState.IDLE&&(e.tileQueue.isKeyQueued(x)||e.tileQueue.enqueue([E,u,s.getTileCoordCenter(v),m]))}},t.prototype.renderFrame=function(e){this.frameState_=e,this.renderComplete=!0;var t=this.helper.getGL();this.preRender(t,e);var n=e.viewState,r=this.getLayer().getRenderSource(),o=r.getTileGridForProjection(n.projection),i=r.getGutterForProjection(n.projection),a=getRenderExtent(e,e.extent),s=o.getZForResolution(n.resolution,r.zDirection),l={};if(e.nextExtent){var u=o.getZForResolution(n.nextResolution,r.zDirection),c=getRenderExtent(e,e.nextExtent);this.enqueueTiles(e,c,u,l)}this.enqueueTiles(e,a,s,l);for(var d={},h=getUid(this),p=e.time,f=!1,m=l[s],_=0,g=m.length;_<g;++_){var v=(D=(J=m[_]).tile).tileCoord;if(J.loaded){if(1===(F=D.getAlpha(h,p))){D.endTransition(h);continue}f=!0,d[V=getKey(v)]=F}if(this.renderComplete=!1,!this.findAltTiles_(o,v,s+1,l))for(var y=o.getMinZoom(),b=s-1;b>=y;--b){if(this.findAltTiles_(o,v,b,l))break}}this.helper.useProgram(this.program_),this.helper.prepareDraw(e,!f);for(var E=Object.keys(l).map(Number).sort(numberSafeCompareFunction),C=n.center[0],x=n.center[1],w=0,S=E.length;w<S;++w){var T=E[w],k=o.getResolution(T),L=toSize(o.getTileSize(T),this.tempSize_),P=o.getOrigin(T),M=L[0]+2*i,O=L[1]+2*i,N=M/O,A=(C-P[0])/(L[0]*k),I=(P[1]-x)/(L[1]*k),R=n.resolution/k,$=depthForZ(T),B=l[T];for(_=0,g=B.length;_<g;++_){if((J=B[_]).loaded){var D,F,V=getKey(v=(D=J.tile).tileCoord),z=v[1],j=v[2];reset(this.tileTransform_),scale$3(this.tileTransform_,2/(e.size[0]*R/M),-2/(e.size[1]*R/M)),rotate$2(this.tileTransform_,n.rotation),scale$3(this.tileTransform_,1,1/N),translate$2(this.tileTransform_,(L[0]*(z-A)-i)/M,(L[1]*(j-I)-i)/O),this.helper.setUniformMatrixValue(Uniforms.TILE_TRANSFORM,fromTransform(this.tempMat4_,this.tileTransform_)),this.helper.bindBuffer(J.coords),this.helper.bindBuffer(this.indices_),this.helper.enableAttributes(attributeDescriptions);for(var U=0;U<J.textures.length;){var G="TEXTURE"+U,H="".concat(Uniforms.TILE_TEXTURE_ARRAY,"[").concat(U,"]");t.activeTexture(t[G]),t.bindTexture(t.TEXTURE_2D,J.textures[U]),t.uniform1i(this.helper.getUniformLocation(H),U),++U}for(var K=0;K<this.paletteTextures_.length;++K){var W=this.paletteTextures_[K];t.activeTexture(t["TEXTURE"+U]);var Y=W.getTexture(t);t.bindTexture(t.TEXTURE_2D,Y),t.uniform1i(this.helper.getUniformLocation(W.name),U),++U}(F=V in d?d[V]:1)<1&&(e.animate=!0),this.helper.setUniformFloatValue(Uniforms.TRANSITION_ALPHA,F),this.helper.setUniformFloatValue(Uniforms.DEPTH,$),this.helper.setUniformFloatValue(Uniforms.TEXTURE_PIXEL_WIDTH,M),this.helper.setUniformFloatValue(Uniforms.TEXTURE_PIXEL_HEIGHT,O),this.helper.setUniformFloatValue(Uniforms.TEXTURE_RESOLUTION,k),this.helper.setUniformFloatValue(Uniforms.TEXTURE_ORIGIN_X,P[0]+z*L[0]*k-i*k),this.helper.setUniformFloatValue(Uniforms.TEXTURE_ORIGIN_Y,P[1]-j*L[1]*k+i*k);var q=a;i>0&&getIntersection(q=o.getTileCoordExtent(v),a,q),this.helper.setUniformFloatVec4(Uniforms.RENDER_EXTENT,q),this.helper.setUniformFloatValue(Uniforms.RESOLUTION,n.resolution),this.helper.setUniformFloatValue(Uniforms.ZOOM,n.zoom),this.helper.drawElements(0,this.indices_.getSize())}}}this.helper.finalizeDraw(e,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);for(var Z=this.helper.getCanvas(),X=this.tileTextureCache_;X.canExpireCache();){var J;(J=X.pop()).dispose()}return e.postRenderFunctions.push((function(e,t){r.expireCache(t.viewState.projection,empty)})),this.postRender(t,e),Z},t.prototype.getData=function(e){if(!this.helper.getGL())return null;var t=this.frameState_;if(!t)return null;var n=this.getLayer(),r=apply$1(t.pixelToCoordinateTransform,e.slice()),o=t.viewState,i=n.getExtent();if(i&&!containsCoordinate(fromUserExtent(i,o.projection),r))return null;var a,s,l,u=n.getSources(boundingExtent([r]),o.resolution);for(a=u.length-1;a>=0;--a)if("ready"===(s=u[a]).getState()){if(l=s.getTileGridForProjection(o.projection),s.getWrapX())break;var c=l.getExtent();if(!c||containsCoordinate(c,r))break}if(a<0)return null;for(var d=this.tileTextureCache_,h=l.getZForResolution(o.resolution);h>=l.getMinZoom();--h){var p=l.getTileCoordForCoordAndZ(r,h),f=getCacheKey(s,p);if(d.containsKey(f)){var m=d.get(f);if(m.loaded){var _=l.getOrigin(h),g=toSize(l.getTileSize(h)),v=l.getResolution(h),y=(r[0]-_[0])/v-p[1]*g[0],b=(_[1]-r[1])/v-p[2]*g[1];return m.getPixelData(y,b)}}}return null},t.prototype.findAltTiles_=function(e,t,n,r){var o=e.getTileRangeForTileCoordAndZ(t,n,this.tempTileRange_);if(!o)return!1;for(var i=!0,a=this.tileTextureCache_,s=this.getLayer().getRenderSource(),l=o.minX;l<=o.maxX;++l)for(var u=o.minY;u<=o.maxY;++u){var c=getCacheKey(s,[n,l,u]),d=!1;if(a.containsKey(c)){var h=a.get(c);h.loaded&&(addTileTextureToLookup(r,h,n),d=!0)}d||(i=!1)}return i},t.prototype.removeHelper=function(){if(this.helper){var t=this.tileTextureCache_;t.forEach((function(e){return e.dispose()})),t.clear()}e.prototype.removeHelper.call(this)},t.prototype.disposeInternal=function(){var t=this.helper;t&&(t.getGL().deleteProgram(this.program_),delete this.program_,t.deleteBuffer(this.indices_));e.prototype.disposeInternal.call(this),delete this.indices_,delete this.tileTextureCache_,delete this.frameState_},t}(WebGLLayerRenderer$1);const WebGLTileLayerRenderer$1=WebGLTileLayerRenderer;var ValueTypes={NUMBER:1,STRING:2,COLOR:4,BOOLEAN:8,NUMBER_ARRAY:16,ANY:31,NONE:0},Operators={};function getValueType(e){if("number"==typeof e)return ValueTypes.NUMBER;if("boolean"==typeof e)return ValueTypes.BOOLEAN;if("string"==typeof e)return isStringColor(e)?ValueTypes.COLOR|ValueTypes.STRING:ValueTypes.STRING;if(!Array.isArray(e))throw new Error("Unhandled value type: ".concat(JSON.stringify(e)));var t=e;if(t.every((function(e){return"number"==typeof e})))return 3===t.length||4===t.length?ValueTypes.COLOR|ValueTypes.NUMBER_ARRAY:ValueTypes.NUMBER_ARRAY;if("string"!=typeof t[0])throw new Error("Expected an expression operator but received: ".concat(JSON.stringify(t)));var n=Operators[t[0]];if(void 0===n)throw new Error("Unrecognized expression operator: ".concat(JSON.stringify(t)));return n.getReturnType(t.slice(1))}function isTypeUnique(e){return log2(e)%1==0}function numberToGlsl(e){var t=e.toString();return-1===t.indexOf(".")?t+".0":t}function arrayToGlsl(e){if(e.length<2||e.length>4)throw new Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return"vec".concat(e.length,"(").concat(e.map(numberToGlsl).join(", "),")")}function colorToGlsl(e){var t=asArray(e).slice();return t.length<4&&t.push(1),arrayToGlsl(t.map((function(e,t){return t<3?e/255:e})))}function getStringNumberEquivalent(e,t){return void 0===e.stringLiteralsMap[t]&&(e.stringLiteralsMap[t]=Object.keys(e.stringLiteralsMap).length),e.stringLiteralsMap[t]}function stringToGlsl(e,t){return numberToGlsl(getStringNumberEquivalent(e,t))}function expressionToGlsl(e,t,n){if(Array.isArray(t)&&"string"==typeof t[0]){var r=Operators[t[0]];if(void 0===r)throw new Error("Unrecognized expression operator: ".concat(JSON.stringify(t)));return r.toGlsl(e,t.slice(1),n)}var o=getValueType(t);if((o&ValueTypes.NUMBER)>0)return numberToGlsl(t);if((o&ValueTypes.BOOLEAN)>0)return t.toString();if((o&ValueTypes.STRING)>0&&(void 0===n||n==ValueTypes.STRING))return stringToGlsl(e,t.toString());if((o&ValueTypes.COLOR)>0&&(void 0===n||n==ValueTypes.COLOR))return colorToGlsl(t);if((o&ValueTypes.NUMBER_ARRAY)>0)return arrayToGlsl(t);throw new Error("Unexpected expression ".concat(t," (expected type ").concat(n,")"))}function assertNumber(e){if(!(getValueType(e)&ValueTypes.NUMBER))throw new Error("A numeric value was expected, got ".concat(JSON.stringify(e)," instead"))}function assertNumbers(e){for(var t=0;t<e.length;t++)assertNumber(e[t])}function assertString(e){if(!(getValueType(e)&ValueTypes.STRING))throw new Error("A string value was expected, got ".concat(JSON.stringify(e)," instead"))}function assertBoolean(e){if(!(getValueType(e)&ValueTypes.BOOLEAN))throw new Error("A boolean value was expected, got ".concat(JSON.stringify(e)," instead"))}function assertArgsCount(e,t){if(e.length!==t)throw new Error("Exactly ".concat(t," arguments were expected, got ").concat(e.length," instead"))}function assertArgsMinCount(e,t){if(e.length<t)throw new Error("At least ".concat(t," arguments were expected, got ").concat(e.length," instead"))}function assertArgsMaxCount(e,t){if(e.length>t)throw new Error("At most ".concat(t," arguments were expected, got ").concat(e.length," instead"))}function assertArgsEven(e){if(e.length%2!=0)throw new Error("An even amount of arguments was expected, got ".concat(e," instead"))}function assertArgsOdd(e){if(e.length%2==0)throw new Error("An odd amount of arguments was expected, got ".concat(e," instead"))}function assertUniqueInferredType(e,t){if(!isTypeUnique(t))throw new Error("Could not infer only one type from the following expression: ".concat(JSON.stringify(e)))}function uniformNameForVariable(e){return"u_var_"+e}Operators.get={getReturnType:function(e){return ValueTypes.ANY},toGlsl:function(e,t){assertArgsCount(t,1),assertString(t[0]);var n=t[0].toString();return-1===e.attributes.indexOf(n)&&e.attributes.push(n),(e.inFragmentShader?"v_":"a_")+n}},Operators.var={getReturnType:function(e){return ValueTypes.ANY},toGlsl:function(e,t){assertArgsCount(t,1),assertString(t[0]);var n=t[0].toString();return-1===e.variables.indexOf(n)&&e.variables.push(n),uniformNameForVariable(n)}};var PALETTE_TEXTURE_ARRAY="u_paletteTextures";Operators.palette={getReturnType:function(e){return ValueTypes.COLOR},toGlsl:function(e,t){assertArgsCount(t,2),assertNumber(t[0]);var n=expressionToGlsl(e,t[0]),r=t[1];if(!Array.isArray(r))throw new Error("The second argument of palette must be an array");for(var o=r.length,i=new Uint8Array(4*o),a=0;a<o;a++){var s=r[a],l=void 0;if("string"==typeof s)l=fromString(s);else{if(!Array.isArray(s))throw new Error("The second argument of palette must be an array of strings or colors");var u=s.length;if(4===u)l=s;else{if(3!==u)throw new Error("Expected palette color to have 3 or 4 values, got ".concat(u));l=[s[0],s[1],s[2],1]}}var c=4*a;i[c]=l[0],i[c+1]=l[1],i[c+2]=l[2],i[c+3]=255*l[3]}e.paletteTextures||(e.paletteTextures=[]);var d="".concat(PALETTE_TEXTURE_ARRAY,"[").concat(e.paletteTextures.length,"]"),h=new PaletteTexture(d,i);return e.paletteTextures.push(h),"texture2D(".concat(d,", vec2((").concat(n," + 0.5) / ").concat(o,".0, 0.5))")}};var GET_BAND_VALUE_FUNC="getBandValue";function getEqualOperator(e){return{getReturnType:function(e){return ValueTypes.BOOLEAN},toGlsl:function(t,n){assertArgsCount(n,2);for(var r=ValueTypes.ANY,o=0;o<n.length;o++)r&=getValueType(n[o]);if(r===ValueTypes.NONE)throw new Error("All arguments should be of compatible type, got ".concat(JSON.stringify(n)," instead"));return r&=~ValueTypes.COLOR,"(".concat(expressionToGlsl(t,n[0],r)," ").concat(e," ").concat(expressionToGlsl(t,n[1],r),")")}}}function getDecisionOperator(e){return{getReturnType:function(e){return ValueTypes.BOOLEAN},toGlsl:function(t,n){assertArgsMinCount(n,2);for(var r=0;r<n.length;r++)assertBoolean(n[r]);var o="";return o=n.map((function(e){return expressionToGlsl(t,e)})).join(" ".concat(e," ")),o="(".concat(o,")")}}}Operators.band={getReturnType:function(e){return ValueTypes.NUMBER},toGlsl:function(e,t){assertArgsMinCount(t,1),assertArgsMaxCount(t,3);var n=t[0];if(!(GET_BAND_VALUE_FUNC in e.functions)){for(var r="",o=e.bandCount||1,i=0;i<o;i++){var a=Math.floor(i/4),s=i%4;s===o-1&&1===s&&(s=3);var l="".concat(Uniforms.TILE_TEXTURE_ARRAY,"[").concat(a,"]");r+="\n          if (band == ".concat(i+1,".0) {\n            return texture2D(").concat(l,", v_textureCoord + vec2(dx, dy))[").concat(s,"];\n          }\n        ")}e.functions[GET_BAND_VALUE_FUNC]="\n        float getBandValue(float band, float xOffset, float yOffset) {\n          float dx = xOffset / ".concat(Uniforms.TEXTURE_PIXEL_WIDTH,";\n          float dy = yOffset / ").concat(Uniforms.TEXTURE_PIXEL_HEIGHT,";\n          ").concat(r,"\n        }\n      ")}var u=expressionToGlsl(e,n),c=expressionToGlsl(e,t[1]||0),d=expressionToGlsl(e,t[2]||0);return"".concat(GET_BAND_VALUE_FUNC,"(").concat(u,", ").concat(c,", ").concat(d,")")}},Operators.time={getReturnType:function(e){return ValueTypes.NUMBER},toGlsl:function(e,t){return assertArgsCount(t,0),"u_time"}},Operators.zoom={getReturnType:function(e){return ValueTypes.NUMBER},toGlsl:function(e,t){return assertArgsCount(t,0),"u_zoom"}},Operators.resolution={getReturnType:function(e){return ValueTypes.NUMBER},toGlsl:function(e,t){return assertArgsCount(t,0),"u_resolution"}},Operators["*"]={getReturnType:function(e){return ValueTypes.NUMBER},toGlsl:function(e,t){return assertArgsCount(t,2),assertNumbers(t),"(".concat(expressionToGlsl(e,t[0])," * ").concat(expressionToGlsl(e,t[1]),")")}},Operators["/"]={getReturnType:function(e){return ValueTypes.NUMBER},toGlsl:function(e,t){return assertArgsCount(t,2),assertNumbers(t),"(".concat(expressionToGlsl(e,t[0])," / ").concat(expressionToGlsl(e,t[1]),")")}},Operators["+"]={getReturnType:function(e){return ValueTypes.NUMBER},toGlsl:function(e,t){return assertArgsCount(t,2),assertNumbers(t),"(".concat(expressionToGlsl(e,t[0])," + ").concat(expressionToGlsl(e,t[1]),")")}},Operators["-"]={getReturnType:function(e){return ValueTypes.NUMBER},toGlsl:function(e,t){return assertArgsCount(t,2),assertNumbers(t),"(".concat(expressionToGlsl(e,t[0])," - ").concat(expressionToGlsl(e,t[1]),")")}},Operators.clamp={getReturnType:function(e){return ValueTypes.NUMBER},toGlsl:function(e,t){assertArgsCount(t,3),assertNumbers(t);var n=expressionToGlsl(e,t[1]),r=expressionToGlsl(e,t[2]);return"clamp(".concat(expressionToGlsl(e,t[0]),", ").concat(n,", ").concat(r,")")}},Operators["%"]={getReturnType:function(e){return ValueTypes.NUMBER},toGlsl:function(e,t){return assertArgsCount(t,2),assertNumbers(t),"mod(".concat(expressionToGlsl(e,t[0]),", ").concat(expressionToGlsl(e,t[1]),")")}},Operators["^"]={getReturnType:function(e){return ValueTypes.NUMBER},toGlsl:function(e,t){return assertArgsCount(t,2),assertNumbers(t),"pow(".concat(expressionToGlsl(e,t[0]),", ").concat(expressionToGlsl(e,t[1]),")")}},Operators.abs={getReturnType:function(e){return ValueTypes.NUMBER},toGlsl:function(e,t){return assertArgsCount(t,1),assertNumbers(t),"abs(".concat(expressionToGlsl(e,t[0]),")")}},Operators.floor={getReturnType:function(e){return ValueTypes.NUMBER},toGlsl:function(e,t){return assertArgsCount(t,1),assertNumbers(t),"floor(".concat(expressionToGlsl(e,t[0]),")")}},Operators.round={getReturnType:function(e){return ValueTypes.NUMBER},toGlsl:function(e,t){return assertArgsCount(t,1),assertNumbers(t),"floor(".concat(expressionToGlsl(e,t[0])," + 0.5)")}},Operators.ceil={getReturnType:function(e){return ValueTypes.NUMBER},toGlsl:function(e,t){return assertArgsCount(t,1),assertNumbers(t),"ceil(".concat(expressionToGlsl(e,t[0]),")")}},Operators.sin={getReturnType:function(e){return ValueTypes.NUMBER},toGlsl:function(e,t){return assertArgsCount(t,1),assertNumbers(t),"sin(".concat(expressionToGlsl(e,t[0]),")")}},Operators.cos={getReturnType:function(e){return ValueTypes.NUMBER},toGlsl:function(e,t){return assertArgsCount(t,1),assertNumbers(t),"cos(".concat(expressionToGlsl(e,t[0]),")")}},Operators.atan={getReturnType:function(e){return ValueTypes.NUMBER},toGlsl:function(e,t){return assertArgsMinCount(t,1),assertArgsMaxCount(t,2),assertNumbers(t),2===t.length?"atan(".concat(expressionToGlsl(e,t[0]),", ").concat(expressionToGlsl(e,t[1]),")"):"atan(".concat(expressionToGlsl(e,t[0]),")")}},Operators[">"]={getReturnType:function(e){return ValueTypes.BOOLEAN},toGlsl:function(e,t){return assertArgsCount(t,2),assertNumbers(t),"(".concat(expressionToGlsl(e,t[0])," > ").concat(expressionToGlsl(e,t[1]),")")}},Operators[">="]={getReturnType:function(e){return ValueTypes.BOOLEAN},toGlsl:function(e,t){return assertArgsCount(t,2),assertNumbers(t),"(".concat(expressionToGlsl(e,t[0])," >= ").concat(expressionToGlsl(e,t[1]),")")}},Operators["<"]={getReturnType:function(e){return ValueTypes.BOOLEAN},toGlsl:function(e,t){return assertArgsCount(t,2),assertNumbers(t),"(".concat(expressionToGlsl(e,t[0])," < ").concat(expressionToGlsl(e,t[1]),")")}},Operators["<="]={getReturnType:function(e){return ValueTypes.BOOLEAN},toGlsl:function(e,t){return assertArgsCount(t,2),assertNumbers(t),"(".concat(expressionToGlsl(e,t[0])," <= ").concat(expressionToGlsl(e,t[1]),")")}},Operators["=="]=getEqualOperator("=="),Operators["!="]=getEqualOperator("!="),Operators["!"]={getReturnType:function(e){return ValueTypes.BOOLEAN},toGlsl:function(e,t){return assertArgsCount(t,1),assertBoolean(t[0]),"(!".concat(expressionToGlsl(e,t[0]),")")}},Operators.all=getDecisionOperator("&&"),Operators.any=getDecisionOperator("||"),Operators.between={getReturnType:function(e){return ValueTypes.BOOLEAN},toGlsl:function(e,t){assertArgsCount(t,3),assertNumbers(t);var n=expressionToGlsl(e,t[1]),r=expressionToGlsl(e,t[2]),o=expressionToGlsl(e,t[0]);return"(".concat(o," >= ").concat(n," && ").concat(o," <= ").concat(r,")")}},Operators.array={getReturnType:function(e){return ValueTypes.NUMBER_ARRAY},toGlsl:function(e,t){assertArgsMinCount(t,2),assertArgsMaxCount(t,4),assertNumbers(t);var n=t.map((function(t){return expressionToGlsl(e,t,ValueTypes.NUMBER)}));return"vec".concat(t.length,"(").concat(n.join(", "),")")}},Operators.color={getReturnType:function(e){return ValueTypes.COLOR},toGlsl:function(e,t){assertArgsMinCount(t,3),assertArgsMaxCount(t,4),assertNumbers(t);var n=t;3===t.length&&n.push(1);var r=t.map((function(t,n){return expressionToGlsl(e,t,ValueTypes.NUMBER)+(n<3?" / 255.0":"")}));return"vec".concat(t.length,"(").concat(r.join(", "),")")}},Operators.interpolate={getReturnType:function(e){for(var t=ValueTypes.COLOR|ValueTypes.NUMBER,n=3;n<e.length;n+=2)t&=getValueType(e[n]);return t},toGlsl:function(e,t,n){assertArgsEven(t),assertArgsMinCount(t,6);var r,o=t[0];switch(o[0]){case"linear":r=1;break;case"exponential":r=o[1];break;default:r=null}if(!r)throw new Error('Invalid interpolation type for "interpolate" operator, received: '.concat(JSON.stringify(o)));var i=void 0!==n?n:ValueTypes.ANY,a=Operators.interpolate.getReturnType(t)&i;assertUniqueInferredType(t,a);for(var s=expressionToGlsl(e,t[1]),l=numberToGlsl(r),u="",c=2;c<t.length-2;c+=2){var d=expressionToGlsl(e,t[c]),h=u||expressionToGlsl(e,t[c+1],a),p=expressionToGlsl(e,t[c+2]),f=expressionToGlsl(e,t[c+3],a);u="mix(".concat(h,", ").concat(f,", pow(clamp((").concat(s," - ").concat(d,") / (").concat(p," - ").concat(d,"), 0.0, 1.0), ").concat(l,"))")}return u}},Operators.match={getReturnType:function(e){for(var t=ValueTypes.ANY,n=2;n<e.length;n+=2)t&=getValueType(e[n]);return t&=getValueType(e[e.length-1])},toGlsl:function(e,t,n){assertArgsEven(t),assertArgsMinCount(t,4);var r=void 0!==n?n:ValueTypes.ANY,o=Operators.match.getReturnType(t)&r;assertUniqueInferredType(t,o);for(var i=expressionToGlsl(e,t[0]),a=expressionToGlsl(e,t[t.length-1],o),s=null,l=t.length-3;l>=1;l-=2){var u=expressionToGlsl(e,t[l]),c=expressionToGlsl(e,t[l+1],o);s="(".concat(i," == ").concat(u," ? ").concat(c," : ").concat(s||a,")")}return s}},Operators.case={getReturnType:function(e){for(var t=ValueTypes.ANY,n=1;n<e.length;n+=2)t&=getValueType(e[n]);return t&=getValueType(e[e.length-1])},toGlsl:function(e,t,n){assertArgsOdd(t),assertArgsMinCount(t,3);var r=void 0!==n?n:ValueTypes.ANY,o=Operators.case.getReturnType(t)&r;assertUniqueInferredType(t,o);for(var i=0;i<t.length-1;i+=2)assertBoolean(t[i]);var a=expressionToGlsl(e,t[t.length-1],o),s=null;for(i=t.length-3;i>=0;i-=2){var l=expressionToGlsl(e,t[i]),u=expressionToGlsl(e,t[i+1],o);s="(".concat(l," ? ").concat(u," : ").concat(s||a,")")}return s}};var __extends$d=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function parseStyle(e,t){var n="\n    attribute vec2 ".concat(Attributes.TEXTURE_COORD,";\n    uniform mat4 ").concat(Uniforms.TILE_TRANSFORM,";\n    uniform float ").concat(Uniforms.TEXTURE_PIXEL_WIDTH,";\n    uniform float ").concat(Uniforms.TEXTURE_PIXEL_HEIGHT,";\n    uniform float ").concat(Uniforms.TEXTURE_RESOLUTION,";\n    uniform float ").concat(Uniforms.TEXTURE_ORIGIN_X,";\n    uniform float ").concat(Uniforms.TEXTURE_ORIGIN_Y,";\n    uniform float ").concat(Uniforms.DEPTH,";\n\n    varying vec2 v_textureCoord;\n    varying vec2 v_mapCoord;\n\n    void main() {\n      v_textureCoord = ").concat(Attributes.TEXTURE_COORD,";\n      v_mapCoord = vec2(\n        ").concat(Uniforms.TEXTURE_ORIGIN_X," + ").concat(Uniforms.TEXTURE_RESOLUTION," * ").concat(Uniforms.TEXTURE_PIXEL_WIDTH," * v_textureCoord[0],\n        ").concat(Uniforms.TEXTURE_ORIGIN_Y," - ").concat(Uniforms.TEXTURE_RESOLUTION," * ").concat(Uniforms.TEXTURE_PIXEL_HEIGHT," * v_textureCoord[1]\n      );\n      gl_Position = ").concat(Uniforms.TILE_TRANSFORM," * vec4(").concat(Attributes.TEXTURE_COORD,", ").concat(Uniforms.DEPTH,", 1.0);\n    }\n  "),r={inFragmentShader:!0,variables:[],attributes:[],stringLiteralsMap:{},functions:{},bandCount:t},o=[];if(void 0!==e.color){var i=expressionToGlsl(r,e.color,ValueTypes.COLOR);o.push("color = ".concat(i,";"))}if(void 0!==e.contrast){var a=expressionToGlsl(r,e.contrast,ValueTypes.NUMBER);o.push("color.rgb = clamp((".concat(a," + 1.0) * color.rgb - (").concat(a," / 2.0), vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));"))}if(void 0!==e.exposure){var s=expressionToGlsl(r,e.exposure,ValueTypes.NUMBER);o.push("color.rgb = clamp((".concat(s," + 1.0) * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));"))}if(void 0!==e.saturation){var l=expressionToGlsl(r,e.saturation,ValueTypes.NUMBER);o.push("\n      float saturation = ".concat(l," + 1.0;\n      float sr = (1.0 - saturation) * 0.2126;\n      float sg = (1.0 - saturation) * 0.7152;\n      float sb = (1.0 - saturation) * 0.0722;\n      mat3 saturationMatrix = mat3(\n        sr + saturation, sr, sr,\n        sg, sg + saturation, sg,\n        sb, sb, sb + saturation\n      );\n      color.rgb = clamp(saturationMatrix * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));\n    "))}if(void 0!==e.gamma){var u=expressionToGlsl(r,e.gamma,ValueTypes.NUMBER);o.push("color.rgb = pow(color.rgb, vec3(1.0 / ".concat(u,"));"))}if(void 0!==e.brightness){var c=expressionToGlsl(r,e.brightness,ValueTypes.NUMBER);o.push("color.rgb = clamp(color.rgb + ".concat(c,", vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));"))}var d={},h=r.variables.length;if(h>1&&!e.variables)throw new Error("Missing variables in style (expected ".concat(r.variables,")"));for(var p=function(t){var n=r.variables[t];if(!(n in e.variables))throw new Error("Missing '".concat(n,"' in style variables"));var o=uniformNameForVariable(n);d[o]=function(){var t=e.variables[n];return"string"==typeof t&&(t=getStringNumberEquivalent(r,t)),void 0!==t?t:-9999999}},f=0;f<h;++f)p(f);var m=Object.keys(d).map((function(e){return"uniform float ".concat(e,";")})),_=Math.ceil(t/4);m.push("uniform sampler2D ".concat(Uniforms.TILE_TEXTURE_ARRAY,"[").concat(_,"];")),r.paletteTextures&&m.push("uniform sampler2D ".concat(PALETTE_TEXTURE_ARRAY,"[").concat(r.paletteTextures.length,"];"));var g=Object.keys(r.functions).map((function(e){return r.functions[e]}));return{vertexShader:n,fragmentShader:"\n    #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n    #else\n    precision mediump float;\n    #endif\n\n    varying vec2 v_textureCoord;\n    varying vec2 v_mapCoord;\n    uniform vec4 ".concat(Uniforms.RENDER_EXTENT,";\n    uniform float ").concat(Uniforms.TRANSITION_ALPHA,";\n    uniform float ").concat(Uniforms.TEXTURE_PIXEL_WIDTH,";\n    uniform float ").concat(Uniforms.TEXTURE_PIXEL_HEIGHT,";\n    uniform float ").concat(Uniforms.RESOLUTION,";\n    uniform float ").concat(Uniforms.ZOOM,";\n\n    ").concat(m.join("\n"),"\n\n    ").concat(g.join("\n"),"\n\n    void main() {\n      if (\n        v_mapCoord[0] < ").concat(Uniforms.RENDER_EXTENT,"[0] ||\n        v_mapCoord[1] < ").concat(Uniforms.RENDER_EXTENT,"[1] ||\n        v_mapCoord[0] > ").concat(Uniforms.RENDER_EXTENT,"[2] ||\n        v_mapCoord[1] > ").concat(Uniforms.RENDER_EXTENT,"[3]\n      ) {\n        discard;\n      }\n\n      vec4 color = texture2D(").concat(Uniforms.TILE_TEXTURE_ARRAY,"[0],  v_textureCoord);\n\n      ").concat(o.join("\n"),"\n\n      if (color.a == 0.0) {\n        discard;\n      }\n\n      gl_FragColor = color;\n      gl_FragColor.rgb *= gl_FragColor.a;\n      gl_FragColor *= ").concat(Uniforms.TRANSITION_ALPHA,";\n    }"),uniforms:d,paletteTextures:r.paletteTextures}}var WebGLTileLayer=function(e){function t(t){var n=this,r=t?assign({},t):{},o=r.style||{};delete r.style;var i=r.cacheSize;return delete r.cacheSize,(n=e.call(this,r)||this).sources_=r.sources,n.renderedSource_=null,n.renderedResolution_=NaN,n.style_=o,n.cacheSize_=i,n.styleVariables_=n.style_.variables||{},n.addChangeListener(LayerProperty.SOURCE,n.handleSourceUpdate_),n}return __extends$d(t,e),t.prototype.getSources=function(e,t){var n=this.getSource();return this.sources_?"function"==typeof this.sources_?this.sources_(e,t):this.sources_:n?[n]:[]},t.prototype.getRenderSource=function(){return this.renderedSource_||this.getSource()},t.prototype.getSourceState=function(){var e=this.getRenderSource();return e?e.getState():"undefined"},t.prototype.handleSourceUpdate_=function(){this.getSource()&&this.setStyle(this.style_)},t.prototype.getSourceBandCount_=function(){var e=Number.MAX_SAFE_INTEGER,t=this.getSources([-e,-e,e,e],e);return t&&t.length&&"bandCount"in t[0]?t[0].bandCount:4},t.prototype.createRenderer=function(){var e=parseStyle(this.style_,this.getSourceBandCount_());return new WebGLTileLayerRenderer$1(this,{vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,cacheSize:this.cacheSize_,paletteTextures:e.paletteTextures})},t.prototype.renderSources=function(e,t){for(var n,r=this.getRenderer(),o=0,i=t.length;o<i;++o)this.renderedSource_=t[o],r.prepareFrame(e)&&(n=r.renderFrame(e));return n},t.prototype.render=function(e,t){var n=this;this.rendered=!0;for(var r=e.viewState,o=this.getSources(e.extent,r.resolution),i=!0,a=function(e,t){var r=o[e],a=r.getState();if("loading"==a){var s=function(){"ready"==r.getState()&&(r.removeEventListener("change",s),n.changed())};r.addEventListener("change",s)}i=i&&"ready"==a},s=0,l=o.length;s<l;++s)a(s);var u=this.renderSources(e,o);if(this.getRenderer().renderComplete&&i)return this.renderedResolution_=r.resolution,u;if(this.renderedResolution_>.5*r.resolution){var c=this.getSources(e.extent,this.renderedResolution_).filter((function(e){return!o.includes(e)}));if(c.length>0)return this.renderSources(e,c)}return u},t.prototype.setStyle=function(e){this.styleVariables_=e.variables||{},this.style_=e;var t=parseStyle(this.style_,this.getSourceBandCount_());this.getRenderer().reset({vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms,paletteTextures:t.paletteTextures}),this.changed()},t.prototype.updateStyleVariables=function(e){assign(this.styleVariables_,e),this.changed()},t}(BaseTileLayer$1);WebGLTileLayer.prototype.dispose;const WebGLTile=WebGLTileLayer;var __extends$c=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function quadKey(e){var t,n,r=e[0],o=new Array(r),i=1<<r-1;for(t=0;t<r;++t)n=48,e[1]&i&&(n+=1),e[2]&i&&(n+=2),o[t]=String.fromCharCode(n),i>>=1;return o.join("")}var TOS_ATTRIBUTION='<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html" target="_blank">Terms of Use</a>',BingMaps=function(e){function t(t){var n=this,r=void 0!==t.hidpi&&t.hidpi,o=void 0===t.imageSmoothing||t.imageSmoothing;return void 0!==t.interpolate&&(o=t.interpolate),(n=e.call(this,{cacheSize:t.cacheSize,crossOrigin:"anonymous",interpolate:o,opaque:!0,projection:get$3("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,tilePixelRatio:r?2:1,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:t.zDirection})||this).hidpi_=r,n.culture_=void 0!==t.culture?t.culture:"en-us",n.maxZoom_=void 0!==t.maxZoom?t.maxZoom:-1,n.apiKey_=t.key,n.imagerySet_=t.imagerySet,jsonp("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+n.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+n.apiKey_+"&c="+n.culture_,n.handleImageryMetadataResponse.bind(n),void 0,"jsonp"),n}return __extends$c(t,e),t.prototype.getApiKey=function(){return this.apiKey_},t.prototype.getImagerySet=function(){return this.imagerySet_},t.prototype.handleImageryMetadataResponse=function(e){if(200==e.statusCode&&"OK"==e.statusDescription&&"ValidCredentials"==e.authenticationResultCode&&1==e.resourceSets.length&&1==e.resourceSets[0].resources.length){var t=e.resourceSets[0].resources[0],n=-1==this.maxZoom_?t.zoomMax:this.maxZoom_,r=extentFromProjection(this.getProjection()),o=this.hidpi_?2:1,i=t.imageWidth==t.imageHeight?t.imageWidth/o:[t.imageWidth/o,t.imageHeight/o],a=createXYZ({extent:r,minZoom:t.zoomMin,maxZoom:n,tileSize:i});this.tileGrid=a;var s=this.culture_,l=this.hidpi_;if(this.tileUrlFunction=createFromTileUrlFunctions(t.imageUrlSubdomains.map((function(e){var n=[0,0,0],r=t.imageUrl.replace("{subdomain}",e).replace("{culture}",s);return function(e,t,o){if(e){createOrUpdate$1(e[0],e[1],e[2],n);var i=r;return l&&(i+="&dpi=d1&device=mobile"),i.replace("{quadkey}",quadKey(n))}}}))),t.imageryProviders){var u=getTransformFromProjections(get$3("EPSG:4326"),this.getProjection());this.setAttributions(function(e){var n=[],r=e.viewState,o=this.getTileGrid(),i=o.getZForResolution(r.resolution,this.zDirection),a=o.getTileCoordForCoordAndZ(r.center,i)[0];return t.imageryProviders.map((function(t){for(var r=!1,o=t.coverageAreas,i=0,s=o.length;i<s;++i){var l=o[i];if(a>=l.zoomMin&&a<=l.zoomMax){var c=l.bbox;if(intersects$1(applyTransform([c[1],c[0],c[3],c[2]],u),e.extent)){r=!0;break}}}r&&n.push(t.attribution)})),n.push(TOS_ATTRIBUTION),n}.bind(this))}this.setState("ready")}else this.setState("error")},t}(TileImage),__extends$b=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),XYZ=function(e){function t(t){var n=this,r=t||{},o=void 0===r.imageSmoothing||r.imageSmoothing;void 0!==r.interpolate&&(o=r.interpolate);var i=void 0!==r.projection?r.projection:"EPSG:3857",a=void 0!==r.tileGrid?r.tileGrid:createXYZ({extent:extentFromProjection(i),maxResolution:r.maxResolution,maxZoom:r.maxZoom,minZoom:r.minZoom,tileSize:r.tileSize});return(n=e.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,interpolate:o,opaque:r.opaque,projection:i,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileGrid:a,tileLoadFunction:r.tileLoadFunction,tilePixelRatio:r.tilePixelRatio,tileUrlFunction:r.tileUrlFunction,url:r.url,urls:r.urls,wrapX:void 0===r.wrapX||r.wrapX,transition:r.transition,attributionsCollapsible:r.attributionsCollapsible,zDirection:r.zDirection})||this).gutter_=void 0!==r.gutter?r.gutter:0,n}return __extends$b(t,e),t.prototype.getGutter=function(){return this.gutter_},t}(TileImage),__extends$a=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cluster=function(e){function t(t){var n=e.call(this,{attributions:t.attributions,wrapX:t.wrapX})||this;return n.resolution=void 0,n.distance=void 0!==t.distance?t.distance:20,n.minDistance=t.minDistance||0,n.interpolationRatio=0,n.features=[],n.geometryFunction=t.geometryFunction||function(e){var t=e.getGeometry();return assert("Point"==t.getType(),10),t},n.createCustomCluster_=t.createCluster,n.source=null,n.boundRefresh_=n.refresh.bind(n),n.updateDistance(n.distance,n.minDistance),n.setSource(t.source||null),n}return __extends$a(t,e),t.prototype.clear=function(t){this.features.length=0,e.prototype.clear.call(this,t)},t.prototype.getDistance=function(){return this.distance},t.prototype.getSource=function(){return this.source},t.prototype.loadFeatures=function(e,t,n){this.source.loadFeatures(e,t,n),t!==this.resolution&&(this.resolution=t,this.refresh())},t.prototype.setDistance=function(e){this.updateDistance(e,this.minDistance)},t.prototype.setMinDistance=function(e){this.updateDistance(this.distance,e)},t.prototype.getMinDistance=function(){return this.minDistance},t.prototype.setSource=function(e){this.source&&this.source.removeEventListener(EventType.CHANGE,this.boundRefresh_),this.source=e,e&&e.addEventListener(EventType.CHANGE,this.boundRefresh_),this.refresh()},t.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features)},t.prototype.updateDistance=function(e,t){var n=0===e?0:Math.min(t,e)/e,r=e!==this.distance||this.interpolationRatio!==n;this.distance=e,this.minDistance=t,this.interpolationRatio=n,r&&this.refresh()},t.prototype.cluster=function(){if(void 0!==this.resolution&&this.source)for(var e=createEmpty(),t=this.distance*this.resolution,n=this.source.getFeatures(),r={},o=0,i=n.length;o<i;o++){var a=n[o];if(!(getUid(a)in r)){var s=this.geometryFunction(a);if(s){createOrUpdateFromCoordinate(s.getCoordinates(),e),buffer(e,t,e);var l=this.source.getFeaturesInExtent(e).filter((function(e){var t=getUid(e);return!(t in r)&&(r[t]=!0,!0)}));this.features.push(this.createCluster(l,e))}}}},t.prototype.createCluster=function(e,t){for(var n=[0,0],r=e.length-1;r>=0;--r){var o=this.geometryFunction(e[r]);o?add$1(n,o.getCoordinates()):e.splice(r,1)}scale$2(n,1/e.length);var i=getCenter(t),a=this.interpolationRatio,s=new Point$1([n[0]*(1-a)+i[0]*a,n[1]*(1-a)+i[1]*a]);return this.createCustomCluster_?this.createCustomCluster_(s,e):new Feature$1({geometry:s,features:e})},t}(VectorSource),__extends$9=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ReprojImage=function(e){function t(t,n,r,o,i,a,s){var l=this,u=t.getExtent(),c=n.getExtent(),d=c?getIntersection(r,c):r,h=calculateSourceResolution(t,n,getCenter(d),o),p=new Triangulation(t,n,d,u,h*ERROR_THRESHOLD,o),f=a(p.calculateSourceExtent(),h,i),m=f?ImageState.IDLE:ImageState.EMPTY,_=f?f.getPixelRatio():1;return(l=e.call(this,r,o,_,m)||this).targetProj_=n,l.maxSourceExtent_=u,l.triangulation_=p,l.targetResolution_=o,l.targetExtent_=r,l.sourceImage_=f,l.sourcePixelRatio_=_,l.interpolate_=s,l.canvas_=null,l.sourceListenerKey_=null,l}return __extends$9(t,e),t.prototype.disposeInternal=function(){this.state==ImageState.LOADING&&this.unlistenSource_(),e.prototype.disposeInternal.call(this)},t.prototype.getImage=function(){return this.canvas_},t.prototype.getProjection=function(){return this.targetProj_},t.prototype.reproject_=function(){var e=this.sourceImage_.getState();if(e==ImageState.LOADED){var t=getWidth(this.targetExtent_)/this.targetResolution_,n=getHeight(this.targetExtent_)/this.targetResolution_;this.canvas_=render(t,n,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=e,this.changed()},t.prototype.load=function(){if(this.state==ImageState.IDLE){this.state=ImageState.LOADING,this.changed();var e=this.sourceImage_.getState();e==ImageState.LOADED||e==ImageState.ERROR?this.reproject_():(this.sourceListenerKey_=listen(this.sourceImage_,EventType.CHANGE,(function(e){var t=this.sourceImage_.getState();t!=ImageState.LOADED&&t!=ImageState.ERROR||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}},t.prototype.unlistenSource_=function(){unlistenByKey(this.sourceListenerKey_),this.sourceListenerKey_=null},t}(ImageBase$1);const ReprojImage$1=ReprojImage;var __extends$8=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ImageSourceEventType={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"},ImageSourceEvent=function(e){function t(t,n){var r=e.call(this,t)||this;return r.image=n,r}return __extends$8(t,e),t}(Event$1),ImageSource=function(e){function t(t){var n=this,r=void 0===t.imageSmoothing||t.imageSmoothing;return void 0!==t.interpolate&&(r=t.interpolate),(n=e.call(this,{attributions:t.attributions,projection:t.projection,state:t.state,interpolate:r})||this).on,n.once,n.un,n.resolutions_=void 0!==t.resolutions?t.resolutions:null,n.reprojectedImage_=null,n.reprojectedRevision_=0,n}return __extends$8(t,e),t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.findNearestResolution=function(e){if(this.resolutions_){var t=linearFindNearest(this.resolutions_,e,0);e=this.resolutions_[t]}return e},t.prototype.getImage=function(e,t,n,r){var o=this.getProjection();if(o&&r&&!equivalent(o,r)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&equivalent(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==t&&equals$1(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new ReprojImage$1(o,r,e,t,n,function(e,t,n){return this.getImageInternal(e,t,n,o)}.bind(this),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return o&&(r=o),this.getImageInternal(e,t,n,r)},t.prototype.getImageInternal=function(e,t,n,r){return abstract()},t.prototype.handleImageChange=function(e){var t,n=e.target;switch(n.getState()){case ImageState.LOADING:this.loading=!0,t=ImageSourceEventType.IMAGELOADSTART;break;case ImageState.LOADED:this.loading=!1,t=ImageSourceEventType.IMAGELOADEND;break;case ImageState.ERROR:this.loading=!1,t=ImageSourceEventType.IMAGELOADERROR;break;default:return}this.hasListener(t)&&this.dispatchEvent(new ImageSourceEvent(t,n))},t}(Source$1);function defaultImageLoadFunction(e,t){e.getImage().src=t}const ImageSource$1=ImageSource;var __extends$7=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Static=function(e){function t(t){var n=this,r=void 0!==t.crossOrigin?t.crossOrigin:null,o=void 0!==t.imageLoadFunction?t.imageLoadFunction:defaultImageLoadFunction,i=void 0===t.imageSmoothing||t.imageSmoothing;return void 0!==t.interpolate&&(i=t.interpolate),(n=e.call(this,{attributions:t.attributions,interpolate:i,projection:get$3(t.projection)})||this).url_=t.url,n.imageExtent_=t.imageExtent,n.image_=new ImageWrapper$1(n.imageExtent_,void 0,1,n.url_,r,o),n.imageSize_=t.imageSize?t.imageSize:null,n.image_.addEventListener(EventType.CHANGE,n.handleImageChange.bind(n)),n}return __extends$7(t,e),t.prototype.getImageExtent=function(){return this.imageExtent_},t.prototype.getImageInternal=function(e,t,n,r){return intersects$1(e,this.image_.getExtent())?this.image_:null},t.prototype.getUrl=function(){return this.url_},t.prototype.handleImageChange=function(t){if(this.image_.getState()==ImageState.LOADED){var n=this.image_.getExtent(),r=this.image_.getImage(),o=void 0,i=void 0;this.imageSize_?(o=this.imageSize_[0],i=this.imageSize_[1]):(o=r.width,i=r.height);var a=getWidth(n),s=getHeight(n),l=a/o,u=s/i,c=o,d=i;if(l>u?c=Math.round(a/u):d=Math.round(s/l),c!==o||d!==i){var h=createCanvasContext2D(c,d);this.getInterpolate()||assign(h,IMAGE_SMOOTHING_DISABLED);var p=h.canvas;h.drawImage(r,0,0,o,i,0,0,p.width,p.height),this.image_.setImage(p)}}e.prototype.handleImageChange.call(this,t)},t}(ImageSource$1),__extends$6=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ATTRIBUTION='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',OSM=function(e){function t(t){var n,r=t||{},o=void 0===r.imageSmoothing||r.imageSmoothing;void 0!==r.interpolate&&(o=r.interpolate),n=void 0!==r.attributions?r.attributions:[ATTRIBUTION];var i=void 0!==r.crossOrigin?r.crossOrigin:"anonymous",a=void 0!==r.url?r.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return e.call(this,{attributions:n,attributionsCollapsible:!1,cacheSize:r.cacheSize,crossOrigin:i,interpolate:o,maxZoom:void 0!==r.maxZoom?r.maxZoom:19,opaque:void 0===r.opaque||r.opaque,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileLoadFunction:r.tileLoadFunction,transition:r.transition,url:a,wrapX:r.wrapX,zDirection:r.zDirection})||this}return __extends$6(t,e),t}(XYZ),__extends$5=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),TileDebug=function(e){function t(t){var n=this,r=t||{};return n=e.call(this,{opaque:!1,projection:r.projection,tileGrid:r.tileGrid,wrapX:void 0===r.wrapX||r.wrapX,zDirection:r.zDirection,url:r.template||"z:{z} x:{x} y:{y}",tileLoadFunction:function(e,t){var r=e.getTileCoord()[0],o=toSize(n.tileGrid.getTileSize(r)),i=createCanvasContext2D(o[0],o[1]);i.strokeStyle="grey",i.strokeRect(.5,.5,o[0]+.5,o[1]+.5),i.fillStyle="grey",i.strokeStyle="white",i.textAlign="center",i.textBaseline="middle",i.font="24px sans-serif",i.lineWidth=4,i.strokeText(t,o[0]/2,o[1]/2,o[0]),i.fillText(t,o[0]/2,o[1]/2,o[0]),e.setImage(i.canvas)}})||this}return __extends$5(t,e),t}(XYZ);const TileDebug$1=TileDebug,FOCUSABLE_ELEMENT_SELECTORS='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',isVisible=e=>"fixed"!==getComputedStyle(e).position&&null!==e.offsetParent,obtainAllFocusableElements$1=e=>Array.from(e.querySelectorAll(FOCUSABLE_ELEMENT_SELECTORS)).filter((e=>isFocusable$1(e)&&isVisible(e))),isFocusable$1=e=>{if(e.tabIndex>0||0===e.tabIndex&&null!==e.getAttribute("tabIndex"))return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&"ignore"!==e.rel;case"INPUT":return!("hidden"===e.type||"file"===e.type);case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},triggerEvent=function(e,t,...n){let r;r=t.includes("mouse")||t.includes("click")?"MouseEvents":t.includes("key")?"KeyboardEvent":"HTMLEvents";const o=document.createEvent(r);return o.initEvent(t,...n),e.dispatchEvent(o),e},isLeaf=e=>!e.getAttribute("aria-owns"),getSibling=(e,t,n)=>{const{parentNode:r}=e;if(!r)return null;const o=r.querySelectorAll(n);return o[Array.prototype.indexOf.call(o,e)+t]||null},focusNode=e=>{e&&(e.focus(),!isLeaf(e)&&e.click())},composeEventHandlers=(e,t,{checkForDefaultPrevented:n=!0}={})=>r=>{const o=null==e?void 0:e(r);if(!1===n||!o)return null==t?void 0:t(r)},whenMouse=e=>t=>"mouse"===t.pointerType?e(t):void 0;var __defProp$9=Object.defineProperty,__defProps$6=Object.defineProperties,__getOwnPropDescs$6=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$b=Object.getOwnPropertySymbols,__hasOwnProp$b=Object.prototype.hasOwnProperty,__propIsEnum$b=Object.prototype.propertyIsEnumerable,__defNormalProp$9=(e,t,n)=>t in e?__defProp$9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,__spreadValues$9=(e,t)=>{for(var n in t||(t={}))__hasOwnProp$b.call(t,n)&&__defNormalProp$9(e,n,t[n]);if(__getOwnPropSymbols$b)for(var n of __getOwnPropSymbols$b(t))__propIsEnum$b.call(t,n)&&__defNormalProp$9(e,n,t[n]);return e},__spreadProps$6=(e,t)=>__defProps$6(e,__getOwnPropDescs$6(t)),_a$1;function computedEager(e,t){var n;const r=shallowRef();return watchEffect((()=>{r.value=e()}),__spreadProps$6(__spreadValues$9({},t),{flush:null!=(n=null==t?void 0:t.flush)?n:"sync"})),readonly(r)}const isClient$1="undefined"!=typeof window,isDef=e=>void 0!==e,isFunction$1=e=>"function"==typeof e,isString=e=>"string"==typeof e,noop$2=()=>{},isIOS$1=isClient$1&&(null==(_a$1=null==window?void 0:window.navigator)?void 0:_a$1.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function resolveUnref(e){return"function"==typeof e?e():unref(e)}function createFilterWrapper$1(e,t){return function(...n){return new Promise(((r,o)=>{Promise.resolve(e((()=>t.apply(this,n)),{fn:t,thisArg:this,args:n})).then(r).catch(o)}))}}function debounceFilter$1(e,t={}){let n,r,o=noop$2;const i=e=>{clearTimeout(e),o(),o=noop$2};return a=>{const s=resolveUnref(e),l=resolveUnref(t.maxWait);return n&&i(n),s<=0||void 0!==l&&l<=0?(r&&(i(r),r=null),Promise.resolve(a())):new Promise(((e,u)=>{o=t.rejectOnCancel?u:e,l&&!r&&(r=setTimeout((()=>{n&&i(n),r=null,e(a())}),l)),n=setTimeout((()=>{r&&i(r),r=null,e(a())}),s)}))}}function throttleFilter(e,t=!0,n=!0,r=!1){let o,i,a=0,s=!0,l=noop$2;const u=()=>{o&&(clearTimeout(o),o=void 0,l(),l=noop$2)};return c=>{const d=resolveUnref(e),h=Date.now()-a,p=()=>i=c();return u(),d<=0?(a=Date.now(),p()):(h>d&&(n||!s)?(a=Date.now(),p()):t&&(i=new Promise(((e,t)=>{l=r?t:e,o=setTimeout((()=>{a=Date.now(),s=!0,e(p()),u()}),Math.max(0,d-h))}))),n||o||(o=setTimeout((()=>s=!0),d)),s=!1,i)}}function identity$2(e){return e}function tryOnScopeDispose$1(e){return!!getCurrentScope()&&(onScopeDispose(e),!0)}function useDebounceFn(e,t=200,n={}){return createFilterWrapper$1(debounceFilter$1(t,n),e)}function refDebounced(e,t=200,n={}){const r=ref(e.value),o=useDebounceFn((()=>{r.value=e.value}),t,n);return watch(e,(()=>o())),r}function useThrottleFn(e,t=200,n=!1,r=!0,o=!1){return createFilterWrapper$1(throttleFilter(t,n,r,o),e)}function tryOnMounted$1(e,t=!0){getCurrentInstance()?onMounted(e):t?e():nextTick(e)}function useTimeoutFn(e,t,n={}){const{immediate:r=!0}=n,o=ref(!1);let i=null;function a(){i&&(clearTimeout(i),i=null)}function s(){o.value=!1,a()}function l(...n){a(),o.value=!0,i=setTimeout((()=>{o.value=!1,i=null,e(...n)}),resolveUnref(t))}return r&&(o.value=!0,isClient$1&&l()),tryOnScopeDispose$1(s),{isPending:readonly(o),start:l,stop:s}}function unrefElement$1(e){var t;const n=resolveUnref(e);return null!=(t=null==n?void 0:n.$el)?t:n}const defaultWindow$1=isClient$1?window:void 0,defaultDocument=isClient$1?window.document:void 0;function useEventListener$1(...e){let t,n,r,o;if(isString(e[0])||Array.isArray(e[0])?([n,r,o]=e,t=defaultWindow$1):[t,n,r,o]=e,!t)return noop$2;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],a=()=>{i.forEach((e=>e())),i.length=0},s=watch((()=>[unrefElement$1(t),resolveUnref(o)]),(([e,t])=>{a(),e&&i.push(...n.flatMap((n=>r.map((r=>((e,t,n,r)=>(e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)))(e,n,r,t))))))}),{immediate:!0,flush:"post"}),l=()=>{s(),a()};return tryOnScopeDispose$1(l),l}let _iOSWorkaround$1=!1;function onClickOutside$1(e,t,n={}){const{window:r=defaultWindow$1,ignore:o=[],capture:i=!0,detectIframe:a=!1}=n;if(!r)return;isIOS$1&&!_iOSWorkaround$1&&(_iOSWorkaround$1=!0,Array.from(r.document.body.children).forEach((e=>e.addEventListener("click",noop$2))));let s=!0;const l=e=>o.some((t=>{if("string"==typeof t)return Array.from(r.document.querySelectorAll(t)).some((t=>t===e.target||e.composedPath().includes(t)));{const n=unrefElement$1(t);return n&&(e.target===n||e.composedPath().includes(n))}})),u=[useEventListener$1(r,"click",(n=>{const r=unrefElement$1(e);r&&r!==n.target&&!n.composedPath().includes(r)&&(0===n.detail&&(s=!l(n)),s?t(n):s=!0)}),{passive:!0,capture:i}),useEventListener$1(r,"pointerdown",(t=>{const n=unrefElement$1(e);n&&(s=!t.composedPath().includes(n)&&!l(t))}),{passive:!0}),a&&useEventListener$1(r,"blur",(n=>{var o;const i=unrefElement$1(e);"IFRAME"!==(null==(o=r.document.activeElement)?void 0:o.tagName)||(null==i?void 0:i.contains(r.document.activeElement))||t(n)}))].filter(Boolean);return()=>u.forEach((e=>e()))}function useSupported$1(e,t=!1){const n=ref(),r=()=>n.value=Boolean(e());return r(),tryOnMounted$1(r,t),n}function cloneFnJSON(e){return JSON.parse(JSON.stringify(e))}const _global$1="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},globalKey$1="__vueuse_ssr_handlers__";function useCssVar(e,t,{window:n=defaultWindow$1,initialValue:r=""}={}){const o=ref(r),i=computed((()=>{var e;return unrefElement$1(t)||(null==(e=null==n?void 0:n.document)?void 0:e.documentElement)}));return watch([i,()=>resolveUnref(e)],(([e,t])=>{var i;if(e&&n){const a=null==(i=n.getComputedStyle(e).getPropertyValue(t))?void 0:i.trim();o.value=a||r}}),{immediate:!0}),watch(o,(t=>{var n;(null==(n=i.value)?void 0:n.style)&&i.value.style.setProperty(resolveUnref(e),t)})),o}function useDocumentVisibility({document:e=defaultDocument}={}){if(!e)return ref("visible");const t=ref(e.visibilityState);return useEventListener$1(e,"visibilitychange",(()=>{t.value=e.visibilityState})),t}_global$1[globalKey$1]=_global$1[globalKey$1]||{};var __getOwnPropSymbols$g=Object.getOwnPropertySymbols,__hasOwnProp$g=Object.prototype.hasOwnProperty,__propIsEnum$g=Object.prototype.propertyIsEnumerable,__objRest$2=(e,t)=>{var n={};for(var r in e)__hasOwnProp$g.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&__getOwnPropSymbols$g)for(var r of __getOwnPropSymbols$g(e))t.indexOf(r)<0&&__propIsEnum$g.call(e,r)&&(n[r]=e[r]);return n};function useResizeObserver(e,t,n={}){const r=n,{window:o=defaultWindow$1}=r,i=__objRest$2(r,["window"]);let a;const s=useSupported$1((()=>o&&"ResizeObserver"in o)),l=()=>{a&&(a.disconnect(),a=void 0)},u=watch((()=>unrefElement$1(e)),(e=>{l(),s.value&&o&&e&&(a=new ResizeObserver(t),a.observe(e,i))}),{immediate:!0,flush:"post"}),c=()=>{l(),u()};return tryOnScopeDispose$1(c),{isSupported:s,stop:c}}function useElementBounding(e,t={}){const{reset:n=!0,windowResize:r=!0,windowScroll:o=!0,immediate:i=!0}=t,a=ref(0),s=ref(0),l=ref(0),u=ref(0),c=ref(0),d=ref(0),h=ref(0),p=ref(0);function f(){const t=unrefElement$1(e);if(!t)return void(n&&(a.value=0,s.value=0,l.value=0,u.value=0,c.value=0,d.value=0,h.value=0,p.value=0));const r=t.getBoundingClientRect();a.value=r.height,s.value=r.bottom,l.value=r.left,u.value=r.right,c.value=r.top,d.value=r.width,h.value=r.x,p.value=r.y}return useResizeObserver(e,f),watch((()=>unrefElement$1(e)),(e=>!e&&f())),o&&useEventListener$1("scroll",f,{capture:!0,passive:!0}),r&&useEventListener$1("resize",f,{passive:!0}),tryOnMounted$1((()=>{i&&f()})),{height:a,bottom:s,left:l,right:u,top:c,width:d,x:h,y:p,update:f}}var __getOwnPropSymbols$8=Object.getOwnPropertySymbols,__hasOwnProp$8=Object.prototype.hasOwnProperty,__propIsEnum$8=Object.prototype.propertyIsEnumerable,__objRest$1=(e,t)=>{var n={};for(var r in e)__hasOwnProp$8.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&__getOwnPropSymbols$8)for(var r of __getOwnPropSymbols$8(e))t.indexOf(r)<0&&__propIsEnum$8.call(e,r)&&(n[r]=e[r]);return n},SwipeDirection,SwipeDirection2;function useMutationObserver(e,t,n={}){const r=n,{window:o=defaultWindow$1}=r,i=__objRest$1(r,["window"]);let a;const s=useSupported$1((()=>o&&"MutationObserver"in o)),l=()=>{a&&(a.disconnect(),a=void 0)},u=watch((()=>unrefElement$1(e)),(e=>{l(),s.value&&o&&e&&(a=new MutationObserver(t),a.observe(e,i))}),{immediate:!0}),c=()=>{l(),u()};return tryOnScopeDispose$1(c),{isSupported:s,stop:c}}SwipeDirection2=SwipeDirection||(SwipeDirection={}),SwipeDirection2.UP="UP",SwipeDirection2.RIGHT="RIGHT",SwipeDirection2.DOWN="DOWN",SwipeDirection2.LEFT="LEFT",SwipeDirection2.NONE="NONE";var __defProp$1=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp$1=(e,t,n)=>t in e?__defProp$1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,__spreadValues=(e,t)=>{for(var n in t||(t={}))__hasOwnProp.call(t,n)&&__defNormalProp$1(e,n,t[n]);if(__getOwnPropSymbols)for(var n of __getOwnPropSymbols(t))__propIsEnum.call(t,n)&&__defNormalProp$1(e,n,t[n]);return e};const _TransitionPresets={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};function useVModel(e,t,n,r={}){var o,i,a;const{clone:s=!1,passive:l=!1,eventName:u,deep:c=!1,defaultValue:d}=r,h=getCurrentInstance(),p=n||(null==h?void 0:h.emit)||(null==(o=null==h?void 0:h.$emit)?void 0:o.bind(h))||(null==(a=null==(i=null==h?void 0:h.proxy)?void 0:i.$emit)?void 0:a.bind(null==h?void 0:h.proxy));let f=u;t||(t="modelValue"),f=u||f||`update:${t.toString()}`;const m=e=>s?isFunction$1(s)?s(e):cloneFnJSON(e):e,_=()=>isDef(e[t])?m(e[t]):d;if(l){const n=ref(_());return watch((()=>e[t]),(e=>n.value=m(e))),watch(n,(n=>{(n!==e[t]||c)&&p(f,n)}),{deep:c}),n}return computed({get:()=>_(),set(e){p(f,e)}})}function useWindowFocus({window:e=defaultWindow$1}={}){if(!e)return ref(!1);const t=ref(e.document.hasFocus());return useEventListener$1(e,"blur",(()=>{t.value=!1})),useEventListener$1(e,"focus",(()=>{t.value=!0})),t}function useWindowSize(e={}){const{window:t=defaultWindow$1,initialWidth:n=1/0,initialHeight:r=1/0,listenOrientation:o=!0,includeScrollbar:i=!0}=e,a=ref(n),s=ref(r),l=()=>{t&&(i?(a.value=t.innerWidth,s.value=t.innerHeight):(a.value=t.document.documentElement.clientWidth,s.value=t.document.documentElement.clientHeight))};return l(),tryOnMounted$1(l),useEventListener$1("resize",l,{passive:!0}),o&&useEventListener$1("orientationchange",l,{passive:!0}),{width:a,height:s}}__spreadValues({linear:identity$2},_TransitionPresets);const isFirefox=()=>isClient$1&&/firefox/i.test(window.navigator.userAgent),isInContainer=(e,t)=>{if(!isClient$1||!e||!t)return!1;const n=e.getBoundingClientRect();let r;return r=t instanceof Element?t.getBoundingClientRect():{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right},getOffsetTop=e=>{let t=0,n=e;for(;n;)t+=n.offsetTop,n=n.offsetParent;return t},getOffsetTopDistance=(e,t)=>Math.abs(getOffsetTop(e)-getOffsetTop(t)),getClientXY=e=>{let t,n;return"touchend"===e.type?(n=e.changedTouches[0].clientY,t=e.changedTouches[0].clientX):e.type.startsWith("touch")?(n=e.touches[0].clientY,t=e.touches[0].clientX):(n=e.clientY,t=e.clientX),{clientX:t,clientY:n}};var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto$f=Object.prototype,hasOwnProperty$c=objectProto$f.hasOwnProperty,nativeObjectToString$1=objectProto$f.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(t){var n=hasOwnProperty$c.call(t,symToStringTag$1),r=t[symToStringTag$1];try{t[symToStringTag$1]=void 0;var o=!0}catch(e){}var i=nativeObjectToString$1.call(t);return o&&(n?t[symToStringTag$1]=r:delete t[symToStringTag$1]),i}var objectProto$e=Object.prototype,nativeObjectToString=objectProto$e.toString;function objectToString(e){return nativeObjectToString.call(e)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(e){return null==e?void 0===e?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(e)?getRawTag(e):objectToString(e)}function isObjectLike(e){return null!=e&&"object"==typeof e}var symbolTag$3="[object Symbol]";function isSymbol(e){return"symbol"==typeof e||isObjectLike(e)&&baseGetTag(e)==symbolTag$3}function arrayMap(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var isArray=Array.isArray,INFINITY$4=1/0,symbolProto$2=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto$2?symbolProto$2.toString:void 0;function baseToString(e){if("string"==typeof e)return e;if(isArray(e))return arrayMap(e,baseToString)+"";if(isSymbol(e))return symbolToString?symbolToString.call(e):"";var t=e+"";return"0"==t&&1/e==-INFINITY$4?"-0":t}var reWhitespace=/\s/;function trimmedEndIndex(e){for(var t=e.length;t--&&reWhitespace.test(e.charAt(t)););return t}var reTrimStart=/^\s+/;function baseTrim(e){return e?e.slice(0,trimmedEndIndex(e)+1).replace(reTrimStart,""):e}function isObject$1(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(e){if("number"==typeof e)return e;if(isSymbol(e))return NAN;if(isObject$1(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=isObject$1(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=baseTrim(e);var n=reIsBinary.test(e);return n||reIsOctal.test(e)?freeParseInt(e.slice(2),n?2:8):reIsBadHex.test(e)?NAN:+e}var INFINITY$3=1/0,MAX_INTEGER=17976931348623157e292;function toFinite(e){return e?(e=toNumber(e))===INFINITY$3||e===-INFINITY$3?(e<0?-1:1)*MAX_INTEGER:e==e?e:0:0===e?e:0}function toInteger(e){var t=toFinite(e),n=t%1;return t==t?n?t-n:t:0}function identity$1(e){return e}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(e){if(!isObject$1(e))return!1;var t=baseGetTag(e);return t==funcTag$2||t==genTag$1||t==asyncTag||t==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=(uid2=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""),uid2?"Symbol(src)_1."+uid2:""),uid2;function isMasked(e){return!!maskSrcKey&&maskSrcKey in e}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(t){if(null!=t){try{return funcToString$2.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$d=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$b=objectProto$d.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$b).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(e){return!(!isObject$1(e)||isMasked(e))&&(isFunction(e)?reIsNative:reIsHostCtor).test(toSource(e))}function getValue$1(e,t){return null==e?void 0:e[t]}function getNative(e,t){var n=getValue$1(e,t);return baseIsNative(n)?n:void 0}var WeakMap$1=getNative(root,"WeakMap"),objectCreate=Object.create,baseCreate=function(){function e(){}return function(t){if(!isObject$1(t))return{};if(objectCreate)return objectCreate(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function apply(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function noop$1(){}function copyArray(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(e){var t=0,n=0;return function(){var r=nativeNow(),o=HOT_SPAN-(r-n);if(n=r,o>0){if(++t>=HOT_COUNT)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function constant(e){return function(){return e}}var defineProperty=function(){try{var t=getNative(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),baseSetToString=defineProperty?function(e,t){return defineProperty(e,"toString",{configurable:!0,enumerable:!1,value:constant(t),writable:!0})}:identity$1;const baseSetToString$1=baseSetToString;var setToString=shortOut(baseSetToString$1);function arrayEach(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function baseFindIndex(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function baseIsNaN(e){return e!=e}function strictIndexOf(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}function baseIndexOf(e,t,n){return t==t?strictIndexOf(e,t,n):baseFindIndex(e,baseIsNaN,n)}function arrayIncludes(e,t){return!!(null==e?0:e.length)&&baseIndexOf(e,t,0)>-1}var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(e,t){var n=typeof e;return!!(t=null==t?MAX_SAFE_INTEGER$1:t)&&("number"==n||"symbol"!=n&&reIsUint.test(e))&&e>-1&&e%1==0&&e<t}function baseAssignValue(e,t,n){"__proto__"==t&&defineProperty?defineProperty(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function eq(e,t){return e===t||e!=e&&t!=t}var objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty;function assignValue(e,t,n){var r=e[t];hasOwnProperty$a.call(e,t)&&eq(r,n)&&(void 0!==n||t in e)||baseAssignValue(e,t,n)}function copyObject(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),o?baseAssignValue(n,s,l):assignValue(n,s,l)}return n}var nativeMax$2=Math.max;function overRest(e,t,n){return t=nativeMax$2(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=nativeMax$2(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),apply(e,this,s)}}function baseRest(e,t){return setToString(overRest(e,t,identity$1),e+"")}var MAX_SAFE_INTEGER=9007199254740991;function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}function isArrayLike(e){return null!=e&&isLength(e.length)&&!isFunction(e)}function isIterateeCall(e,t,n){if(!isObject$1(n))return!1;var r=typeof t;return!!("number"==r?isArrayLike(n)&&isIndex(t,n.length):"string"==r&&t in n)&&eq(n[t],e)}function createAssigner(e){return baseRest((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&isIterateeCall(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var s=n[r];s&&e(t,s,r,i)}return t}))}var objectProto$b=Object.prototype;function isPrototype(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||objectProto$b)}function baseTimes(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var argsTag$3="[object Arguments]";function baseIsArguments(e){return isObjectLike(e)&&baseGetTag(e)==argsTag$3}var objectProto$a=Object.prototype,hasOwnProperty$9=objectProto$a.hasOwnProperty,propertyIsEnumerable$1=objectProto$a.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return isObjectLike(e)&&hasOwnProperty$9.call(e,"callee")&&!propertyIsEnumerable$1.call(e,"callee")};function stubFalse(){return!1}var freeExports$2="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root.Buffer:void 0,nativeIsBuffer=Buffer$2?Buffer$2.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$1="[object Function]",mapTag$5="[object Map]",numberTag$3="[object Number]",objectTag$4="[object Object]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};function baseIsTypedArray(e){return isObjectLike(e)&&isLength(e.length)&&!!typedArrayTags[baseGetTag(e)]}function baseUnary(e){return function(t){return e(t)}}typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0,typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$3]=typedArrayTags[boolTag$3]=typedArrayTags[dataViewTag$4]=typedArrayTags[dateTag$3]=typedArrayTags[errorTag$2]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$5]=typedArrayTags[numberTag$3]=typedArrayTags[objectTag$4]=typedArrayTags[regexpTag$3]=typedArrayTags[setTag$5]=typedArrayTags[stringTag$3]=typedArrayTags[weakMapTag$2]=!1;var freeExports$1="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal.process,nodeUtil=function(){try{var t=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return t||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function arrayLikeKeys(e,t){var n=isArray(e),r=!n&&isArguments(e),o=!n&&!r&&isBuffer(e),i=!n&&!r&&!o&&isTypedArray(e),a=n||r||o||i,s=a?baseTimes(e.length,String):[],l=s.length;for(var u in e)!t&&!hasOwnProperty$8.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||isIndex(u,l))||s.push(u);return s}function overArg(e,t){return function(n){return e(t(n))}}var nativeKeys=overArg(Object.keys,Object),objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function baseKeys(e){if(!isPrototype(e))return nativeKeys(e);var t=[];for(var n in Object(e))hasOwnProperty$7.call(e,n)&&"constructor"!=n&&t.push(n);return t}function keys(e){return isArrayLike(e)?arrayLikeKeys(e):baseKeys(e)}function nativeKeysIn(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}var objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty;function baseKeysIn(e){if(!isObject$1(e))return nativeKeysIn(e);var t=isPrototype(e),n=[];for(var r in e)("constructor"!=r||!t&&hasOwnProperty$6.call(e,r))&&n.push(r);return n}function keysIn(e){return isArrayLike(e)?arrayLikeKeys(e,!0):baseKeysIn(e)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(e,t){if(isArray(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!isSymbol(e))||(reIsPlainProp.test(e)||!reIsDeepProp.test(e)||null!=t&&e in Object(t))}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty;function hashGet(e){var t=this.__data__;if(nativeCreate){var n=t[e];return n===HASH_UNDEFINED$2?void 0:n}return hasOwnProperty$5.call(t,e)?t[e]:void 0}var objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty;function hashHas(e){var t=this.__data__;return nativeCreate?void 0!==t[e]:hasOwnProperty$4.call(t,e)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=nativeCreate&&void 0===t?HASH_UNDEFINED$1:t,this}function Hash(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(e,t){for(var n=e.length;n--;)if(eq(e[n][0],t))return n;return-1}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet;var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(e){var t=this.__data__,n=assocIndexOf(t,e);return!(n<0)&&(n==t.length-1?t.pop():splice.call(t,n,1),--this.size,!0)}function listCacheGet(e){var t=this.__data__,n=assocIndexOf(t,e);return n<0?void 0:t[n][1]}function listCacheHas(e){return assocIndexOf(this.__data__,e)>-1}function listCacheSet(e,t){var n=this.__data__,r=assocIndexOf(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function ListCache(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet;var Map$1=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function getMapData(e,t){var n=e.__data__;return isKeyable(t)?n["string"==typeof t?"string":"hash"]:n.map}function mapCacheDelete(e){var t=getMapData(this,e).delete(e);return this.size-=t?1:0,t}function mapCacheGet(e){return getMapData(this,e).get(e)}function mapCacheHas(e){return getMapData(this,e).has(e)}function mapCacheSet(e,t){var n=getMapData(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function MapCache(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT$2="Expected a function";function memoize(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(FUNC_ERROR_TEXT$2);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(memoize.Cache||MapCache),n}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(e){var t=memoize(e,(function(e){return n.size===MAX_MEMOIZE_SIZE&&n.clear(),e})),n=t.cache;return t}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(rePropName,(function(e,n,r,o){t.push(r?o.replace(reEscapeChar,"$1"):n||e)})),t}));function toString$1(e){return null==e?"":baseToString(e)}function castPath(e,t){return isArray(e)?e:isKey(e,t)?[e]:stringToPath(toString$1(e))}var INFINITY$2=1/0;function toKey(e){if("string"==typeof e||isSymbol(e))return e;var t=e+"";return"0"==t&&1/e==-INFINITY$2?"-0":t}function baseGet(e,t){for(var n=0,r=(t=castPath(t,e)).length;null!=e&&n<r;)e=e[toKey(t[n++])];return n&&n==r?e:void 0}function get$1(e,t,n){var r=null==e?void 0:baseGet(e,t);return void 0===r?n:r}function arrayPush(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0;function isFlattenable(e){return isArray(e)||isArguments(e)||!!(spreadableSymbol&&e&&e[spreadableSymbol])}function baseFlatten(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=isFlattenable),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?baseFlatten(s,t-1,n,r,o):arrayPush(o,s):r||(o[o.length]=s)}return o}function flatten(e){return(null==e?0:e.length)?baseFlatten(e,1):[]}function flatRest(e){return setToString(overRest(e,void 0,flatten),e+"")}var getPrototype=overArg(Object.getPrototypeOf,Object);const getPrototype$1=getPrototype;var objectTag$3="[object Object]",funcProto=Function.prototype,objectProto$4=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$3=objectProto$4.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(e){if(!isObjectLike(e)||baseGetTag(e)!=objectTag$3)return!1;var t=getPrototype$1(e);if(null===t)return!0;var n=hasOwnProperty$3.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&funcToString.call(n)==objectCtorString}function castArray$1(){if(!arguments.length)return[];var e=arguments[0];return isArray(e)?e:[e]}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function stackGet(e){return this.__data__.get(e)}function stackHas(e){return this.__data__.has(e)}var LARGE_ARRAY_SIZE$1=200;function stackSet(e,t){var n=this.__data__;if(n instanceof ListCache){var r=n.__data__;if(!Map$1||r.length<LARGE_ARRAY_SIZE$1-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new MapCache(r)}return n.set(e,t),this.size=n.size,this}function Stack(e){var t=this.__data__=new ListCache(e);this.size=t.size}function baseAssign(e,t){return e&&copyObject(t,keys(t),e)}function baseAssignIn(e,t){return e&&copyObject(t,keysIn(t),e)}Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;var freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer$1=moduleExports?root.Buffer:void 0,allocUnsafe=Buffer$1?Buffer$1.allocUnsafe:void 0;function cloneBuffer(e,t){if(t)return e.slice();var n=e.length,r=allocUnsafe?allocUnsafe(n):new e.constructor(n);return e.copy(r),r}function arrayFilter(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function stubArray(){return[]}var objectProto$3=Object.prototype,propertyIsEnumerable=objectProto$3.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols$1?function(e){return null==e?[]:(e=Object(e),arrayFilter(nativeGetSymbols$1(e),(function(t){return propertyIsEnumerable.call(e,t)})))}:stubArray;function copySymbols(e,t){return copyObject(e,getSymbols(e),t)}var nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols?function(e){for(var t=[];e;)arrayPush(t,getSymbols(e)),e=getPrototype$1(e);return t}:stubArray;function copySymbolsIn(e,t){return copyObject(e,getSymbolsIn(e),t)}function baseGetAllKeys(e,t,n){var r=t(e);return isArray(e)?r:arrayPush(r,n(e))}function getAllKeys(e){return baseGetAllKeys(e,keys,getSymbols)}function getAllKeysIn(e){return baseGetAllKeys(e,keysIn,getSymbolsIn)}var DataView$1=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set$1=getNative(root,"Set"),mapTag$4="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag$4="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$3="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$3||Map$1&&getTag(new Map$1)!=mapTag$4||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$4||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag$1)&&(getTag=function(e){var t=baseGetTag(e),n=t==objectTag$2?e.constructor:void 0,r=n?toSource(n):"";if(r)switch(r){case dataViewCtorString:return dataViewTag$3;case mapCtorString:return mapTag$4;case promiseCtorString:return promiseTag;case setCtorString:return setTag$4;case weakMapCtorString:return weakMapTag$1}return t});const getTag$1=getTag;var objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function initCloneArray(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&hasOwnProperty$2.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Uint8Array$1=root.Uint8Array;function cloneArrayBuffer(e){var t=new e.constructor(e.byteLength);return new Uint8Array$1(t).set(new Uint8Array$1(e)),t}function cloneDataView(e,t){var n=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var reFlags=/\w*$/;function cloneRegExp(e){var t=new e.constructor(e.source,reFlags.exec(e));return t.lastIndex=e.lastIndex,t}var symbolProto$1=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf$1=symbolProto$1?symbolProto$1.valueOf:void 0;function cloneSymbol(e){return symbolValueOf$1?Object(symbolValueOf$1.call(e)):{}}function cloneTypedArray(e,t){var n=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var boolTag$2="[object Boolean]",dateTag$2="[object Date]",mapTag$3="[object Map]",numberTag$2="[object Number]",regexpTag$2="[object RegExp]",setTag$3="[object Set]",stringTag$2="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(e,t,n){var r=e.constructor;switch(t){case arrayBufferTag$2:return cloneArrayBuffer(e);case boolTag$2:case dateTag$2:return new r(+e);case dataViewTag$2:return cloneDataView(e,n);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(e,n);case mapTag$3:return new r;case numberTag$2:case stringTag$2:return new r(e);case regexpTag$2:return cloneRegExp(e);case setTag$3:return new r;case symbolTag$2:return cloneSymbol(e)}}function initCloneObject(e){return"function"!=typeof e.constructor||isPrototype(e)?{}:baseCreate(getPrototype$1(e))}var mapTag$2="[object Map]";function baseIsMap(e){return isObjectLike(e)&&getTag$1(e)==mapTag$2}var nodeIsMap=nodeUtil&&nodeUtil.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap,setTag$2="[object Set]";function baseIsSet(e){return isObjectLike(e)&&getTag$1(e)==setTag$2}var nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG$2=4,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag$1="[object Map]",numberTag$1="[object Number]",objectTag$1="[object Object]",regexpTag$1="[object RegExp]",setTag$1="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};function baseClone(e,t,n,r,o,i){var a,s=t&CLONE_DEEP_FLAG$1,l=t&CLONE_FLAT_FLAG,u=t&CLONE_SYMBOLS_FLAG$2;if(n&&(a=o?n(e,r,o,i):n(e)),void 0!==a)return a;if(!isObject$1(e))return e;var c=isArray(e);if(c){if(a=initCloneArray(e),!s)return copyArray(e,a)}else{var d=getTag$1(e),h=d==funcTag||d==genTag;if(isBuffer(e))return cloneBuffer(e,s);if(d==objectTag$1||d==argsTag$1||h&&!o){if(a=l||h?{}:initCloneObject(e),!s)return l?copySymbolsIn(e,baseAssignIn(a,e)):copySymbols(e,baseAssign(a,e))}else{if(!cloneableTags[d])return o?e:{};a=initCloneByTag(e,d,s)}}i||(i=new Stack);var p=i.get(e);if(p)return p;i.set(e,a),isSet(e)?e.forEach((function(r){a.add(baseClone(r,t,n,r,e,i))})):isMap(e)&&e.forEach((function(r,o){a.set(o,baseClone(r,t,n,o,e,i))}));var f=c?void 0:(u?l?getAllKeysIn:getAllKeys:l?keysIn:keys)(e);return arrayEach(f||e,(function(r,o){f&&(r=e[o=r]),assignValue(a,o,baseClone(r,t,n,o,e,i))})),a}cloneableTags[argsTag$1]=cloneableTags[arrayTag$1]=cloneableTags[arrayBufferTag$1]=cloneableTags[dataViewTag$1]=cloneableTags[boolTag$1]=cloneableTags[dateTag$1]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag$1]=cloneableTags[numberTag$1]=cloneableTags[objectTag$1]=cloneableTags[regexpTag$1]=cloneableTags[setTag$1]=cloneableTags[stringTag$1]=cloneableTags[symbolTag$1]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag$1]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;var CLONE_SYMBOLS_FLAG$1=4;function clone(e){return baseClone(e,CLONE_SYMBOLS_FLAG$1)}var CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(e){return baseClone(e,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(e){return this.__data__.set(e,HASH_UNDEFINED),this}function setCacheHas(e){return this.__data__.has(e)}function SetCache(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new MapCache;++t<n;)this.add(e[t])}function arraySome(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function cacheHas(e,t){return e.has(t)}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas;var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(e,t,n,r,o,i){var a=n&COMPARE_PARTIAL_FLAG$5,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=i.get(e),c=i.get(t);if(u&&c)return u==t&&c==e;var d=-1,h=!0,p=n&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(i.set(e,t),i.set(t,e);++d<s;){var f=e[d],m=t[d];if(r)var _=a?r(m,f,d,t,e,i):r(f,m,d,e,t,i);if(void 0!==_){if(_)continue;h=!1;break}if(p){if(!arraySome(t,(function(e,t){if(!cacheHas(p,t)&&(f===e||o(f,e,n,r,i)))return p.push(t)}))){h=!1;break}}else if(f!==m&&!o(f,m,n,r,i)){h=!1;break}}return i.delete(e),i.delete(t),h}function mapToArray(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function setToArray(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(e,t,n,r,o,i,a){switch(n){case dataViewTag:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case arrayBufferTag:return!(e.byteLength!=t.byteLength||!i(new Uint8Array$1(e),new Uint8Array$1(t)));case boolTag:case dateTag:case numberTag:return eq(+e,+t);case errorTag:return e.name==t.name&&e.message==t.message;case regexpTag:case stringTag:return e==t+"";case mapTag:var s=mapToArray;case setTag:var l=r&COMPARE_PARTIAL_FLAG$4;if(s||(s=setToArray),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=COMPARE_UNORDERED_FLAG$2,a.set(e,t);var c=equalArrays(s(e),s(t),r,o,i,a);return a.delete(e),c;case symbolTag:if(symbolValueOf)return symbolValueOf.call(e)==symbolValueOf.call(t)}return!1}var COMPARE_PARTIAL_FLAG$3=1,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function equalObjects(e,t,n,r,o,i){var a=n&COMPARE_PARTIAL_FLAG$3,s=getAllKeys(e),l=s.length;if(l!=getAllKeys(t).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in t:hasOwnProperty$1.call(t,c)))return!1}var d=i.get(e),h=i.get(t);if(d&&h)return d==t&&h==e;var p=!0;i.set(e,t),i.set(t,e);for(var f=a;++u<l;){var m=e[c=s[u]],_=t[c];if(r)var g=a?r(_,m,c,t,e,i):r(m,_,c,e,t,i);if(!(void 0===g?m===_||o(m,_,n,r,i):g)){p=!1;break}f||(f="constructor"==c)}if(p&&!f){var v=e.constructor,y=t.constructor;v==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(p=!1)}return i.delete(e),i.delete(t),p}var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseIsEqualDeep(e,t,n,r,o,i){var a=isArray(e),s=isArray(t),l=a?arrayTag:getTag$1(e),u=s?arrayTag:getTag$1(t),c=(l=l==argsTag?objectTag:l)==objectTag,d=(u=u==argsTag?objectTag:u)==objectTag,h=l==u;if(h&&isBuffer(e)){if(!isBuffer(t))return!1;a=!0,c=!1}if(h&&!c)return i||(i=new Stack),a||isTypedArray(e)?equalArrays(e,t,n,r,o,i):equalByTag(e,t,l,n,r,o,i);if(!(n&COMPARE_PARTIAL_FLAG$2)){var p=c&&hasOwnProperty.call(e,"__wrapped__"),f=d&&hasOwnProperty.call(t,"__wrapped__");if(p||f){var m=p?e.value():e,_=f?t.value():t;return i||(i=new Stack),o(m,_,n,r,i)}}return!!h&&(i||(i=new Stack),equalObjects(e,t,n,r,o,i))}function baseIsEqual(e,t,n,r,o){return e===t||(null==e||null==t||!isObjectLike(e)&&!isObjectLike(t)?e!=e&&t!=t:baseIsEqualDeep(e,t,n,r,baseIsEqual,o))}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var l=(s=n[o])[0],u=e[l],c=s[1];if(a&&s[2]){if(void 0===u&&!(l in e))return!1}else{var d=new Stack;if(r)var h=r(u,c,l,e,t,d);if(!(void 0===h?baseIsEqual(c,u,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,r,d):h))return!1}}return!0}function isStrictComparable(e){return e==e&&!isObject$1(e)}function getMatchData(e){for(var t=keys(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,isStrictComparable(o)]}return t}function matchesStrictComparable(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function baseMatches(e){var t=getMatchData(e);return 1==t.length&&t[0][2]?matchesStrictComparable(t[0][0],t[0][1]):function(n){return n===e||baseIsMatch(n,e,t)}}function baseHasIn(e,t){return null!=e&&t in Object(e)}function hasPath(e,t,n){for(var r=-1,o=(t=castPath(t,e)).length,i=!1;++r<o;){var a=toKey(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&isLength(o)&&isIndex(a,o)&&(isArray(e)||isArguments(e))}function hasIn(e,t){return null!=e&&hasPath(e,t,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(e,t){return isKey(e)&&isStrictComparable(t)?matchesStrictComparable(toKey(e),t):function(n){var r=get$1(n,e);return void 0===r&&r===t?hasIn(n,e):baseIsEqual(t,r,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(e){return function(t){return null==t?void 0:t[e]}}function basePropertyDeep(e){return function(t){return baseGet(t,e)}}function property(e){return isKey(e)?baseProperty(toKey(e)):basePropertyDeep(e)}function baseIteratee(e){return"function"==typeof e?e:null==e?identity$1:"object"==typeof e?isArray(e)?baseMatchesProperty(e[0],e[1]):baseMatches(e):property(e)}function createBaseFor(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}var baseFor=createBaseFor();function baseForOwn(e,t){return e&&baseFor(e,t,keys)}function createBaseEach(e,t){return function(n,r){if(null==n)return n;if(!isArrayLike(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}var baseEach=createBaseEach(baseForOwn),now=function(){return root.Date.now()},FUNC_ERROR_TEXT$1="Expected a function",nativeMax$1=Math.max,nativeMin$1=Math.min;function debounce(e,t,n){var r,o,i,a,s,l,u=0,c=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT$1);function p(t){var n=r,i=o;return r=o=void 0,u=t,a=e.apply(i,n)}function f(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=i}function m(){var e=now();if(f(e))return _(e);s=setTimeout(m,function(e){var n=t-(e-l);return d?nativeMin$1(n,i-(e-u)):n}(e))}function _(e){return s=void 0,h&&r?p(e):(r=o=void 0,a)}function g(){var e=now(),n=f(e);if(r=arguments,o=this,l=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(m,t),c?p(e):a}(l);if(d)return clearTimeout(s),s=setTimeout(m,t),p(l)}return void 0===s&&(s=setTimeout(m,t)),a}return t=toNumber(t)||0,isObject$1(n)&&(c=!!n.leading,i=(d="maxWait"in n)?nativeMax$1(toNumber(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h),g.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=o=s=void 0},g.flush=function(){return void 0===s?a:_(now())},g}function assignMergeValue(e,t,n){(void 0!==n&&!eq(e[t],n)||void 0===n&&!(t in e))&&baseAssignValue(e,t,n)}function isArrayLikeObject(e){return isObjectLike(e)&&isArrayLike(e)}function safeGet(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function toPlainObject(e){return copyObject(e,keysIn(e))}function baseMergeDeep(e,t,n,r,o,i,a){var s=safeGet(e,n),l=safeGet(t,n),u=a.get(l);if(u)assignMergeValue(e,n,u);else{var c=i?i(s,l,n+"",e,t,a):void 0,d=void 0===c;if(d){var h=isArray(l),p=!h&&isBuffer(l),f=!h&&!p&&isTypedArray(l);c=l,h||p||f?isArray(s)?c=s:isArrayLikeObject(s)?c=copyArray(s):p?(d=!1,c=cloneBuffer(l,!0)):f?(d=!1,c=cloneTypedArray(l,!0)):c=[]:isPlainObject(l)||isArguments(l)?(c=s,isArguments(s)?c=toPlainObject(s):isObject$1(s)&&!isFunction(s)||(c=initCloneObject(l))):d=!1}d&&(a.set(l,c),o(c,l,r,i,a),a.delete(l)),assignMergeValue(e,n,c)}}function baseMerge(e,t,n,r,o){e!==t&&baseFor(t,(function(i,a){if(o||(o=new Stack),isObject$1(i))baseMergeDeep(e,t,a,n,baseMerge,r,o);else{var s=r?r(safeGet(e,a),i,a+"",e,t,o):void 0;void 0===s&&(s=i),assignMergeValue(e,a,s)}}),keysIn)}function arrayIncludesWith(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}var nativeMax=Math.max,nativeMin=Math.min;function findLastIndex(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return void 0!==n&&(o=toInteger(n),o=n<0?nativeMax(r+o,0):nativeMin(o,r-1)),baseFindIndex(e,baseIteratee(t),o,!0)}function baseMap(e,t){var n=-1,r=isArrayLike(e)?Array(e.length):[];return baseEach(e,(function(e,o,i){r[++n]=t(e,o,i)})),r}function map(e,t){return(isArray(e)?arrayMap:baseMap)(e,baseIteratee(t))}function flatMap(e,t){return baseFlatten(map(e,t),1)}var INFINITY$1=1/0;function flattenDeep(e){return(null==e?0:e.length)?baseFlatten(e,INFINITY$1):[]}function fromPairs(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r}function isEqual$1(e,t){return baseIsEqual(e,t)}function isNil(e){return null==e}function isUndefined$1(e){return void 0===e}var merge$1=createAssigner((function(e,t,n){baseMerge(e,t,n)}));const merge$2=merge$1;function baseSet(e,t,n,r){if(!isObject$1(e))return e;for(var o=-1,i=(t=castPath(t,e)).length,a=i-1,s=e;null!=s&&++o<i;){var l=toKey(t[o]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=a){var c=s[l];void 0===(u=r?r(c,l,s):void 0)&&(u=isObject$1(c)?c:isIndex(t[o+1])?[]:{})}assignValue(s,l,u),s=s[l]}return e}function basePickBy(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=baseGet(e,a);n(s,a)&&baseSet(i,castPath(a,e),s)}return i}function basePick(e,t){return basePickBy(e,t,(function(t,n){return hasIn(e,n)}))}var pick=flatRest((function(e,t){return null==e?{}:basePick(e,t)}));function set(e,t,n){return null==e?e:baseSet(e,t,n)}var FUNC_ERROR_TEXT="Expected a function";function throttle(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT);return isObject$1(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),debounce(e,t,{leading:r,maxWait:t,trailing:o})}var INFINITY=1/0,createSet=Set$1&&1/setToArray(new Set$1([,-0]))[1]==INFINITY?function(e){return new Set$1(e)}:noop$1,LARGE_ARRAY_SIZE=200;function baseUniq(e,t,n){var r=-1,o=arrayIncludes,i=e.length,a=!0,s=[],l=s;if(n)a=!1,o=arrayIncludesWith;else if(i>=LARGE_ARRAY_SIZE){var u=t?null:createSet(e);if(u)return setToArray(u);a=!1,o=cacheHas,l=new SetCache}else l=t?[]:s;e:for(;++r<i;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,a&&d==d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(c)}else o(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}var union=baseRest((function(e){return baseUniq(baseFlatten(e,1,isArrayLikeObject,!0))}));const isUndefined=e=>void 0===e,isBoolean=e=>"boolean"==typeof e,isNumber=e=>"number"==typeof e,isEmpty=e=>!e&&0!==e||isArray$1(e)&&0===e.length||isObject$2(e)&&!Object.keys(e).length,isElement$1=e=>"undefined"!=typeof Element&&e instanceof Element,isPropAbsent=e=>isNil(e),isStringNumber=e=>!!isString$1(e)&&!Number.isNaN(Number(e)),escapeStringRegexp=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),capitalize=e=>capitalize$1(e),keysOf=e=>Object.keys(e),entriesOf=e=>Object.entries(e),getProp=(e,t,n)=>({get value(){return get$1(e,t,n)},set value(n){set(e,t,n)}});class ElementPlusError extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function throwError(e,t){throw new ElementPlusError(`[${e}] ${t}`)}function debugWarn(e,t){}const classNameToArray=(e="")=>e.split(" ").filter((e=>!!e.trim())),hasClass=(e,t)=>{if(!e||!t)return!1;if(t.includes(" "))throw new Error("className should not contain space.");return e.classList.contains(t)},addClass=(e,t)=>{e&&t.trim()&&e.classList.add(...classNameToArray(t))},removeClass=(e,t)=>{e&&t.trim()&&e.classList.remove(...classNameToArray(t))},getStyle=(t,n)=>{var r;if(!isClient$1||!t||!n)return"";let o=camelize(n);"float"===o&&(o="cssFloat");try{const e=t.style[o];if(e)return e;const n=null==(r=document.defaultView)?void 0:r.getComputedStyle(t,"");return n?n[o]:""}catch(e){return t.style[o]}};function addUnit(e,t="px"){return e?isNumber(e)||isStringNumber(e)?`${e}${t}`:isString$1(e)?e:void 0:""}const isScroll=(e,t)=>{if(!isClient$1)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],r=getStyle(e,n);return["scroll","auto","overlay"].some((e=>r.includes(e)))},getScrollContainer=(e,t)=>{if(!isClient$1)return;let n=e;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(isScroll(n,t))return n;n=n.parentNode}return n};let scrollBarWidth;const getScrollBarWidth=e=>{var t;if(!isClient$1)return 0;if(void 0!==scrollBarWidth)return scrollBarWidth;const n=document.createElement("div");n.className=`${e}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const r=n.offsetWidth;n.style.overflow="scroll";const o=document.createElement("div");o.style.width="100%",n.appendChild(o);const i=o.offsetWidth;return null==(t=n.parentNode)||t.removeChild(n),scrollBarWidth=r-i,scrollBarWidth};function scrollIntoView(e,t){if(!isClient$1)return;if(!t)return void(e.scrollTop=0);const n=[];let r=t.offsetParent;for(;null!==r&&e!==r&&e.contains(r);)n.push(r),r=r.offsetParent;const o=t.offsetTop+n.reduce(((e,t)=>e+t.offsetTop),0),i=o+t.offsetHeight,a=e.scrollTop,s=a+e.clientHeight;o<a?e.scrollTop=o:i>s&&(e.scrollTop=i-e.clientHeight)}const globalNodes=[];let target=isClient$1?document.body:void 0;function createGlobalNode(e){const t=document.createElement("div");return void 0!==e&&t.setAttribute("id",e),target.appendChild(t),globalNodes.push(t),t}function removeGlobalNode(e){globalNodes.splice(globalNodes.indexOf(e),1),e.remove()}
/*! Element Plus Icons Vue v2.3.1 */var arrow_down_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ArrowDown",__name:"arrow-down",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}),arrow_down_default=arrow_down_vue_vue_type_script_setup_true_lang_default,arrow_left_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ArrowLeft",__name:"arrow-left",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}),arrow_left_default=arrow_left_vue_vue_type_script_setup_true_lang_default,arrow_right_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ArrowRight",__name:"arrow-right",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}),arrow_right_default=arrow_right_vue_vue_type_script_setup_true_lang_default,arrow_up_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ArrowUp",__name:"arrow-up",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}),arrow_up_default=arrow_up_vue_vue_type_script_setup_true_lang_default,back_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Back",__name:"back",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),createBaseVNode("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}),back_default=back_vue_vue_type_script_setup_true_lang_default,calendar_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Calendar",__name:"calendar",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}),calendar_default=calendar_vue_vue_type_script_setup_true_lang_default,caret_right_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CaretRight",__name:"caret-right",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}),caret_right_default=caret_right_vue_vue_type_script_setup_true_lang_default,caret_top_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CaretTop",__name:"caret-top",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}),caret_top_default=caret_top_vue_vue_type_script_setup_true_lang_default,check_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Check",__name:"check",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}),check_default=check_vue_vue_type_script_setup_true_lang_default,circle_check_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CircleCheckFilled",__name:"circle-check-filled",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}),circle_check_filled_default=circle_check_filled_vue_vue_type_script_setup_true_lang_default,circle_check_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CircleCheck",__name:"circle-check",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),createBaseVNode("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}),circle_check_default=circle_check_vue_vue_type_script_setup_true_lang_default,circle_close_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CircleCloseFilled",__name:"circle-close-filled",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}),circle_close_filled_default=circle_close_filled_vue_vue_type_script_setup_true_lang_default,circle_close_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CircleClose",__name:"circle-close",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}),circle_close_default=circle_close_vue_vue_type_script_setup_true_lang_default,clock_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Clock",__name:"clock",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),createBaseVNode("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),createBaseVNode("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}),clock_default=clock_vue_vue_type_script_setup_true_lang_default,close_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Close",__name:"close",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}),close_default=close_vue_vue_type_script_setup_true_lang_default,d_arrow_left_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"DArrowLeft",__name:"d-arrow-left",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}),d_arrow_left_default=d_arrow_left_vue_vue_type_script_setup_true_lang_default,d_arrow_right_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"DArrowRight",__name:"d-arrow-right",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}),d_arrow_right_default=d_arrow_right_vue_vue_type_script_setup_true_lang_default,delete_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Delete",__name:"delete",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}),delete_default=delete_vue_vue_type_script_setup_true_lang_default,document_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Document",__name:"document",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}),document_default=document_vue_vue_type_script_setup_true_lang_default,full_screen_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"FullScreen",__name:"full-screen",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}),full_screen_default=full_screen_vue_vue_type_script_setup_true_lang_default,hide_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Hide",__name:"hide",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),createBaseVNode("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}),hide_default=hide_vue_vue_type_script_setup_true_lang_default,info_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"InfoFilled",__name:"info-filled",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}),info_filled_default=info_filled_vue_vue_type_script_setup_true_lang_default,loading_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Loading",__name:"loading",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}),loading_default=loading_vue_vue_type_script_setup_true_lang_default,minus_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Minus",__name:"minus",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}),minus_default=minus_vue_vue_type_script_setup_true_lang_default,more_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"MoreFilled",__name:"more-filled",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}),more_filled_default=more_filled_vue_vue_type_script_setup_true_lang_default,more_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"More",__name:"more",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}),more_default=more_vue_vue_type_script_setup_true_lang_default,picture_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"PictureFilled",__name:"picture-filled",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}),picture_filled_default=picture_filled_vue_vue_type_script_setup_true_lang_default,plus_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Plus",__name:"plus",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}),plus_default=plus_vue_vue_type_script_setup_true_lang_default,question_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"QuestionFilled",__name:"question-filled",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}),question_filled_default=question_filled_vue_vue_type_script_setup_true_lang_default,refresh_left_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"RefreshLeft",__name:"refresh-left",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}),refresh_left_default=refresh_left_vue_vue_type_script_setup_true_lang_default,refresh_right_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"RefreshRight",__name:"refresh-right",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}),refresh_right_default=refresh_right_vue_vue_type_script_setup_true_lang_default,scale_to_original_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ScaleToOriginal",__name:"scale-to-original",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}),scale_to_original_default=scale_to_original_vue_vue_type_script_setup_true_lang_default,search_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Search",__name:"search",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}),search_default=search_vue_vue_type_script_setup_true_lang_default,sort_down_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"SortDown",__name:"sort-down",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}),sort_down_default=sort_down_vue_vue_type_script_setup_true_lang_default,sort_up_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"SortUp",__name:"sort-up",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}),sort_up_default=sort_up_vue_vue_type_script_setup_true_lang_default,star_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"StarFilled",__name:"star-filled",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}),star_filled_default=star_filled_vue_vue_type_script_setup_true_lang_default,star_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Star",__name:"star",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}),star_default=star_vue_vue_type_script_setup_true_lang_default,success_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"SuccessFilled",__name:"success-filled",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}),success_filled_default=success_filled_vue_vue_type_script_setup_true_lang_default,video_pause_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"VideoPause",__name:"video-pause",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768m-96-544q32 0 32 32v256q0 32-32 32t-32-32V384q0-32 32-32m192 0q32 0 32 32v256q0 32-32 32t-32-32V384q0-32 32-32"})]))}),video_pause_default=video_pause_vue_vue_type_script_setup_true_lang_default,video_play_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"VideoPlay",__name:"video-play",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768m-48-247.616L668.608 512 464 375.616zm10.624-342.656 249.472 166.336a48 48 0 0 1 0 79.872L474.624 718.272A48 48 0 0 1 400 678.336V345.6a48 48 0 0 1 74.624-39.936z"})]))}),video_play_default=video_play_vue_vue_type_script_setup_true_lang_default,view_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"View",__name:"view",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}),view_default=view_vue_vue_type_script_setup_true_lang_default,warning_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"WarningFilled",__name:"warning-filled",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}),warning_filled_default=warning_filled_vue_vue_type_script_setup_true_lang_default,zoom_in_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ZoomIn",__name:"zoom-in",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}),zoom_in_default=zoom_in_vue_vue_type_script_setup_true_lang_default,zoom_out_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ZoomOut",__name:"zoom-out",setup:e=>(e,t)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}),zoom_out_default=zoom_out_vue_vue_type_script_setup_true_lang_default;const epPropKey="__epPropKey",definePropType=e=>e,isEpProp=e=>isObject$2(e)&&!!e[epPropKey],buildProp=(e,t)=>{if(!isObject$2(e)||isEpProp(e))return e;const{values:n,required:r,default:o,type:i,validator:a}=e,s={type:i,required:!!r,validator:n||a?r=>{let i=!1,s=[];if(n&&(s=Array.from(n),hasOwn(e,"default")&&s.push(o),i||(i=s.includes(r))),a&&(i||(i=a(r))),!i&&s.length>0){const e=[...new Set(s)].map((e=>JSON.stringify(e))).join(", ");warn(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${e}], got value ${JSON.stringify(r)}.`)}return i}:void 0,[epPropKey]:!0};return hasOwn(e,"default")&&(s.default=o),s},buildProps=e=>fromPairs(Object.entries(e).map((([e,t])=>[e,buildProp(t,e)]))),iconPropType=definePropType([String,Object,Function]),CloseComponents={Close:close_default},TypeComponents={Close:close_default,SuccessFilled:success_filled_default,InfoFilled:info_filled_default,WarningFilled:warning_filled_default,CircleCloseFilled:circle_close_filled_default},TypeComponentsMap={success:success_filled_default,warning:warning_filled_default,error:circle_close_filled_default,info:info_filled_default},ValidateComponentsMap={validating:loading_default,success:circle_check_default,error:circle_close_default},withInstall=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(null!=t?t:{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},withInstallFunction=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),withInstallDirective=(e,t)=>(e.install=n=>{n.directive(t,e)},e),withNoopInstall=e=>(e.install=NOOP,e),composeRefs=(...e)=>t=>{e.forEach((e=>{isFunction$2(e)?e(t):e.value=t}))},EVENT_CODE={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},datePickTypes=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],WEEK_DAYS=["sun","mon","tue","wed","thu","fri","sat"],UPDATE_MODEL_EVENT="update:modelValue",CHANGE_EVENT="change",INPUT_EVENT="input",INSTALLED_KEY=Symbol("INSTALLED_KEY"),componentSizes=["","default","small","large"],componentSizeMap={large:40,default:32,small:24},getComponentSize=e=>componentSizeMap[e||"default"],isValidComponentSize=e=>["",...componentSizes].includes(e);var PatchFlags=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(PatchFlags||{});function isFragment(e){return isVNode(e)&&e.type===Fragment}function isComment(e){return isVNode(e)&&e.type===Comment}function isValidElementNode(e){return isVNode(e)&&!isFragment(e)&&!isComment(e)}const getNormalizedProps=e=>{if(!isVNode(e))return{};const t=e.props||{},n=(isVNode(e.type)?e.type.props:void 0)||{},r={};return Object.keys(n).forEach((e=>{hasOwn(n[e],"default")&&(r[e]=n[e].default)})),Object.keys(t).forEach((e=>{r[camelize(e)]=t[e]})),r},ensureOnlyChild=e=>{if(!isArray$1(e)||e.length>1)throw new Error("expect to receive a single Vue element child");return e[0]},flattedChildren=e=>{const t=isArray$1(e)?e:[e],n=[];return t.forEach((e=>{var t;isArray$1(e)?n.push(...flattedChildren(e)):isVNode(e)&&isArray$1(e.children)?n.push(...flattedChildren(e.children)):(n.push(e),isVNode(e)&&(null==(t=e.component)?void 0:t.subTree)&&n.push(...flattedChildren(e.component.subTree)))})),n},unique=e=>[...new Set(e)],castArray=e=>e||0===e?Array.isArray(e)?e:[e]:[],isKorean=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),rAF=e=>isClient$1?window.requestAnimationFrame(e):setTimeout(e,16),cAF=e=>isClient$1?window.cancelAnimationFrame(e):clearTimeout(e),generateId=()=>Math.floor(1e4*Math.random()),mutable=e=>e,DEFAULT_EXCLUDE_KEYS=["class","style"],LISTENER_PREFIX=/^on[A-Z]/,useAttrs=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,r=computed((()=>((null==n?void 0:n.value)||[]).concat(DEFAULT_EXCLUDE_KEYS))),o=getCurrentInstance();return computed(o?()=>{var e;return fromPairs(Object.entries(null==(e=o.proxy)?void 0:e.$attrs).filter((([e])=>!(r.value.includes(e)||t&&LISTENER_PREFIX.test(e)))))}:()=>({}))},useDeprecated=({from:e,replacement:t,scope:n,version:r,ref:o,type:i="API"},a)=>{watch((()=>unref(a)),(e=>{}),{immediate:!0})},useDraggable=(e,t,n)=>{let r={offsetX:0,offsetY:0};const o=t=>{const n=t.clientX,o=t.clientY,{offsetX:i,offsetY:a}=r,s=e.value.getBoundingClientRect(),l=s.left,u=s.top,c=s.width,d=s.height,h=document.documentElement.clientWidth,p=document.documentElement.clientHeight,f=-l+i,m=-u+a,_=h-l-c+i,g=p-u-d+a,v=t=>{const s=Math.min(Math.max(i+t.clientX-n,f),_),l=Math.min(Math.max(a+t.clientY-o,m),g);r={offsetX:s,offsetY:l},e.value&&(e.value.style.transform=`translate(${addUnit(s)}, ${addUnit(l)})`)},y=()=>{document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y)};document.addEventListener("mousemove",v),document.addEventListener("mouseup",y)},i=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",o)};onMounted((()=>{watchEffect((()=>{n.value?t.value&&e.value&&t.value.addEventListener("mousedown",o):i()}))})),onBeforeUnmount((()=>{i()}))},useFocus=e=>({focus:()=>{var t,n;null==(n=null==(t=e.value)?void 0:t.focus)||n.call(t)}});var English={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const buildTranslator=e=>(t,n)=>translate(t,n,unref(e)),translate=(e,t,n)=>get$1(n,e,e).replace(/\{(\w+)\}/g,((e,n)=>{var r;return`${null!=(r=null==t?void 0:t[n])?r:`{${n}}`}`})),buildLocaleContext=e=>({lang:computed((()=>unref(e).name)),locale:isRef(e)?e:ref(e),t:buildTranslator(e)}),localeContextKey=Symbol("localeContextKey"),useLocale=e=>{const t=e||inject(localeContextKey,ref());return buildLocaleContext(computed((()=>t.value||English)))},defaultNamespace="el",statePrefix="is-",_bem=(e,t,n,r,o)=>{let i=`${e}-${t}`;return n&&(i+=`-${n}`),r&&(i+=`__${r}`),o&&(i+=`--${o}`),i},namespaceContextKey=Symbol("namespaceContextKey"),useGetDerivedNamespace=e=>{const t=e||(getCurrentInstance()?inject(namespaceContextKey,ref(defaultNamespace)):ref(defaultNamespace));return computed((()=>unref(t)||defaultNamespace))},useNamespace=(e,t)=>{const n=useGetDerivedNamespace(t);return{namespace:n,b:(t="")=>_bem(n.value,e,t,"",""),e:t=>t?_bem(n.value,e,"",t,""):"",m:t=>t?_bem(n.value,e,"","",t):"",be:(t,r)=>t&&r?_bem(n.value,e,t,r,""):"",em:(t,r)=>t&&r?_bem(n.value,e,"",t,r):"",bm:(t,r)=>t&&r?_bem(n.value,e,t,"",r):"",bem:(t,r,o)=>t&&r&&o?_bem(n.value,e,t,r,o):"",is:(e,...t)=>{const n=!(t.length>=1)||t[0];return e&&n?`${statePrefix}${e}`:""},cssVar:e=>{const t={};for(const r in e)e[r]&&(t[`--${n.value}-${r}`]=e[r]);return t},cssVarName:e=>`--${n.value}-${e}`,cssVarBlock:t=>{const r={};for(const o in t)t[o]&&(r[`--${n.value}-${e}-${o}`]=t[o]);return r},cssVarBlockName:t=>`--${n.value}-${e}-${t}`}},useLockscreen=(e,t={})=>{isRef(e)||throwError("[useLockscreen]","You need to pass a ref param to this function");const n=t.ns||useNamespace("popup"),r=computed$1((()=>n.bm("parent","hidden")));if(!isClient$1||hasClass(document.body,r.value))return;let o=0,i=!1,a="0";const s=()=>{setTimeout((()=>{removeClass(null==document?void 0:document.body,r.value),i&&document&&(document.body.style.width=a)}),200)};watch(e,(e=>{if(!e)return void s();i=!hasClass(document.body,r.value),i&&(a=document.body.style.width),o=getScrollBarWidth(n.namespace.value);const t=document.documentElement.clientHeight<document.body.scrollHeight,l=getStyle(document.body,"overflowY");o>0&&(t||"scroll"===l)&&i&&(document.body.style.width=`calc(100% - ${o}px)`),addClass(document.body,r.value)})),onScopeDispose((()=>s()))},modalStack=[],closeModal=e=>{if(0!==modalStack.length&&e.code===EVENT_CODE.esc){e.stopPropagation();modalStack[modalStack.length-1].handleClose()}},useModal=(e,t)=>{watch(t,(t=>{t?modalStack.push(e):modalStack.splice(modalStack.indexOf(e),1)}))};isClient$1&&useEventListener$1(document,"keydown",closeModal);const _prop=buildProp({type:definePropType(Boolean),default:null}),_event=buildProp({type:definePropType(Function)}),createModelToggleComposable=e=>{const t=`update:${e}`,n=`onUpdate:${e}`;return{useModelToggle:({indicator:r,toggleReason:o,shouldHideWhenRouteChanges:i,shouldProceed:a,onShow:s,onHide:l})=>{const u=getCurrentInstance(),{emit:c}=u,d=u.props,h=computed((()=>isFunction$2(d[n]))),p=computed((()=>null===d[e])),f=e=>{!0!==r.value&&(r.value=!0,o&&(o.value=e),isFunction$2(s)&&s(e))},m=e=>{!1!==r.value&&(r.value=!1,o&&(o.value=e),isFunction$2(l)&&l(e))},_=e=>{if(!0===d.disabled||isFunction$2(a)&&!a())return;const n=h.value&&isClient$1;n&&c(t,!0),!p.value&&n||f(e)},g=e=>{if(!0===d.disabled||!isClient$1)return;const n=h.value&&isClient$1;n&&c(t,!1),!p.value&&n||m(e)},v=e=>{isBoolean(e)&&(d.disabled&&e?h.value&&c(t,!1):r.value!==e&&(e?f():m()))};return watch((()=>d[e]),v),i&&void 0!==u.appContext.config.globalProperties.$route&&watch((()=>({...u.proxy.$route})),(()=>{i.value&&r.value&&g()})),onMounted((()=>{v(d[e])})),{hide:g,show:_,toggle:()=>{r.value?g():_()},hasUpdateHandler:h}},useModelToggleProps:{[e]:_prop,[n]:_event},useModelToggleEmits:[t]}},{useModelToggle:useModelToggle,useModelToggleProps:useModelToggleProps,useModelToggleEmits:useModelToggleEmits}=createModelToggleComposable("modelValue"),usePreventGlobal=(e,t,n)=>{const r=e=>{n(e)&&e.stopImmediatePropagation()};let o;watch((()=>e.value),(e=>{e?o=useEventListener$1(document,t,r,!0):null==o||o()}),{immediate:!0})},useProp=e=>{const t=getCurrentInstance();return computed((()=>{var n,r;return null==(r=null==(n=null==t?void 0:t.proxy)?void 0:n.$props)?void 0:r[e]}))};var E$2="top",R$1="bottom",W$1="right",P$2="left",me="auto",G$1=[E$2,R$1,W$1,P$2],U$2="start",J$1="end",Xe="clippingParents",je="viewport",K$1="popper",Ye="reference",De=G$1.reduce((function(e,t){return e.concat([t+"-"+U$2,t+"-"+J$1])}),[]),Ee=[].concat(G$1,[me]).reduce((function(e,t){return e.concat([t,t+"-"+U$2,t+"-"+J$1])}),[]),Ge="beforeRead",Je="read",Ke="afterRead",Qe="beforeMain",Ze="main",et$1="afterMain",tt$1="beforeWrite",nt$1="write",rt$1="afterWrite",ot$1=[Ge,Je,Ke,Qe,Ze,et$1,tt$1,nt$1,rt$1];function C$1(e){return e?(e.nodeName||"").toLowerCase():null}function H$1(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Q$1(e){return e instanceof H$1(e).Element||e instanceof Element}function B$1(e){return e instanceof H$1(e).HTMLElement||e instanceof HTMLElement}function Pe(e){return"undefined"!=typeof ShadowRoot&&(e instanceof H$1(e).ShadowRoot||e instanceof ShadowRoot)}function Mt$1(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];!B$1(o)||!C$1(o)||(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))}function Rt$1(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});!B$1(r)||!C$1(r)||(Object.assign(r.style,i),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}}var Ae={name:"applyStyles",enabled:!0,phase:"write",fn:Mt$1,effect:Rt$1,requires:["computeStyles"]};function q$1(e){return e.split("-")[0]}var X$2=Math.max,ve=Math.min,Z$2=Math.round;function ee(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,o=1;if(B$1(e)&&t){var i=e.offsetHeight,a=e.offsetWidth;a>0&&(r=Z$2(n.width)/a||1),i>0&&(o=Z$2(n.height)/i||1)}return{width:n.width/r,height:n.height/o,top:n.top/o,right:n.right/r,bottom:n.bottom/o,left:n.left/r,x:n.left/r,y:n.top/o}}function ke(e){var t=ee(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function it$1(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Pe(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function N$2(e){return H$1(e).getComputedStyle(e)}function Wt$1(e){return["table","td","th"].indexOf(C$1(e))>=0}function I$3(e){return((Q$1(e)?e.ownerDocument:e.document)||window.document).documentElement}function ge(e){return"html"===C$1(e)?e:e.assignedSlot||e.parentNode||(Pe(e)?e.host:null)||I$3(e)}function at$1(e){return B$1(e)&&"fixed"!==N$2(e).position?e.offsetParent:null}function Bt$1(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&B$1(e)&&"fixed"===N$2(e).position)return null;var n=ge(e);for(Pe(n)&&(n=n.host);B$1(n)&&["html","body"].indexOf(C$1(n))<0;){var r=N$2(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}function se(e){for(var t=H$1(e),n=at$1(e);n&&Wt$1(n)&&"static"===N$2(n).position;)n=at$1(n);return n&&("html"===C$1(n)||"body"===C$1(n)&&"static"===N$2(n).position)?t:n||Bt$1(e)||t}function Le(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function fe(e,t,n){return X$2(e,ve(t,n))}function St$1(e,t,n){var r=fe(e,t,n);return r>n?n:r}function st$1(){return{top:0,right:0,bottom:0,left:0}}function ft$1(e){return Object.assign({},st$1(),e)}function ct$1(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var Tt$1=function(e,t){return ft$1("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:ct$1(e,G$1))};function Ht$1(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=q$1(n.placement),l=Le(s),u=[P$2,W$1].indexOf(s)>=0?"height":"width";if(i&&a){var c=Tt$1(o.padding,n),d=ke(i),h="y"===l?E$2:P$2,p="y"===l?R$1:W$1,f=n.rects.reference[u]+n.rects.reference[l]-a[l]-n.rects.popper[u],m=a[l]-n.rects.reference[l],_=se(i),g=_?"y"===l?_.clientHeight||0:_.clientWidth||0:0,v=f/2-m/2,y=c[h],b=g-d[u]-c[p],E=g/2-d[u]/2+v,C=fe(y,E,b),x=l;n.modifiersData[r]=((t={})[x]=C,t.centerOffset=C-E,t)}}function Ct$1(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"==typeof r&&!(r=t.elements.popper.querySelector(r))||!it$1(t.elements.popper,r)||(t.elements.arrow=r))}var pt$1={name:"arrow",enabled:!0,phase:"main",fn:Ht$1,effect:Ct$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function te(e){return e.split("-")[1]}var qt$1={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vt$1(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Z$2(t*r)/r||0,y:Z$2(n*r)/r||0}}function ut$1(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,h=a.x,p=void 0===h?0:h,f=a.y,m=void 0===f?0:f,_="function"==typeof c?c({x:p,y:m}):{x:p,y:m};p=_.x,m=_.y;var g=a.hasOwnProperty("x"),v=a.hasOwnProperty("y"),y=P$2,b=E$2,E=window;if(u){var C=se(n),x="clientHeight",w="clientWidth";if(C===H$1(n)&&("static"!==N$2(C=I$3(n)).position&&"absolute"===s&&(x="scrollHeight",w="scrollWidth")),o===E$2||(o===P$2||o===W$1)&&i===J$1)b=R$1,m-=(d&&C===E&&E.visualViewport?E.visualViewport.height:C[x])-r.height,m*=l?1:-1;if(o===P$2||(o===E$2||o===R$1)&&i===J$1)y=W$1,p-=(d&&C===E&&E.visualViewport?E.visualViewport.width:C[w])-r.width,p*=l?1:-1}var S,T=Object.assign({position:s},u&&qt$1),k=!0===c?Vt$1({x:p,y:m}):{x:p,y:m};return p=k.x,m=k.y,l?Object.assign({},T,((S={})[b]=v?"0":"",S[y]=g?"0":"",S.transform=(E.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",S)):Object.assign({},T,((t={})[b]=v?m+"px":"",t[y]=g?p+"px":"",t.transform="",t))}function Nt$1(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,l=void 0===s||s,u={placement:q$1(t.placement),variation:te(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ut$1(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ut$1(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Me={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Nt$1,data:{}},ye={passive:!0};function It$1(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,a=r.resize,s=void 0===a||a,l=H$1(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach((function(e){e.addEventListener("scroll",n.update,ye)})),s&&l.addEventListener("resize",n.update,ye),function(){i&&u.forEach((function(e){e.removeEventListener("scroll",n.update,ye)})),s&&l.removeEventListener("resize",n.update,ye)}}var Re={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:It$1,data:{}},_t$1={left:"right",right:"left",bottom:"top",top:"bottom"};function be(e){return e.replace(/left|right|bottom|top/g,(function(e){return _t$1[e]}))}var zt$1={start:"end",end:"start"};function lt$1(e){return e.replace(/start|end/g,(function(e){return zt$1[e]}))}function We(e){var t=H$1(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Be(e){return ee(I$3(e)).left+We(e).scrollLeft}function Ft$1(e){var t=H$1(e),n=I$3(e),r=t.visualViewport,o=n.clientWidth,i=n.clientHeight,a=0,s=0;return r&&(o=r.width,i=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,s=r.offsetTop)),{width:o,height:i,x:a+Be(e),y:s}}function Ut$1(e){var t,n=I$3(e),r=We(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=X$2(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=X$2(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-r.scrollLeft+Be(e),l=-r.scrollTop;return"rtl"===N$2(o||n).direction&&(s+=X$2(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:l}}function Se(e){var t=N$2(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function dt$1(e){return["html","body","#document"].indexOf(C$1(e))>=0?e.ownerDocument.body:B$1(e)&&Se(e)?e:dt$1(ge(e))}function ce(e,t){var n;void 0===t&&(t=[]);var r=dt$1(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=H$1(r),a=o?[i].concat(i.visualViewport||[],Se(r)?r:[]):r,s=t.concat(a);return o?s:s.concat(ce(ge(a)))}function Te(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Xt(e){var t=ee(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function ht$1(e,t){return t===je?Te(Ft$1(e)):Q$1(t)?Xt(t):Te(Ut$1(I$3(e)))}function Yt$1(e){var t=ce(ge(e)),n=["absolute","fixed"].indexOf(N$2(e).position)>=0&&B$1(e)?se(e):e;return Q$1(n)?t.filter((function(e){return Q$1(e)&&it$1(e,n)&&"body"!==C$1(e)})):[]}function Gt$1(e,t,n){var r="clippingParents"===t?Yt$1(e):[].concat(t),o=[].concat(r,[n]),i=o[0],a=o.reduce((function(t,n){var r=ht$1(e,n);return t.top=X$2(r.top,t.top),t.right=ve(r.right,t.right),t.bottom=ve(r.bottom,t.bottom),t.left=X$2(r.left,t.left),t}),ht$1(e,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function mt$1(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?q$1(o):null,a=o?te(o):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(i){case E$2:t={x:s,y:n.y-r.height};break;case R$1:t={x:s,y:n.y+n.height};break;case W$1:t={x:n.x+n.width,y:l};break;case P$2:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var u=i?Le(i):null;if(null!=u){var c="y"===u?"height":"width";switch(a){case U$2:t[u]=t[u]-(n[c]/2-r[c]/2);break;case J$1:t[u]=t[u]+(n[c]/2-r[c]/2)}}return t}function ne(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.boundary,a=void 0===i?Xe:i,s=n.rootBoundary,l=void 0===s?je:s,u=n.elementContext,c=void 0===u?K$1:u,d=n.altBoundary,h=void 0!==d&&d,p=n.padding,f=void 0===p?0:p,m=ft$1("number"!=typeof f?f:ct$1(f,G$1)),_=c===K$1?Ye:K$1,g=e.rects.popper,v=e.elements[h?_:c],y=Gt$1(Q$1(v)?v:v.contextElement||I$3(e.elements.popper),a,l),b=ee(e.elements.reference),E=mt$1({reference:b,element:g,strategy:"absolute",placement:o}),C=Te(Object.assign({},g,E)),x=c===K$1?C:b,w={top:y.top-x.top+m.top,bottom:x.bottom-y.bottom+m.bottom,left:y.left-x.left+m.left,right:x.right-y.right+m.right},S=e.modifiersData.offset;if(c===K$1&&S){var T=S[o];Object.keys(w).forEach((function(e){var t=[W$1,R$1].indexOf(e)>=0?1:-1,n=[E$2,R$1].indexOf(e)>=0?"y":"x";w[e]+=T[n]*t}))}return w}function Jt$1(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?Ee:l,c=te(r),d=c?s?De:De.filter((function(e){return te(e)===c})):G$1,h=d.filter((function(e){return u.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=ne(e,{placement:n,boundary:o,rootBoundary:i,padding:a})[q$1(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}function Kt$1(e){if(q$1(e)===me)return[];var t=be(e);return[lt$1(e),t,lt$1(t)]}function Qt(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,_=t.options.placement,g=q$1(_),v=l||(g===_||!f?[be(_)]:Kt$1(_)),y=[_].concat(v).reduce((function(e,n){return e.concat(q$1(n)===me?Jt$1(t,{placement:n,boundary:c,rootBoundary:d,padding:u,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),b=t.rects.reference,E=t.rects.popper,C=new Map,x=!0,w=y[0],S=0;S<y.length;S++){var T=y[S],k=q$1(T),L=te(T)===U$2,P=[E$2,R$1].indexOf(k)>=0,M=P?"width":"height",O=ne(t,{placement:T,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),N=P?L?W$1:P$2:L?R$1:E$2;b[M]>E[M]&&(N=be(N));var A=be(N),I=[];if(i&&I.push(O[k]<=0),s&&I.push(O[N]<=0,O[A]<=0),I.every((function(e){return e}))){w=T,x=!1;break}C.set(T,I)}if(x)for(var R=function(e){var t=y.find((function(t){var n=C.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return w=t,"break"},$=f?3:1;$>0;$--){if("break"===R($))break}t.placement!==w&&(t.modifiersData[r]._skip=!0,t.placement=w,t.reset=!0)}}var vt$1={name:"flip",enabled:!0,phase:"main",fn:Qt,requiresIfExists:["offset"],data:{_skip:!1}};function gt$1(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function yt$1(e){return[E$2,W$1,R$1,P$2].some((function(t){return e[t]>=0}))}function Zt(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=ne(t,{elementContext:"reference"}),s=ne(t,{altBoundary:!0}),l=gt$1(a,r),u=gt$1(s,o,i),c=yt$1(l),d=yt$1(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}var bt$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Zt};function en(e,t,n){var r=q$1(e),o=[P$2,E$2].indexOf(r)>=0?-1:1,i="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[P$2,W$1].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function tn(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,a=Ee.reduce((function(e,n){return e[n]=en(n,t.rects,i),e}),{}),s=a[t.placement],l=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=a}var wt$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tn};function nn(e){var t=e.state,n=e.name;t.modifiersData[n]=mt$1({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var He={name:"popperOffsets",enabled:!0,phase:"read",fn:nn,data:{}};function rn(e){return"x"===e?"y":"x"}function on(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,p=void 0===h||h,f=n.tetherOffset,m=void 0===f?0:f,_=ne(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),g=q$1(t.placement),v=te(t.placement),y=!v,b=Le(g),E=rn(b),C=t.modifiersData.popperOffsets,x=t.rects.reference,w=t.rects.popper,S="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,T="number"==typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),k=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,L={x:0,y:0};if(C){if(i){var P,M="y"===b?E$2:P$2,O="y"===b?R$1:W$1,N="y"===b?"height":"width",A=C[b],I=A+_[M],R=A-_[O],$=p?-w[N]/2:0,B=v===U$2?x[N]:w[N],D=v===U$2?-w[N]:-x[N],F=t.elements.arrow,V=p&&F?ke(F):{width:0,height:0},z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:st$1(),j=z[M],U=z[O],G=fe(0,x[N],V[N]),H=y?x[N]/2-$-G-j-T.mainAxis:B-G-j-T.mainAxis,K=y?-x[N]/2+$+G+U+T.mainAxis:D+G+U+T.mainAxis,W=t.elements.arrow&&se(t.elements.arrow),Y=W?"y"===b?W.clientTop||0:W.clientLeft||0:0,q=null!=(P=null==k?void 0:k[b])?P:0,Z=A+K-q,X=fe(p?ve(I,A+H-q-Y):I,A,p?X$2(R,Z):R);C[b]=X,L[b]=X-A}if(s){var J,Q="x"===b?E$2:P$2,ee="x"===b?R$1:W$1,re=C[E],oe="y"===E?"height":"width",ie=re+_[Q],ae=re-_[ee],le=-1!==[E$2,P$2].indexOf(g),ue=null!=(J=null==k?void 0:k[E])?J:0,ce=le?ie:re-x[oe]-w[oe]-ue+T.altAxis,de=le?re+x[oe]+w[oe]-ue-T.altAxis:ae,he=p&&le?St$1(ce,re,de):fe(p?ce:ie,re,p?de:ae);C[E]=he,L[E]=he-re}t.modifiersData[r]=L}}var xt$1={name:"preventOverflow",enabled:!0,phase:"main",fn:on,requiresIfExists:["offset"]};function an(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function sn(e){return e!==H$1(e)&&B$1(e)?an(e):We(e)}function fn(e){var t=e.getBoundingClientRect(),n=Z$2(t.width)/e.offsetWidth||1,r=Z$2(t.height)/e.offsetHeight||1;return 1!==n||1!==r}function cn(e,t,n){void 0===n&&(n=!1);var r=B$1(t),o=B$1(t)&&fn(t),i=I$3(t),a=ee(e,o),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==C$1(t)||Se(i))&&(s=sn(t)),B$1(t)?((l=ee(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=Be(i))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function pn(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function un(e){var t=pn(e);return ot$1.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}function ln(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}function dn(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}var Ot$1={placement:"bottom",modifiers:[],strategy:"absolute"};function $t$1(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function we(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?Ot$1:o;return function(e,t,n){void 0===n&&(n=i);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ot$1,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,l={state:o,setOptions:function(n){var s="function"==typeof n?n(o.options):n;u(),o.options=Object.assign({},i,o.options,s),o.scrollParents={reference:Q$1(e)?ce(e):e.contextElement?ce(e.contextElement):[],popper:ce(t)};var c=un(dn([].concat(r,o.options.modifiers)));return o.orderedModifiers=c.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var s=i({state:o,name:t,instance:l,options:r}),u=function(){};a.push(s||u)}})),l.update()},forceUpdate:function(){if(!s){var e=o.elements,t=e.reference,n=e.popper;if($t$1(t,n)){o.rects={reference:cn(t,se(n),"fixed"===o.options.strategy),popper:ke(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var i=o.orderedModifiers[r],a=i.fn,u=i.options,c=void 0===u?{}:u,d=i.name;"function"==typeof a&&(o=a({state:o,options:c,name:d,instance:l})||o)}else o.reset=!1,r=-1}}},update:ln((function(){return new Promise((function(e){l.forceUpdate(),e(o)}))})),destroy:function(){u(),s=!0}};if(!$t$1(e,t))return l;function u(){a.forEach((function(e){return e()})),a=[]}return l.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}we();var mn=[Re,He,Me,Ae];we({defaultModifiers:mn});var gn=[Re,He,Me,Ae,wt$1,vt$1,xt$1,pt$1,bt$1],yn=we({defaultModifiers:gn});const usePopper=(e,t,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:e})=>{const t=deriveState(e);Object.assign(a.value,t)},requires:["computeStyles"]},o=computed((()=>{const{onFirstUpdate:e,placement:t,strategy:o,modifiers:i}=unref(n);return{onFirstUpdate:e,placement:t||"bottom",strategy:o||"absolute",modifiers:[...i||[],r,{name:"applyStyles",enabled:!1}]}})),i=shallowRef(),a=ref({styles:{popper:{position:unref(o).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=()=>{i.value&&(i.value.destroy(),i.value=void 0)};return watch(o,(e=>{const t=unref(i);t&&t.setOptions(e)}),{deep:!0}),watch([e,t],(([e,t])=>{s(),e&&t&&(i.value=yn(e,t,unref(o)))})),onBeforeUnmount((()=>{s()})),{state:computed((()=>{var e;return{...(null==(e=unref(i))?void 0:e.state)||{}}})),styles:computed((()=>unref(a).styles)),attributes:computed((()=>unref(a).attributes)),update:()=>{var e;return null==(e=unref(i))?void 0:e.update()},forceUpdate:()=>{var e;return null==(e=unref(i))?void 0:e.forceUpdate()},instanceRef:computed((()=>unref(i)))}};function deriveState(e){const t=Object.keys(e.elements);return{styles:fromPairs(t.map((t=>[t,e.styles[t]||{}]))),attributes:fromPairs(t.map((t=>[t,e.attributes[t]])))}}const useSameTarget=e=>{if(!e)return{onClick:NOOP,onMousedown:NOOP,onMouseup:NOOP};let t=!1,n=!1;return{onClick:r=>{t&&n&&e(r),t=n=!1},onMousedown:e=>{t=e.target===e.currentTarget},onMouseup:e=>{n=e.target===e.currentTarget}}},useTeleport=(e,t)=>{const n=ref(!1);if(!isClient$1)return{isTeleportVisible:n,showTeleport:NOOP,hideTeleport:NOOP,renderTeleport:NOOP};let r=null;const o=()=>{n.value=!1,null!==r&&(removeGlobalNode(r),r=null)};return onUnmounted(o),{isTeleportVisible:n,showTeleport:()=>{n.value=!0,null===r&&(r=createGlobalNode())},hideTeleport:o,renderTeleport:()=>!0!==t.value?e():n.value?[h$1(Teleport,{to:r},e())]:void 0}},useThrottleRender=(e,t=0)=>{if(0===t)return e;const n=ref(!1);let r=0;const o=()=>{r&&clearTimeout(r),r=window.setTimeout((()=>{n.value=e.value}),t)};return onMounted(o),watch((()=>e.value),(e=>{e?o():n.value=e})),n};function useTimeout(){let e;const t=()=>window.clearTimeout(e);return tryOnScopeDispose$1((()=>t())),{registerTimeout:(n,r)=>{t(),e=window.setTimeout(n,r)},cancelTimeout:t}}const AFTER_APPEAR="after-appear",AFTER_ENTER="after-enter",AFTER_LEAVE="after-leave",APPEAR="appear",APPEAR_CANCELLED="appear-cancelled",BEFORE_ENTER="before-enter",BEFORE_LEAVE="before-leave",ENTER="enter",ENTER_CANCELLED="enter-cancelled",LEAVE="leave",LEAVE_CANCELLED="leave-cancelled",useTransitionFallthroughEmits=[AFTER_APPEAR,AFTER_ENTER,AFTER_LEAVE,APPEAR,APPEAR_CANCELLED,BEFORE_ENTER,BEFORE_LEAVE,ENTER,ENTER_CANCELLED,LEAVE,LEAVE_CANCELLED],useTransitionFallthrough=()=>{const{emit:e}=getCurrentInstance();return{onAfterAppear:()=>{e(AFTER_APPEAR)},onAfterEnter:()=>{e(AFTER_ENTER)},onAfterLeave:()=>{e(AFTER_LEAVE)},onAppearCancelled:()=>{e(APPEAR_CANCELLED)},onBeforeEnter:()=>{e(BEFORE_ENTER)},onBeforeLeave:()=>{e(BEFORE_LEAVE)},onEnter:()=>{e(ENTER)},onEnterCancelled:()=>{e(ENTER_CANCELLED)},onLeave:()=>{e(LEAVE)},onLeaveCancelled:()=>{e(LEAVE_CANCELLED)}}},defaultIdInjection={prefix:Math.floor(1e4*Math.random()),current:0},ID_INJECTION_KEY=Symbol("elIdInjection"),useIdInjection=()=>getCurrentInstance()?inject(ID_INJECTION_KEY,defaultIdInjection):defaultIdInjection,useId=e=>{const t=useIdInjection(),n=useGetDerivedNamespace();return computed((()=>unref(e)||`${n.value}-id-${t.prefix}-${t.current++}`))};let registeredEscapeHandlers=[];const cachedHandler=e=>{const t=e;t.key===EVENT_CODE.esc&&registeredEscapeHandlers.forEach((e=>e(t)))},useEscapeKeydown=e=>{onMounted((()=>{0===registeredEscapeHandlers.length&&document.addEventListener("keydown",cachedHandler),isClient$1&&registeredEscapeHandlers.push(e)})),onBeforeUnmount((()=>{registeredEscapeHandlers=registeredEscapeHandlers.filter((t=>t!==e)),0===registeredEscapeHandlers.length&&isClient$1&&document.removeEventListener("keydown",cachedHandler)}))};let cachedContainer;const usePopperContainerId=()=>{const e=useGetDerivedNamespace(),t=useIdInjection(),n=computed((()=>`${e.value}-popper-container-${t.prefix}`)),r=computed((()=>`#${n.value}`));return{id:n,selector:r}},createContainer=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},usePopperContainer=()=>{const{id:e,selector:t}=usePopperContainerId();return onBeforeMount((()=>{isClient$1&&(cachedContainer||document.body.querySelector(t.value)||(cachedContainer=createContainer(e.value)))})),{id:e,selector:t}},useDelayedRender=({indicator:e,intermediateIndicator:t,shouldSetIntermediate:n=(()=>!0),beforeShow:r,afterShow:o,afterHide:i,beforeHide:a})=>{watch((()=>unref(e)),(o=>{o?(null==r||r(),nextTick((()=>{unref(e)&&n("show")&&(t.value=!0)}))):(null==a||a(),nextTick((()=>{unref(e)||n("hide")&&(t.value=!1)})))})),watch((()=>t.value),(e=>{e?null==o||o():null==i||i()}))},useDelayedToggleProps=buildProps({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),useDelayedToggle=({showAfter:e,hideAfter:t,autoClose:n,open:r,close:o})=>{const{registerTimeout:i}=useTimeout(),{registerTimeout:a,cancelTimeout:s}=useTimeout();return{onOpen:t=>{i((()=>{r(t);const e=unref(n);isNumber(e)&&e>0&&a((()=>{o(t)}),e)}),unref(e))},onClose:e=>{s(),i((()=>{o(e)}),unref(t))}}},FORWARD_REF_INJECTION_KEY=Symbol("elForwardRef"),useForwardRef=e=>{provide(FORWARD_REF_INJECTION_KEY,{setForwardRef:t=>{e.value=t}})},useForwardRefDirective=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),zIndex=ref(0),defaultInitialZIndex=2e3,zIndexContextKey=Symbol("zIndexContextKey"),useZIndex=e=>{const t=e||(getCurrentInstance()?inject(zIndexContextKey,void 0):void 0),n=computed((()=>{const e=unref(t);return isNumber(e)?e:defaultInitialZIndex})),r=computed((()=>n.value+zIndex.value));return{initialZIndex:n,currentZIndex:r,nextZIndex:()=>(zIndex.value++,r.value)}},min$1=Math.min,max$1=Math.max,round=Math.round,createCoords=e=>({x:e,y:e});function clamp(e,t,n){return max$1(e,min$1(t,n))}function evaluate(e,t){return"function"==typeof e?e(t):e}function getSide(e){return e.split("-")[0]}function getAlignment(e){return e.split("-")[1]}function getOppositeAxis(e){return"x"===e?"y":"x"}function getAxisLength(e){return"y"===e?"height":"width"}function getSideAxis(e){return["top","bottom"].includes(getSide(e))?"y":"x"}function getAlignmentAxis(e){return getOppositeAxis(getSideAxis(e))}function expandPaddingObject(e){return{top:0,right:0,bottom:0,left:0,...e}}function getPaddingObject(e){return"number"!=typeof e?expandPaddingObject(e):{top:e,right:e,bottom:e,left:e}}function rectToClientRect(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function computeCoordsFromPlacement(e,t,n){let{reference:r,floating:o}=e;const i=getSideAxis(t),a=getAlignmentAxis(t),s=getAxisLength(a),l=getSide(t),u="y"===i,c=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,h=r[s]/2-o[s]/2;let p;switch(l){case"top":p={x:c,y:r.y-o.height};break;case"bottom":p={x:c,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-o.width,y:d};break;default:p={x:r.x,y:r.y}}switch(getAlignment(t)){case"start":p[a]-=h*(n&&u?-1:1);break;case"end":p[a]+=h*(n&&u?-1:1)}return p}const computePosition$1=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,s=i.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:c,y:d}=computeCoordsFromPlacement(u,r,l),h=r,p={},f=0;for(let m=0;m<s.length;m++){const{name:n,fn:i}=s[m],{x:_,y:g,data:v,reset:y}=await i({x:c,y:d,initialPlacement:r,placement:h,strategy:o,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});c=null!=_?_:c,d=null!=g?g:d,p={...p,[n]:{...p[n],...v}},y&&f<=50&&(f++,"object"==typeof y&&(y.placement&&(h=y.placement),y.rects&&(u=!0===y.rects?await a.getElementRects({reference:e,floating:t,strategy:o}):y.rects),({x:c,y:d}=computeCoordsFromPlacement(u,h,l))),m=-1)}return{x:c,y:d,placement:h,strategy:o,middlewareData:p}},arrow$1=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:a,elements:s,middlewareData:l}=t,{element:u,padding:c=0}=evaluate(e,t)||{};if(null==u)return{};const d=getPaddingObject(c),h={x:n,y:r},p=getAlignmentAxis(o),f=getAxisLength(p),m=await a.getDimensions(u),_="y"===p,g=_?"top":"left",v=_?"bottom":"right",y=_?"clientHeight":"clientWidth",b=i.reference[f]+i.reference[p]-h[p]-i.floating[f],E=h[p]-i.reference[p],C=await(null==a.getOffsetParent?void 0:a.getOffsetParent(u));let x=C?C[y]:0;x&&await(null==a.isElement?void 0:a.isElement(C))||(x=s.floating[y]||i.floating[f]);const w=b/2-E/2,S=x/2-m[f]/2-1,T=min$1(d[g],S),k=min$1(d[v],S),L=T,P=x-m[f]-k,M=x/2-m[f]/2+w,O=clamp(L,M,P),N=!l.arrow&&null!=getAlignment(o)&&M!=O&&i.reference[f]/2-(M<L?T:k)-m[f]/2<0,A=N?M<L?M-L:M-P:0;return{[p]:h[p]+A,data:{[p]:O,centerOffset:M-O-A,...N&&{alignmentOffset:A}},reset:N}}});async function convertValueToCoords(e,t){const{placement:n,platform:r,elements:o}=e,i=await(null==r.isRTL?void 0:r.isRTL(o.floating)),a=getSide(n),s=getAlignment(n),l="y"===getSideAxis(n),u=["left","top"].includes(a)?-1:1,c=i&&l?-1:1,d=evaluate(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:f}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return s&&"number"==typeof f&&(p="end"===s?-1*f:f),l?{x:p*c,y:h*u}:{x:h*u,y:p*c}}const offset=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:a,middlewareData:s}=t,l=await convertValueToCoords(t,e);return a===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:a}}}}};function getNodeName(e){return isNode(e)?(e.nodeName||"").toLowerCase():"#document"}function getWindow(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function getDocumentElement(e){var t;return null==(t=(isNode(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function isNode(e){return e instanceof Node||e instanceof getWindow(e).Node}function isElement(e){return e instanceof Element||e instanceof getWindow(e).Element}function isHTMLElement(e){return e instanceof HTMLElement||e instanceof getWindow(e).HTMLElement}function isShadowRoot(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof getWindow(e).ShadowRoot)}function isOverflowElement(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=getComputedStyle$1(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function isTableElement(e){return["table","td","th"].includes(getNodeName(e))}function isContainingBlock(e){const t=isWebKit(),n=getComputedStyle$1(e);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function getContainingBlock(e){let t=getParentNode(e);for(;isHTMLElement(t)&&!isLastTraversableNode(t);){if(isContainingBlock(t))return t;t=getParentNode(t)}return null}function isWebKit(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(e){return["html","body","#document"].includes(getNodeName(e))}function getComputedStyle$1(e){return getWindow(e).getComputedStyle(e)}function getNodeScroll(e){return isElement(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function getParentNode(e){if("html"===getNodeName(e))return e;const t=e.assignedSlot||e.parentNode||isShadowRoot(e)&&e.host||getDocumentElement(e);return isShadowRoot(t)?t.host:t}function getNearestOverflowAncestor(e){const t=getParentNode(e);return isLastTraversableNode(t)?e.ownerDocument?e.ownerDocument.body:e.body:isHTMLElement(t)&&isOverflowElement(t)?t:getNearestOverflowAncestor(t)}function getOverflowAncestors(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=getNearestOverflowAncestor(e),i=o===(null==(r=e.ownerDocument)?void 0:r.body),a=getWindow(o);return i?t.concat(a,a.visualViewport||[],isOverflowElement(o)?o:[],a.frameElement&&n?getOverflowAncestors(a.frameElement):[]):t.concat(o,getOverflowAncestors(o,[],n))}function getCssDimensions(e){const t=getComputedStyle$1(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=isHTMLElement(e),i=o?e.offsetWidth:n,a=o?e.offsetHeight:r,s=round(n)!==i||round(r)!==a;return s&&(n=i,r=a),{width:n,height:r,$:s}}function unwrapElement(e){return isElement(e)?e:e.contextElement}function getScale(e){const t=unwrapElement(e);if(!isHTMLElement(t))return createCoords(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=getCssDimensions(t);let a=(i?round(n.width):n.width)/r,s=(i?round(n.height):n.height)/o;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const noOffsets=createCoords(0);function getVisualOffsets(e){const t=getWindow(e);return isWebKit()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:noOffsets}function shouldAddVisualOffsets(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==getWindow(e))&&t}function getBoundingClientRect(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const o=e.getBoundingClientRect(),i=unwrapElement(e);let a=createCoords(1);t&&(r?isElement(r)&&(a=getScale(r)):a=getScale(e));const s=shouldAddVisualOffsets(i,n,r)?getVisualOffsets(i):createCoords(0);let l=(o.left+s.x)/a.x,u=(o.top+s.y)/a.y,c=o.width/a.x,d=o.height/a.y;if(i){const e=getWindow(i),t=r&&isElement(r)?getWindow(r):r;let n=e.frameElement;for(;n&&r&&t!==e;){const e=getScale(n),t=n.getBoundingClientRect(),r=getComputedStyle$1(n),o=t.left+(n.clientLeft+parseFloat(r.paddingLeft))*e.x,i=t.top+(n.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,u*=e.y,c*=e.x,d*=e.y,l+=o,u+=i,n=getWindow(n).frameElement}}return rectToClientRect({width:c,height:d,x:l,y:u})}function convertOffsetParentRelativeRectToViewportRelativeRect(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=isHTMLElement(n),i=getDocumentElement(n);if(n===i)return t;let a={scrollLeft:0,scrollTop:0},s=createCoords(1);const l=createCoords(0);if((o||!o&&"fixed"!==r)&&(("body"!==getNodeName(n)||isOverflowElement(i))&&(a=getNodeScroll(n)),isHTMLElement(n))){const e=getBoundingClientRect(n);s=getScale(n),l.x=e.x+n.clientLeft,l.y=e.y+n.clientTop}return{width:t.width*s.x,height:t.height*s.y,x:t.x*s.x-a.scrollLeft*s.x+l.x,y:t.y*s.y-a.scrollTop*s.y+l.y}}function getClientRects(e){return Array.from(e.getClientRects())}function getWindowScrollBarX(e){return getBoundingClientRect(getDocumentElement(e)).left+getNodeScroll(e).scrollLeft}function getDocumentRect(e){const t=getDocumentElement(e),n=getNodeScroll(e),r=e.ownerDocument.body,o=max$1(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=max$1(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+getWindowScrollBarX(e);const s=-n.scrollTop;return"rtl"===getComputedStyle$1(r).direction&&(a+=max$1(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:s}}function getViewportRect(e,t){const n=getWindow(e),r=getDocumentElement(e),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,s=0,l=0;if(o){i=o.width,a=o.height;const e=isWebKit();(!e||e&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:i,height:a,x:s,y:l}}function getInnerBoundingClientRect(e,t){const n=getBoundingClientRect(e,!0,"fixed"===t),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=isHTMLElement(e)?getScale(e):createCoords(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:o*i.x,y:r*i.y}}function getClientRectFromClippingAncestor(e,t,n){let r;if("viewport"===t)r=getViewportRect(e,n);else if("document"===t)r=getDocumentRect(getDocumentElement(e));else if(isElement(t))r=getInnerBoundingClientRect(t,n);else{const n=getVisualOffsets(e);r={...t,x:t.x-n.x,y:t.y-n.y}}return rectToClientRect(r)}function hasFixedPositionAncestor(e,t){const n=getParentNode(e);return!(n===t||!isElement(n)||isLastTraversableNode(n))&&("fixed"===getComputedStyle$1(n).position||hasFixedPositionAncestor(n,t))}function getClippingElementAncestors(e,t){const n=t.get(e);if(n)return n;let r=getOverflowAncestors(e,[],!1).filter((e=>isElement(e)&&"body"!==getNodeName(e))),o=null;const i="fixed"===getComputedStyle$1(e).position;let a=i?getParentNode(e):e;for(;isElement(a)&&!isLastTraversableNode(a);){const t=getComputedStyle$1(a),n=isContainingBlock(a);n||"fixed"!==t.position||(o=null);(i?!n&&!o:!n&&"static"===t.position&&!!o&&["absolute","fixed"].includes(o.position)||isOverflowElement(a)&&!n&&hasFixedPositionAncestor(e,a))?r=r.filter((e=>e!==a)):o=t,a=getParentNode(a)}return t.set(e,r),r}function getClippingRect(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[..."clippingAncestors"===n?getClippingElementAncestors(t,this._c):[].concat(n),r],a=i[0],s=i.reduce(((e,n)=>{const r=getClientRectFromClippingAncestor(t,n,o);return e.top=max$1(r.top,e.top),e.right=min$1(r.right,e.right),e.bottom=min$1(r.bottom,e.bottom),e.left=max$1(r.left,e.left),e}),getClientRectFromClippingAncestor(t,a,o));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function getDimensions(e){const{width:t,height:n}=getCssDimensions(e);return{width:t,height:n}}function getRectRelativeToOffsetParent(e,t,n){const r=isHTMLElement(t),o=getDocumentElement(t),i="fixed"===n,a=getBoundingClientRect(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const l=createCoords(0);if(r||!r&&!i)if(("body"!==getNodeName(t)||isOverflowElement(o))&&(s=getNodeScroll(t)),r){const e=getBoundingClientRect(t,!0,i,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else o&&(l.x=getWindowScrollBarX(o));return{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function getTrueOffsetParent(e,t){return isHTMLElement(e)&&"fixed"!==getComputedStyle$1(e).position?t?t(e):e.offsetParent:null}function getOffsetParent(e,t){const n=getWindow(e);if(!isHTMLElement(e))return n;let r=getTrueOffsetParent(e,t);for(;r&&isTableElement(r)&&"static"===getComputedStyle$1(r).position;)r=getTrueOffsetParent(r,t);return r&&("html"===getNodeName(r)||"body"===getNodeName(r)&&"static"===getComputedStyle$1(r).position&&!isContainingBlock(r))?n:r||getContainingBlock(e)||n}const getElementRects=async function(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||getOffsetParent,i=this.getDimensions;return{reference:getRectRelativeToOffsetParent(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}};function isRTL$1(e){return"rtl"===getComputedStyle$1(e).direction}const platform={convertOffsetParentRelativeRectToViewportRelativeRect:convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement:getDocumentElement,getClippingRect:getClippingRect,getOffsetParent:getOffsetParent,getElementRects:getElementRects,getClientRects:getClientRects,getDimensions:getDimensions,getScale:getScale,isElement:isElement,isRTL:isRTL$1},arrow=arrow$1,computePosition=(e,t,n)=>{const r=new Map,o={platform:platform,...n},i={...o.platform,_c:r};return computePosition$1(e,t,{...o,platform:i})},useFloatingProps=buildProps({}),unrefReference=e=>{if(!isClient$1)return;if(!e)return e;const t=unrefElement$1(e);return t||(isRef(e)?t:e)},getPositionDataWithUnit=(e,t)=>{const n=null==e?void 0:e[t];return isNil(n)?"":`${n}px`},useFloating=({middleware:e,placement:t,strategy:n})=>{const r=ref(),o=ref(),i=ref(),a=ref(),s=ref({}),l={x:i,y:a,placement:t,strategy:n,middlewareData:s},u=async()=>{if(!isClient$1)return;const i=unrefReference(r),a=unrefElement$1(o);if(!i||!a)return;const s=await computePosition(i,a,{placement:unref(t),strategy:unref(n),middleware:unref(e)});keysOf(l).forEach((e=>{l[e].value=s[e]}))};return onMounted((()=>{watchEffect((()=>{u()}))})),{...l,update:u,referenceRef:r,contentRef:o}},arrowMiddleware=({arrowRef:e,padding:t})=>({name:"arrow",options:{element:e,padding:t},fn(n){const r=unref(e);return r?arrow({element:r,padding:t}).fn(n):{}}});function useCursor(e){const t=ref();return[function(){if(null==e.value)return;const{selectionStart:n,selectionEnd:r,value:o}=e.value;if(null==n||null==r)return;const i=o.slice(0,Math.max(0,n)),a=o.slice(Math.max(0,r));t.value={selectionStart:n,selectionEnd:r,value:o,beforeTxt:i,afterTxt:a}},function(){if(null==e.value||null==t.value)return;const{value:n}=e.value,{beforeTxt:r,afterTxt:o,selectionStart:i}=t.value;if(null==r||null==o||null==i)return;let a=n.length;if(n.endsWith(o))a=n.length-o.length;else if(n.startsWith(r))a=r.length;else{const e=r[i-1],t=n.indexOf(e,i-1);-1!==t&&(a=t+1)}e.value.setSelectionRange(a,a)}]}const getOrderedChildren=(e,t,n)=>flattedChildren(e.subTree).filter((e=>{var n;return isVNode(e)&&(null==(n=e.type)?void 0:n.name)===t&&!!e.component})).map((e=>e.component.uid)).map((e=>n[e])).filter((e=>!!e)),useOrderedChildren=(e,t)=>{const n={},r=shallowRef([]);return{children:r,addChild:o=>{n[o.uid]=o,r.value=getOrderedChildren(e,t,n)},removeChild:e=>{delete n[e],r.value=r.value.filter((t=>t.uid!==e))}}},useSizeProp=buildProp({type:String,values:componentSizes,required:!1}),useSizeProps={size:useSizeProp},SIZE_INJECTION_KEY=Symbol("size"),useGlobalSize=()=>{const e=inject(SIZE_INJECTION_KEY,{});return computed((()=>unref(e.size)||""))};function useFocusController(e,{afterFocus:t,beforeBlur:n,afterBlur:r}={}){const o=getCurrentInstance(),{emit:i}=o,a=shallowRef(),s=ref(!1);return watch(a,(e=>{e&&e.setAttribute("tabindex","-1")})),useEventListener$1(a,"click",(()=>{var t;null==(t=e.value)||t.focus()})),{wrapperRef:a,isFocused:s,handleFocus:e=>{s.value||(s.value=!0,i("focus",e),null==t||t())},handleBlur:e=>{var t;!!isFunction$2(n)&&n(e)||e.relatedTarget&&(null==(t=a.value)?void 0:t.contains(e.relatedTarget))||(s.value=!1,i("blur",e),null==r||r())}}}const configProviderContextKey=Symbol(),globalConfig=ref();function useGlobalConfig(e,t=void 0){const n=getCurrentInstance()?inject(configProviderContextKey,globalConfig):globalConfig;return e?computed((()=>{var r,o;return null!=(o=null==(r=n.value)?void 0:r[e])?o:t})):n}function useGlobalComponentSettings(e,t){const n=useGlobalConfig(),r=useNamespace(e,computed((()=>{var e;return(null==(e=n.value)?void 0:e.namespace)||defaultNamespace}))),o=useLocale(computed((()=>{var e;return null==(e=n.value)?void 0:e.locale}))),i=useZIndex(computed((()=>{var e;return(null==(e=n.value)?void 0:e.zIndex)||defaultInitialZIndex}))),a=computed((()=>{var e;return unref(t)||(null==(e=n.value)?void 0:e.size)||""}));return provideGlobalConfig(computed((()=>unref(n)||{}))),{ns:r,locale:o,zIndex:i,size:a}}const provideGlobalConfig=(e,t,n=!1)=>{var r;const o=!!getCurrentInstance(),i=o?useGlobalConfig():void 0,a=null!=(r=null==t?void 0:t.provide)?r:o?provide:void 0;if(!a)return;const s=computed((()=>{const t=unref(e);return(null==i?void 0:i.value)?mergeConfig(i.value,t):t}));return a(configProviderContextKey,s),a(localeContextKey,computed((()=>s.value.locale))),a(namespaceContextKey,computed((()=>s.value.namespace))),a(zIndexContextKey,computed((()=>s.value.zIndex))),a(SIZE_INJECTION_KEY,{size:computed((()=>s.value.size||""))}),!n&&globalConfig.value||(globalConfig.value=s.value),s},mergeConfig=(e,t)=>{var n;const r=[...new Set([...keysOf(e),...keysOf(t)])],o={};for(const i of r)o[i]=null!=(n=t[i])?n:e[i];return o},configProviderProps=buildProps({a11y:{type:Boolean,default:!0},locale:{type:definePropType(Object)},size:useSizeProp,button:{type:definePropType(Object)},experimentalFeatures:{type:definePropType(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:definePropType(Object)},zIndex:Number,namespace:{type:String,default:"el"}}),messageConfig={},ConfigProvider=defineComponent({name:"ElConfigProvider",props:configProviderProps,setup(e,{slots:t}){watch((()=>e.message),(e=>{Object.assign(messageConfig,null!=e?e:{})}),{immediate:!0,deep:!0});const n=provideGlobalConfig(e);return()=>renderSlot(t,"default",{config:null==n?void 0:n.value})}}),ElConfigProvider=withInstall(ConfigProvider),version$1="2.4.4",makeInstaller=(e=[])=>({version:version$1,install:(t,n)=>{t[INSTALLED_KEY]||(t[INSTALLED_KEY]=!0,e.forEach((e=>t.use(e))),n&&provideGlobalConfig(n,t,!0))}}),affixProps=buildProps({zIndex:{type:definePropType([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),affixEmits={scroll:({scrollTop:e,fixed:t})=>isNumber(e)&&isBoolean(t),[CHANGE_EVENT]:e=>isBoolean(e)};var _export_sfc=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n};const COMPONENT_NAME$n="ElAffix",__default__$1D=defineComponent({name:COMPONENT_NAME$n}),_sfc_main$3v=defineComponent({...__default__$1D,props:affixProps,emits:affixEmits,setup(e,{expose:t,emit:n}){const r=e,o=useNamespace("affix"),i=shallowRef(),a=shallowRef(),s=shallowRef(),{height:l}=useWindowSize(),{height:u,width:c,top:d,bottom:h,update:p}=useElementBounding(a,{windowScroll:!1}),f=useElementBounding(i),m=ref(!1),_=ref(0),g=ref(0),v=computed((()=>({height:m.value?`${u.value}px`:"",width:m.value?`${c.value}px`:""}))),y=computed((()=>{if(!m.value)return{};const e=r.offset?addUnit(r.offset):0;return{height:`${u.value}px`,width:`${c.value}px`,top:"top"===r.position?e:"",bottom:"bottom"===r.position?e:"",transform:g.value?`translateY(${g.value}px)`:"",zIndex:r.zIndex}})),b=()=>{if(s.value)if(_.value=s.value instanceof Window?document.documentElement.scrollTop:s.value.scrollTop||0,"top"===r.position)if(r.target){const e=f.bottom.value-r.offset-u.value;m.value=r.offset>d.value&&f.bottom.value>0,g.value=e<0?e:0}else m.value=r.offset>d.value;else if(r.target){const e=l.value-f.top.value-r.offset-u.value;m.value=l.value-r.offset<h.value&&l.value>f.top.value,g.value=e<0?-e:0}else m.value=l.value-r.offset<h.value};return watch(m,(e=>n("change",e))),onMounted((()=>{var e;r.target?(i.value=null!=(e=document.querySelector(r.target))?e:void 0,i.value||throwError(COMPONENT_NAME$n,`Target is not existed: ${r.target}`)):i.value=document.documentElement,s.value=getScrollContainer(a.value,!0),p()})),useEventListener$1(s,"scroll",(()=>{p(),n("scroll",{scrollTop:_.value,fixed:m.value})})),watchEffect(b),t({update:b,updateRoot:p}),(e,t)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:a,class:normalizeClass(unref(o).b()),style:normalizeStyle(unref(v))},[createBaseVNode("div",{class:normalizeClass({[unref(o).m("fixed")]:m.value}),style:normalizeStyle(unref(y))},[renderSlot(e.$slots,"default")],6)],6))}});var Affix=_export_sfc(_sfc_main$3v,[["__file","affix.vue"]]);const ElAffix=withInstall(Affix),iconProps=buildProps({size:{type:definePropType([Number,String])},color:{type:String}}),__default__$1C=defineComponent({name:"ElIcon",inheritAttrs:!1}),_sfc_main$3u=defineComponent({...__default__$1C,props:iconProps,setup(e){const t=e,n=useNamespace("icon"),r=computed((()=>{const{size:e,color:n}=t;return e||n?{fontSize:isUndefined(e)?void 0:addUnit(e),"--color":n}:{}}));return(e,t)=>(openBlock(),createElementBlock("i",mergeProps({class:unref(n).b(),style:unref(r)},e.$attrs),[renderSlot(e.$slots,"default")],16))}});var Icon=_export_sfc(_sfc_main$3u,[["__file","icon.vue"]]);const ElIcon=withInstall(Icon),alertEffects=["light","dark"],alertProps=buildProps({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:keysOf(TypeComponentsMap),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:alertEffects,default:"light"}}),alertEmits={close:e=>e instanceof MouseEvent},__default__$1B=defineComponent({name:"ElAlert"}),_sfc_main$3t=defineComponent({...__default__$1B,props:alertProps,emits:alertEmits,setup(e,{emit:t}){const n=e,{Close:r}=TypeComponents,o=useSlots(),i=useNamespace("alert"),a=ref(!0),s=computed((()=>TypeComponentsMap[n.type])),l=computed((()=>[i.e("icon"),{[i.is("big")]:!!n.description||!!o.default}])),u=computed((()=>({[i.is("bold")]:n.description||o.default}))),c=e=>{a.value=!1,t("close",e)};return(e,t)=>(openBlock(),createBlock(Transition,{name:unref(i).b("fade"),persisted:""},{default:withCtx((()=>[withDirectives(createBaseVNode("div",{class:normalizeClass([unref(i).b(),unref(i).m(e.type),unref(i).is("center",e.center),unref(i).is(e.effect)]),role:"alert"},[e.showIcon&&unref(s)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(l))},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(s))))])),_:1},8,["class"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(i).e("content"))},[e.title||e.$slots.title?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass([unref(i).e("title"),unref(u)])},[renderSlot(e.$slots,"title",{},(()=>[createTextVNode(toDisplayString(e.title),1)]))],2)):createCommentVNode("v-if",!0),e.$slots.default||e.description?(openBlock(),createElementBlock("p",{key:1,class:normalizeClass(unref(i).e("description"))},[renderSlot(e.$slots,"default",{},(()=>[createTextVNode(toDisplayString(e.description),1)]))],2)):createCommentVNode("v-if",!0),e.closable?(openBlock(),createElementBlock(Fragment,{key:2},[e.closeText?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(i).e("close-btn"),unref(i).is("customed")]),onClick:c},toDisplayString(e.closeText),3)):(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass(unref(i).e("close-btn")),onClick:c},{default:withCtx((()=>[createVNode(unref(r))])),_:1},8,["class"]))],64)):createCommentVNode("v-if",!0)],2)],2),[[vShow,a.value]])])),_:3},8,["name"]))}});var Alert=_export_sfc(_sfc_main$3t,[["__file","alert.vue"]]);const ElAlert=withInstall(Alert),formContextKey=Symbol("formContextKey"),formItemContextKey=Symbol("formItemContextKey"),useFormSize=(e,t={})=>{const n=ref(void 0),r=t.prop?n:useProp("size"),o=t.global?n:useGlobalSize(),i=t.form?{size:void 0}:inject(formContextKey,void 0),a=t.formItem?{size:void 0}:inject(formItemContextKey,void 0);return computed((()=>r.value||unref(e)||(null==a?void 0:a.size)||(null==i?void 0:i.size)||o.value||""))},useFormDisabled=e=>{const t=useProp("disabled"),n=inject(formContextKey,void 0);return computed((()=>t.value||unref(e)||(null==n?void 0:n.disabled)||!1))},useSize=useFormSize,useDisabled=useFormDisabled,useFormItem=()=>({form:inject(formContextKey,void 0),formItem:inject(formItemContextKey,void 0)}),useFormItemInputId=(e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=ref(!1)),r||(r=ref(!1));const o=ref();let i;const a=computed((()=>{var n;return!!(!e.label&&t&&t.inputIds&&(null==(n=t.inputIds)?void 0:n.length)<=1)}));return onMounted((()=>{i=watch([toRef$1(e,"id"),n],(([e,n])=>{const i=null!=e?e:n?void 0:useId().value;i!==o.value&&((null==t?void 0:t.removeInputId)&&(o.value&&t.removeInputId(o.value),(null==r?void 0:r.value)||n||!i||t.addInputId(i)),o.value=i)}),{immediate:!0})})),onUnmounted((()=>{i&&i(),(null==t?void 0:t.removeInputId)&&o.value&&t.removeInputId(o.value)})),{isLabeledByFormItem:a,inputId:o}},formMetaProps=buildProps({size:{type:String,values:componentSizes},disabled:Boolean}),formProps=buildProps({...formMetaProps,model:Object,rules:{type:definePropType(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),formEmits={validate:(e,t,n)=>(isArray$1(e)||isString$1(e))&&isBoolean(t)&&isString$1(n)};function useFormLabelWidth(){const e=ref([]),t=computed((()=>{if(!e.value.length)return"0";const t=Math.max(...e.value);return t?`${t}px`:""}));function n(n){const r=e.value.indexOf(n);return-1===r&&t.value,r}return{autoLabelWidth:t,registerLabelWidth:function(t,r){if(t&&r){const o=n(r);e.value.splice(o,1,t)}else t&&e.value.push(t)},deregisterLabelWidth:function(t){const r=n(t);r>-1&&e.value.splice(r,1)}}}const filterFields=(e,t)=>{const n=castArray$1(t);return n.length>0?e.filter((e=>e.prop&&n.includes(e.prop))):e},COMPONENT_NAME$m="ElForm",__default__$1A=defineComponent({name:COMPONENT_NAME$m}),_sfc_main$3s=defineComponent({...__default__$1A,props:formProps,emits:formEmits,setup(t,{expose:n,emit:r}){const o=t,i=[],a=useFormSize(),s=useNamespace("form"),l=computed((()=>{const{labelPosition:e,inline:t}=o;return[s.b(),s.m(a.value||"default"),{[s.m(`label-${e}`)]:e,[s.m("inline")]:t}]})),u=(e=[])=>{o.model&&filterFields(i,e).forEach((e=>e.resetField()))},c=(e=[])=>{filterFields(i,e).forEach((e=>e.clearValidate()))},d=computed((()=>!!o.model)),h=async e=>f(void 0,e),p=async(e=[])=>{if(!d.value)return!1;const t=(e=>{if(0===i.length)return[];const t=filterFields(i,e);return t.length?t:[]})(e);if(0===t.length)return!0;let n={};for(const o of t)try{await o.validate("")}catch(r){n={...n,...r}}return 0===Object.keys(n).length||Promise.reject(n)},f=async(t=[],n)=>{const r=!isFunction$2(n);try{const e=await p(t);return!0===e&&(null==n||n(e)),e}catch(e){if(e instanceof Error)throw e;const i=e;return o.scrollToError&&m(Object.keys(i)[0]),null==n||n(!1,i),r&&Promise.reject(i)}},m=e=>{var t;const n=filterFields(i,e)[0];n&&(null==(t=n.$el)||t.scrollIntoView(o.scrollIntoViewOptions))};return watch((()=>o.rules),(()=>{o.validateOnRuleChange&&h().catch((e=>debugWarn()))}),{deep:!0}),provide(formContextKey,reactive({...toRefs(o),emit:r,resetFields:u,clearValidate:c,validateField:f,addField:e=>{i.push(e)},removeField:e=>{e.prop&&i.splice(i.indexOf(e),1)},...useFormLabelWidth()})),n({validate:h,validateField:f,resetFields:u,clearValidate:c,scrollToField:m}),(e,t)=>(openBlock(),createElementBlock("form",{class:normalizeClass(unref(l))},[renderSlot(e.$slots,"default")],2))}});var Form=_export_sfc(_sfc_main$3s,[["__file","form.vue"]]),define_process_env_default$1={};function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_extends.apply(this,arguments)}function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_setPrototypeOf(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(o,n.prototype),o}).apply(null,arguments)}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(n,e)},_wrapNativeSuper(e)}var formatRegExp=/%[sdj%]/g,warning=function(){};function convertFieldsError(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function format(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i=n.length;return"function"==typeof e?e.apply(null,n):"string"==typeof e?e.replace(formatRegExp,(function(e){if("%%"===e)return"%";if(o>=i)return e;switch(e){case"%s":return String(n[o++]);case"%d":return Number(n[o++]);case"%j":try{return JSON.stringify(n[o++])}catch(t){return"[Circular]"}break;default:return e}})):e}function isNativeStringType(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}function isEmptyValue(e,t){return null==e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!isNativeStringType(t)||"string"!=typeof e||e))}function asyncParallelArray(e,t,n){var r=[],o=0,i=e.length;function a(e){r.push.apply(r,e||[]),++o===i&&n(r)}e.forEach((function(e){t(e,a)}))}function asyncSerialArray(e,t,n){var r=0,o=e.length;!function i(a){if(a&&a.length)n(a);else{var s=r;r+=1,s<o?t(e[s],i):n([])}}([])}function flattenObjArr(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}var AsyncValidationError=function(e){function t(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return _inheritsLoose(t,e),t}(_wrapNativeSuper(Error));function asyncMap(e,t,n,r,o){if(t.first){var i=new Promise((function(t,i){asyncSerialArray(flattenObjArr(e),n,(function(e){return r(e),e.length?i(new AsyncValidationError(e,convertFieldsError(e))):t(o)}))}));return i.catch((function(e){return e})),i}var a=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),l=s.length,u=0,c=[],d=new Promise((function(t,i){var d=function(e){if(c.push.apply(c,e),++u===l)return r(c),c.length?i(new AsyncValidationError(c,convertFieldsError(c))):t(o)};s.length||(r(c),t(o)),s.forEach((function(t){var r=e[t];-1!==a.indexOf(t)?asyncSerialArray(r,n,d):asyncParallelArray(r,n,d)}))}));return d.catch((function(e){return e})),d}function isErrorObj(e){return!(!e||void 0===e.message)}function getValue(e,t){for(var n=e,r=0;r<t.length;r++){if(null==n)return n;n=n[t[r]]}return n}function complementError(e,t){return function(n){var r;return r=e.fullFields?getValue(t,e.fullFields):t[n.field||e.fullField],isErrorObj(n)?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"==typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function deepMerge(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"==typeof r&&"object"==typeof e[n]?e[n]=_extends({},e[n],r):e[n]=r}return e}var required$1=function(e,t,n,r,o,i){!e.required||n.hasOwnProperty(e.field)&&!isEmptyValue(t,i||e.type)||r.push(format(o.messages.required,e.fullField))},whitespace$1=function(e,t,n,r,o){(/^\s+$/.test(t)||""===t)&&r.push(format(o.messages.whitespace,e.fullField))},urlReg,getUrlRegex=function(){if(urlReg)return urlReg;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",o=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+n+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),i=new RegExp("(?:^"+n+"$)|(?:^"+o+"$)"),a=new RegExp("^"+n+"$"),s=new RegExp("^"+o+"$"),l=function(e){return e&&e.exact?i:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+o+t(e)+")","g")};l.v4=function(e){return e&&e.exact?a:new RegExp(""+t(e)+n+t(e),"g")},l.v6=function(e){return e&&e.exact?s:new RegExp(""+t(e)+o+t(e),"g")};var u=l.v4().source,c=l.v6().source;return urlReg=new RegExp("(?:^"+("(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+u+"|"+c+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?')+"$)","i")},pattern$2={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},types={integer:function(e){return types.number(e)&&parseInt(e,10)===e},float:function(e){return types.number(e)&&!types.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch(e){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"==typeof e&&!types.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&e.length<=320&&!!e.match(pattern$2.email)},url:function(e){return"string"==typeof e&&e.length<=2048&&!!e.match(getUrlRegex())},hex:function(e){return"string"==typeof e&&!!e.match(pattern$2.hex)}},type$1=function(e,t,n,r,o){if(e.required&&void 0===t)required$1(e,t,n,r,o);else{var i=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(i)>-1?types[i](t)||r.push(format(o.messages.types[i],e.fullField,e.type)):i&&typeof t!==e.type&&r.push(format(o.messages.types[i],e.fullField,e.type))}},range=function(e,t,n,r,o){var i="number"==typeof e.len,a="number"==typeof e.min,s="number"==typeof e.max,l=t,u=null,c="number"==typeof t,d="string"==typeof t,h=Array.isArray(t);if(c?u="number":d?u="string":h&&(u="array"),!u)return!1;h&&(l=t.length),d&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),i?l!==e.len&&r.push(format(o.messages[u].len,e.fullField,e.len)):a&&!s&&l<e.min?r.push(format(o.messages[u].min,e.fullField,e.min)):s&&!a&&l>e.max?r.push(format(o.messages[u].max,e.fullField,e.max)):a&&s&&(l<e.min||l>e.max)&&r.push(format(o.messages[u].range,e.fullField,e.min,e.max))},ENUM$1="enum",enumerable$1=function(e,t,n,r,o){e[ENUM$1]=Array.isArray(e[ENUM$1])?e[ENUM$1]:[],-1===e[ENUM$1].indexOf(t)&&r.push(format(o.messages[ENUM$1],e.fullField,e[ENUM$1].join(", ")))},pattern$1=function(e,t,n,r,o){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(format(o.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"==typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(format(o.messages.pattern.mismatch,e.fullField,t,e.pattern))}},rules={required:required$1,whitespace:whitespace$1,type:type$1,range:range,enum:enumerable$1,pattern:pattern$1},string=function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(isEmptyValue(t,"string")&&!e.required)return n();rules.required(e,t,r,i,o,"string"),isEmptyValue(t,"string")||(rules.type(e,t,r,i,o),rules.range(e,t,r,i,o),rules.pattern(e,t,r,i,o),!0===e.whitespace&&rules.whitespace(e,t,r,i,o))}n(i)},method2=function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(isEmptyValue(t)&&!e.required)return n();rules.required(e,t,r,i,o),void 0!==t&&rules.type(e,t,r,i,o)}n(i)},number2=function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),isEmptyValue(t)&&!e.required)return n();rules.required(e,t,r,i,o),void 0!==t&&(rules.type(e,t,r,i,o),rules.range(e,t,r,i,o))}n(i)},_boolean=function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(isEmptyValue(t)&&!e.required)return n();rules.required(e,t,r,i,o),void 0!==t&&rules.type(e,t,r,i,o)}n(i)},regexp2=function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(isEmptyValue(t)&&!e.required)return n();rules.required(e,t,r,i,o),isEmptyValue(t)||rules.type(e,t,r,i,o)}n(i)},integer2=function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(isEmptyValue(t)&&!e.required)return n();rules.required(e,t,r,i,o),void 0!==t&&(rules.type(e,t,r,i,o),rules.range(e,t,r,i,o))}n(i)},floatFn=function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(isEmptyValue(t)&&!e.required)return n();rules.required(e,t,r,i,o),void 0!==t&&(rules.type(e,t,r,i,o),rules.range(e,t,r,i,o))}n(i)},array2=function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(null==t&&!e.required)return n();rules.required(e,t,r,i,o,"array"),null!=t&&(rules.type(e,t,r,i,o),rules.range(e,t,r,i,o))}n(i)},object2=function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(isEmptyValue(t)&&!e.required)return n();rules.required(e,t,r,i,o),void 0!==t&&rules.type(e,t,r,i,o)}n(i)},ENUM="enum",enumerable2=function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(isEmptyValue(t)&&!e.required)return n();rules.required(e,t,r,i,o),void 0!==t&&rules[ENUM](e,t,r,i,o)}n(i)},pattern2=function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(isEmptyValue(t,"string")&&!e.required)return n();rules.required(e,t,r,i,o),isEmptyValue(t,"string")||rules.pattern(e,t,r,i,o)}n(i)},date2=function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(isEmptyValue(t,"date")&&!e.required)return n();var a;if(rules.required(e,t,r,i,o),!isEmptyValue(t,"date"))a=t instanceof Date?t:new Date(t),rules.type(e,a,r,i,o),a&&rules.range(e,a.getTime(),r,i,o)}n(i)},required2=function(e,t,n,r,o){var i=[],a=Array.isArray(t)?"array":typeof t;rules.required(e,t,r,i,o,a),n(i)},type2=function(e,t,n,r,o){var i=e.type,a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(isEmptyValue(t,i)&&!e.required)return n();rules.required(e,t,r,a,o,i),isEmptyValue(t,i)||rules.type(e,t,r,a,o)}n(a)},any=function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(isEmptyValue(t)&&!e.required)return n();rules.required(e,t,r,i,o)}n(i)},validators={string:string,method:method2,number:number2,boolean:_boolean,regexp:regexp2,integer:integer2,float:floatFn,array:array2,object:object2,enum:enumerable2,pattern:pattern2,date:date2,url:type2,hex:type2,email:type2,required:required2,any:any};function newMessages(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var messages=newMessages(),Schema=function(){function e(e){this.rules=null,this._messages=messages,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!=typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=deepMerge(newMessages(),e)),this._messages},t.validate=function(t,n,r){var o=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var i=t,a=n,s=r;if("function"==typeof a&&(s=a,a={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,i),Promise.resolve(i);if(a.messages){var l=this.messages();l===messages&&(l=newMessages()),deepMerge(l,a.messages),a.messages=l}else a.messages=this.messages();var u={};(a.keys||Object.keys(this.rules)).forEach((function(e){var n=o.rules[e],r=i[e];n.forEach((function(n){var a=n;"function"==typeof a.transform&&(i===t&&(i=_extends({},i)),r=i[e]=a.transform(r)),(a="function"==typeof a?{validator:a}:_extends({},a)).validator=o.getValidationMethod(a),a.validator&&(a.field=e,a.fullField=a.fullField||e,a.type=o.getType(a),u[e]=u[e]||[],u[e].push({rule:a,value:r,source:i,field:e}))}))}));var c={};return asyncMap(u,a,(function(t,n){var r,o=t.rule,s=!("object"!==o.type&&"array"!==o.type||"object"!=typeof o.fields&&"object"!=typeof o.defaultField);function l(e,t){return _extends({},t,{fullField:o.fullField+"."+e,fullFields:o.fullFields?[].concat(o.fullFields,[e]):[e]})}function u(r){void 0===r&&(r=[]);var u=Array.isArray(r)?r:[r];!a.suppressWarning&&u.length&&e.warning("async-validator:",u),u.length&&void 0!==o.message&&(u=[].concat(o.message));var d=u.map(complementError(o,i));if(a.first&&d.length)return c[o.field]=1,n(d);if(s){if(o.required&&!t.value)return void 0!==o.message?d=[].concat(o.message).map(complementError(o,i)):a.error&&(d=[a.error(o,format(a.messages.required,o.field))]),n(d);var h={};o.defaultField&&Object.keys(t.value).map((function(e){h[e]=o.defaultField})),h=_extends({},h,t.rule.fields);var p={};Object.keys(h).forEach((function(e){var t=h[e],n=Array.isArray(t)?t:[t];p[e]=n.map(l.bind(null,e))}));var f=new e(p);f.messages(a.messages),t.rule.options&&(t.rule.options.messages=a.messages,t.rule.options.error=a.error),f.validate(t.value,t.rule.options||a,(function(e){var t=[];d&&d.length&&t.push.apply(t,d),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(d)}if(s=s&&(o.required||!o.required&&t.value),o.field=t.field,o.asyncValidator)r=o.asyncValidator(o,t.value,u,t.source,a);else if(o.validator){try{r=o.validator(o,t.value,u,t.source,a)}catch(d){console.error,a.suppressValidatorError||setTimeout((function(){throw d}),0),u(d.message)}!0===r?u():!1===r?u("function"==typeof o.message?o.message(o.fullField||o.field):o.message||(o.fullField||o.field)+" fails"):r instanceof Array?u(r):r instanceof Error&&u(r.message)}r&&r.then&&r.then((function(){return u()}),(function(e){return u(e)}))}),(function(e){!function(e){for(var t,n,r=[],o={},a=0;a<e.length;a++)t=e[a],n=void 0,Array.isArray(t)?r=(n=r).concat.apply(n,t):r.push(t);r.length?(o=convertFieldsError(r),s(r,o)):s(null,i)}(e)}),i)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!validators.hasOwnProperty(e.type))throw new Error(format("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?validators.required:validators[this.getType(e)]||void 0},e}();Schema.register=function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");validators[e]=t},Schema.warning=warning,Schema.messages=messages,Schema.validators=validators;const formItemValidateStates=["","error","validating","success"],formItemProps=buildProps({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:definePropType([String,Array])},required:{type:Boolean,default:void 0},rules:{type:definePropType([Object,Array])},error:String,validateStatus:{type:String,values:formItemValidateStates},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:componentSizes}}),COMPONENT_NAME$l="ElLabelWrap";var FormLabelWrap=defineComponent({name:COMPONENT_NAME$l,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const n=inject(formContextKey,void 0),r=inject(formItemContextKey);r||throwError(COMPONENT_NAME$l,"usage: <el-form-item><label-wrap /></el-form-item>");const o=useNamespace("form"),i=ref(),a=ref(0),s=(r="update")=>{nextTick((()=>{t.default&&e.isAutoWidth&&("update"===r?a.value=(()=>{var e;if(null==(e=i.value)?void 0:e.firstElementChild){const e=window.getComputedStyle(i.value.firstElementChild).width;return Math.ceil(Number.parseFloat(e))}return 0})():"remove"===r&&(null==n||n.deregisterLabelWidth(a.value)))}))},l=()=>s("update");return onMounted((()=>{l()})),onBeforeUnmount((()=>{s("remove")})),onUpdated((()=>l())),watch(a,((t,r)=>{e.updateAll&&(null==n||n.registerLabelWidth(t,r))})),useResizeObserver(computed((()=>{var e,t;return null!=(t=null==(e=i.value)?void 0:e.firstElementChild)?t:null})),l),()=>{var s,l;if(!t)return null;const{isAutoWidth:u}=e;if(u){const e=null==n?void 0:n.autoLabelWidth,l={};if((null==r?void 0:r.hasLabel)&&e&&"auto"!==e){const t=Math.max(0,Number.parseInt(e,10)-a.value),r="left"===n.labelPosition?"marginRight":"marginLeft";t&&(l[r]=`${t}px`)}return createVNode("div",{ref:i,class:[o.be("item","label-wrap")],style:l},[null==(s=t.default)?void 0:s.call(t)])}return createVNode(Fragment,{ref:i},[null==(l=t.default)?void 0:l.call(t)])}}});const _hoisted_1$21=["role","aria-labelledby"],__default__$1z=defineComponent({name:"ElFormItem"}),_sfc_main$3r=defineComponent({...__default__$1z,props:formItemProps,setup(e,{expose:t}){const n=e,r=useSlots(),o=inject(formContextKey,void 0),i=inject(formItemContextKey,void 0),a=useFormSize(void 0,{formItem:!1}),s=useNamespace("form-item"),l=useId().value,u=ref([]),c=ref(""),d=refDebounced(c,100),h=ref(""),p=ref();let f,m=!1;const _=computed((()=>{if("top"===(null==o?void 0:o.labelPosition))return{};const e=addUnit(n.labelWidth||(null==o?void 0:o.labelWidth)||"");return e?{width:e}:{}})),g=computed((()=>{if("top"===(null==o?void 0:o.labelPosition)||(null==o?void 0:o.inline))return{};if(!n.label&&!n.labelWidth&&S)return{};const e=addUnit(n.labelWidth||(null==o?void 0:o.labelWidth)||"");return n.label||r.label?{}:{marginLeft:e}})),v=computed((()=>[s.b(),s.m(a.value),s.is("error","error"===c.value),s.is("validating","validating"===c.value),s.is("success","success"===c.value),s.is("required",P.value||n.required),s.is("no-asterisk",null==o?void 0:o.hideRequiredAsterisk),"right"===(null==o?void 0:o.requireAsteriskPosition)?"asterisk-right":"asterisk-left",{[s.m("feedback")]:null==o?void 0:o.statusIcon}])),y=computed((()=>isBoolean(n.inlineMessage)?n.inlineMessage:(null==o?void 0:o.inlineMessage)||!1)),b=computed((()=>[s.e("error"),{[s.em("error","inline")]:y.value}])),E=computed((()=>n.prop?isString$1(n.prop)?n.prop:n.prop.join("."):"")),C=computed((()=>!(!n.label&&!r.label))),x=computed((()=>n.for||(1===u.value.length?u.value[0]:void 0))),w=computed((()=>!x.value&&C.value)),S=!!i,T=computed((()=>{const e=null==o?void 0:o.model;if(e&&n.prop)return getProp(e,n.prop).value})),k=computed((()=>{const{required:e}=n,t=[];n.rules&&t.push(...castArray$1(n.rules));const r=null==o?void 0:o.rules;if(r&&n.prop){const e=getProp(r,n.prop).value;e&&t.push(...castArray$1(e))}if(void 0!==e){const n=t.map(((e,t)=>[e,t])).filter((([e])=>Object.keys(e).includes("required")));if(n.length>0)for(const[r,o]of n)r.required!==e&&(t[o]={...r,required:e});else t.push({required:e})}return t})),L=computed((()=>k.value.length>0)),P=computed((()=>k.value.some((e=>e.required)))),M=computed((()=>{var e;return"error"===d.value&&n.showMessage&&(null==(e=null==o?void 0:o.showMessage)||e)})),O=computed((()=>`${n.label||""}${(null==o?void 0:o.labelSuffix)||""}`)),N=e=>{c.value=e},A=async e=>{const t=E.value;return new Schema({[t]:e}).validate({[t]:T.value},{firstFields:!0}).then((()=>(N("success"),null==o||o.emit("validate",n.prop,!0,""),!0))).catch((e=>((e=>{var t,r;const{errors:i,fields:a}=e;N("error"),h.value=i?null!=(r=null==(t=null==i?void 0:i[0])?void 0:t.message)?r:`${n.prop} is required`:"",null==o||o.emit("validate",n.prop,!1,h.value)})(e),Promise.reject(e))))},I=async(e,t)=>{if(m||!n.prop)return!1;const r=isFunction$2(t);if(!L.value)return null==t||t(!1),!1;const o=(e=>k.value.filter((t=>!t.trigger||!e||(Array.isArray(t.trigger)?t.trigger.includes(e):t.trigger===e))).map((({trigger:e,...t})=>t)))(e);return 0===o.length?(null==t||t(!0),!0):(N("validating"),A(o).then((()=>(null==t||t(!0),!0))).catch((e=>{const{fields:n}=e;return null==t||t(!1,n),!r&&Promise.reject(n)})))},R=()=>{N(""),h.value="",m=!1},$=async()=>{const e=null==o?void 0:o.model;if(!e||!n.prop)return;const t=getProp(e,n.prop);m=!0,t.value=clone(f),await nextTick(),R(),m=!1};watch((()=>n.error),(e=>{h.value=e||"",N(e?"error":"")}),{immediate:!0}),watch((()=>n.validateStatus),(e=>N(e||"")));const B=reactive({...toRefs(n),$el:p,size:a,validateState:c,labelId:l,inputIds:u,isGroup:w,hasLabel:C,addInputId:e=>{u.value.includes(e)||u.value.push(e)},removeInputId:e=>{u.value=u.value.filter((t=>t!==e))},resetField:$,clearValidate:R,validate:I});return provide(formItemContextKey,B),onMounted((()=>{n.prop&&(null==o||o.addField(B),f=clone(T.value))})),onBeforeUnmount((()=>{null==o||o.removeField(B)})),t({size:a,validateMessage:h,validateState:c,validate:I,clearValidate:R,resetField:$}),(e,t)=>{var n;return openBlock(),createElementBlock("div",{ref_key:"formItemRef",ref:p,class:normalizeClass(unref(v)),role:unref(w)?"group":void 0,"aria-labelledby":unref(w)?unref(l):void 0},[createVNode(unref(FormLabelWrap),{"is-auto-width":"auto"===unref(_).width,"update-all":"auto"===(null==(n=unref(o))?void 0:n.labelWidth)},{default:withCtx((()=>[unref(C)?(openBlock(),createBlock(resolveDynamicComponent(unref(x)?"label":"div"),{key:0,id:unref(l),for:unref(x),class:normalizeClass(unref(s).e("label")),style:normalizeStyle(unref(_))},{default:withCtx((()=>[renderSlot(e.$slots,"label",{label:unref(O)},(()=>[createTextVNode(toDisplayString(unref(O)),1)]))])),_:3},8,["id","for","class","style"])):createCommentVNode("v-if",!0)])),_:3},8,["is-auto-width","update-all"]),createBaseVNode("div",{class:normalizeClass(unref(s).e("content")),style:normalizeStyle(unref(g))},[renderSlot(e.$slots,"default"),createVNode(TransitionGroup,{name:`${unref(s).namespace.value}-zoom-in-top`},{default:withCtx((()=>[unref(M)?renderSlot(e.$slots,"error",{key:0,error:h.value},(()=>[createBaseVNode("div",{class:normalizeClass(unref(b))},toDisplayString(h.value),3)])):createCommentVNode("v-if",!0)])),_:3},8,["name"])],6)],10,_hoisted_1$21)}}});var FormItem=_export_sfc(_sfc_main$3r,[["__file","form-item.vue"]]);const ElForm=withInstall(Form,{FormItem:FormItem}),ElFormItem=withNoopInstall(FormItem);let hiddenTextarea;const HIDDEN_STYLE=`\n  height:0 !important;\n  visibility:hidden !important;\n  ${isFirefox()?"":"overflow:hidden !important;"}\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n`,CONTEXT_STYLE=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function calculateNodeStyling(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),o=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:CONTEXT_STYLE.map((e=>`${e}:${t.getPropertyValue(e)}`)).join(";"),paddingSize:r,borderSize:o,boxSizing:n}}function calcTextareaHeight(e,t=1,n){var r;hiddenTextarea||(hiddenTextarea=document.createElement("textarea"),document.body.appendChild(hiddenTextarea));const{paddingSize:o,borderSize:i,boxSizing:a,contextStyle:s}=calculateNodeStyling(e);hiddenTextarea.setAttribute("style",`${s};${HIDDEN_STYLE}`),hiddenTextarea.value=e.value||e.placeholder||"";let l=hiddenTextarea.scrollHeight;const u={};"border-box"===a?l+=i:"content-box"===a&&(l-=o),hiddenTextarea.value="";const c=hiddenTextarea.scrollHeight-o;if(isNumber(t)){let e=c*t;"border-box"===a&&(e=e+o+i),l=Math.max(e,l),u.minHeight=`${e}px`}if(isNumber(n)){let e=c*n;"border-box"===a&&(e=e+o+i),l=Math.min(e,l)}return u.height=`${l}px`,null==(r=hiddenTextarea.parentNode)||r.removeChild(hiddenTextarea),hiddenTextarea=void 0,u}const inputProps=buildProps({id:{type:String,default:void 0},size:useSizeProp,disabled:Boolean,modelValue:{type:definePropType([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:definePropType([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:iconPropType},prefixIcon:{type:iconPropType},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:definePropType([Object,Array,String]),default:()=>mutable({})},autofocus:{type:Boolean,default:!1}}),inputEmits={[UPDATE_MODEL_EVENT]:e=>isString$1(e),input:e=>isString$1(e),change:e=>isString$1(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},_hoisted_1$20=["role"],_hoisted_2$1k=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],_hoisted_3$P=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],__default__$1y=defineComponent({name:"ElInput",inheritAttrs:!1}),_sfc_main$3q=defineComponent({...__default__$1y,props:inputProps,emits:inputEmits,setup(e,{expose:t,emit:n}){const r=e,o=useAttrs$1(),i=useSlots(),a=computed((()=>{const e={};return"combobox"===r.containerRole&&(e["aria-haspopup"]=o["aria-haspopup"],e["aria-owns"]=o["aria-owns"],e["aria-expanded"]=o["aria-expanded"]),e})),s=computed((()=>["textarea"===r.type?_.b():m.b(),m.m(p.value),m.is("disabled",f.value),m.is("exceed",V.value),{[m.b("group")]:i.prepend||i.append,[m.bm("group","append")]:i.append,[m.bm("group","prepend")]:i.prepend,[m.m("prefix")]:i.prefix||r.prefixIcon,[m.m("suffix")]:i.suffix||r.suffixIcon||r.clearable||r.showPassword,[m.bm("suffix","password-clear")]:$.value&&B.value},o.class])),l=computed((()=>[m.e("wrapper"),m.is("focus",T.value)])),u=useAttrs({excludeKeys:computed((()=>Object.keys(a.value)))}),{form:c,formItem:d}=useFormItem(),{inputId:h}=useFormItemInputId(r,{formItemContext:d}),p=useFormSize(),f=useFormDisabled(),m=useNamespace("input"),_=useNamespace("textarea"),g=shallowRef(),v=shallowRef(),y=ref(!1),b=ref(!1),E=ref(!1),C=ref(),x=shallowRef(r.inputStyle),w=computed((()=>g.value||v.value)),{wrapperRef:S,isFocused:T,handleFocus:k,handleBlur:L}=useFocusController(w,{afterBlur(){var e;r.validateEvent&&(null==(e=null==d?void 0:d.validate)||e.call(d,"blur").catch((e=>debugWarn())))}}),P=computed((()=>{var e;return null!=(e=null==c?void 0:c.statusIcon)&&e})),M=computed((()=>(null==d?void 0:d.validateState)||"")),O=computed((()=>M.value&&ValidateComponentsMap[M.value])),N=computed((()=>E.value?view_default:hide_default)),A=computed((()=>[o.style,r.inputStyle])),I=computed((()=>[r.inputStyle,x.value,{resize:r.resize}])),R=computed((()=>isNil(r.modelValue)?"":String(r.modelValue))),$=computed((()=>r.clearable&&!f.value&&!r.readonly&&!!R.value&&(T.value||y.value))),B=computed((()=>r.showPassword&&!f.value&&!r.readonly&&!!R.value&&(!!R.value||T.value))),D=computed((()=>r.showWordLimit&&!!u.value.maxlength&&("text"===r.type||"textarea"===r.type)&&!f.value&&!r.readonly&&!r.showPassword)),F=computed((()=>R.value.length)),V=computed((()=>!!D.value&&F.value>Number(u.value.maxlength))),z=computed((()=>!!i.suffix||!!r.suffixIcon||$.value||r.showPassword||D.value||!!M.value&&P.value)),[j,U]=useCursor(g);useResizeObserver(v,(e=>{if(H(),!D.value||"both"!==r.resize)return;const t=e[0],{width:n}=t.contentRect;C.value={right:`calc(100% - ${n+15+6}px)`}}));const G=()=>{const{type:e,autosize:t}=r;if(isClient$1&&"textarea"===e&&v.value)if(t){const e=isObject$2(t)?t.minRows:void 0,n=isObject$2(t)?t.maxRows:void 0,r=calcTextareaHeight(v.value,e,n);x.value={overflowY:"hidden",...r},nextTick((()=>{v.value.offsetHeight,x.value=r}))}else x.value={minHeight:calcTextareaHeight(v.value).minHeight}},H=(e=>{let t=!1;return()=>{var n;if(t||!r.autosize)return;null===(null==(n=v.value)?void 0:n.offsetParent)||(e(),t=!0)}})(G),K=()=>{const e=w.value,t=r.formatter?r.formatter(R.value):R.value;e&&e.value!==t&&(e.value=t)},W=async e=>{j();let{value:t}=e.target;r.formatter&&(t=r.parser?r.parser(t):t),b.value||(t!==R.value?(n(UPDATE_MODEL_EVENT,t),n("input",t),await nextTick(),K(),U()):K())},Y=e=>{n("change",e.target.value)},q=e=>{n("compositionstart",e),b.value=!0},Z=e=>{var t;n("compositionupdate",e);const r=null==(t=e.target)?void 0:t.value,o=r[r.length-1]||"";b.value=!isKorean(o)},X=e=>{n("compositionend",e),b.value&&(b.value=!1,W(e))},J=()=>{E.value=!E.value,Q()},Q=async()=>{var e;await nextTick(),null==(e=w.value)||e.focus()},ee=e=>{y.value=!1,n("mouseleave",e)},te=e=>{y.value=!0,n("mouseenter",e)},ne=e=>{n("keydown",e)},re=()=>{n(UPDATE_MODEL_EVENT,""),n("change",""),n("clear"),n("input","")};return watch((()=>r.modelValue),(()=>{var e;nextTick((()=>G())),r.validateEvent&&(null==(e=null==d?void 0:d.validate)||e.call(d,"change").catch((e=>debugWarn())))})),watch(R,(()=>K())),watch((()=>r.type),(async()=>{await nextTick(),K(),G()})),onMounted((()=>{!r.formatter&&r.parser,K(),nextTick(G)})),t({input:g,textarea:v,ref:w,textareaStyle:I,autosize:toRef$1(r,"autosize"),focus:Q,blur:()=>{var e;return null==(e=w.value)?void 0:e.blur()},select:()=>{var e;null==(e=w.value)||e.select()},clear:re,resizeTextarea:G}),(e,t)=>withDirectives((openBlock(),createElementBlock("div",mergeProps(unref(a),{class:unref(s),style:unref(A),role:e.containerRole,onMouseenter:te,onMouseleave:ee}),[createCommentVNode(" input "),"textarea"!==e.type?(openBlock(),createElementBlock(Fragment,{key:0},[createCommentVNode(" prepend slot "),e.$slots.prepend?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(m).be("group","prepend"))},[renderSlot(e.$slots,"prepend")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{ref_key:"wrapperRef",ref:S,class:normalizeClass(unref(l))},[createCommentVNode(" prefix slot "),e.$slots.prefix||e.prefixIcon?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(m).e("prefix"))},[createBaseVNode("span",{class:normalizeClass(unref(m).e("prefix-inner"))},[renderSlot(e.$slots,"prefix"),e.prefixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(m).e("icon"))},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.prefixIcon)))])),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("input",mergeProps({id:unref(h),ref_key:"input",ref:g,class:unref(m).e("inner")},unref(u),{type:e.showPassword?E.value?"text":"password":e.type,disabled:unref(f),formatter:e.formatter,parser:e.parser,readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label,placeholder:e.placeholder,style:e.inputStyle,form:r.form,autofocus:r.autofocus,onCompositionstart:q,onCompositionupdate:Z,onCompositionend:X,onInput:W,onFocus:t[0]||(t[0]=(...e)=>unref(k)&&unref(k)(...e)),onBlur:t[1]||(t[1]=(...e)=>unref(L)&&unref(L)(...e)),onChange:Y,onKeydown:ne}),null,16,_hoisted_2$1k),createCommentVNode(" suffix slot "),unref(z)?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(m).e("suffix"))},[createBaseVNode("span",{class:normalizeClass(unref(m).e("suffix-inner"))},[unref($)&&unref(B)&&unref(D)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:0},[renderSlot(e.$slots,"suffix"),e.suffixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(m).e("icon"))},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.suffixIcon)))])),_:1},8,["class"])):createCommentVNode("v-if",!0)],64)),unref($)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(m).e("icon"),unref(m).e("clear")]),onMousedown:withModifiers(unref(NOOP),["prevent"]),onClick:re},{default:withCtx((()=>[createVNode(unref(circle_close_default))])),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0),unref(B)?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass([unref(m).e("icon"),unref(m).e("password")]),onClick:J},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(N))))])),_:1},8,["class"])):createCommentVNode("v-if",!0),unref(D)?(openBlock(),createElementBlock("span",{key:3,class:normalizeClass(unref(m).e("count"))},[createBaseVNode("span",{class:normalizeClass(unref(m).e("count-inner"))},toDisplayString(unref(F))+" / "+toDisplayString(unref(u).maxlength),3)],2)):createCommentVNode("v-if",!0),unref(M)&&unref(O)&&unref(P)?(openBlock(),createBlock(unref(ElIcon),{key:4,class:normalizeClass([unref(m).e("icon"),unref(m).e("validateIcon"),unref(m).is("loading","validating"===unref(M))])},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(O))))])),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)):createCommentVNode("v-if",!0)],2),createCommentVNode(" append slot "),e.$slots.append?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(m).be("group","append"))},[renderSlot(e.$slots,"append")],2)):createCommentVNode("v-if",!0)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" textarea "),createBaseVNode("textarea",mergeProps({id:unref(h),ref_key:"textarea",ref:v,class:unref(_).e("inner")},unref(u),{tabindex:e.tabindex,disabled:unref(f),readonly:e.readonly,autocomplete:e.autocomplete,style:unref(I),"aria-label":e.label,placeholder:e.placeholder,form:r.form,autofocus:r.autofocus,onCompositionstart:q,onCompositionupdate:Z,onCompositionend:X,onInput:W,onFocus:t[2]||(t[2]=(...e)=>unref(k)&&unref(k)(...e)),onBlur:t[3]||(t[3]=(...e)=>unref(L)&&unref(L)(...e)),onChange:Y,onKeydown:ne}),null,16,_hoisted_3$P),unref(D)?(openBlock(),createElementBlock("span",{key:0,style:normalizeStyle(C.value),class:normalizeClass(unref(m).e("count"))},toDisplayString(unref(F))+" / "+toDisplayString(unref(u).maxlength),7)):createCommentVNode("v-if",!0)],64))],16,_hoisted_1$20)),[[vShow,"hidden"!==e.type]])}});var Input=_export_sfc(_sfc_main$3q,[["__file","input.vue"]]);const ElInput=withInstall(Input),GAP=4,BAR_MAP={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},renderThumbStyle$1=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),scrollbarContextKey=Symbol("scrollbarContextKey"),thumbProps=buildProps({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),COMPONENT_NAME$k="Thumb",_sfc_main$3p=defineComponent({__name:"thumb",props:thumbProps,setup(e){const t=e,n=inject(scrollbarContextKey),r=useNamespace("scrollbar");n||throwError(COMPONENT_NAME$k,"can not inject scrollbar context");const o=ref(),i=ref(),a=ref({}),s=ref(!1);let l=!1,u=!1,c=isClient$1?document.onselectstart:null;const d=computed((()=>BAR_MAP[t.vertical?"vertical":"horizontal"])),h=computed((()=>renderThumbStyle$1({size:t.size,move:t.move,bar:d.value}))),p=computed((()=>o.value[d.value.offset]**2/n.wrapElement[d.value.scrollSize]/t.ratio/i.value[d.value.offset])),f=e=>{var t;if(e.stopPropagation(),e.ctrlKey||[1,2].includes(e.button))return;null==(t=window.getSelection())||t.removeAllRanges(),_(e);const n=e.currentTarget;n&&(a.value[d.value.axis]=n[d.value.offset]-(e[d.value.client]-n.getBoundingClientRect()[d.value.direction]))},m=e=>{if(!i.value||!o.value||!n.wrapElement)return;const t=100*(Math.abs(e.target.getBoundingClientRect()[d.value.direction]-e[d.value.client])-i.value[d.value.offset]/2)*p.value/o.value[d.value.offset];n.wrapElement[d.value.scroll]=t*n.wrapElement[d.value.scrollSize]/100},_=e=>{e.stopImmediatePropagation(),l=!0,document.addEventListener("mousemove",g),document.addEventListener("mouseup",v),c=document.onselectstart,document.onselectstart=()=>!1},g=e=>{if(!o.value||!i.value)return;if(!1===l)return;const t=a.value[d.value.axis];if(!t)return;const r=100*(-1*(o.value.getBoundingClientRect()[d.value.direction]-e[d.value.client])-(i.value[d.value.offset]-t))*p.value/o.value[d.value.offset];n.wrapElement[d.value.scroll]=r*n.wrapElement[d.value.scrollSize]/100},v=()=>{l=!1,a.value[d.value.axis]=0,document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",v),y(),u&&(s.value=!1)};onBeforeUnmount((()=>{y(),document.removeEventListener("mouseup",v)}));const y=()=>{document.onselectstart!==c&&(document.onselectstart=c)};return useEventListener$1(toRef$1(n,"scrollbarElement"),"mousemove",(()=>{u=!1,s.value=!!t.size})),useEventListener$1(toRef$1(n,"scrollbarElement"),"mouseleave",(()=>{u=!0,s.value=l})),(e,t)=>(openBlock(),createBlock(Transition,{name:unref(r).b("fade"),persisted:""},{default:withCtx((()=>[withDirectives(createBaseVNode("div",{ref_key:"instance",ref:o,class:normalizeClass([unref(r).e("bar"),unref(r).is(unref(d).key)]),onMousedown:m},[createBaseVNode("div",{ref_key:"thumb",ref:i,class:normalizeClass(unref(r).e("thumb")),style:normalizeStyle(unref(h)),onMousedown:f},null,38)],34),[[vShow,e.always||s.value]])])),_:1},8,["name"]))}});var Thumb=_export_sfc(_sfc_main$3p,[["__file","thumb.vue"]]);const barProps=buildProps({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),_sfc_main$3o=defineComponent({__name:"bar",props:barProps,setup(e,{expose:t}){const n=e,r=ref(0),o=ref(0);return t({handleScroll:e=>{if(e){const t=e.offsetHeight-GAP,i=e.offsetWidth-GAP;o.value=100*e.scrollTop/t*n.ratioY,r.value=100*e.scrollLeft/i*n.ratioX}}}),(e,t)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(Thumb,{move:r.value,ratio:e.ratioX,size:e.width,always:e.always},null,8,["move","ratio","size","always"]),createVNode(Thumb,{move:o.value,ratio:e.ratioY,size:e.height,vertical:"",always:e.always},null,8,["move","ratio","size","always"])],64))}});var Bar=_export_sfc(_sfc_main$3o,[["__file","bar.vue"]]);const scrollbarProps=buildProps({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:definePropType([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical"]}}),scrollbarEmits={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(isNumber)},COMPONENT_NAME$j="ElScrollbar",__default__$1x=defineComponent({name:COMPONENT_NAME$j}),_sfc_main$3n=defineComponent({...__default__$1x,props:scrollbarProps,emits:scrollbarEmits,setup(e,{expose:t,emit:n}){const r=e,o=useNamespace("scrollbar");let i,a;const s=ref(),l=ref(),u=ref(),c=ref("0"),d=ref("0"),h=ref(),p=ref(1),f=ref(1),m=computed((()=>{const e={};return r.height&&(e.height=addUnit(r.height)),r.maxHeight&&(e.maxHeight=addUnit(r.maxHeight)),[r.wrapStyle,e]})),_=computed((()=>[r.wrapClass,o.e("wrap"),{[o.em("wrap","hidden-default")]:!r.native}])),g=computed((()=>[o.e("view"),r.viewClass])),v=()=>{var e;l.value&&(null==(e=h.value)||e.handleScroll(l.value),n("scroll",{scrollTop:l.value.scrollTop,scrollLeft:l.value.scrollLeft}))};const y=()=>{if(!l.value)return;const e=l.value.offsetHeight-GAP,t=l.value.offsetWidth-GAP,n=e**2/l.value.scrollHeight,o=t**2/l.value.scrollWidth,i=Math.max(n,r.minSize),a=Math.max(o,r.minSize);p.value=n/(e-n)/(i/(e-i)),f.value=o/(t-o)/(a/(t-a)),d.value=i+GAP<e?`${i}px`:"",c.value=a+GAP<t?`${a}px`:""};return watch((()=>r.noresize),(e=>{e?(null==i||i(),null==a||a()):(({stop:i}=useResizeObserver(u,y)),a=useEventListener$1("resize",y))}),{immediate:!0}),watch((()=>[r.maxHeight,r.height]),(()=>{r.native||nextTick((()=>{var e;y(),l.value&&(null==(e=h.value)||e.handleScroll(l.value))}))})),provide(scrollbarContextKey,reactive({scrollbarElement:s,wrapElement:l})),onMounted((()=>{r.native||nextTick((()=>{y()}))})),onUpdated((()=>y())),t({wrapRef:l,update:y,scrollTo:function(e,t){isObject$2(e)?l.value.scrollTo(e):isNumber(e)&&isNumber(t)&&l.value.scrollTo(e,t)},setScrollTop:e=>{isNumber(e)&&(l.value.scrollTop=e)},setScrollLeft:e=>{isNumber(e)&&(l.value.scrollLeft=e)},handleScroll:v}),(e,t)=>(openBlock(),createElementBlock("div",{ref_key:"scrollbarRef",ref:s,class:normalizeClass(unref(o).b())},[createBaseVNode("div",{ref_key:"wrapRef",ref:l,class:normalizeClass(unref(_)),style:normalizeStyle(unref(m)),onScroll:v},[(openBlock(),createBlock(resolveDynamicComponent(e.tag),{id:e.id,ref_key:"resizeRef",ref:u,class:normalizeClass(unref(g)),style:normalizeStyle(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:withCtx((()=>[renderSlot(e.$slots,"default")])),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),e.native?createCommentVNode("v-if",!0):(openBlock(),createBlock(Bar,{key:0,ref_key:"barRef",ref:h,height:d.value,width:c.value,always:e.always,"ratio-x":f.value,"ratio-y":p.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var Scrollbar=_export_sfc(_sfc_main$3n,[["__file","scrollbar.vue"]]);const ElScrollbar=withInstall(Scrollbar),POPPER_INJECTION_KEY=Symbol("popper"),POPPER_CONTENT_INJECTION_KEY=Symbol("popperContent"),Effect={LIGHT:"light",DARK:"dark"},roleTypes=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],popperProps=buildProps({role:{type:String,values:roleTypes,default:"tooltip"}}),usePopperProps=popperProps,__default__$1w=defineComponent({name:"ElPopper",inheritAttrs:!1}),_sfc_main$3m=defineComponent({...__default__$1w,props:popperProps,setup(e,{expose:t}){const n=e,r={triggerRef:ref(),popperInstanceRef:ref(),contentRef:ref(),referenceRef:ref(),role:computed((()=>n.role))};return t(r),provide(POPPER_INJECTION_KEY,r),(e,t)=>renderSlot(e.$slots,"default")}});var Popper=_export_sfc(_sfc_main$3m,[["__file","popper.vue"]]);const popperArrowProps=buildProps({arrowOffset:{type:Number,default:5}}),usePopperArrowProps=popperArrowProps,__default__$1v=defineComponent({name:"ElPopperArrow",inheritAttrs:!1}),_sfc_main$3l=defineComponent({...__default__$1v,props:popperArrowProps,setup(e,{expose:t}){const n=e,r=useNamespace("popper"),{arrowOffset:o,arrowRef:i,arrowStyle:a}=inject(POPPER_CONTENT_INJECTION_KEY,void 0);return watch((()=>n.arrowOffset),(e=>{o.value=e})),onBeforeUnmount((()=>{i.value=void 0})),t({arrowRef:i}),(e,t)=>(openBlock(),createElementBlock("span",{ref_key:"arrowRef",ref:i,class:normalizeClass(unref(r).e("arrow")),style:normalizeStyle(unref(a)),"data-popper-arrow":""},null,6))}});var ElPopperArrow=_export_sfc(_sfc_main$3l,[["__file","arrow.vue"]]);const NAME="ElOnlyChild",OnlyChild=defineComponent({name:NAME,setup(e,{slots:t,attrs:n}){var r;const o=inject(FORWARD_REF_INJECTION_KEY),i=useForwardRefDirective(null!=(r=null==o?void 0:o.setForwardRef)?r:NOOP);return()=>{var e;const r=null==(e=t.default)?void 0:e.call(t,n);if(!r)return null;if(r.length>1)return null;const o=findFirstLegitChild(r);return o?withDirectives(cloneVNode(o,n),[[i]]):null}}});function findFirstLegitChild(e){if(!e)return null;const t=e;for(const n of t){if(isObject$2(n))switch(n.type){case Comment:continue;case Text$3:case"svg":return wrapTextContent(n);case Fragment:return findFirstLegitChild(n.children);default:return n}return wrapTextContent(n)}return null}function wrapTextContent(e){const t=useNamespace("only-child");return createVNode("span",{class:t.e("content")},[e])}const popperTriggerProps=buildProps({virtualRef:{type:definePropType(Object)},virtualTriggering:Boolean,onMouseenter:{type:definePropType(Function)},onMouseleave:{type:definePropType(Function)},onClick:{type:definePropType(Function)},onKeydown:{type:definePropType(Function)},onFocus:{type:definePropType(Function)},onBlur:{type:definePropType(Function)},onContextmenu:{type:definePropType(Function)},id:String,open:Boolean}),usePopperTriggerProps=popperTriggerProps,__default__$1u=defineComponent({name:"ElPopperTrigger",inheritAttrs:!1}),_sfc_main$3k=defineComponent({...__default__$1u,props:popperTriggerProps,setup(e,{expose:t}){const n=e,{role:r,triggerRef:o}=inject(POPPER_INJECTION_KEY,void 0);useForwardRef(o);const i=computed((()=>s.value?n.id:void 0)),a=computed((()=>{if(r&&"tooltip"===r.value)return n.open&&n.id?n.id:void 0})),s=computed((()=>{if(r&&"tooltip"!==r.value)return r.value})),l=computed((()=>s.value?`${n.open}`:void 0));let u;return onMounted((()=>{watch((()=>n.virtualRef),(e=>{e&&(o.value=unrefElement$1(e))}),{immediate:!0}),watch(o,((e,t)=>{null==u||u(),u=void 0,isElement$1(e)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach((r=>{var o;const i=n[r];i&&(e.addEventListener(r.slice(2).toLowerCase(),i),null==(o=null==t?void 0:t.removeEventListener)||o.call(t,r.slice(2).toLowerCase(),i))})),u=watch([i,a,s,l],(t=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(((n,r)=>{isNil(t[r])?e.removeAttribute(n):e.setAttribute(n,t[r])}))}),{immediate:!0})),isElement$1(t)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((e=>t.removeAttribute(e)))}),{immediate:!0})})),onBeforeUnmount((()=>{null==u||u(),u=void 0})),t({triggerRef:o}),(e,t)=>e.virtualTriggering?createCommentVNode("v-if",!0):(openBlock(),createBlock(unref(OnlyChild),mergeProps({key:0},e.$attrs,{"aria-controls":unref(i),"aria-describedby":unref(a),"aria-expanded":unref(l),"aria-haspopup":unref(s)}),{default:withCtx((()=>[renderSlot(e.$slots,"default")])),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var ElPopperTrigger=_export_sfc(_sfc_main$3k,[["__file","trigger.vue"]]);const FOCUS_AFTER_TRAPPED="focus-trap.focus-after-trapped",FOCUS_AFTER_RELEASED="focus-trap.focus-after-released",FOCUSOUT_PREVENTED="focus-trap.focusout-prevented",FOCUS_AFTER_TRAPPED_OPTS={cancelable:!0,bubbles:!1},FOCUSOUT_PREVENTED_OPTS={cancelable:!0,bubbles:!1},ON_TRAP_FOCUS_EVT="focusAfterTrapped",ON_RELEASE_FOCUS_EVT="focusAfterReleased",FOCUS_TRAP_INJECTION_KEY=Symbol("elFocusTrap"),focusReason=ref(),lastUserFocusTimestamp=ref(0),lastAutomatedFocusTimestamp=ref(0);let focusReasonUserCount=0;const obtainAllFocusableElements=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0||e===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},getVisibleElement=(e,t)=>{for(const n of e)if(!isHidden$1(n,t))return n},isHidden$1=(e,t)=>{if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1},getEdges=e=>{const t=obtainAllFocusableElements(e);return[getVisibleElement(t,e),getVisibleElement(t.reverse(),e)]},isSelectable=e=>e instanceof HTMLInputElement&&"select"in e,tryFocus=(e,t)=>{if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),lastAutomatedFocusTimestamp.value=window.performance.now(),e!==n&&isSelectable(e)&&t&&e.select()}};function removeFromStack(e,t){const n=[...e],r=e.indexOf(t);return-1!==r&&n.splice(r,1),n}const createFocusableStack=()=>{let e=[];return{push:t=>{const n=e[0];n&&t!==n&&n.pause(),e=removeFromStack(e,t),e.unshift(t)},remove:t=>{var n,r;e=removeFromStack(e,t),null==(r=null==(n=e[0])?void 0:n.resume)||r.call(n)}}},focusFirstDescendant=(e,t=!1)=>{const n=document.activeElement;for(const r of e)if(tryFocus(r,t),document.activeElement!==n)return},focusableStack=createFocusableStack(),isFocusCausedByUserEvent=()=>lastUserFocusTimestamp.value>lastAutomatedFocusTimestamp.value,notifyFocusReasonPointer=()=>{focusReason.value="pointer",lastUserFocusTimestamp.value=window.performance.now()},notifyFocusReasonKeydown=()=>{focusReason.value="keyboard",lastUserFocusTimestamp.value=window.performance.now()},useFocusReason=()=>(onMounted((()=>{0===focusReasonUserCount&&(document.addEventListener("mousedown",notifyFocusReasonPointer),document.addEventListener("touchstart",notifyFocusReasonPointer),document.addEventListener("keydown",notifyFocusReasonKeydown)),focusReasonUserCount++})),onBeforeUnmount((()=>{focusReasonUserCount--,focusReasonUserCount<=0&&(document.removeEventListener("mousedown",notifyFocusReasonPointer),document.removeEventListener("touchstart",notifyFocusReasonPointer),document.removeEventListener("keydown",notifyFocusReasonKeydown))})),{focusReason:focusReason,lastUserFocusTimestamp:lastUserFocusTimestamp,lastAutomatedFocusTimestamp:lastAutomatedFocusTimestamp}),createFocusOutPreventedEvent=e=>new CustomEvent(FOCUSOUT_PREVENTED,{...FOCUSOUT_PREVENTED_OPTS,detail:e}),_sfc_main$3j=defineComponent({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[ON_TRAP_FOCUS_EVT,ON_RELEASE_FOCUS_EVT,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=ref();let r,o;const{focusReason:i}=useFocusReason();useEscapeKeydown((n=>{e.trapped&&!a.paused&&t("release-requested",n)}));const a={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},s=n=>{if(!e.loop&&!e.trapped)return;if(a.paused)return;const{key:r,altKey:o,ctrlKey:s,metaKey:l,currentTarget:u,shiftKey:c}=n,{loop:d}=e,h=r===EVENT_CODE.tab&&!o&&!s&&!l,p=document.activeElement;if(h&&p){const e=u,[r,o]=getEdges(e);if(r&&o)if(c||p!==o){if(c&&[r,e].includes(p)){const e=createFocusOutPreventedEvent({focusReason:i.value});t("focusout-prevented",e),e.defaultPrevented||(n.preventDefault(),d&&tryFocus(o,!0))}}else{const e=createFocusOutPreventedEvent({focusReason:i.value});t("focusout-prevented",e),e.defaultPrevented||(n.preventDefault(),d&&tryFocus(r,!0))}else if(p===e){const e=createFocusOutPreventedEvent({focusReason:i.value});t("focusout-prevented",e),e.defaultPrevented||n.preventDefault()}}};provide(FOCUS_TRAP_INJECTION_KEY,{focusTrapRef:n,onKeydown:s}),watch((()=>e.focusTrapEl),(e=>{e&&(n.value=e)}),{immediate:!0}),watch([n],(([e],[t])=>{e&&(e.addEventListener("keydown",s),e.addEventListener("focusin",c),e.addEventListener("focusout",d)),t&&(t.removeEventListener("keydown",s),t.removeEventListener("focusin",c),t.removeEventListener("focusout",d))}));const l=e=>{t(ON_TRAP_FOCUS_EVT,e)},u=e=>t(ON_RELEASE_FOCUS_EVT,e),c=i=>{const s=unref(n);if(!s)return;const l=i.target,u=i.relatedTarget,c=l&&s.contains(l);if(!e.trapped){u&&s.contains(u)||(r=u)}c&&t("focusin",i),a.paused||e.trapped&&(c?o=l:tryFocus(o,!0))},d=r=>{const s=unref(n);if(!a.paused&&s)if(e.trapped){const n=r.relatedTarget;isNil(n)||s.contains(n)||setTimeout((()=>{if(!a.paused&&e.trapped){const e=createFocusOutPreventedEvent({focusReason:i.value});t("focusout-prevented",e),e.defaultPrevented||tryFocus(o,!0)}}),0)}else{const e=r.target;e&&s.contains(e)||t("focusout",r)}};async function h(){await nextTick();const t=unref(n);if(t){focusableStack.push(a);const n=t.contains(document.activeElement)?r:document.activeElement;r=n;if(!t.contains(n)){const r=new Event(FOCUS_AFTER_TRAPPED,FOCUS_AFTER_TRAPPED_OPTS);t.addEventListener(FOCUS_AFTER_TRAPPED,l),t.dispatchEvent(r),r.defaultPrevented||nextTick((()=>{let r=e.focusStartEl;isString$1(r)||(tryFocus(r),document.activeElement!==r&&(r="first")),"first"===r&&focusFirstDescendant(obtainAllFocusableElements(t),!0),document.activeElement!==n&&"container"!==r||tryFocus(t)}))}}}function p(){const e=unref(n);if(e){e.removeEventListener(FOCUS_AFTER_TRAPPED,l);const t=new CustomEvent(FOCUS_AFTER_RELEASED,{...FOCUS_AFTER_TRAPPED_OPTS,detail:{focusReason:i.value}});e.addEventListener(FOCUS_AFTER_RELEASED,u),e.dispatchEvent(t),t.defaultPrevented||"keyboard"!=i.value&&isFocusCausedByUserEvent()&&!e.contains(document.activeElement)||tryFocus(null!=r?r:document.body),e.removeEventListener(FOCUS_AFTER_RELEASED,u),focusableStack.remove(a)}}return onMounted((()=>{e.trapped&&h(),watch((()=>e.trapped),(e=>{e?h():p()}))})),onBeforeUnmount((()=>{e.trapped&&p()})),{onKeydown:s}}});function _sfc_render$H(e,t,n,r,o,i){return renderSlot(e.$slots,"default",{handleKeydown:e.onKeydown})}var ElFocusTrap=_export_sfc(_sfc_main$3j,[["render",_sfc_render$H],["__file","focus-trap.vue"]]);const POSITIONING_STRATEGIES=["fixed","absolute"],popperCoreConfigProps=buildProps({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:definePropType(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Ee,default:"bottom"},popperOptions:{type:definePropType(Object),default:()=>({})},strategy:{type:String,values:POSITIONING_STRATEGIES,default:"absolute"}}),popperContentProps=buildProps({...popperCoreConfigProps,id:String,style:{type:definePropType([String,Array,Object])},className:{type:definePropType([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:definePropType([String,Array,Object])},popperStyle:{type:definePropType([String,Array,Object])},referenceEl:{type:definePropType(Object)},triggerTargetEl:{type:definePropType(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),popperContentEmits={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},usePopperCoreConfigProps=popperCoreConfigProps,usePopperContentProps=popperContentProps,usePopperContentEmits=popperContentEmits,buildPopperOptions=(e,t=[])=>{const{placement:n,strategy:r,popperOptions:o}=e,i={placement:n,strategy:r,...o,modifiers:[...genModifiers(e),...t]};return deriveExtraModifiers(i,null==o?void 0:o.modifiers),i},unwrapMeasurableEl=e=>{if(isClient$1)return unrefElement$1(e)};function genModifiers(e){const{offset:t,gpuAcceleration:n,fallbackPlacements:r}=e;return[{name:"offset",options:{offset:[0,null!=t?t:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function deriveExtraModifiers(e,t){t&&(e.modifiers=[...e.modifiers,...null!=t?t:[]])}const DEFAULT_ARROW_OFFSET=0,usePopperContent=e=>{const{popperInstanceRef:t,contentRef:n,triggerRef:r,role:o}=inject(POPPER_INJECTION_KEY,void 0),i=ref(),a=ref(),s=computed((()=>({name:"eventListeners",enabled:!!e.visible}))),l=computed((()=>{var e;const t=unref(i),n=null!=(e=unref(a))?e:DEFAULT_ARROW_OFFSET;return{name:"arrow",enabled:!isUndefined$1(t),options:{element:t,padding:n}}})),u=computed((()=>({onFirstUpdate:()=>{f()},...buildPopperOptions(e,[unref(l),unref(s)])}))),c=computed((()=>unwrapMeasurableEl(e.referenceEl)||unref(r))),{attributes:d,state:h,styles:p,update:f,forceUpdate:m,instanceRef:_}=usePopper(c,n,u);return watch(_,(e=>t.value=e)),onMounted((()=>{watch((()=>{var e;return null==(e=unref(c))?void 0:e.getBoundingClientRect()}),(()=>{f()}))})),{attributes:d,arrowRef:i,contentRef:n,instanceRef:_,state:h,styles:p,role:o,forceUpdate:m,update:f}},usePopperContentDOM=(e,{attributes:t,styles:n,role:r})=>{const{nextZIndex:o}=useZIndex(),i=useNamespace("popper"),a=computed((()=>unref(t).popper)),s=ref(isNumber(e.zIndex)?e.zIndex:o()),l=computed((()=>[i.b(),i.is("pure",e.pure),i.is(e.effect),e.popperClass])),u=computed((()=>[{zIndex:unref(s)},unref(n).popper,e.popperStyle||{}]));return{ariaModal:computed((()=>"dialog"===r.value?"false":void 0)),arrowStyle:computed((()=>unref(n).arrow||{})),contentAttrs:a,contentClass:l,contentStyle:u,contentZIndex:s,updateZIndex:()=>{s.value=isNumber(e.zIndex)?e.zIndex:o()}}},usePopperContentFocusTrap=(e,t)=>{const n=ref(!1),r=ref();return{focusStartRef:r,trapped:n,onFocusAfterReleased:e=>{var n;"pointer"!==(null==(n=e.detail)?void 0:n.focusReason)&&(r.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:t=>{e.visible&&!n.value&&(t.target&&(r.value=t.target),n.value=!0)},onFocusoutPrevented:t=>{e.trapping||("pointer"===t.detail.focusReason&&t.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,t("close")}}},__default__$1t=defineComponent({name:"ElPopperContent"}),_sfc_main$3i=defineComponent({...__default__$1t,props:popperContentProps,emits:popperContentEmits,setup(e,{expose:t,emit:n}){const r=e,{focusStartRef:o,trapped:i,onFocusAfterReleased:a,onFocusAfterTrapped:s,onFocusInTrap:l,onFocusoutPrevented:u,onReleaseRequested:c}=usePopperContentFocusTrap(r,n),{attributes:d,arrowRef:h,contentRef:p,styles:f,instanceRef:m,role:_,update:g}=usePopperContent(r),{ariaModal:v,arrowStyle:y,contentAttrs:b,contentClass:E,contentStyle:C,updateZIndex:x}=usePopperContentDOM(r,{styles:f,attributes:d,role:_}),w=inject(formItemContextKey,void 0),S=ref();let T;provide(POPPER_CONTENT_INJECTION_KEY,{arrowStyle:y,arrowRef:h,arrowOffset:S}),w&&(w.addInputId||w.removeInputId)&&provide(formItemContextKey,{...w,addInputId:NOOP,removeInputId:NOOP});const k=(e=!0)=>{g(),e&&x()},L=()=>{k(!1),r.visible&&r.focusOnShow?i.value=!0:!1===r.visible&&(i.value=!1)};return onMounted((()=>{watch((()=>r.triggerTargetEl),((e,t)=>{null==T||T(),T=void 0;const n=unref(e||p.value),o=unref(t||p.value);isElement$1(n)&&(T=watch([_,()=>r.ariaLabel,v,()=>r.id],(e=>{["role","aria-label","aria-modal","id"].forEach(((t,r)=>{isNil(e[r])?n.removeAttribute(t):n.setAttribute(t,e[r])}))}),{immediate:!0})),o!==n&&isElement$1(o)&&["role","aria-label","aria-modal","id"].forEach((e=>{o.removeAttribute(e)}))}),{immediate:!0}),watch((()=>r.visible),L,{immediate:!0})})),onBeforeUnmount((()=>{null==T||T(),T=void 0})),t({popperContentRef:p,popperInstanceRef:m,updatePopper:k,contentStyle:C}),(e,t)=>(openBlock(),createElementBlock("div",mergeProps({ref_key:"contentRef",ref:p},unref(b),{style:unref(C),class:unref(E),tabindex:"-1",onMouseenter:t[0]||(t[0]=t=>e.$emit("mouseenter",t)),onMouseleave:t[1]||(t[1]=t=>e.$emit("mouseleave",t))}),[createVNode(unref(ElFocusTrap),{trapped:unref(i),"trap-on-focus-in":!0,"focus-trap-el":unref(p),"focus-start-el":unref(o),onFocusAfterTrapped:unref(s),onFocusAfterReleased:unref(a),onFocusin:unref(l),onFocusoutPrevented:unref(u),onReleaseRequested:unref(c)},{default:withCtx((()=>[renderSlot(e.$slots,"default")])),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var ElPopperContent=_export_sfc(_sfc_main$3i,[["__file","content.vue"]]);const ElPopper=withInstall(Popper),TOOLTIP_INJECTION_KEY=Symbol("elTooltip"),useTooltipContentProps=buildProps({...useDelayedToggleProps,...popperContentProps,appendTo:{type:definePropType([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:definePropType(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),useTooltipTriggerProps=buildProps({...popperTriggerProps,disabled:Boolean,trigger:{type:definePropType([String,Array]),default:"hover"},triggerKeys:{type:definePropType(Array),default:()=>[EVENT_CODE.enter,EVENT_CODE.space]}}),{useModelToggleProps:useTooltipModelToggleProps,useModelToggleEmits:useTooltipModelToggleEmits,useModelToggle:useTooltipModelToggle}=createModelToggleComposable("visible"),useTooltipProps=buildProps({...popperProps,...useTooltipModelToggleProps,...useTooltipContentProps,...useTooltipTriggerProps,...popperArrowProps,showArrow:{type:Boolean,default:!0}}),tooltipEmits=[...useTooltipModelToggleEmits,"before-show","before-hide","show","hide","open","close"],isTriggerType=(e,t)=>isArray$1(e)?e.includes(t):e===t,whenTrigger=(e,t,n)=>r=>{isTriggerType(unref(e),t)&&n(r)},__default__$1s=defineComponent({name:"ElTooltipTrigger"}),_sfc_main$3h=defineComponent({...__default__$1s,props:useTooltipTriggerProps,setup(e,{expose:t}){const n=e,r=useNamespace("tooltip"),{controlled:o,id:i,open:a,onOpen:s,onClose:l,onToggle:u}=inject(TOOLTIP_INJECTION_KEY,void 0),c=ref(null),d=()=>{if(unref(o)||n.disabled)return!0},h=toRef$1(n,"trigger"),p=composeEventHandlers(d,whenTrigger(h,"hover",s)),f=composeEventHandlers(d,whenTrigger(h,"hover",l)),m=composeEventHandlers(d,whenTrigger(h,"click",(e=>{0===e.button&&u(e)}))),_=composeEventHandlers(d,whenTrigger(h,"focus",s)),g=composeEventHandlers(d,whenTrigger(h,"focus",l)),v=composeEventHandlers(d,whenTrigger(h,"contextmenu",(e=>{e.preventDefault(),u(e)}))),y=composeEventHandlers(d,(e=>{const{code:t}=e;n.triggerKeys.includes(t)&&(e.preventDefault(),u(e))}));return t({triggerRef:c}),(e,t)=>(openBlock(),createBlock(unref(ElPopperTrigger),{id:unref(i),"virtual-ref":e.virtualRef,open:unref(a),"virtual-triggering":e.virtualTriggering,class:normalizeClass(unref(r).e("trigger")),onBlur:unref(g),onClick:unref(m),onContextmenu:unref(v),onFocus:unref(_),onMouseenter:unref(p),onMouseleave:unref(f),onKeydown:unref(y)},{default:withCtx((()=>[renderSlot(e.$slots,"default")])),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var ElTooltipTrigger=_export_sfc(_sfc_main$3h,[["__file","trigger.vue"]]);const __default__$1r=defineComponent({name:"ElTooltipContent",inheritAttrs:!1}),_sfc_main$3g=defineComponent({...__default__$1r,props:useTooltipContentProps,setup(e,{expose:t}){const n=e,{selector:r}=usePopperContainerId(),o=useNamespace("tooltip"),i=ref(null),a=ref(!1),{controlled:s,id:l,open:u,trigger:c,onClose:d,onOpen:h,onShow:p,onHide:f,onBeforeShow:m,onBeforeHide:_}=inject(TOOLTIP_INJECTION_KEY,void 0),g=computed((()=>n.transition||`${o.namespace.value}-fade-in-linear`)),v=computed((()=>n.persistent));onBeforeUnmount((()=>{a.value=!0}));const y=computed((()=>!!unref(v)||unref(u))),b=computed((()=>!n.disabled&&unref(u))),E=computed((()=>n.appendTo||r.value)),C=computed((()=>{var e;return null!=(e=n.style)?e:{}})),x=computed((()=>!unref(u))),w=()=>{f()},S=()=>{if(unref(s))return!0},T=composeEventHandlers(S,(()=>{n.enterable&&"hover"===unref(c)&&h()})),k=composeEventHandlers(S,(()=>{"hover"===unref(c)&&d()})),L=()=>{var e,t;null==(t=null==(e=i.value)?void 0:e.updatePopper)||t.call(e),null==m||m()},P=()=>{null==_||_()},M=()=>{p(),N=onClickOutside$1(computed((()=>{var e;return null==(e=i.value)?void 0:e.popperContentRef})),(()=>{if(unref(s))return;"hover"!==unref(c)&&d()}))},O=()=>{n.virtualTriggering||d()};let N;return watch((()=>unref(u)),(e=>{e||null==N||N()}),{flush:"post"}),watch((()=>n.content),(()=>{var e,t;null==(t=null==(e=i.value)?void 0:e.updatePopper)||t.call(e)})),t({contentRef:i}),(e,t)=>(openBlock(),createBlock(Teleport,{disabled:!e.teleported,to:unref(E)},[createVNode(Transition,{name:unref(g),onAfterLeave:w,onBeforeEnter:L,onAfterEnter:M,onBeforeLeave:P},{default:withCtx((()=>[unref(y)?withDirectives((openBlock(),createBlock(unref(ElPopperContent),mergeProps({key:0,id:unref(l),ref_key:"contentRef",ref:i},e.$attrs,{"aria-label":e.ariaLabel,"aria-hidden":unref(x),"boundaries-padding":e.boundariesPadding,"fallback-placements":e.fallbackPlacements,"gpu-acceleration":e.gpuAcceleration,offset:e.offset,placement:e.placement,"popper-options":e.popperOptions,strategy:e.strategy,effect:e.effect,enterable:e.enterable,pure:e.pure,"popper-class":e.popperClass,"popper-style":[e.popperStyle,unref(C)],"reference-el":e.referenceEl,"trigger-target-el":e.triggerTargetEl,visible:unref(b),"z-index":e.zIndex,onMouseenter:unref(T),onMouseleave:unref(k),onBlur:O,onClose:unref(d)}),{default:withCtx((()=>[a.value?createCommentVNode("v-if",!0):renderSlot(e.$slots,"default",{key:0})])),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[vShow,unref(b)]]):createCommentVNode("v-if",!0)])),_:3},8,["name"])],8,["disabled","to"]))}});var ElTooltipContent=_export_sfc(_sfc_main$3g,[["__file","content.vue"]]);const _hoisted_1$1$=["innerHTML"],_hoisted_2$1j={key:1},__default__$1q=defineComponent({name:"ElTooltip"}),_sfc_main$3f=defineComponent({...__default__$1q,props:useTooltipProps,emits:tooltipEmits,setup(e,{expose:t,emit:n}){const r=e;usePopperContainer();const o=useId(),i=ref(),a=ref(),s=()=>{var e;const t=unref(i);t&&(null==(e=t.popperInstanceRef)||e.update())},l=ref(!1),u=ref(),{show:c,hide:d,hasUpdateHandler:h}=useTooltipModelToggle({indicator:l,toggleReason:u}),{onOpen:p,onClose:f}=useDelayedToggle({showAfter:toRef$1(r,"showAfter"),hideAfter:toRef$1(r,"hideAfter"),autoClose:toRef$1(r,"autoClose"),open:c,close:d}),m=computed((()=>isBoolean(r.visible)&&!h.value));provide(TOOLTIP_INJECTION_KEY,{controlled:m,id:o,open:readonly(l),trigger:toRef$1(r,"trigger"),onOpen:e=>{p(e)},onClose:e=>{f(e)},onToggle:e=>{unref(l)?f(e):p(e)},onShow:()=>{n("show",u.value)},onHide:()=>{n("hide",u.value)},onBeforeShow:()=>{n("before-show",u.value)},onBeforeHide:()=>{n("before-hide",u.value)},updatePopper:s}),watch((()=>r.disabled),(e=>{e&&l.value&&(l.value=!1)}));return onDeactivated((()=>l.value&&d())),t({popperRef:i,contentRef:a,isFocusInsideContent:e=>{var t,n;const r=null==(n=null==(t=a.value)?void 0:t.contentRef)?void 0:n.popperContentRef,o=(null==e?void 0:e.relatedTarget)||document.activeElement;return r&&r.contains(o)},updatePopper:s,onOpen:p,onClose:f,hide:d}),(e,t)=>(openBlock(),createBlock(unref(ElPopper),{ref_key:"popperRef",ref:i,role:e.role},{default:withCtx((()=>[createVNode(ElTooltipTrigger,{disabled:e.disabled,trigger:e.trigger,"trigger-keys":e.triggerKeys,"virtual-ref":e.virtualRef,"virtual-triggering":e.virtualTriggering},{default:withCtx((()=>[e.$slots.default?renderSlot(e.$slots,"default",{key:0}):createCommentVNode("v-if",!0)])),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),createVNode(ElTooltipContent,{ref_key:"contentRef",ref:a,"aria-label":e.ariaLabel,"boundaries-padding":e.boundariesPadding,content:e.content,disabled:e.disabled,effect:e.effect,enterable:e.enterable,"fallback-placements":e.fallbackPlacements,"hide-after":e.hideAfter,"gpu-acceleration":e.gpuAcceleration,offset:e.offset,persistent:e.persistent,"popper-class":e.popperClass,"popper-style":e.popperStyle,placement:e.placement,"popper-options":e.popperOptions,pure:e.pure,"raw-content":e.rawContent,"reference-el":e.referenceEl,"trigger-target-el":e.triggerTargetEl,"show-after":e.showAfter,strategy:e.strategy,teleported:e.teleported,transition:e.transition,"virtual-triggering":e.virtualTriggering,"z-index":e.zIndex,"append-to":e.appendTo},{default:withCtx((()=>[renderSlot(e.$slots,"content",{},(()=>[e.rawContent?(openBlock(),createElementBlock("span",{key:0,innerHTML:e.content},null,8,_hoisted_1$1$)):(openBlock(),createElementBlock("span",_hoisted_2$1j,toDisplayString(e.content),1))])),e.showArrow?(openBlock(),createBlock(unref(ElPopperArrow),{key:0,"arrow-offset":e.arrowOffset},null,8,["arrow-offset"])):createCommentVNode("v-if",!0)])),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])])),_:3},8,["role"]))}});var Tooltip=_export_sfc(_sfc_main$3f,[["__file","tooltip.vue"]]);const ElTooltip=withInstall(Tooltip),autocompleteProps=buildProps({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:definePropType(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:definePropType([Function,Array]),default:NOOP},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},label:{type:String},teleported:useTooltipContentProps.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String}),autocompleteEmits={[UPDATE_MODEL_EVENT]:e=>isString$1(e),[INPUT_EVENT]:e=>isString$1(e),[CHANGE_EVENT]:e=>isString$1(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,select:e=>isObject$2(e)},_hoisted_1$1_=["aria-expanded","aria-owns"],_hoisted_2$1i={key:0},_hoisted_3$O=["id","aria-selected","onClick"],COMPONENT_NAME$i="ElAutocomplete",__default__$1p=defineComponent({name:COMPONENT_NAME$i,inheritAttrs:!1}),_sfc_main$3e=defineComponent({...__default__$1p,props:autocompleteProps,emits:autocompleteEmits,setup(e,{expose:t,emit:n}){const r=e,o=useAttrs(),i=useAttrs$1(),a=useFormDisabled(),s=useNamespace("autocomplete"),l=ref(),u=ref(),c=ref(),d=ref();let h=!1,p=!1;const f=ref([]),m=ref(-1),_=ref(""),g=ref(!1),v=ref(!1),y=ref(!1),b=computed((()=>s.b(String(generateId())))),E=computed((()=>i.style)),C=computed((()=>(f.value.length>0||y.value)&&g.value)),x=computed((()=>!r.hideLoading&&y.value)),w=computed((()=>l.value?Array.from(l.value.$el.querySelectorAll("input")):[])),S=()=>{C.value&&(_.value=`${l.value.$el.offsetWidth}px`)},T=()=>{m.value=-1},k=debounce((async e=>{if(v.value)return;const t=e=>{y.value=!1,v.value||(isArray$1(e)?(f.value=e,m.value=r.highlightFirstItem?0:-1):throwError(COMPONENT_NAME$i,"autocomplete suggestions must be an array"))};if(y.value=!0,isArray$1(r.fetchSuggestions))t(r.fetchSuggestions);else{const n=await r.fetchSuggestions(e,t);isArray$1(n)&&t(n)}}),r.debounce),L=e=>{const t=!!e;if(n(INPUT_EVENT,e),n(UPDATE_MODEL_EVENT,e),v.value=!1,g.value||(g.value=t),!r.triggerOnFocus&&!e)return v.value=!0,void(f.value=[]);k(e)},P=e=>{var t;a.value||("INPUT"!==(null==(t=e.target)?void 0:t.tagName)||w.value.includes(document.activeElement))&&(g.value=!0)},M=e=>{n(CHANGE_EVENT,e)},O=e=>{p?p=!1:(g.value=!0,n("focus",e),r.triggerOnFocus&&!h&&k(String(r.modelValue)))},N=e=>{setTimeout((()=>{var t;(null==(t=c.value)?void 0:t.isFocusInsideContent())?p=!0:(g.value&&$(),n("blur",e))}))},A=()=>{g.value=!1,n(UPDATE_MODEL_EVENT,""),n("clear")},I=async()=>{C.value&&m.value>=0&&m.value<f.value.length?B(f.value[m.value]):r.selectWhenUnmatched&&(n("select",{value:r.modelValue}),f.value=[],m.value=-1)},R=e=>{C.value&&(e.preventDefault(),e.stopPropagation(),$())},$=()=>{g.value=!1},B=async e=>{n(INPUT_EVENT,e[r.valueKey]),n(UPDATE_MODEL_EVENT,e[r.valueKey]),n("select",e),f.value=[],m.value=-1},D=e=>{if(!C.value||y.value)return;if(e<0)return void(m.value=-1);e>=f.value.length&&(e=f.value.length-1);const t=u.value.querySelector(`.${s.be("suggestion","wrap")}`),n=t.querySelectorAll(`.${s.be("suggestion","list")} li`)[e],r=t.scrollTop,{offsetTop:o,scrollHeight:i}=n;o+i>r+t.clientHeight&&(t.scrollTop+=i),o<r&&(t.scrollTop-=i),m.value=e,l.value.ref.setAttribute("aria-activedescendant",`${b.value}-item-${m.value}`)};return onClickOutside$1(d,(()=>{C.value&&$()})),onMounted((()=>{l.value.ref.setAttribute("role","textbox"),l.value.ref.setAttribute("aria-autocomplete","list"),l.value.ref.setAttribute("aria-controls","id"),l.value.ref.setAttribute("aria-activedescendant",`${b.value}-item-${m.value}`),h=l.value.ref.hasAttribute("readonly")})),t({highlightedIndex:m,activated:g,loading:y,inputRef:l,popperRef:c,suggestions:f,handleSelect:B,handleKeyEnter:I,focus:()=>{var e;null==(e=l.value)||e.focus()},blur:()=>{var e;null==(e=l.value)||e.blur()},close:$,highlight:D}),(e,t)=>(openBlock(),createBlock(unref(ElTooltip),{ref_key:"popperRef",ref:c,visible:unref(C),placement:e.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[unref(s).e("popper"),e.popperClass],teleported:e.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${unref(s).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:S,onHide:T},{content:withCtx((()=>[createBaseVNode("div",{ref_key:"regionRef",ref:u,class:normalizeClass([unref(s).b("suggestion"),unref(s).is("loading",unref(x))]),style:normalizeStyle({[e.fitInputWidth?"width":"minWidth"]:_.value,outline:"none"}),role:"region"},[createVNode(unref(ElScrollbar),{id:unref(b),tag:"ul","wrap-class":unref(s).be("suggestion","wrap"),"view-class":unref(s).be("suggestion","list"),role:"listbox"},{default:withCtx((()=>[unref(x)?(openBlock(),createElementBlock("li",_hoisted_2$1i,[createVNode(unref(ElIcon),{class:normalizeClass(unref(s).is("loading"))},{default:withCtx((()=>[createVNode(unref(loading_default))])),_:1},8,["class"])])):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(f.value,((t,n)=>(openBlock(),createElementBlock("li",{id:`${unref(b)}-item-${n}`,key:n,class:normalizeClass({highlighted:m.value===n}),role:"option","aria-selected":m.value===n,onClick:e=>B(t)},[renderSlot(e.$slots,"default",{item:t},(()=>[createTextVNode(toDisplayString(t[e.valueKey]),1)]))],10,_hoisted_3$O)))),128))])),_:3},8,["id","wrap-class","view-class"])],6)])),default:withCtx((()=>[createBaseVNode("div",{ref_key:"listboxRef",ref:d,class:normalizeClass([unref(s).b(),e.$attrs.class]),style:normalizeStyle(unref(E)),role:"combobox","aria-haspopup":"listbox","aria-expanded":unref(C),"aria-owns":unref(b)},[createVNode(unref(ElInput),mergeProps({ref_key:"inputRef",ref:l},unref(o),{clearable:e.clearable,disabled:unref(a),name:e.name,"model-value":e.modelValue,onInput:L,onChange:M,onFocus:O,onBlur:N,onClear:A,onKeydown:[t[0]||(t[0]=withKeys(withModifiers((e=>D(m.value-1)),["prevent"]),["up"])),t[1]||(t[1]=withKeys(withModifiers((e=>D(m.value+1)),["prevent"]),["down"])),withKeys(I,["enter"]),withKeys($,["tab"]),withKeys(R,["esc"])],onMousedown:P}),createSlots({_:2},[e.$slots.prepend?{name:"prepend",fn:withCtx((()=>[renderSlot(e.$slots,"prepend")]))}:void 0,e.$slots.append?{name:"append",fn:withCtx((()=>[renderSlot(e.$slots,"append")]))}:void 0,e.$slots.prefix?{name:"prefix",fn:withCtx((()=>[renderSlot(e.$slots,"prefix")]))}:void 0,e.$slots.suffix?{name:"suffix",fn:withCtx((()=>[renderSlot(e.$slots,"suffix")]))}:void 0]),1040,["clearable","disabled","name","model-value","onKeydown"])],14,_hoisted_1$1_)])),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var Autocomplete=_export_sfc(_sfc_main$3e,[["__file","autocomplete.vue"]]);const ElAutocomplete=withInstall(Autocomplete),avatarProps=buildProps({size:{type:[Number,String],values:componentSizes,default:"",validator:e=>isNumber(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:iconPropType},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:definePropType(String),default:"cover"}}),avatarEmits={error:e=>e instanceof Event},_hoisted_1$1Z=["src","alt","srcset"],__default__$1o=defineComponent({name:"ElAvatar"}),_sfc_main$3d=defineComponent({...__default__$1o,props:avatarProps,emits:avatarEmits,setup(e,{emit:t}){const n=e,r=useNamespace("avatar"),o=ref(!1),i=computed((()=>{const{size:e,icon:t,shape:o}=n,i=[r.b()];return isString$1(e)&&i.push(r.m(e)),t&&i.push(r.m("icon")),o&&i.push(r.m(o)),i})),a=computed((()=>{const{size:e}=n;return isNumber(e)?r.cssVarBlock({size:addUnit(e)||""}):void 0})),s=computed((()=>({objectFit:n.fit})));function l(e){o.value=!0,t("error",e)}return watch((()=>n.src),(()=>o.value=!1)),(e,t)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(i)),style:normalizeStyle(unref(a))},[!e.src&&!e.srcSet||o.value?e.icon?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.icon)))])),_:1})):renderSlot(e.$slots,"default",{key:2}):(openBlock(),createElementBlock("img",{key:0,src:e.src,alt:e.alt,srcset:e.srcSet,style:normalizeStyle(unref(s)),onError:l},null,44,_hoisted_1$1Z))],6))}});var Avatar=_export_sfc(_sfc_main$3d,[["__file","avatar.vue"]]);const ElAvatar=withInstall(Avatar),backtopProps={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},backtopEmits={click:e=>e instanceof MouseEvent},useBackTop=(e,t,n)=>{const r=shallowRef(),o=shallowRef(),i=ref(!1),a=()=>{r.value&&(i.value=r.value.scrollTop>=e.visibilityHeight)},s=useThrottleFn(a,300,!0);return useEventListener$1(o,"scroll",s),onMounted((()=>{var t;o.value=document,r.value=document.documentElement,e.target&&(r.value=null!=(t=document.querySelector(e.target))?t:void 0,r.value||throwError(n,`target does not exist: ${e.target}`),o.value=r.value),a()})),{visible:i,handleClick:e=>{var n;null==(n=r.value)||n.scrollTo({top:0,behavior:"smooth"}),t("click",e)}}},COMPONENT_NAME$h="ElBacktop",__default__$1n=defineComponent({name:COMPONENT_NAME$h}),_sfc_main$3c=defineComponent({...__default__$1n,props:backtopProps,emits:backtopEmits,setup(e,{emit:t}){const n=e,r=useNamespace("backtop"),{handleClick:o,visible:i}=useBackTop(n,t,COMPONENT_NAME$h),a=computed((()=>({right:`${n.right}px`,bottom:`${n.bottom}px`})));return(e,t)=>(openBlock(),createBlock(Transition,{name:`${unref(r).namespace.value}-fade-in`},{default:withCtx((()=>[unref(i)?(openBlock(),createElementBlock("div",{key:0,style:normalizeStyle(unref(a)),class:normalizeClass(unref(r).b()),onClick:t[0]||(t[0]=withModifiers(((...e)=>unref(o)&&unref(o)(...e)),["stop"]))},[renderSlot(e.$slots,"default",{},(()=>[createVNode(unref(ElIcon),{class:normalizeClass(unref(r).e("icon"))},{default:withCtx((()=>[createVNode(unref(caret_top_default))])),_:1},8,["class"])]))],6)):createCommentVNode("v-if",!0)])),_:3},8,["name"]))}});var Backtop=_export_sfc(_sfc_main$3c,[["__file","backtop.vue"]]);const ElBacktop=withInstall(Backtop),badgeProps=buildProps({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),_hoisted_1$1Y=["textContent"],__default__$1m=defineComponent({name:"ElBadge"}),_sfc_main$3b=defineComponent({...__default__$1m,props:badgeProps,setup(e,{expose:t}){const n=e,r=useNamespace("badge"),o=computed((()=>n.isDot?"":isNumber(n.value)&&isNumber(n.max)&&n.max<n.value?`${n.max}+`:`${n.value}`));return t({content:o}),(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(r).b())},[renderSlot(e.$slots,"default"),createVNode(Transition,{name:`${unref(r).namespace.value}-zoom-in-center`,persisted:""},{default:withCtx((()=>[withDirectives(createBaseVNode("sup",{class:normalizeClass([unref(r).e("content"),unref(r).em("content",e.type),unref(r).is("fixed",!!e.$slots.default),unref(r).is("dot",e.isDot)]),textContent:toDisplayString(unref(o))},null,10,_hoisted_1$1Y),[[vShow,!e.hidden&&(unref(o)||e.isDot)]])])),_:1},8,["name"])],2))}});var Badge=_export_sfc(_sfc_main$3b,[["__file","badge.vue"]]);const ElBadge=withInstall(Badge),breadcrumbKey=Symbol("breadcrumbKey"),breadcrumbProps=buildProps({separator:{type:String,default:"/"},separatorIcon:{type:iconPropType}}),__default__$1l=defineComponent({name:"ElBreadcrumb"}),_sfc_main$3a=defineComponent({...__default__$1l,props:breadcrumbProps,setup(e){const t=e,n=useNamespace("breadcrumb"),r=ref();return provide(breadcrumbKey,t),onMounted((()=>{const e=r.value.querySelectorAll(`.${n.e("item")}`);e.length&&e[e.length-1].setAttribute("aria-current","page")})),(e,t)=>(openBlock(),createElementBlock("div",{ref_key:"breadcrumb",ref:r,class:normalizeClass(unref(n).b()),"aria-label":"Breadcrumb",role:"navigation"},[renderSlot(e.$slots,"default")],2))}});var Breadcrumb=_export_sfc(_sfc_main$3a,[["__file","breadcrumb.vue"]]);const breadcrumbItemProps=buildProps({to:{type:definePropType([String,Object]),default:""},replace:{type:Boolean,default:!1}}),__default__$1k=defineComponent({name:"ElBreadcrumbItem"}),_sfc_main$39=defineComponent({...__default__$1k,props:breadcrumbItemProps,setup(e){const t=e,n=getCurrentInstance(),r=inject(breadcrumbKey,void 0),o=useNamespace("breadcrumb"),i=n.appContext.config.globalProperties.$router,a=ref(),s=()=>{t.to&&i&&(t.replace?i.replace(t.to):i.push(t.to))};return(e,t)=>{var n,i;return openBlock(),createElementBlock("span",{class:normalizeClass(unref(o).e("item"))},[createBaseVNode("span",{ref_key:"link",ref:a,class:normalizeClass([unref(o).e("inner"),unref(o).is("link",!!e.to)]),role:"link",onClick:s},[renderSlot(e.$slots,"default")],2),(null==(n=unref(r))?void 0:n.separatorIcon)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(o).e("separator"))},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(r).separatorIcon)))])),_:1},8,["class"])):(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(o).e("separator")),role:"presentation"},toDisplayString(null==(i=unref(r))?void 0:i.separator),3))],2)}}});var BreadcrumbItem=_export_sfc(_sfc_main$39,[["__file","breadcrumb-item.vue"]]);const ElBreadcrumb=withInstall(Breadcrumb,{BreadcrumbItem:BreadcrumbItem}),ElBreadcrumbItem=withNoopInstall(BreadcrumbItem),buttonGroupContextKey=Symbol("buttonGroupContextKey"),useButton=(e,t)=>{useDeprecated({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},computed((()=>"text"===e.type)));const n=inject(buttonGroupContextKey,void 0),r=useGlobalConfig("button"),{form:o}=useFormItem(),i=useFormSize(computed((()=>null==n?void 0:n.size))),a=useFormDisabled(),s=ref(),l=useSlots(),u=computed((()=>e.type||(null==n?void 0:n.type)||"")),c=computed((()=>{var t,n,o;return null!=(o=null!=(n=e.autoInsertSpace)?n:null==(t=r.value)?void 0:t.autoInsertSpace)&&o})),d=computed((()=>"button"===e.tag?{ariaDisabled:a.value||e.loading,disabled:a.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{})),h=computed((()=>{var e;const t=null==(e=l.default)?void 0:e.call(l);if(c.value&&1===(null==t?void 0:t.length)){const e=t[0];if((null==e?void 0:e.type)===Text$3){const t=e.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(t.trim())}}return!1}));return{_disabled:a,_size:i,_type:u,_ref:s,_props:d,shouldAddSpace:h,handleClick:n=>{"reset"===e.nativeType&&(null==o||o.resetFields()),t("click",n)}}},buttonTypes=["default","primary","success","warning","info","danger","text",""],buttonNativeTypes=["button","submit","reset"],buttonProps=buildProps({size:useSizeProp,disabled:Boolean,type:{type:String,values:buttonTypes,default:""},icon:{type:iconPropType},nativeType:{type:String,values:buttonNativeTypes,default:"button"},loading:Boolean,loadingIcon:{type:iconPropType,default:()=>loading_default},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:definePropType([String,Object]),default:"button"}}),buttonEmits={click:e=>e instanceof MouseEvent};function bound01$1(e,t){isOnePointZero$1(e)&&(e="100%");var n=isPercentage$1(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function clamp01(e){return Math.min(1,Math.max(0,e))}function isOnePointZero$1(e){return"string"==typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)}function isPercentage$1(e){return"string"==typeof e&&-1!==e.indexOf("%")}function boundAlpha(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function convertToPercentage(e){return e<=1?"".concat(100*Number(e),"%"):e}function pad2(e){return 1===e.length?"0"+e:String(e)}function rgbToRgb(e,t,n){return{r:255*bound01$1(e,255),g:255*bound01$1(t,255),b:255*bound01$1(n,255)}}function rgbToHsl(e,t,n){e=bound01$1(e,255),t=bound01$1(t,255),n=bound01$1(n,255);var r=Math.max(e,t,n),o=Math.min(e,t,n),i=0,a=0,s=(r+o)/2;if(r===o)a=0,i=0;else{var l=r-o;switch(a=s>.5?l/(2-r-o):l/(r+o),r){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4}i/=6}return{h:i,s:a,l:s}}function hue2rgb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hslToRgb(e,t,n){var r,o,i;if(e=bound01$1(e,360),t=bound01$1(t,100),n=bound01$1(n,100),0===t)o=n,i=n,r=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;r=hue2rgb(s,a,e+1/3),o=hue2rgb(s,a,e),i=hue2rgb(s,a,e-1/3)}return{r:255*r,g:255*o,b:255*i}}function rgbToHsv(e,t,n){e=bound01$1(e,255),t=bound01$1(t,255),n=bound01$1(n,255);var r=Math.max(e,t,n),o=Math.min(e,t,n),i=0,a=r,s=r-o,l=0===r?0:s/r;if(r===o)i=0;else{switch(r){case e:i=(t-n)/s+(t<n?6:0);break;case t:i=(n-e)/s+2;break;case n:i=(e-t)/s+4}i/=6}return{h:i,s:l,v:a}}function hsvToRgb(e,t,n){e=6*bound01$1(e,360),t=bound01$1(t,100),n=bound01$1(n,100);var r=Math.floor(e),o=e-r,i=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),l=r%6;return{r:255*[n,a,i,i,s,n][l],g:255*[s,n,n,a,i,i][l],b:255*[i,i,s,n,n,a][l]}}function rgbToHex(e,t,n,r){var o=[pad2(Math.round(e).toString(16)),pad2(Math.round(t).toString(16)),pad2(Math.round(n).toString(16))];return r&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function rgbaToHex(e,t,n,r,o){var i=[pad2(Math.round(e).toString(16)),pad2(Math.round(t).toString(16)),pad2(Math.round(n).toString(16)),pad2(convertDecimalToHex(r))];return o&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))&&i[3].startsWith(i[3].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function convertDecimalToHex(e){return Math.round(255*parseFloat(e)).toString(16)}function convertHexToDecimal(e){return parseIntFromHex(e)/255}function parseIntFromHex(e){return parseInt(e,16)}function numberInputToObject(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}var names$x={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function inputToRGB(e){var t={r:0,g:0,b:0},n=1,r=null,o=null,i=null,a=!1,s=!1;return"string"==typeof e&&(e=stringInputToObject(e)),"object"==typeof e&&(isValidCSSUnit(e.r)&&isValidCSSUnit(e.g)&&isValidCSSUnit(e.b)?(t=rgbToRgb(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):isValidCSSUnit(e.h)&&isValidCSSUnit(e.s)&&isValidCSSUnit(e.v)?(r=convertToPercentage(e.s),o=convertToPercentage(e.v),t=hsvToRgb(e.h,r,o),a=!0,s="hsv"):isValidCSSUnit(e.h)&&isValidCSSUnit(e.s)&&isValidCSSUnit(e.l)&&(r=convertToPercentage(e.s),i=convertToPercentage(e.l),t=hslToRgb(e.h,r,i),a=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=boundAlpha(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:".concat(CSS_NUMBER,")|(?:").concat(CSS_INTEGER,")"),PERMISSIVE_MATCH3="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),PERMISSIVE_MATCH4="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),matchers={CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function stringInputToObject(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(names$x[e])e=names$x[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=matchers.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=matchers.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=matchers.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=matchers.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=matchers.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=matchers.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=matchers.hex8.exec(e))?{r:parseIntFromHex(n[1]),g:parseIntFromHex(n[2]),b:parseIntFromHex(n[3]),a:convertHexToDecimal(n[4]),format:t?"name":"hex8"}:(n=matchers.hex6.exec(e))?{r:parseIntFromHex(n[1]),g:parseIntFromHex(n[2]),b:parseIntFromHex(n[3]),format:t?"name":"hex"}:(n=matchers.hex4.exec(e))?{r:parseIntFromHex(n[1]+n[1]),g:parseIntFromHex(n[2]+n[2]),b:parseIntFromHex(n[3]+n[3]),a:convertHexToDecimal(n[4]+n[4]),format:t?"name":"hex8"}:!!(n=matchers.hex3.exec(e))&&{r:parseIntFromHex(n[1]+n[1]),g:parseIntFromHex(n[2]+n[2]),b:parseIntFromHex(n[3]+n[3]),format:t?"name":"hex"}}function isValidCSSUnit(e){return Boolean(matchers.CSS_UNIT.exec(String(e)))}var TinyColor=function(){function e(t,n){var r;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"==typeof t&&(t=numberInputToObject(t)),this.originalInput=t;var o=inputToRGB(t);this.originalInput=t,this.r=o.r,this.g=o.g,this.b=o.b,this.a=o.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:o.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=o.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=boundAlpha(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){return 0===this.toHsl().s},e.prototype.toHsv=function(){var e=rgbToHsv(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=rgbToHsv(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=rgbToHsl(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=rgbToHsl(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),rgbToHex(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),rgbaToHex(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toHexShortString=function(e){return void 0===e&&(e=!1),1===this.a?this.toHexString(e):this.toHex8String(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*bound01$1(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*bound01$1(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+rgbToHex(this.r,this.g,this.b,!1),t=0,n=Object.entries(names$x);t<n.length;t++){var r=n[t],o=r[0];if(e===r[1])return o}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!=e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=clamp01(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=clamp01(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=clamp01(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=clamp01(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),o=new e(t).toRgb(),i=n/100;return new e({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),o=360/n,i=[this];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(new e(r));return i},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,o=n.s,i=n.v,a=[],s=1/t;t--;)a.push(new e({h:r,s:o,v:i})),i=(i+s)%1;return a},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),o=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/o,g:(n.g*n.a+r.g*r.a*(1-n.a))/o,b:(n.b*n.a+r.b*r.a*(1-n.a))/o,a:o})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,o=[this],i=360/t,a=1;a<t;a++)o.push(new e({h:(r+a*i)%360,s:n.s,l:n.l}));return o},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function darken(e,t=20){return e.mix("#141414",t).toString()}function useButtonCustomStyle(e){const t=useFormDisabled(),n=useNamespace("button");return computed((()=>{let r={};const o=e.color;if(o){const i=new TinyColor(o),a=e.dark?i.tint(20).toString():darken(i,20);if(e.plain)r=n.cssVarBlock({"bg-color":e.dark?darken(i,90):i.tint(90).toString(),"text-color":o,"border-color":e.dark?darken(i,50):i.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":o,"hover-border-color":o,"active-bg-color":a,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":a}),t.value&&(r[n.cssVarBlockName("disabled-bg-color")]=e.dark?darken(i,90):i.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=e.dark?darken(i,50):i.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=e.dark?darken(i,80):i.tint(80).toString());else{const s=e.dark?darken(i,30):i.tint(30).toString(),l=i.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":o,"text-color":l,"border-color":o,"hover-bg-color":s,"hover-text-color":l,"hover-border-color":s,"active-bg-color":a,"active-border-color":a}),t.value){const t=e.dark?darken(i,50):i.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=t,r[n.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=t}}}return r}))}const __default__$1j=defineComponent({name:"ElButton"}),_sfc_main$38=defineComponent({...__default__$1j,props:buttonProps,emits:buttonEmits,setup(e,{expose:t,emit:n}){const r=e,o=useButtonCustomStyle(r),i=useNamespace("button"),{_ref:a,_size:s,_type:l,_disabled:u,_props:c,shouldAddSpace:d,handleClick:h}=useButton(r,n);return t({ref:a,size:s,type:l,disabled:u,shouldAddSpace:d}),(e,t)=>(openBlock(),createBlock(resolveDynamicComponent(e.tag),mergeProps({ref_key:"_ref",ref:a},unref(c),{class:[unref(i).b(),unref(i).m(unref(l)),unref(i).m(unref(s)),unref(i).is("disabled",unref(u)),unref(i).is("loading",e.loading),unref(i).is("plain",e.plain),unref(i).is("round",e.round),unref(i).is("circle",e.circle),unref(i).is("text",e.text),unref(i).is("link",e.link),unref(i).is("has-bg",e.bg)],style:unref(o),onClick:unref(h)}),{default:withCtx((()=>[e.loading?(openBlock(),createElementBlock(Fragment,{key:0},[e.$slots.loading?renderSlot(e.$slots,"loading",{key:0}):(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass(unref(i).is("loading"))},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.loadingIcon)))])),_:1},8,["class"]))],64)):e.icon||e.$slots.icon?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx((()=>[e.icon?(openBlock(),createBlock(resolveDynamicComponent(e.icon),{key:0})):renderSlot(e.$slots,"icon",{key:1})])),_:3})):createCommentVNode("v-if",!0),e.$slots.default?(openBlock(),createElementBlock("span",{key:2,class:normalizeClass({[unref(i).em("text","expand")]:unref(d)})},[renderSlot(e.$slots,"default")],2)):createCommentVNode("v-if",!0)])),_:3},16,["class","style","onClick"]))}});var Button=_export_sfc(_sfc_main$38,[["__file","button.vue"]]);const buttonGroupProps={size:buttonProps.size,type:buttonProps.type},__default__$1i=defineComponent({name:"ElButtonGroup"}),_sfc_main$37=defineComponent({...__default__$1i,props:buttonGroupProps,setup(e){const t=e;provide(buttonGroupContextKey,reactive({size:toRef$1(t,"size"),type:toRef$1(t,"type")}));const n=useNamespace("button");return(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass(`${unref(n).b("group")}`)},[renderSlot(e.$slots,"default")],2))}});var ButtonGroup=_export_sfc(_sfc_main$37,[["__file","button-group.vue"]]);const ElButton=withInstall(Button,{ButtonGroup:ButtonGroup}),ElButtonGroup$1=withNoopInstall(ButtonGroup);var dayjs_min={exports:{}};dayjs_min.exports=function(){var e=1e3,t=6e4,n=36e5,r="millisecond",o="second",i="minute",a="hour",s="day",l="week",u="month",c="quarter",d="year",h="date",p="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},g=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},v={s:g,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+g(r,2,"0")+":"+g(o,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(r,u),i=n-o<0,a=t.clone().add(r+(i?-1:1),u);return+(-(r+(n-o)/(i?o-a:a-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:d,w:l,d:s,D:h,h:a,m:i,s:o,ms:r,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",b={};b[y]=_;var E="$isDayjsObject",C=function(e){return e instanceof T||!(!e||!e[E])},x=function e(t,n,r){var o;if(!t)return y;if("string"==typeof t){var i=t.toLowerCase();b[i]&&(o=i),n&&(b[i]=n,o=i);var a=t.split("-");if(!o&&a.length>1)return e(a[0])}else{var s=t.name;b[s]=t,o=s}return!r&&o&&(y=o),o||!r&&y},w=function(e,t){if(C(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new T(n)},S=v;S.l=x,S.i=C,S.w=function(e,t){return w(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var T=function(){function _(e){this.$L=x(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[E]=!0}var g=_.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(f);if(r){var o=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(t)}(e),this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return S},g.isValid=function(){return!(this.$d.toString()===p)},g.isSame=function(e,t){var n=w(e);return this.startOf(t)<=n&&n<=this.endOf(t)},g.isAfter=function(e,t){return w(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<w(e)},g.$g=function(e,t,n){return S.u(e)?this[t]:this.set(n,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var n=this,r=!!S.u(t)||t,c=S.p(e),p=function(e,t){var o=S.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?o:o.endOf(s)},f=function(e,t){return S.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,_=this.$M,g=this.$D,v="set"+(this.$u?"UTC":"");switch(c){case d:return r?p(1,0):p(31,11);case u:return r?p(1,_):p(0,_+1);case l:var y=this.$locale().weekStart||0,b=(m<y?m+7:m)-y;return p(r?g-b:g+(6-b),_);case s:case h:return f(v+"Hours",0);case a:return f(v+"Minutes",1);case i:return f(v+"Seconds",2);case o:return f(v+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var n,l=S.p(e),c="set"+(this.$u?"UTC":""),p=(n={},n[s]=c+"Date",n[h]=c+"Date",n[u]=c+"Month",n[d]=c+"FullYear",n[a]=c+"Hours",n[i]=c+"Minutes",n[o]=c+"Seconds",n[r]=c+"Milliseconds",n)[l],f=l===s?this.$D+(t-this.$W):t;if(l===u||l===d){var m=this.clone().set(h,1);m.$d[p](f),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[S.p(e)]()},g.add=function(r,c){var h,p=this;r=Number(r);var f=S.p(c),m=function(e){var t=w(p);return S.w(t.date(t.date()+Math.round(e*r)),p)};if(f===u)return this.set(u,this.$M+r);if(f===d)return this.set(d,this.$y+r);if(f===s)return m(1);if(f===l)return m(7);var _=(h={},h[i]=t,h[a]=n,h[o]=e,h)[f]||1,g=this.$d.getTime()+r*_;return S.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=e||"YYYY-MM-DDTHH:mm:ssZ",o=S.z(this),i=this.$H,a=this.$m,s=this.$M,l=n.weekdays,u=n.months,c=n.meridiem,d=function(e,n,o,i){return e&&(e[n]||e(t,r))||o[n].slice(0,i)},h=function(e){return S.s(i%12||12,e,"0")},f=c||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(m,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return S.s(t.$y,4,"0");case"M":return s+1;case"MM":return S.s(s+1,2,"0");case"MMM":return d(n.monthsShort,s,u,3);case"MMMM":return d(u,s);case"D":return t.$D;case"DD":return S.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,l,2);case"ddd":return d(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(i);case"HH":return S.s(i,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return f(i,a,!0);case"A":return f(i,a,!1);case"m":return String(a);case"mm":return S.s(a,2,"0");case"s":return String(t.$s);case"ss":return S.s(t.$s,2,"0");case"SSS":return S.s(t.$ms,3,"0");case"Z":return o}return null}(e)||o.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(r,h,p){var f,m=this,_=S.p(h),g=w(r),v=(g.utcOffset()-this.utcOffset())*t,y=this-g,b=function(){return S.m(m,g)};switch(_){case d:f=b()/12;break;case u:f=b();break;case c:f=b()/3;break;case l:f=(y-v)/6048e5;break;case s:f=(y-v)/864e5;break;case a:f=y/n;break;case i:f=y/t;break;case o:f=y/e;break;default:f=y}return p?f:S.a(f)},g.daysInMonth=function(){return this.endOf(u).$D},g.$locale=function(){return b[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=x(e,t,!0);return r&&(n.$L=r),n},g.clone=function(){return S.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},_}(),k=T.prototype;return w.prototype=k,[["$ms",r],["$s",o],["$m",i],["$H",a],["$W",s],["$M",u],["$y",d],["$D",h]].forEach((function(e){k[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),w.extend=function(e,t){return e.$i||(e(t,T,w),e.$i=!0),w},w.locale=x,w.isDayjs=C,w.unix=function(e){return w(1e3*e)},w.en=b[y],w.Ls=b,w.p={},w}();var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs(dayjs_minExports);var customParseFormat$1={exports:{}};customParseFormat$1.exports=function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,r=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,i={},a=function(e){return(e=+e)+(e>68?1900:2e3)},s=function(e){return function(t){this[e]=+t}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],u=function(e){var t=i[e];return t&&(t.indexOf?t:t.s.concat(t.f))},c=function(e,t){var n,r=i.meridiem;if(r){for(var o=1;o<=24;o+=1)if(e.indexOf(r(o,0,t))>-1){n=o>12;break}}else n=e===(t?"pm":"PM");return n},d={A:[o,function(e){this.afternoon=c(e,!1)}],a:[o,function(e){this.afternoon=c(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[r,s("seconds")],ss:[r,s("seconds")],m:[r,s("minutes")],mm:[r,s("minutes")],H:[r,s("hours")],h:[r,s("hours")],HH:[r,s("hours")],hh:[r,s("hours")],D:[r,s("day")],DD:[n,s("day")],Do:[o,function(e){var t=i.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],M:[r,s("month")],MM:[n,s("month")],MMM:[o,function(e){var t=u("months"),n=(u("monthsShort")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[o,function(e){var t=u("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,s("year")],YY:[n,function(e){this.year=a(e)}],YYYY:[/\d{4}/,s("year")],Z:l,ZZ:l};function h(n){var r,o;r=n,o=i&&i.formats;for(var a=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var i=r&&r.toUpperCase();return n||o[r]||e[r]||o[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),s=a.length,l=0;l<s;l+=1){var u=a[l],c=d[u],h=c&&c[0],p=c&&c[1];a[l]=p?{regex:h,parser:p}:u.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,r=0;n<s;n+=1){var o=a[n];if("string"==typeof o)r+=o.length;else{var i=o.regex,l=o.parser,u=e.slice(r),c=i.exec(u)[0];l.call(t,c),e=e.replace(c,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(a=e.parseTwoDigitYear);var r=t.prototype,o=r.parse;r.parse=function(e){var t=e.date,r=e.utc,a=e.args;this.$u=r;var s=a[1];if("string"==typeof s){var l=!0===a[2],u=!0===a[3],c=l||u,d=a[2];u&&(d=a[2]),i=this.$locale(),!l&&d&&(i=n.Ls[d]),this.$d=function(e,t,n){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var r=h(t)(e),o=r.year,i=r.month,a=r.day,s=r.hours,l=r.minutes,u=r.seconds,c=r.milliseconds,d=r.zone,p=new Date,f=a||(o||i?1:p.getDate()),m=o||p.getFullYear(),_=0;o&&!i||(_=i>0?i-1:p.getMonth());var g=s||0,v=l||0,y=u||0,b=c||0;return d?new Date(Date.UTC(m,_,f,g,v,y,b+60*d.offset*1e3)):n?new Date(Date.UTC(m,_,f,g,v,y,b)):new Date(m,_,f,g,v,y,b)}catch(E){return new Date("")}}(t,s,r),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),c&&t!=this.format(s)&&(this.$d=new Date("")),i={}}else if(s instanceof Array)for(var p=s.length,f=1;f<=p;f+=1){a[1]=s[f-1];var m=n.apply(this,a);if(m.isValid()){this.$d=m.$d,this.$L=m.$L,this.init();break}f===p&&(this.$d=new Date(""))}else o.call(this,e)}}}();var customParseFormatExports=customParseFormat$1.exports;const customParseFormat=getDefaultExportFromCjs(customParseFormatExports),timeUnits$1=["hours","minutes","seconds"],DEFAULT_FORMATS_TIME="HH:mm:ss",DEFAULT_FORMATS_DATE="YYYY-MM-DD",DEFAULT_FORMATS_DATEPICKER={date:DEFAULT_FORMATS_DATE,dates:DEFAULT_FORMATS_DATE,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${DEFAULT_FORMATS_DATE} ${DEFAULT_FORMATS_TIME}`,monthrange:"YYYY-MM",daterange:DEFAULT_FORMATS_DATE,datetimerange:`${DEFAULT_FORMATS_DATE} ${DEFAULT_FORMATS_TIME}`},buildTimeList=(e,t)=>[e>0?e-1:void 0,e,e<t?e+1:void 0],rangeArr=e=>Array.from(Array.from({length:e}).keys()),extractDateFormat=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),extractTimeFormat=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),dateEquals=function(e,t){const n=isDate(e),r=isDate(t);return n&&r?e.getTime()===t.getTime():!n&&!r&&e===t},valueEquals=function(e,t){const n=isArray$1(e),r=isArray$1(t);return n&&r?e.length===t.length&&e.every(((e,n)=>dateEquals(e,t[n]))):!n&&!r&&dateEquals(e,t)},parseDate=function(e,t,n){const r=isEmpty(t)||"x"===t?dayjs(e).locale(n):dayjs(e,t).locale(n);return r.isValid()?r:void 0},formatter=function(e,t,n){return isEmpty(t)?e:"x"===t?+e:dayjs(e).locale(n).format(t)},makeList=(e,t)=>{var n;const r=[],o=null==t?void 0:t();for(let i=0;i<e;i++)r.push(null!=(n=null==o?void 0:o.includes(i))&&n);return r},disabledTimeListsProps=buildProps({disabledHours:{type:definePropType(Function)},disabledMinutes:{type:definePropType(Function)},disabledSeconds:{type:definePropType(Function)}}),timePanelSharedProps=buildProps({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),timePickerDefaultProps=buildProps({id:{type:definePropType([Array,String])},name:{type:definePropType([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:definePropType([String,Object]),default:circle_close_default},editable:{type:Boolean,default:!0},prefixIcon:{type:definePropType([String,Object]),default:""},size:useSizeProp,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:definePropType(Object),default:()=>({})},modelValue:{type:definePropType([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:definePropType([Date,Array])},defaultTime:{type:definePropType([Date,Array])},isRange:Boolean,...disabledTimeListsProps,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,label:{type:String,default:void 0},tabindex:{type:definePropType([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),_hoisted_1$1X=["id","name","placeholder","value","disabled","readonly"],_hoisted_2$1h=["id","name","placeholder","value","disabled","readonly"],__default__$1h=defineComponent({name:"Picker"}),_sfc_main$36=defineComponent({...__default__$1h,props:timePickerDefaultProps,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(e,{expose:t,emit:n}){const r=e,o=useAttrs$1(),{lang:i}=useLocale(),a=useNamespace("date"),s=useNamespace("input"),l=useNamespace("range"),{form:u,formItem:c}=useFormItem(),d=inject("ElPopperOptions",{}),h=ref(),p=ref(),f=ref(!1),m=ref(!1),_=ref(null);let g=!1,v=!1;const y=computed((()=>[a.b("editor"),a.bm("editor",r.type),s.e("wrapper"),a.is("disabled",I.value),a.is("active",f.value),l.b("editor"),q?l.bm("editor",q.value):"",o.class])),b=computed((()=>[s.e("icon"),l.e("close-icon"),z.value?"":l.e("close-icon--hidden")]));watch(f,(e=>{e?nextTick((()=>{e&&(_.value=r.modelValue)})):(J.value=null,nextTick((()=>{E(r.modelValue)})))}));const E=(e,t)=>{!t&&valueEquals(e,_.value)||(n("change",e),r.validateEvent&&(null==c||c.validate("change").catch((e=>debugWarn()))))},C=e=>{if(!valueEquals(r.modelValue,e)){let t;isArray$1(e)?t=e.map((e=>formatter(e,r.valueFormat,i.value))):e&&(t=formatter(e,r.valueFormat,i.value)),n("update:modelValue",e?t:e,i.value)}},x=computed((()=>{if(p.value){const e=Y.value?p.value:p.value.$el;return Array.from(e.querySelectorAll("input"))}return[]})),w=(e,t,n)=>{const r=x.value;r.length&&(n&&"min"!==n?"max"===n&&(r[1].setSelectionRange(e,t),r[1].focus()):(r[0].setSelectionRange(e,t),r[0].focus()))},S=(e="",t=!1)=>{let n;t||(v=!0),f.value=t,n=isArray$1(e)?e.map((e=>e.toDate())):e?e.toDate():e,J.value=null,C(n)},T=()=>{m.value=!0},k=()=>{n("visible-change",!0)},L=e=>{(null==e?void 0:e.key)===EVENT_CODE.esc&&M(!0,!0)},P=()=>{m.value=!1,f.value=!1,v=!1,n("visible-change",!1)},M=(e=!0,t=!1)=>{v=t;const[n,r]=unref(x);let o=n;!e&&Y.value&&(o=r),o&&o.focus()},O=e=>{r.readonly||I.value||f.value||v||(f.value=!0,n("focus",e))};let N;const A=e=>{const t=async()=>{setTimeout((()=>{var o;N===t&&((null==(o=h.value)?void 0:o.isFocusInsideContent())&&!g||0!==x.value.filter((e=>e.contains(document.activeElement))).length||(Q(),f.value=!1,n("blur",e),r.validateEvent&&(null==c||c.validate("blur").catch((e=>debugWarn())))),g=!1)}),0)};N=t,t()},I=computed((()=>r.disabled||(null==u?void 0:u.disabled))),R=computed((()=>{let e;if(U.value?ue.value.getDefaultValue&&(e=ue.value.getDefaultValue()):e=isArray$1(r.modelValue)?r.modelValue.map((e=>parseDate(e,r.valueFormat,i.value))):parseDate(r.modelValue,r.valueFormat,i.value),ue.value.getRangeAvailableTime){const t=ue.value.getRangeAvailableTime(e);isEqual$1(t,e)||(e=t,C(isArray$1(e)?e.map((e=>e.toDate())):e.toDate()))}return isArray$1(e)&&e.some((e=>!e))&&(e=[]),e})),$=computed((()=>{if(!ue.value.panelReady)return"";const e=te(R.value);return isArray$1(J.value)?[J.value[0]||e&&e[0]||"",J.value[1]||e&&e[1]||""]:null!==J.value?J.value:!D.value&&U.value||!f.value&&U.value?"":e?F.value?e.join(", "):e:""})),B=computed((()=>r.type.includes("time"))),D=computed((()=>r.type.startsWith("time"))),F=computed((()=>"dates"===r.type)),V=computed((()=>r.prefixIcon||(B.value?clock_default:calendar_default))),z=ref(!1),j=e=>{r.readonly||I.value||z.value&&(e.stopPropagation(),M(!0,!0),nextTick((()=>{v=!1})),C(null),E(null,!0),z.value=!1,f.value=!1,ue.value.handleClear&&ue.value.handleClear())},U=computed((()=>{const{modelValue:e}=r;return!e||isArray$1(e)&&!e.filter(Boolean).length})),G=async e=>{var t;r.readonly||I.value||("INPUT"!==(null==(t=e.target)?void 0:t.tagName)||x.value.includes(document.activeElement))&&(f.value=!0)},H=()=>{r.readonly||I.value||!U.value&&r.clearable&&(z.value=!0)},K=()=>{z.value=!1},W=e=>{var t;r.readonly||I.value||("INPUT"!==(null==(t=e.touches[0].target)?void 0:t.tagName)||x.value.includes(document.activeElement))&&(f.value=!0)},Y=computed((()=>r.type.includes("range"))),q=useFormSize(),Z=computed((()=>{var e,t;return null==(t=null==(e=unref(h))?void 0:e.popperRef)?void 0:t.contentRef})),X=computed((()=>{var e;return unref(Y)?unref(p):null==(e=unref(p))?void 0:e.$el}));onClickOutside$1(X,(e=>{const t=unref(Z),n=unref(X);t&&(e.target===t||e.composedPath().includes(t))||e.target===n||e.composedPath().includes(n)||(f.value=!1)}));const J=ref(null),Q=()=>{if(J.value){const e=ee($.value);e&&ne(e)&&(C(isArray$1(e)?e.map((e=>e.toDate())):e.toDate()),J.value=null)}""===J.value&&(C(null),E(null),J.value=null)},ee=e=>e?ue.value.parseUserInput(e):null,te=e=>e?ue.value.formatToString(e):null,ne=e=>ue.value.isValidValue(e),re=async e=>{if(r.readonly||I.value)return;const{code:t}=e;if(n("keydown",e),t!==EVENT_CODE.esc)if(t===EVENT_CODE.down&&(ue.value.handleFocusPicker&&(e.preventDefault(),e.stopPropagation()),!1===f.value&&(f.value=!0,await nextTick()),ue.value.handleFocusPicker))ue.value.handleFocusPicker();else{if(t!==EVENT_CODE.tab)return t===EVENT_CODE.enter||t===EVENT_CODE.numpadEnter?((null===J.value||""===J.value||ne(ee($.value)))&&(Q(),f.value=!1),void e.stopPropagation()):void(J.value?e.stopPropagation():ue.value.handleKeydownInput&&ue.value.handleKeydownInput(e));g=!0}else!0===f.value&&(f.value=!1,e.preventDefault(),e.stopPropagation())},oe=e=>{J.value=e,f.value||(f.value=!0)},ie=e=>{const t=e.target;J.value?J.value=[t.value,J.value[1]]:J.value=[t.value,null]},ae=e=>{const t=e.target;J.value?J.value=[J.value[0],t.value]:J.value=[null,t.value]},se=()=>{var e;const t=J.value,n=ee(t&&t[0]),r=unref(R);if(n&&n.isValid()){J.value=[te(n),(null==(e=$.value)?void 0:e[1])||null];const t=[n,r&&(r[1]||null)];ne(t)&&(C(t),J.value=null)}},le=()=>{var e;const t=unref(J),n=ee(t&&t[1]),r=unref(R);if(n&&n.isValid()){J.value=[(null==(e=unref($))?void 0:e[0])||null,te(n)];const t=[r&&r[0],n];ne(t)&&(C(t),J.value=null)}},ue=ref({}),ce=e=>{ue.value[e[0]]=e[1],ue.value.panelReady=!0},de=e=>{n("calendar-change",e)},he=(e,t,r)=>{n("panel-change",e,t,r)};return provide("EP_PICKER_BASE",{props:r}),t({focus:M,handleFocusInput:O,handleBlurInput:A,handleOpen:()=>{f.value=!0},handleClose:()=>{f.value=!1},onPick:S}),(e,t)=>(openBlock(),createBlock(unref(ElTooltip),mergeProps({ref_key:"refPopper",ref:h,visible:f.value,effect:"light",pure:"",trigger:"click"},e.$attrs,{role:"dialog",teleported:"",transition:`${unref(a).namespace.value}-zoom-in-top`,"popper-class":[`${unref(a).namespace.value}-picker__popper`,e.popperClass],"popper-options":unref(d),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:T,onShow:k,onHide:P}),{default:withCtx((()=>[unref(Y)?(openBlock(),createElementBlock("div",{key:1,ref_key:"inputRef",ref:p,class:normalizeClass(unref(y)),style:normalizeStyle(e.$attrs.style),onClick:O,onMouseenter:H,onMouseleave:K,onTouchstart:W,onKeydown:re},[unref(V)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(s).e("icon"),unref(l).e("icon")]),onMousedown:withModifiers(G,["prevent"]),onTouchstart:W},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(V))))])),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0),createBaseVNode("input",{id:e.id&&e.id[0],autocomplete:"off",name:e.name&&e.name[0],placeholder:e.startPlaceholder,value:unref($)&&unref($)[0],disabled:unref(I),readonly:!e.editable||e.readonly,class:normalizeClass(unref(l).b("input")),onMousedown:G,onInput:ie,onChange:se,onFocus:O,onBlur:A},null,42,_hoisted_1$1X),renderSlot(e.$slots,"range-separator",{},(()=>[createBaseVNode("span",{class:normalizeClass(unref(l).b("separator"))},toDisplayString(e.rangeSeparator),3)])),createBaseVNode("input",{id:e.id&&e.id[1],autocomplete:"off",name:e.name&&e.name[1],placeholder:e.endPlaceholder,value:unref($)&&unref($)[1],disabled:unref(I),readonly:!e.editable||e.readonly,class:normalizeClass(unref(l).b("input")),onMousedown:G,onFocus:O,onBlur:A,onInput:ae,onChange:le},null,42,_hoisted_2$1h),e.clearIcon?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass(unref(b)),onClick:j},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.clearIcon)))])),_:1},8,["class"])):createCommentVNode("v-if",!0)],38)):(openBlock(),createBlock(unref(ElInput),{key:0,id:e.id,ref_key:"inputRef",ref:p,"container-role":"combobox","model-value":unref($),name:e.name,size:unref(q),disabled:unref(I),placeholder:e.placeholder,class:normalizeClass([unref(a).b("editor"),unref(a).bm("editor",e.type),e.$attrs.class]),style:normalizeStyle(e.$attrs.style),readonly:!e.editable||e.readonly||unref(F)||"week"===e.type,label:e.label,tabindex:e.tabindex,"validate-event":!1,onInput:oe,onFocus:O,onBlur:A,onKeydown:re,onChange:Q,onMousedown:G,onMouseenter:H,onMouseleave:K,onTouchstart:W,onClick:t[0]||(t[0]=withModifiers((()=>{}),["stop"]))},{prefix:withCtx((()=>[unref(V)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(s).e("icon")),onMousedown:withModifiers(G,["prevent"]),onTouchstart:W},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(V))))])),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0)])),suffix:withCtx((()=>[z.value&&e.clearIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(`${unref(s).e("icon")} clear-icon`),onClick:withModifiers(j,["stop"])},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.clearIcon)))])),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)])),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))])),content:withCtx((()=>[renderSlot(e.$slots,"default",{visible:f.value,actualVisible:m.value,parsedValue:unref(R),format:e.format,dateFormat:e.dateFormat,timeFormat:e.timeFormat,unlinkPanels:e.unlinkPanels,type:e.type,defaultValue:e.defaultValue,onPick:S,onSelectRange:w,onSetPickerOption:ce,onCalendarChange:de,onPanelChange:he,onKeydown:L,onMousedown:t[1]||(t[1]=withModifiers((()=>{}),["stop"]))})])),_:3},16,["visible","transition","popper-class","popper-options"]))}});var CommonPicker=_export_sfc(_sfc_main$36,[["__file","picker.vue"]]);const panelTimePickerProps=buildProps({...timePanelSharedProps,datetimeRole:String,parsedValue:{type:definePropType(Object)}}),useTimePanel=({getAvailableHours:e,getAvailableMinutes:t,getAvailableSeconds:n})=>{const r={};return{timePickerOptions:r,getAvailableTime:(r,o,i,a)=>{const s={hour:e,minute:t,second:n};let l=r;return["hour","minute","second"].forEach((e=>{if(s[e]){let t;const n=s[e];switch(e){case"minute":t=n(l.hour(),o,a);break;case"second":t=n(l.hour(),l.minute(),o,a);break;default:t=n(o,a)}if((null==t?void 0:t.length)&&!t.includes(l[e]())){const n=i?0:t.length-1;l=l[e](t[n])}}})),l},onSetOption:([e,t])=>{r[e]=t}}},makeAvailableArr=e=>e.map(((e,t)=>e||t)).filter((e=>!0!==e)),getTimeLists=(e,t,n)=>({getHoursList:(t,n)=>makeList(24,e&&(()=>null==e?void 0:e(t,n))),getMinutesList:(e,n,r)=>makeList(60,t&&(()=>null==t?void 0:t(e,n,r))),getSecondsList:(e,t,r,o)=>makeList(60,n&&(()=>null==n?void 0:n(e,t,r,o)))}),buildAvailableTimeSlotGetter=(e,t,n)=>{const{getHoursList:r,getMinutesList:o,getSecondsList:i}=getTimeLists(e,t,n);return{getAvailableHours:(e,t)=>makeAvailableArr(r(e,t)),getAvailableMinutes:(e,t,n)=>makeAvailableArr(o(e,t,n)),getAvailableSeconds:(e,t,n,r)=>makeAvailableArr(i(e,t,n,r))}},useOldValue=e=>{const t=ref(e.parsedValue);return watch((()=>e.visible),(n=>{n||(t.value=e.parsedValue)})),t},nodeList=new Map;let startClick;function createDocumentHandler(e,t){let n=[];return Array.isArray(t.arg)?n=t.arg:isElement$1(t.arg)&&n.push(t.arg),function(r,o){const i=t.instance.popperRef,a=r.target,s=null==o?void 0:o.target,l=!t||!t.instance,u=!a||!s,c=e.contains(a)||e.contains(s),d=e===a,h=n.length&&n.some((e=>null==e?void 0:e.contains(a)))||n.length&&n.includes(s),p=i&&(i.contains(a)||i.contains(s));l||u||c||d||h||p||t.value(r,o)}}isClient$1&&(document.addEventListener("mousedown",(e=>startClick=e)),document.addEventListener("mouseup",(e=>{for(const t of nodeList.values())for(const{documentHandler:n}of t)n(e,startClick)})));const ClickOutside={beforeMount(e,t){nodeList.has(e)||nodeList.set(e,[]),nodeList.get(e).push({documentHandler:createDocumentHandler(e,t),bindingFn:t.value})},updated(e,t){nodeList.has(e)||nodeList.set(e,[]);const n=nodeList.get(e),r=n.findIndex((e=>e.bindingFn===t.oldValue)),o={documentHandler:createDocumentHandler(e,t),bindingFn:t.value};r>=0?n.splice(r,1,o):n.push(o)},unmounted(e){nodeList.delete(e)}},REPEAT_INTERVAL=100,REPEAT_DELAY=600,vRepeatClick={beforeMount(e,t){const n=t.value,{interval:r=REPEAT_INTERVAL,delay:o=REPEAT_DELAY}=isFunction$2(n)?{}:n;let i,a;const s=()=>isFunction$2(n)?n():n.handler(),l=()=>{a&&(clearTimeout(a),a=void 0),i&&(clearInterval(i),i=void 0)};e.addEventListener("mousedown",(e=>{0===e.button&&(l(),s(),document.addEventListener("mouseup",(()=>l()),{once:!0}),a=setTimeout((()=>{i=setInterval((()=>{s()}),r)}),o))}))}},FOCUSABLE_CHILDREN="_trap-focus-children",FOCUS_STACK=[],FOCUS_HANDLER=e=>{if(0===FOCUS_STACK.length)return;const t=FOCUS_STACK[FOCUS_STACK.length-1][FOCUSABLE_CHILDREN];if(t.length>0&&e.code===EVENT_CODE.tab){if(1===t.length)return e.preventDefault(),void(document.activeElement!==t[0]&&t[0].focus());const n=e.shiftKey,r=e.target===t[0],o=e.target===t[t.length-1];r&&n&&(e.preventDefault(),t[t.length-1].focus()),o&&!n&&(e.preventDefault(),t[0].focus())}},TrapFocus={beforeMount(e){e[FOCUSABLE_CHILDREN]=obtainAllFocusableElements$1(e),FOCUS_STACK.push(e),FOCUS_STACK.length<=1&&document.addEventListener("keydown",FOCUS_HANDLER)},updated(e){nextTick((()=>{e[FOCUSABLE_CHILDREN]=obtainAllFocusableElements$1(e)}))},unmounted(){FOCUS_STACK.shift(),0===FOCUS_STACK.length&&document.removeEventListener("keydown",FOCUS_HANDLER)}};var v$1=!1,o,f,s,u,d$1,N$1,l$2,p$1,m$1,w$1,D$1,x,E$1,M$1,F$1;function a(){if(!v$1){v$1=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(x=/\b(iPhone|iP[ao]d)/.exec(e),E$1=/\b(iP[ao]d)/.exec(e),w$1=/Android/i.exec(e),M$1=/FBAN\/\w+;/i.exec(e),F$1=/Mobile/i.exec(e),D$1=!!/Win64/.exec(e),t){(o=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN)&&document&&document.documentMode&&(o=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);N$1=r?parseFloat(r[1])+4:o,f=t[2]?parseFloat(t[2]):NaN,s=t[3]?parseFloat(t[3]):NaN,(u=t[4]?parseFloat(t[4]):NaN)?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),d$1=t&&t[1]?parseFloat(t[1]):NaN):d$1=NaN}else o=f=s=d$1=u=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);l$2=!i||parseFloat(i[1].replace("_","."))}else l$2=!1;p$1=!!n[2],m$1=!!n[3]}else l$2=p$1=m$1=!1}}var _$1={ie:function(){return a()||o},ieCompatibilityMode:function(){return a()||N$1>o},ie64:function(){return _$1.ie()&&D$1},firefox:function(){return a()||f},opera:function(){return a()||s},webkit:function(){return a()||u},safari:function(){return _$1.webkit()},chrome:function(){return a()||d$1},windows:function(){return a()||p$1},osx:function(){return a()||l$2},linux:function(){return a()||m$1},iphone:function(){return a()||x},mobile:function(){return a()||x||E$1||w$1||F$1},nativeApp:function(){return a()||M$1},android:function(){return a()||w$1},ipad:function(){return a()||E$1}},A$2=_$1,c=!!(typeof window<"u"&&window.document&&window.document.createElement),U$1={canUseDOM:c,canUseWorkers:typeof Worker<"u",canUseEventListeners:c&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:c&&!!window.screen,isInWorker:!c},h=U$1,X$1;function S$1(e,t){if(!h.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var o=document.createElement("div");o.setAttribute(n,"return;"),r="function"==typeof o[n]}return!r&&X$1&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}h.canUseDOM&&(X$1=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));var b$1=S$1,O$2=10,I$2=40,P$1=800;function T$1(e){var t=0,n=0,r=0,o=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*O$2,o=n*O$2,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||o)&&e.deltaMode&&(1==e.deltaMode?(r*=I$2,o*=I$2):(r*=P$1,o*=P$1)),r&&!t&&(t=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:o}}T$1.getEventType=function(){return A$2.firefox()?"DOMMouseScroll":b$1("wheel")?"wheel":"mousewheel"};var Y$1=T$1;
/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const mousewheel=function(e,t){if(e&&e.addEventListener){const n=function(e){const n=Y$1(e);t&&Reflect.apply(t,this,[e,n])};e.addEventListener("wheel",n,{passive:!0})}},Mousewheel={beforeMount(e,t){mousewheel(e,t.value)}},basicTimeSpinnerProps=buildProps({role:{type:String,required:!0},spinnerDate:{type:definePropType(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:definePropType(String),default:""},...disabledTimeListsProps}),_hoisted_1$1W=["onClick"],_hoisted_2$1g=["onMouseenter"],_sfc_main$35=defineComponent({__name:"basic-time-spinner",props:basicTimeSpinnerProps,emits:["change","select-range","set-option"],setup(e,{emit:t}){const n=e,r=useNamespace("time"),{getHoursList:o,getMinutesList:i,getSecondsList:a}=getTimeLists(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let s=!1;const l=ref(),u={hours:ref(),minutes:ref(),seconds:ref()},c=computed((()=>n.showSeconds?timeUnits$1:timeUnits$1.slice(0,2))),d=computed((()=>{const{spinnerDate:e}=n;return{hours:e.hour(),minutes:e.minute(),seconds:e.second()}})),h=computed((()=>{const{hours:e,minutes:t}=unref(d);return{hours:o(n.role),minutes:i(e,n.role),seconds:a(e,t,n.role)}})),p=computed((()=>{const{hours:e,minutes:t,seconds:n}=unref(d);return{hours:buildTimeList(e,23),minutes:buildTimeList(t,59),seconds:buildTimeList(n,59)}})),f=debounce((e=>{s=!1,g(e)}),200),m=e=>{if(!!!n.amPmMode)return"";let t=e<12?" am":" pm";return"A"===n.amPmMode&&(t=t.toUpperCase()),t},_=e=>{let n;switch(e){case"hours":n=[0,2];break;case"minutes":n=[3,5];break;case"seconds":n=[6,8]}const[r,o]=n;t("select-range",r,o),l.value=e},g=e=>{b(e,unref(d)[e])},v=()=>{g("hours"),g("minutes"),g("seconds")},y=e=>e.querySelector(`.${r.namespace.value}-scrollbar__wrap`),b=(e,t)=>{if(n.arrowControl)return;const r=unref(u[e]);r&&r.$el&&(y(r.$el).scrollTop=Math.max(0,t*E(e)))},E=e=>{const t=unref(u[e]),n=null==t?void 0:t.$el.querySelector("li");return n&&Number.parseFloat(getStyle(n,"height"))||0},C=()=>{w(1)},x=()=>{w(-1)},w=e=>{l.value||_("hours");const t=l.value,n=unref(d)[t],r="hours"===l.value?24:60,o=S(t,n,e,r);T(t,o),b(t,o),nextTick((()=>_(t)))},S=(e,t,n,r)=>{let o=(t+n+r)%r;const i=unref(h)[e];for(;i[o]&&o!==t;)o=(o+n+r)%r;return o},T=(e,r)=>{if(unref(h)[e][r])return;const{hours:o,minutes:i,seconds:a}=unref(d);let s;switch(e){case"hours":s=n.spinnerDate.hour(r).minute(i).second(a);break;case"minutes":s=n.spinnerDate.hour(o).minute(r).second(a);break;case"seconds":s=n.spinnerDate.hour(o).minute(i).second(r)}t("change",s)},k=e=>unref(u[e]).$el.offsetHeight,L=()=>{const e=e=>{const t=unref(u[e]);t&&t.$el&&(y(t.$el).onscroll=()=>{(e=>{s=!0,f(e);const t=Math.min(Math.round((y(unref(u[e]).$el).scrollTop-(.5*k(e)-10)/E(e)+3)/E(e)),"hours"===e?23:59);T(e,t)})(e)})};e("hours"),e("minutes"),e("seconds")};onMounted((()=>{nextTick((()=>{!n.arrowControl&&L(),v(),"start"===n.role&&_("hours")}))}));return t("set-option",[`${n.role}_scrollDown`,w]),t("set-option",[`${n.role}_emitSelectRange`,_]),watch((()=>n.spinnerDate),(()=>{s||v()})),(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(r).b("spinner"),{"has-seconds":e.showSeconds}])},[e.arrowControl?createCommentVNode("v-if",!0):(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(unref(c),(t=>(openBlock(),createBlock(unref(ElScrollbar),{key:t,ref_for:!0,ref:e=>((e,t)=>{u[t].value=e})(e,t),class:normalizeClass(unref(r).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":unref(r).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:e=>_(t),onMousemove:e=>g(t)},{default:withCtx((()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(h)[t],((n,o)=>(openBlock(),createElementBlock("li",{key:o,class:normalizeClass([unref(r).be("spinner","item"),unref(r).is("active",o===unref(d)[t]),unref(r).is("disabled",n)]),onClick:e=>((e,{value:t,disabled:n})=>{n||(T(e,t),_(e),b(e,t))})(t,{value:o,disabled:n})},["hours"===t?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(("0"+(e.amPmMode?o%12||12:o)).slice(-2))+toDisplayString(m(o)),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(("0"+o).slice(-2)),1)],64))],10,_hoisted_1$1W)))),128))])),_:2},1032,["class","view-class","onMouseenter","onMousemove"])))),128)),e.arrowControl?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(unref(c),(t=>(openBlock(),createElementBlock("div",{key:t,class:normalizeClass([unref(r).be("spinner","wrapper"),unref(r).is("arrow")]),onMouseenter:e=>_(t)},[withDirectives((openBlock(),createBlock(unref(ElIcon),{class:normalizeClass(["arrow-up",unref(r).be("spinner","arrow")])},{default:withCtx((()=>[createVNode(unref(arrow_up_default))])),_:1},8,["class"])),[[unref(vRepeatClick),x]]),withDirectives((openBlock(),createBlock(unref(ElIcon),{class:normalizeClass(["arrow-down",unref(r).be("spinner","arrow")])},{default:withCtx((()=>[createVNode(unref(arrow_down_default))])),_:1},8,["class"])),[[unref(vRepeatClick),C]]),createBaseVNode("ul",{class:normalizeClass(unref(r).be("spinner","list"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(p)[t],((n,o)=>(openBlock(),createElementBlock("li",{key:o,class:normalizeClass([unref(r).be("spinner","item"),unref(r).is("active",n===unref(d)[t]),unref(r).is("disabled",unref(h)[t][n])])},["number"==typeof n?(openBlock(),createElementBlock(Fragment,{key:0},["hours"===t?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(("0"+(e.amPmMode?n%12||12:n)).slice(-2))+toDisplayString(m(n)),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(("0"+n).slice(-2)),1)],64))],64)):createCommentVNode("v-if",!0)],2)))),128))],2)],42,_hoisted_2$1g)))),128)):createCommentVNode("v-if",!0)],2))}});var TimeSpinner=_export_sfc(_sfc_main$35,[["__file","basic-time-spinner.vue"]]);const _sfc_main$34=defineComponent({__name:"panel-time-pick",props:panelTimePickerProps,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const n=e,r=inject("EP_PICKER_BASE"),{arrowControl:o,disabledHours:i,disabledMinutes:a,disabledSeconds:s,defaultValue:l}=r.props,{getAvailableHours:u,getAvailableMinutes:c,getAvailableSeconds:d}=buildAvailableTimeSlotGetter(i,a,s),h=useNamespace("time"),{t:p,lang:f}=useLocale(),m=ref([0,2]),_=useOldValue(n),g=computed((()=>isUndefined(n.actualVisible)?`${h.namespace.value}-zoom-in-top`:"")),v=computed((()=>n.format.includes("ss"))),y=computed((()=>n.format.includes("A")?"A":n.format.includes("a")?"a":"")),b=()=>{t("pick",_.value,!1)},E=e=>{if(!n.visible)return;const r=T(e).millisecond(0);t("pick",r,!0)},C=(e,n)=>{t("select-range",e,n),m.value=[e,n]},{timePickerOptions:x,onSetOption:w,getAvailableTime:S}=useTimePanel({getAvailableHours:u,getAvailableMinutes:c,getAvailableSeconds:d}),T=e=>S(e,n.datetimeRole||"",!0);return t("set-picker-option",["isValidValue",e=>{const t=dayjs(e).locale(f.value),n=T(t);return t.isSame(n)}]),t("set-picker-option",["formatToString",e=>e?e.format(n.format):null]),t("set-picker-option",["parseUserInput",e=>e?dayjs(e,n.format).locale(f.value):null]),t("set-picker-option",["handleKeydownInput",e=>{const t=e.code,{left:n,right:r,up:o,down:i}=EVENT_CODE;if([n,r].includes(t)){return(e=>{const t=[0,3].concat(v.value?[6]:[]),n=["hours","minutes"].concat(v.value?["seconds"]:[]),r=(t.indexOf(m.value[0])+e+t.length)%t.length;x.start_emitSelectRange(n[r])})(t===n?-1:1),void e.preventDefault()}if([o,i].includes(t)){const n=t===o?-1:1;return x.start_scrollDown(n),void e.preventDefault()}}]),t("set-picker-option",["getRangeAvailableTime",T]),t("set-picker-option",["getDefaultValue",()=>dayjs(l).locale(f.value)]),(e,r)=>(openBlock(),createBlock(Transition,{name:unref(g)},{default:withCtx((()=>[e.actualVisible||e.visible?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(h).b("panel"))},[createBaseVNode("div",{class:normalizeClass([unref(h).be("panel","content"),{"has-seconds":unref(v)}])},[createVNode(TimeSpinner,{ref:"spinner",role:e.datetimeRole||"start","arrow-control":unref(o),"show-seconds":unref(v),"am-pm-mode":unref(y),"spinner-date":e.parsedValue,"disabled-hours":unref(i),"disabled-minutes":unref(a),"disabled-seconds":unref(s),onChange:E,onSetOption:unref(w),onSelectRange:C},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),createBaseVNode("div",{class:normalizeClass(unref(h).be("panel","footer"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(h).be("panel","btn"),"cancel"]),onClick:b},toDisplayString(unref(p)("el.datepicker.cancel")),3),createBaseVNode("button",{type:"button",class:normalizeClass([unref(h).be("panel","btn"),"confirm"]),onClick:r[0]||(r[0]=e=>((e=!1,r=!1)=>{r||t("pick",n.parsedValue,e)})())},toDisplayString(unref(p)("el.datepicker.confirm")),3)],2)],2)):createCommentVNode("v-if",!0)])),_:1},8,["name"]))}});var TimePickPanel=_export_sfc(_sfc_main$34,[["__file","panel-time-pick.vue"]]);const panelTimeRangeProps=buildProps({...timePanelSharedProps,parsedValue:{type:definePropType(Array)}}),_hoisted_1$1V=["disabled"],_sfc_main$33=defineComponent({__name:"panel-time-range",props:panelTimeRangeProps,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const n=e,r=(e,t)=>{const n=[];for(let r=e;r<=t;r++)n.push(r);return n},{t:o,lang:i}=useLocale(),a=useNamespace("time"),s=useNamespace("picker"),l=inject("EP_PICKER_BASE"),{arrowControl:u,disabledHours:c,disabledMinutes:d,disabledSeconds:h,defaultValue:p}=l.props,f=computed((()=>[a.be("range-picker","body"),a.be("panel","content"),a.is("arrow",u),y.value?"has-seconds":""])),m=computed((()=>[a.be("range-picker","body"),a.be("panel","content"),a.is("arrow",u),y.value?"has-seconds":""])),_=computed((()=>n.parsedValue[0])),g=computed((()=>n.parsedValue[1])),v=useOldValue(n),y=computed((()=>n.format.includes("ss"))),b=computed((()=>n.format.includes("A")?"A":n.format.includes("a")?"a":"")),E=e=>{x(e.millisecond(0),g.value)},C=e=>{x(_.value,e.millisecond(0))},x=(e,n)=>{t("pick",[e,n],!0)},w=computed((()=>_.value>g.value)),S=ref([0,2]),T=(e,n)=>{t("select-range",e,n,"min"),S.value=[e,n]},k=computed((()=>y.value?11:8)),L=(e,n)=>{t("select-range",e,n,"max");const r=unref(k);S.value=[e+r,n+r]},P=(e,t)=>{const n=c?c(e):[],o="start"===e,i=(t||(o?g.value:_.value)).hour(),a=o?r(i+1,23):r(0,i-1);return union(n,a)},M=(e,t,n)=>{const o=d?d(e,t):[],i="start"===t,a=n||(i?g.value:_.value);if(e!==a.hour())return o;const s=a.minute(),l=i?r(s+1,59):r(0,s-1);return union(o,l)},O=(e,t,n,o)=>{const i=h?h(e,t,n):[],a="start"===n,s=o||(a?g.value:_.value),l=s.hour(),u=s.minute();if(e!==l||t!==u)return i;const c=s.second(),d=a?r(c+1,59):r(0,c-1);return union(i,d)},N=([e,t])=>[B(e,"start",!0,t),B(t,"end",!1,e)],{getAvailableHours:A,getAvailableMinutes:I,getAvailableSeconds:R}=buildAvailableTimeSlotGetter(P,M,O),{timePickerOptions:$,getAvailableTime:B,onSetOption:D}=useTimePanel({getAvailableHours:A,getAvailableMinutes:I,getAvailableSeconds:R});return t("set-picker-option",["formatToString",e=>e?isArray$1(e)?e.map((e=>e.format(n.format))):e.format(n.format):null]),t("set-picker-option",["parseUserInput",e=>e?isArray$1(e)?e.map((e=>dayjs(e,n.format).locale(i.value))):dayjs(e,n.format).locale(i.value):null]),t("set-picker-option",["isValidValue",e=>{const t=e.map((e=>dayjs(e).locale(i.value))),n=N(t);return t[0].isSame(n[0])&&t[1].isSame(n[1])}]),t("set-picker-option",["handleKeydownInput",e=>{const t=e.code,{left:n,right:r,up:o,down:i}=EVENT_CODE;if([n,r].includes(t)){return(e=>{const t=y.value?[0,3,6,11,14,17]:[0,3,8,11],n=["hours","minutes"].concat(y.value?["seconds"]:[]),r=(t.indexOf(S.value[0])+e+t.length)%t.length,o=t.length/2;r<o?$.start_emitSelectRange(n[r]):$.end_emitSelectRange(n[r-o])})(t===n?-1:1),void e.preventDefault()}if([o,i].includes(t)){const n=t===o?-1:1,r=S.value[0]<k.value?"start":"end";return $[`${r}_scrollDown`](n),void e.preventDefault()}}]),t("set-picker-option",["getDefaultValue",()=>{if(isArray$1(p))return p.map((e=>dayjs(e).locale(i.value)));const e=dayjs(p).locale(i.value);return[e,e.add(60,"m")]}]),t("set-picker-option",["getRangeAvailableTime",N]),(e,n)=>e.actualVisible?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(a).b("range-picker"),unref(s).b("panel")])},[createBaseVNode("div",{class:normalizeClass(unref(a).be("range-picker","content"))},[createBaseVNode("div",{class:normalizeClass(unref(a).be("range-picker","cell"))},[createBaseVNode("div",{class:normalizeClass(unref(a).be("range-picker","header"))},toDisplayString(unref(o)("el.datepicker.startTime")),3),createBaseVNode("div",{class:normalizeClass(unref(f))},[createVNode(TimeSpinner,{ref:"minSpinner",role:"start","show-seconds":unref(y),"am-pm-mode":unref(b),"arrow-control":unref(u),"spinner-date":unref(_),"disabled-hours":P,"disabled-minutes":M,"disabled-seconds":O,onChange:E,onSetOption:unref(D),onSelectRange:T},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),createBaseVNode("div",{class:normalizeClass(unref(a).be("range-picker","cell"))},[createBaseVNode("div",{class:normalizeClass(unref(a).be("range-picker","header"))},toDisplayString(unref(o)("el.datepicker.endTime")),3),createBaseVNode("div",{class:normalizeClass(unref(m))},[createVNode(TimeSpinner,{ref:"maxSpinner",role:"end","show-seconds":unref(y),"am-pm-mode":unref(b),"arrow-control":unref(u),"spinner-date":unref(g),"disabled-hours":P,"disabled-minutes":M,"disabled-seconds":O,onChange:C,onSetOption:unref(D),onSelectRange:L},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),createBaseVNode("div",{class:normalizeClass(unref(a).be("panel","footer"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(a).be("panel","btn"),"cancel"]),onClick:n[0]||(n[0]=e=>{t("pick",v.value,!1)})},toDisplayString(unref(o)("el.datepicker.cancel")),3),createBaseVNode("button",{type:"button",class:normalizeClass([unref(a).be("panel","btn"),"confirm"]),disabled:unref(w),onClick:n[1]||(n[1]=e=>((e=!1)=>{t("pick",[_.value,g.value],e)})())},toDisplayString(unref(o)("el.datepicker.confirm")),11,_hoisted_1$1V)],2)],2)):createCommentVNode("v-if",!0)}});var TimeRangePanel=_export_sfc(_sfc_main$33,[["__file","panel-time-range.vue"]]);dayjs.extend(customParseFormat);var TimePicker=defineComponent({name:"ElTimePicker",install:null,props:{...timePickerDefaultProps,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,t){const n=ref(),[r,o]=e.isRange?["timerange",TimeRangePanel]:["time",TimePickPanel],i=e=>t.emit("update:modelValue",e);return provide("ElPopperOptions",e.popperOptions),t.expose({focus:e=>{var t;null==(t=n.value)||t.handleFocusInput(e)},blur:e=>{var t;null==(t=n.value)||t.handleBlurInput(e)},handleOpen:()=>{var e;null==(e=n.value)||e.handleOpen()},handleClose:()=>{var e;null==(e=n.value)||e.handleClose()}}),()=>{var t;const a=null!=(t=e.format)?t:DEFAULT_FORMATS_TIME;return createVNode(CommonPicker,mergeProps(e,{ref:n,type:r,format:a,"onUpdate:modelValue":i}),{default:e=>createVNode(o,e,null)})}}});const _TimePicker=TimePicker;_TimePicker.install=e=>{e.component(_TimePicker.name,_TimePicker)};const ElTimePicker=_TimePicker,getPrevMonthLastDays=(e,t)=>{const n=e.subtract(1,"month").endOf("month").date();return rangeArr(t).map(((e,r)=>n-(t-r-1)))},getMonthDays=e=>{const t=e.daysInMonth();return rangeArr(t).map(((e,t)=>t+1))},toNestedArr=e=>rangeArr(e.length/7).map((t=>{const n=7*t;return e.slice(n,n+7)})),dateTableProps=buildProps({selectedDay:{type:definePropType(Object)},range:{type:definePropType(Array)},date:{type:definePropType(Object),required:!0},hideHeader:{type:Boolean}}),dateTableEmits={pick:e=>isObject$2(e)};var localeData$1={exports:{}};localeData$1.exports=function(e,t,n){var r=t.prototype,o=function(e){return e&&(e.indexOf?e:e.s)},i=function(e,t,n,r,i){var a=e.name?e:e.$locale(),s=o(a[t]),l=o(a[n]),u=s||l.map((function(e){return e.slice(0,r)}));if(!i)return u;var c=a.weekStart;return u.map((function(e,t){return u[(t+(c||0))%7]}))},a=function(){return n.Ls[n.locale()]},s=function(e,t){return e.formats[t]||e.formats[t.toUpperCase()].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))},l=function(){var e=this;return{months:function(t){return t?t.format("MMMM"):i(e,"months")},monthsShort:function(t){return t?t.format("MMM"):i(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):i(e,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):i(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):i(e,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return s(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return l.bind(this)()},n.localeData=function(){var e=a();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(t){return s(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},n.months=function(){return i(a(),"months")},n.monthsShort=function(){return i(a(),"monthsShort","months",3)},n.weekdays=function(e){return i(a(),"weekdays",null,null,e)},n.weekdaysShort=function(e){return i(a(),"weekdaysShort","weekdays",3,e)},n.weekdaysMin=function(e){return i(a(),"weekdaysMin","weekdays",2,e)}};var localeDataExports=localeData$1.exports;const localeData=getDefaultExportFromCjs(localeDataExports),useDateTable=(e,t)=>{dayjs.extend(localeData);const n=dayjs.localeData().firstDayOfWeek(),{t:r,lang:o}=useLocale(),i=dayjs().locale(o.value),a=computed((()=>!!e.range&&!!e.range.length)),s=computed((()=>{let t=[];if(a.value){const[n,r]=e.range,o=rangeArr(r.date()-n.date()+1).map((e=>({text:n.date()+e,type:"current"})));let i=o.length%7;i=0===i?0:7-i;const a=rangeArr(i).map(((e,t)=>({text:t+1,type:"next"})));t=o.concat(a)}else{const r=e.date.startOf("month").day();t=[...getPrevMonthLastDays(e.date,(r-n+7)%7).map((e=>({text:e,type:"prev"}))),...getMonthDays(e.date).map((e=>({text:e,type:"current"})))];const o=7-(t.length%7||7),i=rangeArr(o).map(((e,t)=>({text:t+1,type:"next"})));t=t.concat(i)}return toNestedArr(t)})),l=computed((()=>{const e=n;return 0===e?WEEK_DAYS.map((e=>r(`el.datepicker.weeks.${e}`))):WEEK_DAYS.slice(e).concat(WEEK_DAYS.slice(0,e)).map((e=>r(`el.datepicker.weeks.${e}`)))})),u=(t,n)=>{switch(n){case"prev":return e.date.startOf("month").subtract(1,"month").date(t);case"next":return e.date.startOf("month").add(1,"month").date(t);case"current":return e.date.date(t)}};return{now:i,isInRange:a,rows:s,weekDays:l,getFormattedDate:u,handlePickDay:({text:e,type:n})=>{const r=u(e,n);t("pick",r)},getSlotData:({text:t,type:n})=>{const r=u(t,n);return{isSelected:r.isSame(e.selectedDay),type:`${n}-month`,day:r.format("YYYY-MM-DD"),date:r.toDate()}}}},_hoisted_1$1U={key:0},_hoisted_2$1f=["onClick"],__default__$1g=defineComponent({name:"DateTable"}),_sfc_main$32=defineComponent({...__default__$1g,props:dateTableProps,emits:dateTableEmits,setup(e,{expose:t,emit:n}){const r=e,{isInRange:o,now:i,rows:a,weekDays:s,getFormattedDate:l,handlePickDay:u,getSlotData:c}=useDateTable(r,n),d=useNamespace("calendar-table"),h=useNamespace("calendar-day"),p=({text:e,type:t})=>{const n=[t];if("current"===t){const o=l(e,t);o.isSame(r.selectedDay,"day")&&n.push(h.is("selected")),o.isSame(i,"day")&&n.push(h.is("today"))}return n};return t({getFormattedDate:l}),(e,t)=>(openBlock(),createElementBlock("table",{class:normalizeClass([unref(d).b(),unref(d).is("range",unref(o))]),cellspacing:"0",cellpadding:"0"},[e.hideHeader?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("thead",_hoisted_1$1U,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(s),(e=>(openBlock(),createElementBlock("th",{key:e},toDisplayString(e),1)))),128))])),createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(a),((t,n)=>(openBlock(),createElementBlock("tr",{key:n,class:normalizeClass({[unref(d).e("row")]:!0,[unref(d).em("row","hide-border")]:0===n&&e.hideHeader})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t,((t,n)=>(openBlock(),createElementBlock("td",{key:n,class:normalizeClass(p(t)),onClick:e=>unref(u)(t)},[createBaseVNode("div",{class:normalizeClass(unref(h).b())},[renderSlot(e.$slots,"date-cell",{data:unref(c)(t)},(()=>[createBaseVNode("span",null,toDisplayString(t.text),1)]))],2)],10,_hoisted_2$1f)))),128))],2)))),128))])],2))}});var DateTable$1=_export_sfc(_sfc_main$32,[["__file","date-table.vue"]]);const adjacentMonth=(e,t)=>{const n=e.endOf("month"),r=t.startOf("month"),o=n.isSame(r,"week");return[[e,n],[(o?r.add(1,"week"):r).startOf("week"),t]]},threeConsecutiveMonth=(e,t)=>{const n=e.endOf("month"),r=e.add(1,"month").startOf("month"),o=n.isSame(r,"week")?r.add(1,"week"):r,i=o.endOf("month"),a=t.startOf("month"),s=i.isSame(a,"week")?a.add(1,"week"):a;return[[e,n],[o.startOf("week"),i],[s.startOf("week"),t]]},useCalendar=(e,t,n)=>{const r=useSlots(),{lang:o}=useLocale(),i=ref(),a=dayjs().locale(o.value),s=computed({get:()=>e.modelValue?u.value:i.value,set(e){if(!e)return;i.value=e;const n=e.toDate();t(INPUT_EVENT,n),t(UPDATE_MODEL_EVENT,n)}}),l=computed((()=>{if(!e.range)return[];const t=e.range.map((e=>dayjs(e).locale(o.value))),[n,r]=t;return n.isAfter(r)?[]:n.isSame(r,"month")?f(n,r):n.add(1,"month").month()!==r.month()?[]:f(n,r)})),u=computed((()=>e.modelValue?dayjs(e.modelValue).locale(o.value):s.value||(l.value.length?l.value[0][0]:a))),c=computed((()=>u.value.subtract(1,"month").date(1))),d=computed((()=>u.value.add(1,"month").date(1))),h=computed((()=>u.value.subtract(1,"year").date(1))),p=computed((()=>u.value.add(1,"year").date(1))),f=(e,t)=>{const n=e.startOf("week"),r=t.endOf("week"),o=n.get("month"),i=r.get("month");return o===i?[[n,r]]:(o+1)%12===i?adjacentMonth(n,r):o+2===i||(o+1)%11===i?threeConsecutiveMonth(n,r):[]},m=e=>{s.value=e};return useDeprecated({from:'"dateCell"',replacement:'"date-cell"',scope:"ElCalendar",version:"2.3.0",ref:"https://element-plus.org/en-US/component/calendar.html#slots",type:"Slot"},computed((()=>!!r.dateCell))),{calculateValidatedDateRange:f,date:u,realSelectedDay:s,pickDay:m,selectDate:e=>{const t={"prev-month":c.value,"next-month":d.value,"prev-year":h.value,"next-year":p.value,today:a}[e];t.isSame(u.value,"day")||m(t)},validatedRange:l}},isValidRange$1=e=>isArray$1(e)&&2===e.length&&e.every((e=>isDate(e))),calendarProps=buildProps({modelValue:{type:Date},range:{type:definePropType(Array),validator:isValidRange$1}}),calendarEmits={[UPDATE_MODEL_EVENT]:e=>isDate(e),[INPUT_EVENT]:e=>isDate(e)},COMPONENT_NAME$g="ElCalendar",__default__$1f=defineComponent({name:COMPONENT_NAME$g}),_sfc_main$31=defineComponent({...__default__$1f,props:calendarProps,emits:calendarEmits,setup(e,{expose:t,emit:n}){const r=e,o=useNamespace("calendar"),{calculateValidatedDateRange:i,date:a,pickDay:s,realSelectedDay:l,selectDate:u,validatedRange:c}=useCalendar(r,n),{t:d}=useLocale(),h=computed((()=>{const e=`el.datepicker.month${a.value.format("M")}`;return`${a.value.year()} ${d("el.datepicker.year")} ${d(e)}`}));return t({selectedDay:l,pickDay:s,selectDate:u,calculateValidatedDateRange:i}),(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(o).b())},[createBaseVNode("div",{class:normalizeClass(unref(o).e("header"))},[renderSlot(e.$slots,"header",{date:unref(h)},(()=>[createBaseVNode("div",{class:normalizeClass(unref(o).e("title"))},toDisplayString(unref(h)),3),0===unref(c).length?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(o).e("button-group"))},[createVNode(unref(ElButtonGroup$1),null,{default:withCtx((()=>[createVNode(unref(ElButton),{size:"small",onClick:t[0]||(t[0]=e=>unref(u)("prev-month"))},{default:withCtx((()=>[createTextVNode(toDisplayString(unref(d)("el.datepicker.prevMonth")),1)])),_:1}),createVNode(unref(ElButton),{size:"small",onClick:t[1]||(t[1]=e=>unref(u)("today"))},{default:withCtx((()=>[createTextVNode(toDisplayString(unref(d)("el.datepicker.today")),1)])),_:1}),createVNode(unref(ElButton),{size:"small",onClick:t[2]||(t[2]=e=>unref(u)("next-month"))},{default:withCtx((()=>[createTextVNode(toDisplayString(unref(d)("el.datepicker.nextMonth")),1)])),_:1})])),_:1})],2)):createCommentVNode("v-if",!0)]))],2),0===unref(c).length?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(o).e("body"))},[createVNode(DateTable$1,{date:unref(a),"selected-day":unref(l),onPick:unref(s)},createSlots({_:2},[e.$slots["date-cell"]||e.$slots.dateCell?{name:"date-cell",fn:withCtx((t=>[e.$slots["date-cell"]?renderSlot(e.$slots,"date-cell",normalizeProps(mergeProps({key:0},t))):renderSlot(e.$slots,"dateCell",normalizeProps(mergeProps({key:1},t)))]))}:void 0]),1032,["date","selected-day","onPick"])],2)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(o).e("body"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(c),((t,n)=>(openBlock(),createBlock(DateTable$1,{key:n,date:t[0],"selected-day":unref(l),range:t,"hide-header":0!==n,onPick:unref(s)},createSlots({_:2},[e.$slots["date-cell"]||e.$slots.dateCell?{name:"date-cell",fn:withCtx((t=>[e.$slots["date-cell"]?renderSlot(e.$slots,"date-cell",normalizeProps(mergeProps({key:0},t))):renderSlot(e.$slots,"dateCell",normalizeProps(mergeProps({key:1},t)))]))}:void 0]),1032,["date","selected-day","range","hide-header","onPick"])))),128))],2))],2))}});var Calendar=_export_sfc(_sfc_main$31,[["__file","calendar.vue"]]);const ElCalendar=withInstall(Calendar),cardProps=buildProps({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:definePropType([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),__default__$1e=defineComponent({name:"ElCard"}),_sfc_main$30=defineComponent({...__default__$1e,props:cardProps,setup(e){const t=useNamespace("card");return(e,n)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(t).b(),unref(t).is(`${e.shadow}-shadow`)])},[e.$slots.header||e.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(t).e("header"))},[renderSlot(e.$slots,"header",{},(()=>[createTextVNode(toDisplayString(e.header),1)]))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass([unref(t).e("body"),e.bodyClass]),style:normalizeStyle(e.bodyStyle)},[renderSlot(e.$slots,"default")],6),e.$slots.footer||e.footer?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(t).e("footer"))},[renderSlot(e.$slots,"footer",{},(()=>[createTextVNode(toDisplayString(e.footer),1)]))],2)):createCommentVNode("v-if",!0)],2))}});var Card=_export_sfc(_sfc_main$30,[["__file","card.vue"]]);const ElCard=withInstall(Card),carouselProps=buildProps({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),carouselEmits={change:(e,t)=>[e,t].every(isNumber)},carouselContextKey=Symbol("carouselContextKey"),THROTTLE_TIME=300,useCarousel=(e,t,n)=>{const{children:r,addChild:o,removeChild:i}=useOrderedChildren(getCurrentInstance(),"ElCarouselItem"),a=useSlots(),s=ref(-1),l=ref(null),u=ref(!1),c=ref(),d=ref(0),h=ref(!0),p=computed((()=>"never"!==e.arrow&&!unref(_))),f=computed((()=>r.value.some((e=>e.props.label.toString().length>0)))),m=computed((()=>"card"===e.type)),_=computed((()=>"vertical"===e.direction)),g=computed((()=>"auto"!==e.height?{height:e.height}:{height:`${d.value}px`,overflow:"hidden"})),v=throttle((e=>{x(e)}),THROTTLE_TIME,{trailing:!0}),y=throttle((t=>{!function(t){"hover"===e.trigger&&t!==s.value&&(s.value=t)}(t)}),THROTTLE_TIME);function b(){l.value&&(clearInterval(l.value),l.value=null)}function E(){e.interval<=0||!e.autoplay||l.value||(l.value=setInterval((()=>C()),e.interval))}const C=()=>{s.value<r.value.length-1?s.value=s.value+1:e.loop&&(s.value=0)};function x(t){if(isString$1(t)){const e=r.value.filter((e=>e.props.name===t));e.length>0&&(t=r.value.indexOf(e[0]))}if(t=Number(t),Number.isNaN(t)||t!==Math.floor(t))return;const n=r.value.length,o=s.value;s.value=t<0?e.loop?n-1:0:t>=n?e.loop?0:n-1:t,o===s.value&&w(o),S()}function w(e){r.value.forEach(((t,n)=>{t.translateItem(n,s.value,e)}))}function S(){b(),e.pauseOnHover||E()}watch((()=>s.value),((e,n)=>{w(n),h.value&&(e%=2,n%=2),n>-1&&t("change",e,n)})),watch((()=>e.autoplay),(e=>{e?E():b()})),watch((()=>e.loop),(()=>{x(s.value)})),watch((()=>e.interval),(()=>{S()}));const T=shallowRef();return onMounted((()=>{watch((()=>r.value),(()=>{r.value.length>0&&x(e.initialIndex)}),{immediate:!0}),T.value=useResizeObserver(c.value,(()=>{w()})),E()})),onBeforeUnmount((()=>{b(),c.value&&T.value&&T.value.stop()})),provide(carouselContextKey,{root:c,isCardType:m,isVertical:_,items:r,loop:e.loop,addItem:o,removeItem:i,setActiveItem:x,setContainerHeight:function(t){"auto"===e.height&&(d.value=t)}}),{root:c,activeIndex:s,arrowDisplay:p,hasLabel:f,hover:u,isCardType:m,items:r,isVertical:_,containerStyle:g,isItemsTwoLength:h,handleButtonEnter:function(e){unref(_)||r.value.forEach(((t,n)=>{e===function(e,t){var n,o,i,a;const s=unref(r),l=s.length;if(0===l||!e.states.inStage)return!1;const u=t+1,c=t-1,d=l-1,h=s[d].states.active,p=s[0].states.active,f=null==(o=null==(n=s[u])?void 0:n.states)?void 0:o.active,m=null==(a=null==(i=s[c])?void 0:i.states)?void 0:a.active;return t===d&&p||f?"left":!!(0===t&&h||m)&&"right"}(t,n)&&(t.states.hover=!0)}))},handleButtonLeave:function(){unref(_)||r.value.forEach((e=>{e.states.hover=!1}))},handleIndicatorClick:function(e){s.value=e},handleMouseEnter:function(){u.value=!0,e.pauseOnHover&&b()},handleMouseLeave:function(){u.value=!1,E()},setActiveItem:x,prev:function(){x(s.value-1)},next:function(){x(s.value+1)},PlaceholderItem:function(){var t;const n=null==(t=a.default)?void 0:t.call(a);if(!n)return null;const r=flattedChildren(n).filter((e=>isVNode(e)&&"ElCarouselItem"===e.type.name));return 2===(null==r?void 0:r.length)&&e.loop&&!m.value?(h.value=!0,r):(h.value=!1,null)},isTwoLengthShow:e=>!h.value||(s.value<=1?e<=1:e>1),throttledArrowClick:v,throttledIndicatorHover:y}},_hoisted_1$1T=["onMouseenter","onClick"],_hoisted_2$1e={key:0},COMPONENT_NAME$f="ElCarousel",__default__$1d=defineComponent({name:COMPONENT_NAME$f}),_sfc_main$2$=defineComponent({...__default__$1d,props:carouselProps,emits:carouselEmits,setup(e,{expose:t,emit:n}){const r=e,{root:o,activeIndex:i,arrowDisplay:a,hasLabel:s,hover:l,isCardType:u,items:c,isVertical:d,containerStyle:h,handleButtonEnter:p,handleButtonLeave:f,handleIndicatorClick:m,handleMouseEnter:_,handleMouseLeave:g,setActiveItem:v,prev:y,next:b,PlaceholderItem:E,isTwoLengthShow:C,throttledArrowClick:x,throttledIndicatorHover:w}=useCarousel(r,n),S=useNamespace("carousel"),T=computed((()=>{const e=[S.b(),S.m(r.direction)];return unref(u)&&e.push(S.m("card")),e})),k=computed((()=>{const e=[S.e("indicators"),S.em("indicators",r.direction)];return unref(s)&&e.push(S.em("indicators","labels")),"outside"===r.indicatorPosition&&e.push(S.em("indicators","outside")),unref(d)&&e.push(S.em("indicators","right")),e}));return t({setActiveItem:v,prev:y,next:b}),(e,t)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:o,class:normalizeClass(unref(T)),onMouseenter:t[6]||(t[6]=withModifiers(((...e)=>unref(_)&&unref(_)(...e)),["stop"])),onMouseleave:t[7]||(t[7]=withModifiers(((...e)=>unref(g)&&unref(g)(...e)),["stop"]))},[createBaseVNode("div",{class:normalizeClass(unref(S).e("container")),style:normalizeStyle(unref(h))},[unref(a)?(openBlock(),createBlock(Transition,{key:0,name:"carousel-arrow-left",persisted:""},{default:withCtx((()=>[withDirectives(createBaseVNode("button",{type:"button",class:normalizeClass([unref(S).e("arrow"),unref(S).em("arrow","left")]),onMouseenter:t[0]||(t[0]=e=>unref(p)("left")),onMouseleave:t[1]||(t[1]=(...e)=>unref(f)&&unref(f)(...e)),onClick:t[2]||(t[2]=withModifiers((e=>unref(x)(unref(i)-1)),["stop"]))},[createVNode(unref(ElIcon),null,{default:withCtx((()=>[createVNode(unref(arrow_left_default))])),_:1})],34),[[vShow,("always"===e.arrow||unref(l))&&(r.loop||unref(i)>0)]])])),_:1})):createCommentVNode("v-if",!0),unref(a)?(openBlock(),createBlock(Transition,{key:1,name:"carousel-arrow-right",persisted:""},{default:withCtx((()=>[withDirectives(createBaseVNode("button",{type:"button",class:normalizeClass([unref(S).e("arrow"),unref(S).em("arrow","right")]),onMouseenter:t[3]||(t[3]=e=>unref(p)("right")),onMouseleave:t[4]||(t[4]=(...e)=>unref(f)&&unref(f)(...e)),onClick:t[5]||(t[5]=withModifiers((e=>unref(x)(unref(i)+1)),["stop"]))},[createVNode(unref(ElIcon),null,{default:withCtx((()=>[createVNode(unref(arrow_right_default))])),_:1})],34),[[vShow,("always"===e.arrow||unref(l))&&(r.loop||unref(i)<unref(c).length-1)]])])),_:1})):createCommentVNode("v-if",!0),createVNode(unref(E)),renderSlot(e.$slots,"default")],6),"none"!==e.indicatorPosition?(openBlock(),createElementBlock("ul",{key:0,class:normalizeClass(unref(k))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(c),((t,n)=>withDirectives((openBlock(),createElementBlock("li",{key:n,class:normalizeClass([unref(S).e("indicator"),unref(S).em("indicator",e.direction),unref(S).is("active",n===unref(i))]),onMouseenter:e=>unref(w)(n),onClick:withModifiers((e=>unref(m)(n)),["stop"])},[createBaseVNode("button",{class:normalizeClass(unref(S).e("button"))},[unref(s)?(openBlock(),createElementBlock("span",_hoisted_2$1e,toDisplayString(t.props.label),1)):createCommentVNode("v-if",!0)],2)],42,_hoisted_1$1T)),[[vShow,unref(C)(n)]]))),128))],2)):createCommentVNode("v-if",!0)],34))}});var Carousel=_export_sfc(_sfc_main$2$,[["__file","carousel.vue"]]);const carouselItemProps=buildProps({name:{type:String,default:""},label:{type:[String,Number],default:""}}),useCarouselItem=(e,t)=>{const n=inject(carouselContextKey),r=getCurrentInstance(),o=.83,i=ref(),a=ref(!1),s=ref(0),l=ref(1),u=ref(!1),c=ref(!1),d=ref(!1),h=ref(!1),{isCardType:p,isVertical:f}=n;const m=(e,t,r)=>{var a;const m=unref(p),_=null!=(a=n.items.value.length)?a:Number.NaN,g=e===t;m||isUndefined(r)||(h.value=g||e===r),!g&&_>2&&n.loop&&(e=function(e,t,n){const r=n-1,o=n/2;return 0===t&&e===r?-1:t===r&&0===e?n:e<t-1&&t-e>=o?n+1:e>t+1&&e-t>=o?-2:e}(e,t,_));const v=unref(f);u.value=g,m?(d.value=Math.round(Math.abs(e-t))<=1,s.value=function(e,t){var r,o;const i=unref(f)?(null==(r=n.root.value)?void 0:r.offsetHeight)||0:(null==(o=n.root.value)?void 0:o.offsetWidth)||0;return d.value?i*(1.17*(e-t)+1)/4:e<t?-1.83*i/4:3.83*i/4}(e,t),l.value=unref(u)?1:o):s.value=function(e,t,r){const o=n.root.value;return o?((r?o.offsetHeight:o.offsetWidth)||0)*(e-t):0}(e,t,v),c.value=!0,g&&i.value&&n.setContainerHeight(i.value.offsetHeight)};return onMounted((()=>{n.addItem({props:e,states:reactive({hover:a,translate:s,scale:l,active:u,ready:c,inStage:d,animating:h}),uid:r.uid,translateItem:m})})),onUnmounted((()=>{n.removeItem(r.uid)})),{carouselItemRef:i,active:u,animating:h,hover:a,inStage:d,isVertical:f,translate:s,isCardType:p,scale:l,ready:c,handleItemClick:function(){if(n&&unref(p)){const e=n.items.value.findIndex((({uid:e})=>e===r.uid));n.setActiveItem(e)}}}},__default__$1c=defineComponent({name:"ElCarouselItem"}),_sfc_main$2_=defineComponent({...__default__$1c,props:carouselItemProps,setup(e){const t=e,n=useNamespace("carousel"),{carouselItemRef:r,active:o,animating:i,hover:a,inStage:s,isVertical:l,translate:u,isCardType:c,scale:d,ready:h,handleItemClick:p}=useCarouselItem(t),f=computed((()=>({transform:[`${"translate"+(unref(l)?"Y":"X")}(${unref(u)}px)`,`scale(${unref(d)})`].join(" ")})));return(e,t)=>withDirectives((openBlock(),createElementBlock("div",{ref_key:"carouselItemRef",ref:r,class:normalizeClass([unref(n).e("item"),unref(n).is("active",unref(o)),unref(n).is("in-stage",unref(s)),unref(n).is("hover",unref(a)),unref(n).is("animating",unref(i)),{[unref(n).em("item","card")]:unref(c),[unref(n).em("item","card-vertical")]:unref(c)&&unref(l)}]),style:normalizeStyle(unref(f)),onClick:t[0]||(t[0]=(...e)=>unref(p)&&unref(p)(...e))},[unref(c)?withDirectives((openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(n).e("mask"))},null,2)),[[vShow,!unref(o)]]):createCommentVNode("v-if",!0),renderSlot(e.$slots,"default")],6)),[[vShow,unref(h)]])}});var CarouselItem=_export_sfc(_sfc_main$2_,[["__file","carousel-item.vue"]]);const ElCarousel=withInstall(Carousel,{CarouselItem:CarouselItem}),ElCarouselItem=withNoopInstall(CarouselItem),checkboxProps={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:useSizeProp,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},checkboxEmits={[UPDATE_MODEL_EVENT]:e=>isString$1(e)||isNumber(e)||isBoolean(e),change:e=>isString$1(e)||isNumber(e)||isBoolean(e)},checkboxGroupContextKey=Symbol("checkboxGroupContextKey"),useCheckboxDisabled=({model:e,isChecked:t})=>{const n=inject(checkboxGroupContextKey,void 0),r=computed((()=>{var r,o;const i=null==(r=null==n?void 0:n.max)?void 0:r.value,a=null==(o=null==n?void 0:n.min)?void 0:o.value;return!isUndefined(i)&&e.value.length>=i&&!t.value||!isUndefined(a)&&e.value.length<=a&&t.value}));return{isDisabled:useFormDisabled(computed((()=>(null==n?void 0:n.disabled.value)||r.value))),isLimitDisabled:r}},useCheckboxEvent=(e,{model:t,isLimitExceeded:n,hasOwnLabel:r,isDisabled:o,isLabeledByFormItem:i})=>{const a=inject(checkboxGroupContextKey,void 0),{formItem:s}=useFormItem(),{emit:l}=getCurrentInstance();function u(t){var n,r;return t===e.trueLabel||!0===t?null==(n=e.trueLabel)||n:null!=(r=e.falseLabel)&&r}const c=computed((()=>(null==a?void 0:a.validateEvent)||e.validateEvent));return watch((()=>e.modelValue),(()=>{c.value&&(null==s||s.validate("change").catch((e=>debugWarn())))})),{handleChange:function(e){if(n.value)return;const t=e.target;l("change",u(t.checked),e)},onClickRoot:async function(a){if(!n.value&&!r.value&&!o.value&&i.value){a.composedPath().some((e=>"LABEL"===e.tagName))||(t.value=u([!1,e.falseLabel].includes(t.value)),await nextTick(),function(e,t){l("change",u(e),t)}(t.value,a))}}}},useCheckboxModel=e=>{const t=ref(!1),{emit:n}=getCurrentInstance(),r=inject(checkboxGroupContextKey,void 0),o=computed((()=>!1===isUndefined(r))),i=ref(!1);return{model:computed({get(){var n,i;return o.value?null==(n=null==r?void 0:r.modelValue)?void 0:n.value:null!=(i=e.modelValue)?i:t.value},set(e){var a,s;o.value&&isArray$1(e)?(i.value=void 0!==(null==(a=null==r?void 0:r.max)?void 0:a.value)&&e.length>(null==r?void 0:r.max.value),!1===i.value&&(null==(s=null==r?void 0:r.changeEvent)||s.call(r,e))):(n(UPDATE_MODEL_EVENT,e),t.value=e)}}),isGroup:o,isLimitExceeded:i}},useCheckboxStatus=(e,t,{model:n})=>{const r=inject(checkboxGroupContextKey,void 0),o=ref(!1),i=computed((()=>{const t=n.value;return isBoolean(t)?t:isArray$1(t)?isObject$2(e.label)?t.map(toRaw).some((t=>isEqual$1(t,e.label))):t.map(toRaw).includes(e.label):null!=t?t===e.trueLabel:!!t}));return{checkboxButtonSize:useFormSize(computed((()=>{var e;return null==(e=null==r?void 0:r.size)?void 0:e.value})),{prop:!0}),isChecked:i,isFocused:o,checkboxSize:useFormSize(computed((()=>{var e;return null==(e=null==r?void 0:r.size)?void 0:e.value}))),hasOwnLabel:computed((()=>!!t.default||!isNil(e.label)))}},setStoreValue=(e,{model:t})=>{e.checked&&(isArray$1(t.value)&&!t.value.includes(e.label)?t.value.push(e.label):t.value=e.trueLabel||!0)},useCheckbox=(e,t)=>{const{formItem:n}=useFormItem(),{model:r,isGroup:o,isLimitExceeded:i}=useCheckboxModel(e),{isFocused:a,isChecked:s,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:c}=useCheckboxStatus(e,t,{model:r}),{isDisabled:d}=useCheckboxDisabled({model:r,isChecked:s}),{inputId:h,isLabeledByFormItem:p}=useFormItemInputId(e,{formItemContext:n,disableIdGeneration:c,disableIdManagement:o}),{handleChange:f,onClickRoot:m}=useCheckboxEvent(e,{model:r,isLimitExceeded:i,hasOwnLabel:c,isDisabled:d,isLabeledByFormItem:p});return setStoreValue(e,{model:r}),{inputId:h,isLabeledByFormItem:p,isChecked:s,isDisabled:d,isFocused:a,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:c,model:r,handleChange:f,onClickRoot:m}},_hoisted_1$1S=["id","indeterminate","name","tabindex","disabled","true-value","false-value"],_hoisted_2$1d=["id","indeterminate","disabled","value","name","tabindex"],__default__$1b=defineComponent({name:"ElCheckbox"}),_sfc_main$2Z=defineComponent({...__default__$1b,props:checkboxProps,emits:checkboxEmits,setup(e){const t=e,n=useSlots(),{inputId:r,isLabeledByFormItem:o,isChecked:i,isDisabled:a,isFocused:s,checkboxSize:l,hasOwnLabel:u,model:c,handleChange:d,onClickRoot:h}=useCheckbox(t,n),p=useNamespace("checkbox"),f=computed((()=>[p.b(),p.m(l.value),p.is("disabled",a.value),p.is("bordered",t.border),p.is("checked",i.value)])),m=computed((()=>[p.e("input"),p.is("disabled",a.value),p.is("checked",i.value),p.is("indeterminate",t.indeterminate),p.is("focus",s.value)]));return(e,t)=>(openBlock(),createBlock(resolveDynamicComponent(!unref(u)&&unref(o)?"span":"label"),{class:normalizeClass(unref(f)),"aria-controls":e.indeterminate?e.controls:null,onClick:unref(h)},{default:withCtx((()=>[createBaseVNode("span",{class:normalizeClass(unref(m))},[e.trueLabel||e.falseLabel?withDirectives((openBlock(),createElementBlock("input",{key:0,id:unref(r),"onUpdate:modelValue":t[0]||(t[0]=e=>isRef(c)?c.value=e:null),class:normalizeClass(unref(p).e("original")),type:"checkbox",indeterminate:e.indeterminate,name:e.name,tabindex:e.tabindex,disabled:unref(a),"true-value":e.trueLabel,"false-value":e.falseLabel,onChange:t[1]||(t[1]=(...e)=>unref(d)&&unref(d)(...e)),onFocus:t[2]||(t[2]=e=>s.value=!0),onBlur:t[3]||(t[3]=e=>s.value=!1),onClick:t[4]||(t[4]=withModifiers((()=>{}),["stop"]))},null,42,_hoisted_1$1S)),[[vModelCheckbox,unref(c)]]):withDirectives((openBlock(),createElementBlock("input",{key:1,id:unref(r),"onUpdate:modelValue":t[5]||(t[5]=e=>isRef(c)?c.value=e:null),class:normalizeClass(unref(p).e("original")),type:"checkbox",indeterminate:e.indeterminate,disabled:unref(a),value:e.label,name:e.name,tabindex:e.tabindex,onChange:t[6]||(t[6]=(...e)=>unref(d)&&unref(d)(...e)),onFocus:t[7]||(t[7]=e=>s.value=!0),onBlur:t[8]||(t[8]=e=>s.value=!1),onClick:t[9]||(t[9]=withModifiers((()=>{}),["stop"]))},null,42,_hoisted_2$1d)),[[vModelCheckbox,unref(c)]]),createBaseVNode("span",{class:normalizeClass(unref(p).e("inner"))},null,2)],2),unref(u)?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(p).e("label"))},[renderSlot(e.$slots,"default"),e.$slots.default?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(e.label),1)],64))],2)):createCommentVNode("v-if",!0)])),_:3},8,["class","aria-controls","onClick"]))}});var Checkbox=_export_sfc(_sfc_main$2Z,[["__file","checkbox.vue"]]);const _hoisted_1$1R=["name","tabindex","disabled","true-value","false-value"],_hoisted_2$1c=["name","tabindex","disabled","value"],__default__$1a=defineComponent({name:"ElCheckboxButton"}),_sfc_main$2Y=defineComponent({...__default__$1a,props:checkboxProps,emits:checkboxEmits,setup(e){const t=e,n=useSlots(),{isFocused:r,isChecked:o,isDisabled:i,checkboxButtonSize:a,model:s,handleChange:l}=useCheckbox(t,n),u=inject(checkboxGroupContextKey,void 0),c=useNamespace("checkbox"),d=computed((()=>{var e,t,n,r;const o=null!=(t=null==(e=null==u?void 0:u.fill)?void 0:e.value)?t:"";return{backgroundColor:o,borderColor:o,color:null!=(r=null==(n=null==u?void 0:u.textColor)?void 0:n.value)?r:"",boxShadow:o?`-1px 0 0 0 ${o}`:void 0}})),h=computed((()=>[c.b("button"),c.bm("button",a.value),c.is("disabled",i.value),c.is("checked",o.value),c.is("focus",r.value)]));return(e,t)=>(openBlock(),createElementBlock("label",{class:normalizeClass(unref(h))},[e.trueLabel||e.falseLabel?withDirectives((openBlock(),createElementBlock("input",{key:0,"onUpdate:modelValue":t[0]||(t[0]=e=>isRef(s)?s.value=e:null),class:normalizeClass(unref(c).be("button","original")),type:"checkbox",name:e.name,tabindex:e.tabindex,disabled:unref(i),"true-value":e.trueLabel,"false-value":e.falseLabel,onChange:t[1]||(t[1]=(...e)=>unref(l)&&unref(l)(...e)),onFocus:t[2]||(t[2]=e=>r.value=!0),onBlur:t[3]||(t[3]=e=>r.value=!1),onClick:t[4]||(t[4]=withModifiers((()=>{}),["stop"]))},null,42,_hoisted_1$1R)),[[vModelCheckbox,unref(s)]]):withDirectives((openBlock(),createElementBlock("input",{key:1,"onUpdate:modelValue":t[5]||(t[5]=e=>isRef(s)?s.value=e:null),class:normalizeClass(unref(c).be("button","original")),type:"checkbox",name:e.name,tabindex:e.tabindex,disabled:unref(i),value:e.label,onChange:t[6]||(t[6]=(...e)=>unref(l)&&unref(l)(...e)),onFocus:t[7]||(t[7]=e=>r.value=!0),onBlur:t[8]||(t[8]=e=>r.value=!1),onClick:t[9]||(t[9]=withModifiers((()=>{}),["stop"]))},null,42,_hoisted_2$1c)),[[vModelCheckbox,unref(s)]]),e.$slots.default||e.label?(openBlock(),createElementBlock("span",{key:2,class:normalizeClass(unref(c).be("button","inner")),style:normalizeStyle(unref(o)?unref(d):void 0)},[renderSlot(e.$slots,"default",{},(()=>[createTextVNode(toDisplayString(e.label),1)]))],6)):createCommentVNode("v-if",!0)],2))}});var CheckboxButton=_export_sfc(_sfc_main$2Y,[["__file","checkbox-button.vue"]]);const checkboxGroupProps=buildProps({modelValue:{type:definePropType(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:useSizeProp,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),checkboxGroupEmits={[UPDATE_MODEL_EVENT]:e=>isArray$1(e),change:e=>isArray$1(e)},__default__$19=defineComponent({name:"ElCheckboxGroup"}),_sfc_main$2X=defineComponent({...__default__$19,props:checkboxGroupProps,emits:checkboxGroupEmits,setup(e,{emit:t}){const n=e,r=useNamespace("checkbox"),{formItem:o}=useFormItem(),{inputId:i,isLabeledByFormItem:a}=useFormItemInputId(n,{formItemContext:o}),s=async e=>{t(UPDATE_MODEL_EVENT,e),await nextTick(),t("change",e)},l=computed({get:()=>n.modelValue,set(e){s(e)}});return provide(checkboxGroupContextKey,{...pick(toRefs(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:l,changeEvent:s}),watch((()=>n.modelValue),(()=>{n.validateEvent&&(null==o||o.validate("change").catch((e=>debugWarn())))})),(e,t)=>{var n;return openBlock(),createBlock(resolveDynamicComponent(e.tag),{id:unref(i),class:normalizeClass(unref(r).b("group")),role:"group","aria-label":unref(a)?void 0:e.label||"checkbox-group","aria-labelledby":unref(a)?null==(n=unref(o))?void 0:n.labelId:void 0},{default:withCtx((()=>[renderSlot(e.$slots,"default")])),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var CheckboxGroup=_export_sfc(_sfc_main$2X,[["__file","checkbox-group.vue"]]);const ElCheckbox=withInstall(Checkbox,{CheckboxButton:CheckboxButton,CheckboxGroup:CheckboxGroup}),ElCheckboxButton=withNoopInstall(CheckboxButton),ElCheckboxGroup$1=withNoopInstall(CheckboxGroup),radioPropsBase=buildProps({size:useSizeProp,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),radioProps=buildProps({...radioPropsBase,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),radioEmits={[UPDATE_MODEL_EVENT]:e=>isString$1(e)||isNumber(e)||isBoolean(e),[CHANGE_EVENT]:e=>isString$1(e)||isNumber(e)||isBoolean(e)},radioGroupKey=Symbol("radioGroupKey"),useRadio=(e,t)=>{const n=ref(),r=inject(radioGroupKey,void 0),o=computed((()=>!!r)),i=computed({get:()=>o.value?r.modelValue:e.modelValue,set(i){o.value?r.changeEvent(i):t&&t(UPDATE_MODEL_EVENT,i),n.value.checked=e.modelValue===e.label}}),a=useFormSize(computed((()=>null==r?void 0:r.size))),s=useFormDisabled(computed((()=>null==r?void 0:r.disabled))),l=ref(!1),u=computed((()=>s.value||o.value&&i.value!==e.label?-1:0));return{radioRef:n,isGroup:o,radioGroup:r,focus:l,size:a,disabled:s,tabIndex:u,modelValue:i}},_hoisted_1$1Q=["value","name","disabled"],__default__$18=defineComponent({name:"ElRadio"}),_sfc_main$2W=defineComponent({...__default__$18,props:radioProps,emits:radioEmits,setup(e,{emit:t}){const n=e,r=useNamespace("radio"),{radioRef:o,radioGroup:i,focus:a,size:s,disabled:l,modelValue:u}=useRadio(n,t);function c(){nextTick((()=>t("change",u.value)))}return(e,t)=>{var n;return openBlock(),createElementBlock("label",{class:normalizeClass([unref(r).b(),unref(r).is("disabled",unref(l)),unref(r).is("focus",unref(a)),unref(r).is("bordered",e.border),unref(r).is("checked",unref(u)===e.label),unref(r).m(unref(s))])},[createBaseVNode("span",{class:normalizeClass([unref(r).e("input"),unref(r).is("disabled",unref(l)),unref(r).is("checked",unref(u)===e.label)])},[withDirectives(createBaseVNode("input",{ref_key:"radioRef",ref:o,"onUpdate:modelValue":t[0]||(t[0]=e=>isRef(u)?u.value=e:null),class:normalizeClass(unref(r).e("original")),value:e.label,name:e.name||(null==(n=unref(i))?void 0:n.name),disabled:unref(l),type:"radio",onFocus:t[1]||(t[1]=e=>a.value=!0),onBlur:t[2]||(t[2]=e=>a.value=!1),onChange:c,onClick:t[3]||(t[3]=withModifiers((()=>{}),["stop"]))},null,42,_hoisted_1$1Q),[[vModelRadio,unref(u)]]),createBaseVNode("span",{class:normalizeClass(unref(r).e("inner"))},null,2)],2),createBaseVNode("span",{class:normalizeClass(unref(r).e("label")),onKeydown:t[4]||(t[4]=withModifiers((()=>{}),["stop"]))},[renderSlot(e.$slots,"default",{},(()=>[createTextVNode(toDisplayString(e.label),1)]))],34)],2)}}});var Radio=_export_sfc(_sfc_main$2W,[["__file","radio.vue"]]);const radioButtonProps=buildProps({...radioPropsBase,name:{type:String,default:""}}),_hoisted_1$1P=["value","name","disabled"],__default__$17=defineComponent({name:"ElRadioButton"}),_sfc_main$2V=defineComponent({...__default__$17,props:radioButtonProps,setup(e){const t=e,n=useNamespace("radio"),{radioRef:r,focus:o,size:i,disabled:a,modelValue:s,radioGroup:l}=useRadio(t),u=computed((()=>({backgroundColor:(null==l?void 0:l.fill)||"",borderColor:(null==l?void 0:l.fill)||"",boxShadow:(null==l?void 0:l.fill)?`-1px 0 0 0 ${l.fill}`:"",color:(null==l?void 0:l.textColor)||""})));return(e,t)=>{var c;return openBlock(),createElementBlock("label",{class:normalizeClass([unref(n).b("button"),unref(n).is("active",unref(s)===e.label),unref(n).is("disabled",unref(a)),unref(n).is("focus",unref(o)),unref(n).bm("button",unref(i))])},[withDirectives(createBaseVNode("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":t[0]||(t[0]=e=>isRef(s)?s.value=e:null),class:normalizeClass(unref(n).be("button","original-radio")),value:e.label,type:"radio",name:e.name||(null==(c=unref(l))?void 0:c.name),disabled:unref(a),onFocus:t[1]||(t[1]=e=>o.value=!0),onBlur:t[2]||(t[2]=e=>o.value=!1),onClick:t[3]||(t[3]=withModifiers((()=>{}),["stop"]))},null,42,_hoisted_1$1P),[[vModelRadio,unref(s)]]),createBaseVNode("span",{class:normalizeClass(unref(n).be("button","inner")),style:normalizeStyle(unref(s)===e.label?unref(u):{}),onKeydown:t[4]||(t[4]=withModifiers((()=>{}),["stop"]))},[renderSlot(e.$slots,"default",{},(()=>[createTextVNode(toDisplayString(e.label),1)]))],38)],2)}}});var RadioButton=_export_sfc(_sfc_main$2V,[["__file","radio-button.vue"]]);const radioGroupProps=buildProps({id:{type:String,default:void 0},size:useSizeProp,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),radioGroupEmits=radioEmits,_hoisted_1$1O=["id","aria-label","aria-labelledby"],__default__$16=defineComponent({name:"ElRadioGroup"}),_sfc_main$2U=defineComponent({...__default__$16,props:radioGroupProps,emits:radioGroupEmits,setup(e,{emit:t}){const n=e,r=useNamespace("radio"),o=useId(),i=ref(),{formItem:a}=useFormItem(),{inputId:s,isLabeledByFormItem:l}=useFormItemInputId(n,{formItemContext:a});onMounted((()=>{const e=i.value.querySelectorAll("[type=radio]"),t=e[0];!Array.from(e).some((e=>e.checked))&&t&&(t.tabIndex=0)}));const u=computed((()=>n.name||o.value));return provide(radioGroupKey,reactive({...toRefs(n),changeEvent:e=>{t(UPDATE_MODEL_EVENT,e),nextTick((()=>t("change",e)))},name:u})),watch((()=>n.modelValue),(()=>{n.validateEvent&&(null==a||a.validate("change").catch((e=>debugWarn())))})),(e,t)=>(openBlock(),createElementBlock("div",{id:unref(s),ref_key:"radioGroupRef",ref:i,class:normalizeClass(unref(r).b("group")),role:"radiogroup","aria-label":unref(l)?void 0:e.label||"radio-group","aria-labelledby":unref(l)?unref(a).labelId:void 0},[renderSlot(e.$slots,"default")],10,_hoisted_1$1O))}});var RadioGroup=_export_sfc(_sfc_main$2U,[["__file","radio-group.vue"]]);const ElRadio=withInstall(Radio,{RadioButton:RadioButton,RadioGroup:RadioGroup}),ElRadioGroup=withNoopInstall(RadioGroup),ElRadioButton=withNoopInstall(RadioButton);var NodeContent$1=defineComponent({name:"NodeContent",setup:()=>({ns:useNamespace("cascader-node")}),render(){const{ns:e}=this,{node:t,panel:n}=this.$parent,{data:r,label:o}=t,{renderLabelFn:i}=n;return h$1("span",{class:e.e("label")},i?i({node:t,data:r}):o)}});const CASCADER_PANEL_INJECTION_KEY=Symbol(),_sfc_main$2T=defineComponent({name:"ElCascaderNode",components:{ElCheckbox:ElCheckbox,ElRadio:ElRadio,NodeContent:NodeContent$1,ElIcon:ElIcon,Check:check_default,Loading:loading_default,ArrowRight:arrow_right_default},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:t}){const n=inject(CASCADER_PANEL_INJECTION_KEY),r=useNamespace("cascader-node"),o=computed((()=>n.isHoverMenu)),i=computed((()=>n.config.multiple)),a=computed((()=>n.config.checkStrictly)),s=computed((()=>{var e;return null==(e=n.checkedNodes[0])?void 0:e.uid})),l=computed((()=>e.node.isDisabled)),u=computed((()=>e.node.isLeaf)),c=computed((()=>a.value&&!u.value||!l.value)),d=computed((()=>p(n.expandingNode))),h=computed((()=>a.value&&n.checkedNodes.some(p))),p=t=>{var n;const{level:r,uid:o}=e.node;return(null==(n=null==t?void 0:t.pathNodes[r-1])?void 0:n.uid)===o},f=()=>{d.value||n.expandNode(e.node)},m=t=>{const{node:r}=e;t!==r.checked&&n.handleCheckChange(r,t)},_=()=>{n.lazyLoad(e.node,(()=>{u.value||f()}))},g=()=>{const{node:t}=e;c.value&&!t.loading&&(t.loaded?f():_())},v=t=>{e.node.loaded?(m(t),!a.value&&f()):_()};return{panel:n,isHoverMenu:o,multiple:i,checkStrictly:a,checkedNodeId:s,isDisabled:l,isLeaf:u,expandable:c,inExpandingPath:d,inCheckedPath:h,ns:r,handleHoverExpand:e=>{o.value&&(g(),!u.value&&t("expand",e))},handleExpand:g,handleClick:()=>{o.value&&!u.value||(!u.value||l.value||a.value||i.value?g():v(!0))},handleCheck:v,handleSelectCheck:t=>{a.value?(m(t),e.node.loaded&&f()):v(t)}}}}),_hoisted_1$1N=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],_hoisted_2$1b=createBaseVNode("span",null,null,-1);function _sfc_render$G(e,t,n,r,o,i){const a=resolveComponent("el-checkbox"),s=resolveComponent("el-radio"),l=resolveComponent("check"),u=resolveComponent("el-icon"),c=resolveComponent("node-content"),d=resolveComponent("loading"),h=resolveComponent("arrow-right");return openBlock(),createElementBlock("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:normalizeClass([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:t[2]||(t[2]=(...t)=>e.handleHoverExpand&&e.handleHoverExpand(...t)),onFocus:t[3]||(t[3]=(...t)=>e.handleHoverExpand&&e.handleHoverExpand(...t)),onClick:t[4]||(t[4]=(...t)=>e.handleClick&&e.handleClick(...t))},[createCommentVNode(" prefix "),e.multiple?(openBlock(),createBlock(a,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:t[0]||(t[0]=withModifiers((()=>{}),["stop"])),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):e.checkStrictly?(openBlock(),createBlock(s,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:t[1]||(t[1]=withModifiers((()=>{}),["stop"]))},{default:withCtx((()=>[createCommentVNode("\n        Add an empty element to avoid render label,\n        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485\n      "),_hoisted_2$1b])),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):e.isLeaf&&e.node.checked?(openBlock(),createBlock(u,{key:2,class:normalizeClass(e.ns.e("prefix"))},{default:withCtx((()=>[createVNode(l)])),_:1},8,["class"])):createCommentVNode("v-if",!0),createCommentVNode(" content "),createVNode(c),createCommentVNode(" postfix "),e.isLeaf?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:3},[e.node.loading?(openBlock(),createBlock(u,{key:0,class:normalizeClass([e.ns.is("loading"),e.ns.e("postfix")])},{default:withCtx((()=>[createVNode(d)])),_:1},8,["class"])):(openBlock(),createBlock(u,{key:1,class:normalizeClass(["arrow-right",e.ns.e("postfix")])},{default:withCtx((()=>[createVNode(h)])),_:1},8,["class"]))],64))],42,_hoisted_1$1N)}var ElCascaderNode=_export_sfc(_sfc_main$2T,[["render",_sfc_render$G],["__file","node.vue"]]);const _sfc_main$2S=defineComponent({name:"ElCascaderMenu",components:{Loading:loading_default,ElIcon:ElIcon,ElScrollbar:ElScrollbar,ElCascaderNode:ElCascaderNode},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const t=getCurrentInstance(),n=useNamespace("cascader-menu"),{t:r}=useLocale(),o=generateId();let i=null,a=null;const s=inject(CASCADER_PANEL_INJECTION_KEY),l=ref(null),u=computed((()=>!e.nodes.length)),c=computed((()=>!s.initialLoaded)),d=computed((()=>`cascader-menu-${o}-${e.index}`)),h=()=>{a&&(clearTimeout(a),a=null)},p=()=>{l.value&&(l.value.innerHTML="",h())};return{ns:n,panel:s,hoverZone:l,isEmpty:u,isLoading:c,menuId:d,t:r,handleExpand:e=>{i=e.target},handleMouseMove:e=>{if(s.isHoverMenu&&i&&l.value)if(i.contains(e.target)){h();const n=t.vnode.el,{left:r}=n.getBoundingClientRect(),{offsetWidth:o,offsetHeight:a}=n,s=e.clientX-r,u=i.offsetTop,c=u+i.offsetHeight;l.value.innerHTML=`\n          <path style="pointer-events: auto;" fill="transparent" d="M${s} ${u} L${o} 0 V${u} Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M${s} ${c} L${o} ${a} V${c} Z" />\n        `}else a||(a=window.setTimeout(p,s.config.hoverThreshold))},clearHoverZone:p}}});function _sfc_render$F(e,t,n,r,o,i){const a=resolveComponent("el-cascader-node"),s=resolveComponent("loading"),l=resolveComponent("el-icon"),u=resolveComponent("el-scrollbar");return openBlock(),createBlock(u,{key:e.menuId,tag:"ul",role:"menu",class:normalizeClass(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:withCtx((()=>{var t;return[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.nodes,(t=>(openBlock(),createBlock(a,{key:t.uid,node:t,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"])))),128)),e.isLoading?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(e.ns.e("empty-text"))},[createVNode(l,{size:"14",class:normalizeClass(e.ns.is("loading"))},{default:withCtx((()=>[createVNode(s)])),_:1},8,["class"]),createTextVNode(" "+toDisplayString(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(e.ns.e("empty-text"))},toDisplayString(e.t("el.cascader.noData")),3)):(null==(t=e.panel)?void 0:t.isHoverMenu)?(openBlock(),createElementBlock("svg",{key:2,ref:"hoverZone",class:normalizeClass(e.ns.e("hover-zone"))},null,2)):createCommentVNode("v-if",!0)]})),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var ElCascaderMenu=_export_sfc(_sfc_main$2S,[["render",_sfc_render$F],["__file","menu.vue"]]);let uid=0;const calculatePathNodes=e=>{const t=[e];let{parent:n}=e;for(;n;)t.unshift(n),n=n.parent;return t};let Node$2=class e{constructor(t,n,r,o=!1){this.data=t,this.config=n,this.parent=r,this.root=o,this.uid=uid++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:i,label:a,children:s}=n,l=t[s],u=calculatePathNodes(this);this.level=o?0:r?r.level+1:1,this.value=t[i],this.label=t[a],this.pathNodes=u,this.pathValues=u.map((e=>e.value)),this.pathLabels=u.map((e=>e.label)),this.childrenData=l,this.children=(l||[]).map((t=>new e(t,n,this))),this.loaded=!n.lazy||this.isLeaf||!isEmpty(l)}get isDisabled(){const{data:e,parent:t,config:n}=this,{disabled:r,checkStrictly:o}=n;return(isFunction$2(r)?r(e,this):!!e[r])||!o&&(null==t?void 0:t.isDisabled)}get isLeaf(){const{data:e,config:t,childrenData:n,loaded:r}=this,{lazy:o,leaf:i}=t,a=isFunction$2(i)?i(e,this):e[i];return isUndefined(a)?!(o&&!r)&&!(Array.isArray(n)&&n.length):!!a}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(t){const{childrenData:n,children:r}=this,o=new e(t,this.config,this);return Array.isArray(n)?n.push(t):this.childrenData=[t],r.push(o),o}calcText(e,t){const n=e?this.pathLabels.join(t):this.label;return this.text=n,n}broadcast(e,...t){const n=`onParent${capitalize(e)}`;this.children.forEach((r=>{r&&(r.broadcast(e,...t),r[n]&&r[n](...t))}))}emit(e,...t){const{parent:n}=this,r=`onChild${capitalize(e)}`;n&&(n[r]&&n[r](...t),n.emit(e,...t))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,t=e.filter((e=>!e.isDisabled)),n=!!t.length&&t.every((e=>e.checked));this.setCheckState(n)}setCheckState(e){const t=this.children.length,n=this.children.reduce(((e,t)=>e+(t.checked?1:t.indeterminate?.5:0)),0);this.checked=this.loaded&&this.children.filter((e=>!e.isDisabled)).every((e=>e.loaded&&e.checked))&&e,this.indeterminate=this.loaded&&n!==t&&n>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:t,multiple:n}=this.config;t||!n?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}};const flatNodes=(e,t)=>e.reduce(((e,n)=>(n.isLeaf?e.push(n):(!t&&e.push(n),e=e.concat(flatNodes(n.children,t))),e)),[]);class Store{constructor(e,t){this.config=t;const n=(e||[]).map((e=>new Node$2(e,this.config)));this.nodes=n,this.allNodes=flatNodes(n,!1),this.leafNodes=flatNodes(n,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,t){const n=t?t.appendChild(e):new Node$2(e,this.config);t||this.nodes.push(n),this.allNodes.push(n),n.isLeaf&&this.leafNodes.push(n)}appendNodes(e,t){e.forEach((e=>this.appendNode(e,t)))}getNodeByValue(e,t=!1){if(!e&&0!==e)return null;return this.getFlattedNodes(t).find((t=>isEqual$1(t.value,e)||isEqual$1(t.pathValues,e)))||null}getSameNode(e){if(!e)return null;return this.getFlattedNodes(!1).find((({value:t,level:n})=>isEqual$1(e.value,t)&&e.level===n))||null}}const CommonProps=buildProps({modelValue:{type:definePropType([Number,String,Array])},options:{type:definePropType(Array),default:()=>[]},props:{type:definePropType(Object),default:()=>({})}}),DefaultProps={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:NOOP,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},useCascaderConfig=e=>computed((()=>({...DefaultProps,...e.props}))),getMenuIndex=e=>{if(!e)return 0;const t=e.id.split("-");return Number(t[t.length-2])},checkNode=e=>{if(!e)return;const t=e.querySelector("input");t?t.click():isLeaf(e)&&e.click()},sortByOriginalOrder=(e,t)=>{const n=t.slice(0),r=n.map((e=>e.uid)),o=e.reduce(((e,t)=>{const o=r.indexOf(t.uid);return o>-1&&(e.push(t),n.splice(o,1),r.splice(o,1)),e}),[]);return o.push(...n),o},_sfc_main$2R=defineComponent({name:"ElCascaderPanel",components:{ElCascaderMenu:ElCascaderMenu},props:{...CommonProps,border:{type:Boolean,default:!0},renderLabel:Function},emits:[UPDATE_MODEL_EVENT,CHANGE_EVENT,"close","expand-change"],setup(e,{emit:t,slots:n}){let r=!1;const o=useNamespace("cascader"),i=useCascaderConfig(e);let a=null;const s=ref(!0),l=ref([]),u=ref(null),c=ref([]),d=ref(null),h=ref([]),p=computed((()=>"hover"===i.value.expandTrigger)),f=computed((()=>e.renderLabel||n.default)),m=(e,t)=>{const n=i.value;(e=e||new Node$2({},n,void 0,!0)).loading=!0;n.lazyLoad(e,(n=>{const r=e,o=r.root?null:r;n&&(null==a||a.appendNodes(n,o)),r.loading=!1,r.loaded=!0,r.childrenData=r.childrenData||[],t&&t(n)}))},_=(e,n)=>{var r;const{level:o}=e,i=c.value.slice(0,o);let a;e.isLeaf?a=e.pathNodes[o-2]:(a=e,i.push(e.children)),(null==(r=d.value)?void 0:r.uid)!==(null==a?void 0:a.uid)&&(d.value=e,c.value=i,!n&&t("expand-change",(null==e?void 0:e.pathValues)||[]))},g=(e,n,o=!0)=>{const{checkStrictly:a,multiple:s}=i.value,l=h.value[0];r=!0,!s&&(null==l||l.doCheck(!1)),e.doCheck(n),E(),o&&!s&&!a&&t("close"),!o&&!s&&!a&&v(e)},v=e=>{e&&(e=e.parent,v(e),e&&_(e))},y=e=>null==a?void 0:a.getFlattedNodes(e),b=e=>{var t;return null==(t=y(e))?void 0:t.filter((e=>!1!==e.checked))},E=()=>{var e;const{checkStrictly:t,multiple:n}=i.value,r=h.value,o=b(!t),a=sortByOriginalOrder(r,o),s=a.map((e=>e.valueByOption));h.value=a,u.value=n?s:null!=(e=s[0])?e:null},C=(t=!1,n=!1)=>{const{modelValue:o}=e,{lazy:l,multiple:c,checkStrictly:d}=i.value,h=!d;if(s.value&&!r&&(n||!isEqual$1(o,u.value)))if(l&&!t){const e=unique(flattenDeep(castArray(o))).map((e=>null==a?void 0:a.getNodeByValue(e))).filter((e=>!!e&&!e.loaded&&!e.loading));e.length?e.forEach((e=>{m(e,(()=>C(!1,n)))})):C(!0,n)}else{const e=c?castArray(o):[o],t=unique(e.map((e=>null==a?void 0:a.getNodeByValue(e,h))));x(t,n),u.value=cloneDeep(o)}},x=(t,n=!0)=>{const{checkStrictly:r}=i.value,o=h.value,s=t.filter((e=>!!e&&(r||e.isLeaf))),l=null==a?void 0:a.getSameNode(d.value),u=n&&l||s[0];u?u.pathNodes.forEach((e=>_(e,!0))):d.value=null,o.forEach((e=>e.doCheck(!1))),e.props.multiple?reactive(s).forEach((e=>e.doCheck(!0))):s.forEach((e=>e.doCheck(!0))),h.value=s,nextTick(w)},w=()=>{isClient$1&&l.value.forEach((e=>{const t=null==e?void 0:e.$el;if(t){scrollIntoView(t.querySelector(`.${o.namespace.value}-scrollbar__wrap`),t.querySelector(`.${o.b("node")}.${o.is("active")}`)||t.querySelector(`.${o.b("node")}.in-active-path`))}}))};return provide(CASCADER_PANEL_INJECTION_KEY,reactive({config:i,expandingNode:d,checkedNodes:h,isHoverMenu:p,initialLoaded:s,renderLabelFn:f,lazyLoad:m,expandNode:_,handleCheckChange:g})),watch([i,()=>e.options],(()=>{const{options:t}=e,n=i.value;r=!1,a=new Store(t,n),c.value=[a.getNodes()],n.lazy&&isEmpty(e.options)?(s.value=!1,m(void 0,(e=>{e&&(a=new Store(e,n),c.value=[a.getNodes()]),s.value=!0,C(!1,!0)}))):C(!1,!0)}),{deep:!0,immediate:!0}),watch((()=>e.modelValue),(()=>{r=!1,C()}),{deep:!0}),watch((()=>u.value),(n=>{isEqual$1(n,e.modelValue)||(t(UPDATE_MODEL_EVENT,n),t(CHANGE_EVENT,n))})),onBeforeUpdate((()=>l.value=[])),onMounted((()=>!isEmpty(e.modelValue)&&C())),{ns:o,menuList:l,menus:c,checkedNodes:h,handleKeyDown:e=>{const t=e.target,{code:n}=e;switch(n){case EVENT_CODE.up:case EVENT_CODE.down:{e.preventDefault();const r=n===EVENT_CODE.up?-1:1;focusNode(getSibling(t,r,`.${o.b("node")}[tabindex="-1"]`));break}case EVENT_CODE.left:{e.preventDefault();const n=l.value[getMenuIndex(t)-1],r=null==n?void 0:n.$el.querySelector(`.${o.b("node")}[aria-expanded="true"]`);focusNode(r);break}case EVENT_CODE.right:{e.preventDefault();const n=l.value[getMenuIndex(t)+1],r=null==n?void 0:n.$el.querySelector(`.${o.b("node")}[tabindex="-1"]`);focusNode(r);break}case EVENT_CODE.enter:checkNode(t)}},handleCheckChange:g,getFlattedNodes:y,getCheckedNodes:b,clearCheckedNodes:()=>{h.value.forEach((e=>e.doCheck(!1))),E(),c.value=c.value.slice(0,1),d.value=null,t("expand-change",[])},calculateCheckedValue:E,scrollToExpandingNode:w}}});function _sfc_render$E(e,t,n,r,o,i){const a=resolveComponent("el-cascader-menu");return openBlock(),createElementBlock("div",{class:normalizeClass([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:t[0]||(t[0]=(...t)=>e.handleKeyDown&&e.handleKeyDown(...t))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.menus,((t,n)=>(openBlock(),createBlock(a,{key:n,ref_for:!0,ref:t=>e.menuList[n]=t,index:n,nodes:[...t]},null,8,["index","nodes"])))),128))],34)}var CascaderPanel=_export_sfc(_sfc_main$2R,[["render",_sfc_render$E],["__file","index.vue"]]);CascaderPanel.install=e=>{e.component(CascaderPanel.name,CascaderPanel)};const _CascaderPanel=CascaderPanel,ElCascaderPanel=_CascaderPanel,tagProps=buildProps({type:{type:String,values:["success","info","warning","danger",""],default:""},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:{type:String,default:""},size:{type:String,values:componentSizes,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),tagEmits={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},__default__$15=defineComponent({name:"ElTag"}),_sfc_main$2Q=defineComponent({...__default__$15,props:tagProps,emits:tagEmits,setup(e,{emit:t}){const n=e,r=useFormSize(),o=useNamespace("tag"),i=computed((()=>{const{type:e,hit:t,effect:i,closable:a,round:s}=n;return[o.b(),o.is("closable",a),o.m(e),o.m(r.value),o.m(i),o.is("hit",t),o.is("round",s)]})),a=e=>{t("close",e)},s=e=>{t("click",e)};return(e,t)=>e.disableTransitions?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(i)),style:normalizeStyle({backgroundColor:e.color}),onClick:s},[createBaseVNode("span",{class:normalizeClass(unref(o).e("content"))},[renderSlot(e.$slots,"default")],2),e.closable?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(o).e("close")),onClick:withModifiers(a,["stop"])},{default:withCtx((()=>[createVNode(unref(close_default))])),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],6)):(openBlock(),createBlock(Transition,{key:1,name:`${unref(o).namespace.value}-zoom-in-center`,appear:""},{default:withCtx((()=>[createBaseVNode("span",{class:normalizeClass(unref(i)),style:normalizeStyle({backgroundColor:e.color}),onClick:s},[createBaseVNode("span",{class:normalizeClass(unref(o).e("content"))},[renderSlot(e.$slots,"default")],2),e.closable?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(o).e("close")),onClick:withModifiers(a,["stop"])},{default:withCtx((()=>[createVNode(unref(close_default))])),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],6)])),_:3},8,["name"]))}});var Tag=_export_sfc(_sfc_main$2Q,[["__file","tag.vue"]]);const ElTag=withInstall(Tag),cascaderProps=buildProps({...CommonProps,size:useSizeProp,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:definePropType(Function),default:(e,t)=>e.text.includes(t)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:definePropType(Function),default:()=>!0},popperClass:{type:String,default:""},teleported:useTooltipContentProps.teleported,tagType:{...tagProps.type,default:"info"},validateEvent:{type:Boolean,default:!0}}),cascaderEmits={[UPDATE_MODEL_EVENT]:e=>!!e||null===e,[CHANGE_EVENT]:e=>!!e||null===e,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,visibleChange:e=>isBoolean(e),expandChange:e=>!!e,removeTag:e=>!!e},_hoisted_1$1M={key:0},_hoisted_2$1a=["placeholder","onKeydown"],_hoisted_3$N=["onClick"],COMPONENT_NAME$e="ElCascader",__default__$14=defineComponent({name:COMPONENT_NAME$e}),_sfc_main$2P=defineComponent({...__default__$14,props:cascaderProps,emits:cascaderEmits,setup(e,{expose:t,emit:n}){const r=e,o={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:e})=>{const{modifiersData:t,placement:n}=e;["right","left","bottom","top"].includes(n)||(t.arrow.x=35)},requires:["arrow"]}]},i=useAttrs$1();let a=0,s=0;const l=useNamespace("cascader"),u=useNamespace("input"),{t:c}=useLocale(),{form:d,formItem:h}=useFormItem(),p=ref(null),f=ref(null),m=ref(null),_=ref(null),g=ref(null),v=ref(!1),y=ref(!1),b=ref(!1),E=ref(!1),C=ref(""),x=ref(""),w=ref([]),S=ref([]),T=ref([]),k=ref(!1),L=computed((()=>i.style)),P=computed((()=>r.disabled||(null==d?void 0:d.disabled))),M=computed((()=>r.placeholder||c("el.cascader.placeholder"))),O=computed((()=>x.value||w.value.length>0||k.value?"":M.value)),N=useFormSize(),A=computed((()=>["small"].includes(N.value)?"small":"default")),I=computed((()=>!!r.props.multiple)),R=computed((()=>!r.filterable||I.value)),$=computed((()=>I.value?x.value:C.value)),B=computed((()=>{var e;return(null==(e=_.value)?void 0:e.checkedNodes)||[]})),D=computed((()=>!(!r.clearable||P.value||b.value||!y.value)&&!!B.value.length)),F=computed((()=>{const{showAllLevels:e,separator:t}=r,n=B.value;return n.length?I.value?"":n[0].calcText(e,t):""})),V=computed({get:()=>cloneDeep(r.modelValue),set(e){n(UPDATE_MODEL_EVENT,e),n(CHANGE_EVENT,e),r.validateEvent&&(null==h||h.validate("change").catch((e=>debugWarn())))}}),z=computed((()=>[l.b(),l.m(N.value),l.is("disabled",P.value),i.class])),j=computed((()=>[u.e("icon"),"icon-arrow-down",l.is("reverse",v.value)])),U=computed((()=>l.is("focus",v.value||E.value))),G=computed((()=>{var e,t;return null==(t=null==(e=p.value)?void 0:e.popperRef)?void 0:t.contentRef})),H=e=>{var t,o,i;P.value||(e=null!=e?e:!v.value)!==v.value&&(v.value=e,null==(o=null==(t=f.value)?void 0:t.input)||o.setAttribute("aria-expanded",`${e}`),e?(K(),nextTick(null==(i=_.value)?void 0:i.scrollToExpandingNode)):r.filterable&&re(),n("visibleChange",e))},K=()=>{nextTick((()=>{var e;null==(e=p.value)||e.updatePopper()}))},W=()=>{b.value=!1},Y=e=>{const{showAllLevels:t,separator:n}=r;return{node:e,key:e.uid,text:e.calcText(t,n),hitState:!1,closable:!P.value&&!e.isDisabled,isCollapseTag:!1}},q=e=>{var t;const r=e.node;r.doCheck(!1),null==(t=_.value)||t.calculateCheckedValue(),n("removeTag",r.valueByOption)},Z=()=>{var e,t;const{filterMethod:n,showAllLevels:o,separator:i}=r,a=null==(t=null==(e=_.value)?void 0:e.getFlattedNodes(!r.props.checkStrictly))?void 0:t.filter((e=>!e.isDisabled&&(e.calcText(o,i),n(e,$.value))));I.value&&(w.value.forEach((e=>{e.hitState=!1})),S.value.forEach((e=>{e.hitState=!1}))),b.value=!0,T.value=a,K()},X=()=>{var e;let t;t=b.value&&g.value?g.value.$el.querySelector(`.${l.e("suggestion-item")}`):null==(e=_.value)?void 0:e.$el.querySelector(`.${l.b("node")}[tabindex="-1"]`),t&&(t.focus(),!b.value&&t.click())},J=()=>{var e,t;const n=null==(e=f.value)?void 0:e.input,r=m.value,o=null==(t=g.value)?void 0:t.$el;if(isClient$1&&n){if(o){o.querySelector(`.${l.e("suggestion-list")}`).style.minWidth=`${n.offsetWidth}px`}if(r){const{offsetHeight:e}=r,t=w.value.length>0?`${Math.max(e+6,a)}px`:`${a}px`;n.style.height=t,K()}}},Q=e=>{K(),n("expandChange",e)},ee=e=>{var t;const n=null==(t=e.target)?void 0:t.value;if("compositionend"===e.type)k.value=!1,nextTick((()=>ue(n)));else{const e=n[n.length-1]||"";k.value=!isKorean(e)}},te=e=>{if(!k.value)switch(e.code){case EVENT_CODE.enter:H();break;case EVENT_CODE.down:H(!0),nextTick(X),e.preventDefault();break;case EVENT_CODE.esc:!0===v.value&&(e.preventDefault(),e.stopPropagation(),H(!1));break;case EVENT_CODE.tab:H(!1)}},ne=()=>{var e;null==(e=_.value)||e.clearCheckedNodes(),!v.value&&r.filterable&&re(),H(!1)},re=()=>{const{value:e}=F;C.value=e,x.value=e},oe=e=>{const t=e.target,{code:n}=e;switch(n){case EVENT_CODE.up:case EVENT_CODE.down:{const e=n===EVENT_CODE.up?-1:1;focusNode(getSibling(t,e,`.${l.e("suggestion-item")}[tabindex="-1"]`));break}case EVENT_CODE.enter:t.click()}},ie=()=>{const e=w.value,t=e[e.length-1];s=x.value?0:s+1,!t||!s||r.collapseTags&&e.length>1||(t.hitState?q(t):t.hitState=!0)},ae=e=>{const t=e.target,r=l.e("search-input");t.className===r&&(E.value=!0),n("focus",e)},se=e=>{E.value=!1,n("blur",e)},le=debounce((()=>{const{value:e}=$;if(!e)return;const t=r.beforeFilter(e);isPromise(t)?t.then(Z).catch((()=>{})):!1!==t?Z():W()}),r.debounce),ue=(e,t)=>{!v.value&&H(!0),(null==t?void 0:t.isComposing)||(e?le():W())},ce=e=>Number.parseFloat(useCssVar(u.cssVarName("input-height"),e).value)-2;return watch(b,K),watch([B,P],(()=>{if(!I.value)return;const e=B.value,t=[],n=[];if(e.forEach((e=>n.push(Y(e)))),S.value=n,e.length){e.slice(0,r.maxCollapseTags).forEach((e=>t.push(Y(e))));const n=e.slice(r.maxCollapseTags),o=n.length;o&&(r.collapseTags?t.push({key:-1,text:`+ ${o}`,closable:!1,isCollapseTag:!0}):n.forEach((e=>t.push(Y(e)))))}w.value=t})),watch(w,(()=>{nextTick((()=>J()))})),watch(N,(async()=>{await nextTick();const e=f.value.input;a=ce(e)||a,J()})),watch(F,re,{immediate:!0}),onMounted((()=>{const e=f.value.input,t=ce(e);a=e.offsetHeight||t,useResizeObserver(e,J)})),t({getCheckedNodes:e=>{var t;return null==(t=_.value)?void 0:t.getCheckedNodes(e)},cascaderPanelRef:_,togglePopperVisible:H,contentRef:G}),(e,t)=>(openBlock(),createBlock(unref(ElTooltip),{ref_key:"tooltipRef",ref:p,visible:v.value,teleported:e.teleported,"popper-class":[unref(l).e("dropdown"),e.popperClass],"popper-options":o,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${unref(l).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:W},{default:withCtx((()=>[withDirectives((openBlock(),createElementBlock("div",{class:normalizeClass(unref(z)),style:normalizeStyle(unref(L)),onClick:t[5]||(t[5]=()=>H(!unref(R)||void 0)),onKeydown:te,onMouseenter:t[6]||(t[6]=e=>y.value=!0),onMouseleave:t[7]||(t[7]=e=>y.value=!1)},[createVNode(unref(ElInput),{ref_key:"input",ref:f,modelValue:C.value,"onUpdate:modelValue":t[1]||(t[1]=e=>C.value=e),placeholder:unref(O),readonly:unref(R),disabled:unref(P),"validate-event":!1,size:unref(N),class:normalizeClass(unref(U)),tabindex:unref(I)&&e.filterable&&!unref(P)?-1:void 0,onCompositionstart:ee,onCompositionupdate:ee,onCompositionend:ee,onFocus:ae,onBlur:se,onInput:ue},{suffix:withCtx((()=>[unref(D)?(openBlock(),createBlock(unref(ElIcon),{key:"clear",class:normalizeClass([unref(u).e("icon"),"icon-circle-close"]),onClick:withModifiers(ne,["stop"])},{default:withCtx((()=>[createVNode(unref(circle_close_default))])),_:1},8,["class","onClick"])):(openBlock(),createBlock(unref(ElIcon),{key:"arrow-down",class:normalizeClass(unref(j)),onClick:t[0]||(t[0]=withModifiers((e=>H()),["stop"]))},{default:withCtx((()=>[createVNode(unref(arrow_down_default))])),_:1},8,["class"]))])),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","tabindex"]),unref(I)?(openBlock(),createElementBlock("div",{key:0,ref_key:"tagWrapper",ref:m,class:normalizeClass(unref(l).e("tags"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(w.value,(t=>(openBlock(),createBlock(unref(ElTag),{key:t.key,type:e.tagType,size:unref(A),hit:t.hitState,closable:t.closable,"disable-transitions":"",onClose:e=>q(t)},{default:withCtx((()=>[!1===t.isCollapseTag?(openBlock(),createElementBlock("span",_hoisted_1$1M,toDisplayString(t.text),1)):(openBlock(),createBlock(unref(ElTooltip),{key:1,disabled:v.value||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:withCtx((()=>[createBaseVNode("span",null,toDisplayString(t.text),1)])),content:withCtx((()=>[createBaseVNode("div",{class:normalizeClass(unref(l).e("collapse-tags"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(S.value.slice(e.maxCollapseTags),((t,n)=>(openBlock(),createElementBlock("div",{key:n,class:normalizeClass(unref(l).e("collapse-tag"))},[(openBlock(),createBlock(unref(ElTag),{key:t.key,class:"in-tooltip",type:e.tagType,size:unref(A),hit:t.hitState,closable:t.closable,"disable-transitions":"",onClose:e=>q(t)},{default:withCtx((()=>[createBaseVNode("span",null,toDisplayString(t.text),1)])),_:2},1032,["type","size","hit","closable","onClose"]))],2)))),128))],2)])),_:2},1032,["disabled"]))])),_:2},1032,["type","size","hit","closable","onClose"])))),128)),e.filterable&&!unref(P)?withDirectives((openBlock(),createElementBlock("input",{key:0,"onUpdate:modelValue":t[2]||(t[2]=e=>x.value=e),type:"text",class:normalizeClass(unref(l).e("search-input")),placeholder:unref(F)?"":unref(M),onInput:t[3]||(t[3]=e=>ue(x.value,e)),onClick:t[4]||(t[4]=withModifiers((e=>H(!0)),["stop"])),onKeydown:withKeys(ie,["delete"]),onCompositionstart:ee,onCompositionupdate:ee,onCompositionend:ee,onFocus:ae,onBlur:se},null,42,_hoisted_2$1a)),[[vModelText,x.value]]):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0)],38)),[[unref(ClickOutside),()=>H(!1),unref(G)]])])),content:withCtx((()=>[withDirectives(createVNode(unref(_CascaderPanel),{ref_key:"cascaderPanelRef",ref:_,modelValue:unref(V),"onUpdate:modelValue":t[8]||(t[8]=e=>isRef(V)?V.value=e:null),options:e.options,props:r.props,border:!1,"render-label":e.$slots.default,onExpandChange:Q,onClose:t[9]||(t[9]=t=>e.$nextTick((()=>H(!1))))},null,8,["modelValue","options","props","render-label"]),[[vShow,!b.value]]),e.filterable?withDirectives((openBlock(),createBlock(unref(ElScrollbar),{key:0,ref_key:"suggestionPanel",ref:g,tag:"ul",class:normalizeClass(unref(l).e("suggestion-panel")),"view-class":unref(l).e("suggestion-list"),onKeydown:oe},{default:withCtx((()=>[T.value.length?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(T.value,(e=>(openBlock(),createElementBlock("li",{key:e.uid,class:normalizeClass([unref(l).e("suggestion-item"),unref(l).is("checked",e.checked)]),tabindex:-1,onClick:t=>(e=>{var t,n;const{checked:r}=e;I.value?null==(t=_.value)||t.handleCheckChange(e,!r,!1):(!r&&(null==(n=_.value)||n.handleCheckChange(e,!0,!1)),H(!1))})(e)},[createBaseVNode("span",null,toDisplayString(e.text),1),e.checked?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx((()=>[createVNode(unref(check_default))])),_:1})):createCommentVNode("v-if",!0)],10,_hoisted_3$N)))),128)):renderSlot(e.$slots,"empty",{key:1},(()=>[createBaseVNode("li",{class:normalizeClass(unref(l).e("empty-text"))},toDisplayString(unref(c)("el.cascader.noMatch")),3)]))])),_:3},8,["class","view-class"])),[[vShow,b.value]]):createCommentVNode("v-if",!0)])),_:3},8,["visible","teleported","popper-class","transition"]))}});var Cascader=_export_sfc(_sfc_main$2P,[["__file","cascader.vue"]]);Cascader.install=e=>{e.component(Cascader.name,Cascader)};const _Cascader=Cascader,ElCascader=_Cascader,checkTagProps=buildProps({checked:{type:Boolean,default:!1}}),checkTagEmits={"update:checked":e=>isBoolean(e),[CHANGE_EVENT]:e=>isBoolean(e)},__default__$13=defineComponent({name:"ElCheckTag"}),_sfc_main$2O=defineComponent({...__default__$13,props:checkTagProps,emits:checkTagEmits,setup(e,{emit:t}){const n=e,r=useNamespace("check-tag"),o=computed((()=>[r.b(),r.is("checked",n.checked)])),i=()=>{const e=!n.checked;t(CHANGE_EVENT,e),t("update:checked",e)};return(e,t)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(o)),onClick:i},[renderSlot(e.$slots,"default")],2))}});var CheckTag=_export_sfc(_sfc_main$2O,[["__file","check-tag.vue"]]);const ElCheckTag=withInstall(CheckTag),rowContextKey=Symbol("rowContextKey"),RowJustify=["start","center","end","space-around","space-between","space-evenly"],RowAlign=["top","middle","bottom"],rowProps=buildProps({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:RowJustify,default:"start"},align:{type:String,values:RowAlign}}),__default__$12=defineComponent({name:"ElRow"}),_sfc_main$2N=defineComponent({...__default__$12,props:rowProps,setup(e){const t=e,n=useNamespace("row"),r=computed((()=>t.gutter));provide(rowContextKey,{gutter:r});const o=computed((()=>{const e={};return t.gutter?(e.marginRight=e.marginLeft=`-${t.gutter/2}px`,e):e})),i=computed((()=>[n.b(),n.is(`justify-${t.justify}`,"start"!==t.justify),n.is(`align-${t.align}`,!!t.align)]));return(e,t)=>(openBlock(),createBlock(resolveDynamicComponent(e.tag),{class:normalizeClass(unref(i)),style:normalizeStyle(unref(o))},{default:withCtx((()=>[renderSlot(e.$slots,"default")])),_:3},8,["class","style"]))}});var Row=_export_sfc(_sfc_main$2N,[["__file","row.vue"]]);const ElRow=withInstall(Row),colProps=buildProps({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:definePropType([Number,Object]),default:()=>mutable({})},sm:{type:definePropType([Number,Object]),default:()=>mutable({})},md:{type:definePropType([Number,Object]),default:()=>mutable({})},lg:{type:definePropType([Number,Object]),default:()=>mutable({})},xl:{type:definePropType([Number,Object]),default:()=>mutable({})}}),__default__$11=defineComponent({name:"ElCol"}),_sfc_main$2M=defineComponent({...__default__$11,props:colProps,setup(e){const t=e,{gutter:n}=inject(rowContextKey,{gutter:computed((()=>0))}),r=useNamespace("col"),o=computed((()=>{const e={};return n.value&&(e.paddingLeft=e.paddingRight=n.value/2+"px"),e})),i=computed((()=>{const e=[];["span","offset","pull","push"].forEach((n=>{const o=t[n];isNumber(o)&&("span"===n?e.push(r.b(`${t[n]}`)):o>0&&e.push(r.b(`${n}-${t[n]}`)))}));return["xs","sm","md","lg","xl"].forEach((n=>{isNumber(t[n])?e.push(r.b(`${n}-${t[n]}`)):isObject$2(t[n])&&Object.entries(t[n]).forEach((([t,o])=>{e.push("span"!==t?r.b(`${n}-${t}-${o}`):r.b(`${n}-${o}`))}))})),n.value&&e.push(r.is("guttered")),[r.b(),e]}));return(e,t)=>(openBlock(),createBlock(resolveDynamicComponent(e.tag),{class:normalizeClass(unref(i)),style:normalizeStyle(unref(o))},{default:withCtx((()=>[renderSlot(e.$slots,"default")])),_:3},8,["class","style"]))}});var Col=_export_sfc(_sfc_main$2M,[["__file","col.vue"]]);const ElCol=withInstall(Col),emitChangeFn=e=>typeof isNumber(e),collapseProps=buildProps({accordion:Boolean,modelValue:{type:definePropType([Array,String,Number]),default:()=>mutable([])}}),collapseEmits={[UPDATE_MODEL_EVENT]:emitChangeFn,[CHANGE_EVENT]:emitChangeFn},collapseContextKey=Symbol("collapseContextKey"),useCollapse=(e,t)=>{const n=ref(castArray$1(e.modelValue)),r=r=>{n.value=r;const o=e.accordion?n.value[0]:n.value;t(UPDATE_MODEL_EVENT,o),t(CHANGE_EVENT,o)};return watch((()=>e.modelValue),(()=>n.value=castArray$1(e.modelValue)),{deep:!0}),provide(collapseContextKey,{activeNames:n,handleItemClick:t=>{if(e.accordion)r([n.value[0]===t?"":t]);else{const e=[...n.value],o=e.indexOf(t);o>-1?e.splice(o,1):e.push(t),r(e)}}}),{activeNames:n,setActiveNames:r}},useCollapseDOM=()=>{const e=useNamespace("collapse");return{rootKls:computed((()=>e.b()))}},__default__$10=defineComponent({name:"ElCollapse"}),_sfc_main$2L=defineComponent({...__default__$10,props:collapseProps,emits:collapseEmits,setup(e,{expose:t,emit:n}){const r=e,{activeNames:o,setActiveNames:i}=useCollapse(r,n),{rootKls:a}=useCollapseDOM();return t({activeNames:o,setActiveNames:i}),(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(a))},[renderSlot(e.$slots,"default")],2))}});var Collapse=_export_sfc(_sfc_main$2L,[["__file","collapse.vue"]]);const __default__$$=defineComponent({name:"ElCollapseTransition"}),_sfc_main$2K=defineComponent({...__default__$$,setup(e){const t=useNamespace("collapse-transition"),n=e=>{e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},r={beforeEnter(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height&&(e.dataset.elExistsHeight=e.style.height),e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){requestAnimationFrame((()=>{e.dataset.oldOverflow=e.style.overflow,e.dataset.elExistsHeight?e.style.maxHeight=e.dataset.elExistsHeight:0!==e.scrollHeight?e.style.maxHeight=`${e.scrollHeight}px`:e.style.maxHeight=0,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"}))},afterEnter(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow},enterCancelled(e){n(e)},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow="hidden"},leave(e){0!==e.scrollHeight&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){n(e)},leaveCancelled(e){n(e)}};return(e,n)=>(openBlock(),createBlock(Transition,mergeProps({name:unref(t).b()},toHandlers(r)),{default:withCtx((()=>[renderSlot(e.$slots,"default")])),_:3},16,["name"]))}});var CollapseTransition=_export_sfc(_sfc_main$2K,[["__file","collapse-transition.vue"]]);CollapseTransition.install=e=>{e.component(CollapseTransition.name,CollapseTransition)};const _CollapseTransition=CollapseTransition,ElCollapseTransition=_CollapseTransition,collapseItemProps=buildProps({title:{type:String,default:""},name:{type:definePropType([String,Number]),default:()=>generateId()},disabled:Boolean}),useCollapseItem=e=>{const t=inject(collapseContextKey),n=ref(!1),r=ref(!1),o=ref(generateId()),i=computed((()=>null==t?void 0:t.activeNames.value.includes(e.name)));return{focusing:n,id:o,isActive:i,handleFocus:()=>{setTimeout((()=>{r.value?r.value=!1:n.value=!0}),50)},handleHeaderClick:()=>{e.disabled||(null==t||t.handleItemClick(e.name),n.value=!1,r.value=!0)},handleEnterClick:()=>{null==t||t.handleItemClick(e.name)}}},useCollapseItemDOM=(e,{focusing:t,isActive:n,id:r})=>{const o=useNamespace("collapse"),i=computed((()=>[o.b("item"),o.is("active",unref(n)),o.is("disabled",e.disabled)])),a=computed((()=>[o.be("item","header"),o.is("active",unref(n)),{focusing:unref(t)&&!e.disabled}]));return{arrowKls:computed((()=>[o.be("item","arrow"),o.is("active",unref(n))])),headKls:a,rootKls:i,itemWrapperKls:computed((()=>o.be("item","wrap"))),itemContentKls:computed((()=>o.be("item","content"))),scopedContentId:computed((()=>o.b(`content-${unref(r)}`))),scopedHeadId:computed((()=>o.b(`head-${unref(r)}`)))}},_hoisted_1$1L=["id","aria-expanded","aria-controls","aria-describedby","tabindex"],_hoisted_2$19=["id","aria-hidden","aria-labelledby"],__default__$_=defineComponent({name:"ElCollapseItem"}),_sfc_main$2J=defineComponent({...__default__$_,props:collapseItemProps,setup(e,{expose:t}){const n=e,{focusing:r,id:o,isActive:i,handleFocus:a,handleHeaderClick:s,handleEnterClick:l}=useCollapseItem(n),{arrowKls:u,headKls:c,rootKls:d,itemWrapperKls:h,itemContentKls:p,scopedContentId:f,scopedHeadId:m}=useCollapseItemDOM(n,{focusing:r,isActive:i,id:o});return t({isActive:i}),(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(d))},[createBaseVNode("button",{id:unref(m),class:normalizeClass(unref(c)),"aria-expanded":unref(i),"aria-controls":unref(f),"aria-describedby":unref(f),tabindex:e.disabled?-1:0,type:"button",onClick:t[0]||(t[0]=(...e)=>unref(s)&&unref(s)(...e)),onKeydown:t[1]||(t[1]=withKeys(withModifiers(((...e)=>unref(l)&&unref(l)(...e)),["stop","prevent"]),["space","enter"])),onFocus:t[2]||(t[2]=(...e)=>unref(a)&&unref(a)(...e)),onBlur:t[3]||(t[3]=e=>r.value=!1)},[renderSlot(e.$slots,"title",{},(()=>[createTextVNode(toDisplayString(e.title),1)])),createVNode(unref(ElIcon),{class:normalizeClass(unref(u))},{default:withCtx((()=>[createVNode(unref(arrow_right_default))])),_:1},8,["class"])],42,_hoisted_1$1L),createVNode(unref(_CollapseTransition),null,{default:withCtx((()=>[withDirectives(createBaseVNode("div",{id:unref(f),role:"region",class:normalizeClass(unref(h)),"aria-hidden":!unref(i),"aria-labelledby":unref(m)},[createBaseVNode("div",{class:normalizeClass(unref(p))},[renderSlot(e.$slots,"default")],2)],10,_hoisted_2$19),[[vShow,unref(i)]])])),_:3})],2))}});var CollapseItem=_export_sfc(_sfc_main$2J,[["__file","collapse-item.vue"]]);const ElCollapse=withInstall(Collapse,{CollapseItem:CollapseItem}),ElCollapseItem=withNoopInstall(CollapseItem),alphaSliderProps=buildProps({color:{type:definePropType(Object),required:!0},vertical:{type:Boolean,default:!1}});let isDragging=!1;function draggable(e,t){if(!isClient$1)return;const n=function(e){var n;null==(n=t.drag)||n.call(t,e)},r=function(e){var o;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r),document.onselectstart=null,document.ondragstart=null,isDragging=!1,null==(o=t.end)||o.call(t,e)},o=function(e){var o;isDragging||(e.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",r),document.addEventListener("touchmove",n),document.addEventListener("touchend",r),isDragging=!0,null==(o=t.start)||o.call(t,e))};e.addEventListener("mousedown",o),e.addEventListener("touchstart",o)}const useAlphaSlider=e=>{const t=getCurrentInstance(),n=shallowRef(),r=shallowRef();function o(o){if(!r.value||!n.value)return;const i=t.vnode.el.getBoundingClientRect(),{clientX:a,clientY:s}=getClientXY(o);if(e.vertical){let t=s-i.top;t=Math.max(n.value.offsetHeight/2,t),t=Math.min(t,i.height-n.value.offsetHeight/2),e.color.set("alpha",Math.round((t-n.value.offsetHeight/2)/(i.height-n.value.offsetHeight)*100))}else{let t=a-i.left;t=Math.max(n.value.offsetWidth/2,t),t=Math.min(t,i.width-n.value.offsetWidth/2),e.color.set("alpha",Math.round((t-n.value.offsetWidth/2)/(i.width-n.value.offsetWidth)*100))}}return{thumb:n,bar:r,handleDrag:o,handleClick:function(e){e.target!==n.value&&o(e)}}},useAlphaSliderDOM=(e,{bar:t,thumb:n,handleDrag:r})=>{const o=getCurrentInstance(),i=useNamespace("color-alpha-slider"),a=ref(0),s=ref(0),l=ref();function u(){a.value=function(){if(!n.value)return 0;if(e.vertical)return 0;const t=o.vnode.el,r=e.color.get("alpha");return t?Math.round(r*(t.offsetWidth-n.value.offsetWidth/2)/100):0}(),s.value=function(){if(!n.value)return 0;const t=o.vnode.el;if(!e.vertical)return 0;const r=e.color.get("alpha");return t?Math.round(r*(t.offsetHeight-n.value.offsetHeight/2)/100):0}(),l.value=function(){if(e.color&&e.color.value){const{r:t,g:n,b:r}=e.color.toRgb();return`linear-gradient(to right, rgba(${t}, ${n}, ${r}, 0) 0%, rgba(${t}, ${n}, ${r}, 1) 100%)`}return""}()}onMounted((()=>{if(!t.value||!n.value)return;const e={drag:e=>{r(e)},end:e=>{r(e)}};draggable(t.value,e),draggable(n.value,e),u()})),watch((()=>e.color.get("alpha")),(()=>u())),watch((()=>e.color.value),(()=>u()));const c=computed((()=>[i.b(),i.is("vertical",e.vertical)])),d=computed((()=>i.e("bar"))),h=computed((()=>i.e("thumb")));return{rootKls:c,barKls:d,barStyle:computed((()=>({background:l.value}))),thumbKls:h,thumbStyle:computed((()=>({left:addUnit(a.value),top:addUnit(s.value)}))),update:u}},COMPONENT_NAME$d="ElColorAlphaSlider",__default__$Z=defineComponent({name:COMPONENT_NAME$d}),_sfc_main$2I=defineComponent({...__default__$Z,props:alphaSliderProps,setup(e,{expose:t}){const n=e,{bar:r,thumb:o,handleDrag:i,handleClick:a}=useAlphaSlider(n),{rootKls:s,barKls:l,barStyle:u,thumbKls:c,thumbStyle:d,update:h}=useAlphaSliderDOM(n,{bar:r,thumb:o,handleDrag:i});return t({update:h,bar:r,thumb:o}),(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(s))},[createBaseVNode("div",{ref_key:"bar",ref:r,class:normalizeClass(unref(l)),style:normalizeStyle(unref(u)),onClick:t[0]||(t[0]=(...e)=>unref(a)&&unref(a)(...e))},null,6),createBaseVNode("div",{ref_key:"thumb",ref:o,class:normalizeClass(unref(c)),style:normalizeStyle(unref(d))},null,6)],2))}});var AlphaSlider=_export_sfc(_sfc_main$2I,[["__file","alpha-slider.vue"]]);const _sfc_main$2H=defineComponent({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(e){const t=useNamespace("color-hue-slider"),n=getCurrentInstance(),r=ref(),o=ref(),i=ref(0),a=ref(0),s=computed((()=>e.color.get("hue")));function l(t){if(!o.value||!r.value)return;const i=n.vnode.el.getBoundingClientRect(),{clientX:a,clientY:s}=getClientXY(t);let l;if(e.vertical){let e=s-i.top;e=Math.min(e,i.height-r.value.offsetHeight/2),e=Math.max(r.value.offsetHeight/2,e),l=Math.round((e-r.value.offsetHeight/2)/(i.height-r.value.offsetHeight)*360)}else{let e=a-i.left;e=Math.min(e,i.width-r.value.offsetWidth/2),e=Math.max(r.value.offsetWidth/2,e),l=Math.round((e-r.value.offsetWidth/2)/(i.width-r.value.offsetWidth)*360)}e.color.set("hue",l)}function u(){i.value=function(){if(!r.value)return 0;const t=n.vnode.el;if(e.vertical)return 0;const o=e.color.get("hue");return t?Math.round(o*(t.offsetWidth-r.value.offsetWidth/2)/360):0}(),a.value=function(){if(!r.value)return 0;const t=n.vnode.el;if(!e.vertical)return 0;const o=e.color.get("hue");return t?Math.round(o*(t.offsetHeight-r.value.offsetHeight/2)/360):0}()}return watch((()=>s.value),(()=>{u()})),onMounted((()=>{if(!o.value||!r.value)return;const e={drag:e=>{l(e)},end:e=>{l(e)}};draggable(o.value,e),draggable(r.value,e),u()})),{bar:o,thumb:r,thumbLeft:i,thumbTop:a,hueValue:s,handleClick:function(e){e.target!==r.value&&l(e)},update:u,ns:t}}});function _sfc_render$D(e,t,n,r,o,i){return openBlock(),createElementBlock("div",{class:normalizeClass([e.ns.b(),e.ns.is("vertical",e.vertical)])},[createBaseVNode("div",{ref:"bar",class:normalizeClass(e.ns.e("bar")),onClick:t[0]||(t[0]=(...t)=>e.handleClick&&e.handleClick(...t))},null,2),createBaseVNode("div",{ref:"thumb",class:normalizeClass(e.ns.e("thumb")),style:normalizeStyle({left:e.thumbLeft+"px",top:e.thumbTop+"px"})},null,6)],2)}var HueSlider=_export_sfc(_sfc_main$2H,[["render",_sfc_render$D],["__file","hue-slider.vue"]]);const colorPickerProps=buildProps({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:useSizeProp,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},predefine:{type:definePropType(Array)},validateEvent:{type:Boolean,default:!0}}),colorPickerEmits={[UPDATE_MODEL_EVENT]:e=>isString$1(e)||isNil(e),[CHANGE_EVENT]:e=>isString$1(e)||isNil(e),activeChange:e=>isString$1(e)||isNil(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},colorPickerContextKey=Symbol("colorPickerContextKey"),hsv2hsl=function(e,t,n){return[e,t*n/((e=(2-t)*n)<1?e:2-e)||0,e/2]},isOnePointZero=function(e){return"string"==typeof e&&e.includes(".")&&1===Number.parseFloat(e)},isPercentage=function(e){return"string"==typeof e&&e.includes("%")},bound01=function(e,t){isOnePointZero(e)&&(e="100%");const n=isPercentage(e);return e=Math.min(t,Math.max(0,Number.parseFloat(`${e}`))),n&&(e=Number.parseInt(""+e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/Number.parseFloat(t)},INT_HEX_MAP={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},hexOne=e=>{e=Math.min(Math.round(e),255);const t=Math.floor(e/16),n=e%16;return`${INT_HEX_MAP[t]||t}${INT_HEX_MAP[n]||n}`},toHex=function({r:e,g:t,b:n}){return Number.isNaN(+e)||Number.isNaN(+t)||Number.isNaN(+n)?"":`#${hexOne(e)}${hexOne(t)}${hexOne(n)}`},HEX_INT_MAP={A:10,B:11,C:12,D:13,E:14,F:15},parseHexChannel=function(e){return 2===e.length?16*(HEX_INT_MAP[e[0].toUpperCase()]||+e[0])+(HEX_INT_MAP[e[1].toUpperCase()]||+e[1]):HEX_INT_MAP[e[1].toUpperCase()]||+e[1]},hsl2hsv=function(e,t,n){n/=100;let r=t/=100;const o=Math.max(n,.01);t*=(n*=2)<=1?n:2-n,r*=o<=1?o:2-o;return{h:e,s:100*(0===n?2*r/(o+r):2*t/(n+t)),v:100*((n+t)/2)}},rgb2hsv=(e,t,n)=>{e=bound01(e,255),t=bound01(t,255),n=bound01(n,255);const r=Math.max(e,t,n),o=Math.min(e,t,n);let i;const a=r,s=r-o,l=0===r?0:s/r;if(r===o)i=0;else{switch(r){case e:i=(t-n)/s+(t<n?6:0);break;case t:i=(n-e)/s+2;break;case n:i=(e-t)/s+4}i/=6}return{h:360*i,s:100*l,v:100*a}},hsv2rgb=function(e,t,n){e=6*bound01(e,360),t=bound01(t,100),n=bound01(n,100);const r=Math.floor(e),o=e-r,i=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),l=r%6,u=[n,a,i,i,s,n][l],c=[s,n,n,a,i,i][l],d=[i,i,s,n,n,a][l];return{r:Math.round(255*u),g:Math.round(255*c),b:Math.round(255*d)}};class Color{constructor(e={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const t in e)hasOwn(e,t)&&(this[t]=e[t]);e.value?this.fromString(e.value):this.doOnChange()}set(e,t){if(1!==arguments.length||"object"!=typeof e)this[`_${e}`]=t,this.doOnChange();else for(const n in e)hasOwn(e,n)&&this.set(n,e[n])}get(e){return"alpha"===e?Math.floor(this[`_${e}`]):this[`_${e}`]}toRgb(){return hsv2rgb(this._hue,this._saturation,this._value)}fromString(e){if(!e)return this._hue=0,this._saturation=100,this._value=100,void this.doOnChange();const t=(e,t,n)=>{this._hue=Math.max(0,Math.min(360,e)),this._saturation=Math.max(0,Math.min(100,t)),this._value=Math.max(0,Math.min(100,n)),this.doOnChange()};if(e.includes("hsl")){const n=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter((e=>""!==e)).map(((e,t)=>t>2?Number.parseFloat(e):Number.parseInt(e,10)));if(4===n.length?this._alpha=100*Number.parseFloat(n[3]):3===n.length&&(this._alpha=100),n.length>=3){const{h:e,s:r,v:o}=hsl2hsv(n[0],n[1],n[2]);t(e,r,o)}}else if(e.includes("hsv")){const n=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter((e=>""!==e)).map(((e,t)=>t>2?Number.parseFloat(e):Number.parseInt(e,10)));4===n.length?this._alpha=100*Number.parseFloat(n[3]):3===n.length&&(this._alpha=100),n.length>=3&&t(n[0],n[1],n[2])}else if(e.includes("rgb")){const n=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter((e=>""!==e)).map(((e,t)=>t>2?Number.parseFloat(e):Number.parseInt(e,10)));if(4===n.length?this._alpha=100*Number.parseFloat(n[3]):3===n.length&&(this._alpha=100),n.length>=3){const{h:e,s:r,v:o}=rgb2hsv(n[0],n[1],n[2]);t(e,r,o)}}else if(e.includes("#")){const n=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(n))return;let r,o,i;3===n.length?(r=parseHexChannel(n[0]+n[0]),o=parseHexChannel(n[1]+n[1]),i=parseHexChannel(n[2]+n[2])):6!==n.length&&8!==n.length||(r=parseHexChannel(n.slice(0,2)),o=parseHexChannel(n.slice(2,4)),i=parseHexChannel(n.slice(4,6))),8===n.length?this._alpha=parseHexChannel(n.slice(6))/255*100:3!==n.length&&6!==n.length||(this._alpha=100);const{h:a,s:s,v:l}=rgb2hsv(r,o,i);t(a,s,l)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:t,_value:n,_alpha:r,format:o}=this;if(this.enableAlpha)switch(o){case"hsl":{const r=hsv2hsl(e,t/100,n/100);this.value=`hsla(${e}, ${Math.round(100*r[1])}%, ${Math.round(100*r[2])}%, ${this.get("alpha")/100})`;break}case"hsv":this.value=`hsva(${e}, ${Math.round(t)}%, ${Math.round(n)}%, ${this.get("alpha")/100})`;break;case"hex":this.value=`${toHex(hsv2rgb(e,t,n))}${hexOne(255*r/100)}`;break;default:{const{r:r,g:o,b:i}=hsv2rgb(e,t,n);this.value=`rgba(${r}, ${o}, ${i}, ${this.get("alpha")/100})`}}else switch(o){case"hsl":{const r=hsv2hsl(e,t/100,n/100);this.value=`hsl(${e}, ${Math.round(100*r[1])}%, ${Math.round(100*r[2])}%)`;break}case"hsv":this.value=`hsv(${e}, ${Math.round(t)}%, ${Math.round(n)}%)`;break;case"rgb":{const{r:r,g:o,b:i}=hsv2rgb(e,t,n);this.value=`rgb(${r}, ${o}, ${i})`;break}default:this.value=toHex(hsv2rgb(e,t,n))}}}const _sfc_main$2G=defineComponent({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(e){const t=useNamespace("color-predefine"),{currentColor:n}=inject(colorPickerContextKey),r=ref(o(e.colors,e.color));function o(e,t){return e.map((e=>{const n=new Color;return n.enableAlpha=!0,n.format="rgba",n.fromString(e),n.selected=n.value===t.value,n}))}return watch((()=>n.value),(e=>{const t=new Color;t.fromString(e),r.value.forEach((e=>{e.selected=t.compare(e)}))})),watchEffect((()=>{r.value=o(e.colors,e.color)})),{rgbaColors:r,handleSelect:function(t){e.color.fromString(e.colors[t])},ns:t}}}),_hoisted_1$1K=["onClick"];function _sfc_render$C(e,t,n,r,o,i){return openBlock(),createElementBlock("div",{class:normalizeClass(e.ns.b())},[createBaseVNode("div",{class:normalizeClass(e.ns.e("colors"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.rgbaColors,((t,n)=>(openBlock(),createElementBlock("div",{key:e.colors[n],class:normalizeClass([e.ns.e("color-selector"),e.ns.is("alpha",t._alpha<100),{selected:t.selected}]),onClick:t=>e.handleSelect(n)},[createBaseVNode("div",{style:normalizeStyle({backgroundColor:t.value})},null,4)],10,_hoisted_1$1K)))),128))],2)],2)}var Predefine=_export_sfc(_sfc_main$2G,[["render",_sfc_render$C],["__file","predefine.vue"]]);const _sfc_main$2F=defineComponent({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(e){const t=useNamespace("color-svpanel"),n=getCurrentInstance(),r=ref(0),o=ref(0),i=ref("hsl(0, 100%, 50%)"),a=computed((()=>({hue:e.color.get("hue"),value:e.color.get("value")})));function s(){const t=e.color.get("saturation"),a=e.color.get("value"),s=n.vnode.el,{clientWidth:l,clientHeight:u}=s;o.value=t*l/100,r.value=(100-a)*u/100,i.value=`hsl(${e.color.get("hue")}, 100%, 50%)`}function l(t){const i=n.vnode.el.getBoundingClientRect(),{clientX:a,clientY:s}=getClientXY(t);let l=a-i.left,u=s-i.top;l=Math.max(0,l),l=Math.min(l,i.width),u=Math.max(0,u),u=Math.min(u,i.height),o.value=l,r.value=u,e.color.set({saturation:l/i.width*100,value:100-u/i.height*100})}return watch((()=>a.value),(()=>{s()})),onMounted((()=>{draggable(n.vnode.el,{drag:e=>{l(e)},end:e=>{l(e)}}),s()})),{cursorTop:r,cursorLeft:o,background:i,colorValue:a,handleDrag:l,update:s,ns:t}}}),_hoisted_1$1J=createBaseVNode("div",null,null,-1),_hoisted_2$18=[_hoisted_1$1J];function _sfc_render$B(e,t,n,r,o,i){return openBlock(),createElementBlock("div",{class:normalizeClass(e.ns.b()),style:normalizeStyle({backgroundColor:e.background})},[createBaseVNode("div",{class:normalizeClass(e.ns.e("white"))},null,2),createBaseVNode("div",{class:normalizeClass(e.ns.e("black"))},null,2),createBaseVNode("div",{class:normalizeClass(e.ns.e("cursor")),style:normalizeStyle({top:e.cursorTop+"px",left:e.cursorLeft+"px"})},_hoisted_2$18,6)],6)}var SvPanel=_export_sfc(_sfc_main$2F,[["render",_sfc_render$B],["__file","sv-panel.vue"]]);const _hoisted_1$1I=["onKeydown"],_hoisted_2$17=["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex"],__default__$Y=defineComponent({name:"ElColorPicker"}),_sfc_main$2E=defineComponent({...__default__$Y,props:colorPickerProps,emits:colorPickerEmits,setup(e,{expose:t,emit:n}){const r=e,{t:o}=useLocale(),i=useNamespace("color"),{formItem:a}=useFormItem(),s=useFormSize(),l=useFormDisabled(),{inputId:u,isLabeledByFormItem:c}=useFormItemInputId(r,{formItemContext:a}),d=ref(),h=ref(),p=ref(),f=ref(),m=ref(),_=ref(),{isFocused:g,handleFocus:v,handleBlur:y}=useFocusController(m,{beforeBlur(e){var t;return null==(t=f.value)?void 0:t.isFocusInsideContent(e)},afterBlur(){O(!1),R()}}),b=e=>{if(l.value)return U();v(e)};let E=!0;const C=reactive(new Color({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue})),x=ref(!1),w=ref(!1),S=ref(""),T=computed((()=>r.modelValue||w.value?function(e,t){if(!(e instanceof Color))throw new TypeError("color should be instance of _color Class");const{r:n,g:r,b:o}=e.toRgb();return t?`rgba(${n}, ${r}, ${o}, ${e.get("alpha")/100})`:`rgb(${n}, ${r}, ${o})`}(C,r.showAlpha):"transparent")),k=computed((()=>r.modelValue||w.value?C.value:"")),L=computed((()=>c.value?void 0:r.label||o("el.colorpicker.defaultLabel"))),P=computed((()=>c.value?null==a?void 0:a.labelId:void 0)),M=computed((()=>[i.b("picker"),i.is("disabled",l.value),i.bm("picker",s.value),i.is("focused",g.value)]));function O(e){x.value=e}const N=debounce(O,100,{leading:!0});function A(){l.value||O(!0)}function I(){N(!1),R()}function R(){nextTick((()=>{r.modelValue?C.fromString(r.modelValue):(C.value="",nextTick((()=>{w.value=!1})))}))}function $(){l.value||N(!x.value)}function B(){C.fromString(S.value)}function D(){const e=C.value;n(UPDATE_MODEL_EVENT,e),n("change",e),r.validateEvent&&(null==a||a.validate("change").catch((e=>debugWarn()))),N(!1),nextTick((()=>{const e=new Color({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue});C.compare(e)||R()}))}function F(){N(!1),n(UPDATE_MODEL_EVENT,null),n("change",null),null!==r.modelValue&&r.validateEvent&&(null==a||a.validate("change").catch((e=>debugWarn()))),R()}function V(e){if(x.value&&(I(),g.value)){const t=new FocusEvent("focus",e);y(t)}}function z(e){e.preventDefault(),e.stopPropagation(),O(!1),R()}function j(e){switch(e.code){case EVENT_CODE.enter:case EVENT_CODE.space:e.preventDefault(),e.stopPropagation(),A(),_.value.focus();break;case EVENT_CODE.esc:z(e)}}function U(){m.value.blur()}return onMounted((()=>{r.modelValue&&(S.value=k.value)})),watch((()=>r.modelValue),(e=>{e?e&&e!==C.value&&(E=!1,C.fromString(e)):w.value=!1})),watch((()=>k.value),(e=>{S.value=e,E&&n("activeChange",e),E=!0})),watch((()=>C.value),(()=>{r.modelValue||w.value||(w.value=!0)})),watch((()=>x.value),(()=>{nextTick((()=>{var e,t,n;null==(e=d.value)||e.update(),null==(t=h.value)||t.update(),null==(n=p.value)||n.update()}))})),provide(colorPickerContextKey,{currentColor:k}),t({color:C,show:A,hide:I,focus:function(){m.value.focus()},blur:U}),(e,t)=>(openBlock(),createBlock(unref(ElTooltip),{ref_key:"popper",ref:f,visible:x.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[unref(i).be("picker","panel"),unref(i).b("dropdown"),e.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:`${unref(i).namespace.value}-zoom-in-top`,persistent:"",onHide:t[2]||(t[2]=e=>O(!1))},{content:withCtx((()=>[withDirectives((openBlock(),createElementBlock("div",{onKeydown:withKeys(z,["esc"])},[createBaseVNode("div",{class:normalizeClass(unref(i).be("dropdown","main-wrapper"))},[createVNode(HueSlider,{ref_key:"hue",ref:d,class:"hue-slider",color:unref(C),vertical:""},null,8,["color"]),createVNode(SvPanel,{ref_key:"sv",ref:h,color:unref(C)},null,8,["color"])],2),e.showAlpha?(openBlock(),createBlock(AlphaSlider,{key:0,ref_key:"alpha",ref:p,color:unref(C)},null,8,["color"])):createCommentVNode("v-if",!0),e.predefine?(openBlock(),createBlock(Predefine,{key:1,ref:"predefine",color:unref(C),colors:e.predefine},null,8,["color","colors"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(i).be("dropdown","btns"))},[createBaseVNode("span",{class:normalizeClass(unref(i).be("dropdown","value"))},[createVNode(unref(ElInput),{ref_key:"inputRef",ref:_,modelValue:S.value,"onUpdate:modelValue":t[0]||(t[0]=e=>S.value=e),"validate-event":!1,size:"small",onKeyup:withKeys(B,["enter"]),onBlur:B},null,8,["modelValue","onKeyup"])],2),createVNode(unref(ElButton),{class:normalizeClass(unref(i).be("dropdown","link-btn")),text:"",size:"small",onClick:F},{default:withCtx((()=>[createTextVNode(toDisplayString(unref(o)("el.colorpicker.clear")),1)])),_:1},8,["class"]),createVNode(unref(ElButton),{plain:"",size:"small",class:normalizeClass(unref(i).be("dropdown","btn")),onClick:D},{default:withCtx((()=>[createTextVNode(toDisplayString(unref(o)("el.colorpicker.confirm")),1)])),_:1},8,["class"])],2)],40,_hoisted_1$1I)),[[unref(ClickOutside),V]])])),default:withCtx((()=>[createBaseVNode("div",{id:unref(u),ref_key:"triggerRef",ref:m,class:normalizeClass(unref(M)),role:"button","aria-label":unref(L),"aria-labelledby":unref(P),"aria-description":unref(o)("el.colorpicker.description",{color:e.modelValue||""}),"aria-disabled":unref(l),tabindex:unref(l)?-1:e.tabindex,onKeydown:j,onFocus:b,onBlur:t[1]||(t[1]=(...e)=>unref(y)&&unref(y)(...e))},[unref(l)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(i).be("picker","mask"))},null,2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(i).be("picker","trigger")),onClick:$},[createBaseVNode("span",{class:normalizeClass([unref(i).be("picker","color"),unref(i).is("alpha",e.showAlpha)])},[createBaseVNode("span",{class:normalizeClass(unref(i).be("picker","color-inner")),style:normalizeStyle({backgroundColor:unref(T)})},[withDirectives(createVNode(unref(ElIcon),{class:normalizeClass([unref(i).be("picker","icon"),unref(i).is("icon-arrow-down")])},{default:withCtx((()=>[createVNode(unref(arrow_down_default))])),_:1},8,["class"]),[[vShow,e.modelValue||w.value]]),withDirectives(createVNode(unref(ElIcon),{class:normalizeClass([unref(i).be("picker","empty"),unref(i).is("icon-close")])},{default:withCtx((()=>[createVNode(unref(close_default))])),_:1},8,["class"]),[[vShow,!e.modelValue&&!w.value]])],6)],2)],2)],42,_hoisted_2$17)])),_:1},8,["visible","popper-class","transition"]))}});var ColorPicker=_export_sfc(_sfc_main$2E,[["__file","color-picker.vue"]]);const ElColorPicker=withInstall(ColorPicker),__default__$X=defineComponent({name:"ElContainer"}),_sfc_main$2D=defineComponent({...__default__$X,props:{direction:{type:String}},setup(e){const t=e,n=useSlots(),r=useNamespace("container"),o=computed((()=>{if("vertical"===t.direction)return!0;if("horizontal"===t.direction)return!1;if(n&&n.default){return n.default().some((e=>{const t=e.type.name;return"ElHeader"===t||"ElFooter"===t}))}return!1}));return(e,t)=>(openBlock(),createElementBlock("section",{class:normalizeClass([unref(r).b(),unref(r).is("vertical",unref(o))])},[renderSlot(e.$slots,"default")],2))}});var Container=_export_sfc(_sfc_main$2D,[["__file","container.vue"]]);const __default__$W=defineComponent({name:"ElAside"}),_sfc_main$2C=defineComponent({...__default__$W,props:{width:{type:String,default:null}},setup(e){const t=e,n=useNamespace("aside"),r=computed((()=>t.width?n.cssVarBlock({width:t.width}):{}));return(e,t)=>(openBlock(),createElementBlock("aside",{class:normalizeClass(unref(n).b()),style:normalizeStyle(unref(r))},[renderSlot(e.$slots,"default")],6))}});var Aside=_export_sfc(_sfc_main$2C,[["__file","aside.vue"]]);const __default__$V=defineComponent({name:"ElFooter"}),_sfc_main$2B=defineComponent({...__default__$V,props:{height:{type:String,default:null}},setup(e){const t=e,n=useNamespace("footer"),r=computed((()=>t.height?n.cssVarBlock({height:t.height}):{}));return(e,t)=>(openBlock(),createElementBlock("footer",{class:normalizeClass(unref(n).b()),style:normalizeStyle(unref(r))},[renderSlot(e.$slots,"default")],6))}});var Footer$2=_export_sfc(_sfc_main$2B,[["__file","footer.vue"]]);const __default__$U=defineComponent({name:"ElHeader"}),_sfc_main$2A=defineComponent({...__default__$U,props:{height:{type:String,default:null}},setup(e){const t=e,n=useNamespace("header"),r=computed((()=>t.height?n.cssVarBlock({height:t.height}):{}));return(e,t)=>(openBlock(),createElementBlock("header",{class:normalizeClass(unref(n).b()),style:normalizeStyle(unref(r))},[renderSlot(e.$slots,"default")],6))}});var Header=_export_sfc(_sfc_main$2A,[["__file","header.vue"]]);const __default__$T=defineComponent({name:"ElMain"}),_sfc_main$2z=defineComponent({...__default__$T,setup(e){const t=useNamespace("main");return(e,n)=>(openBlock(),createElementBlock("main",{class:normalizeClass(unref(t).b())},[renderSlot(e.$slots,"default")],2))}});var Main=_export_sfc(_sfc_main$2z,[["__file","main.vue"]]);const ElContainer=withInstall(Container,{Aside:Aside,Footer:Footer$2,Header:Header,Main:Main}),ElAside=withNoopInstall(Aside),ElFooter=withNoopInstall(Footer$2),ElHeader=withNoopInstall(Header),ElMain=withNoopInstall(Main);var advancedFormat$1={exports:{}};advancedFormat$1.exports=function(e,t){var n=t.prototype,r=n.format;n.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return r.bind(this)(e);var o=this.$utils(),i=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return n.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return n.ordinal(t.week(),"W");case"w":case"ww":return o.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return o.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return o.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}}));return r.bind(this)(i)}};var advancedFormatExports=advancedFormat$1.exports;const advancedFormat=getDefaultExportFromCjs(advancedFormatExports);var weekOfYear$1={exports:{}},e,t;weekOfYear$1.exports=(e="week",t="year",function(n,r,o){var i=r.prototype;i.week=function(n){if(void 0===n&&(n=null),null!==n)return this.add(7*(n-this.week()),"day");var r=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var i=o(this).startOf(t).add(1,t).date(r),a=o(this).endOf(e);if(i.isBefore(a))return 1}var s=o(this).startOf(t).date(r).startOf(e).subtract(1,"millisecond"),l=this.diff(s,e,!0);return l<0?o(this).startOf("week").week():Math.ceil(l)},i.weeks=function(e){return void 0===e&&(e=null),this.week(e)}});var weekOfYearExports=weekOfYear$1.exports;const weekOfYear=getDefaultExportFromCjs(weekOfYearExports);var weekYear$1={exports:{}};weekYear$1.exports=function(e,t){t.prototype.weekYear=function(){var e=this.month(),t=this.week(),n=this.year();return 1===t&&11===e?n+1:0===e&&t>=52?n-1:n}};var weekYearExports=weekYear$1.exports;const weekYear=getDefaultExportFromCjs(weekYearExports);var dayOfYear$1={exports:{}};dayOfYear$1.exports=function(e,t,n){t.prototype.dayOfYear=function(e){var t=Math.round((n(this).startOf("day")-n(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"day")}};var dayOfYearExports=dayOfYear$1.exports;const dayOfYear=getDefaultExportFromCjs(dayOfYearExports);var isSameOrAfter$1={exports:{}};isSameOrAfter$1.exports=function(e,t){t.prototype.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)}};var isSameOrAfterExports=isSameOrAfter$1.exports;const isSameOrAfter=getDefaultExportFromCjs(isSameOrAfterExports);var isSameOrBefore$1={exports:{}};isSameOrBefore$1.exports=function(e,t){t.prototype.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)}};var isSameOrBeforeExports=isSameOrBefore$1.exports;const isSameOrBefore=getDefaultExportFromCjs(isSameOrBeforeExports),ROOT_PICKER_INJECTION_KEY=Symbol(),datePickerProps=buildProps({...timePickerDefaultProps,type:{type:definePropType(String),default:"date"}}),selectionModes=["date","dates","year","month","week","range"],datePickerSharedProps=buildProps({disabledDate:{type:definePropType(Function)},date:{type:definePropType(Object),required:!0},minDate:{type:definePropType(Object)},maxDate:{type:definePropType(Object)},parsedValue:{type:definePropType([Object,Array])},rangeState:{type:definePropType(Object),default:()=>({endDate:null,selecting:!1})}}),panelSharedProps=buildProps({type:{type:definePropType(String),required:!0,values:datePickTypes},dateFormat:String,timeFormat:String}),panelRangeSharedProps=buildProps({unlinkPanels:Boolean,parsedValue:{type:definePropType(Array)}}),selectionModeWithDefault=e=>({type:String,values:selectionModes,default:e}),panelDatePickProps=buildProps({...panelSharedProps,parsedValue:{type:definePropType([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),basicDateTableProps=buildProps({...datePickerSharedProps,cellClassName:{type:definePropType(Function)},showWeekNumber:Boolean,selectionMode:selectionModeWithDefault("date")}),basicDateTableEmits=["changerange","pick","select"],isValidRange=e=>{if(!isArray$1(e))return!1;const[t,n]=e;return dayjs.isDayjs(t)&&dayjs.isDayjs(n)&&t.isSameOrBefore(n)},getDefaultValue=(e,{lang:t,unit:n,unlinkPanels:r})=>{let o;if(isArray$1(e)){let[o,i]=e.map((e=>dayjs(e).locale(t)));return r||(i=o.add(1,n)),[o,i]}return o=e?dayjs(e):dayjs(),o=o.locale(t),[o,o.add(1,n)]},buildPickerTable=(e,t,{columnIndexOffset:n,startDate:r,nextEndDate:o,now:i,unit:a,relativeDateGetter:s,setCellMetadata:l,setRowMetadata:u})=>{for(let c=0;c<e.row;c++){const d=t[c];for(let t=0;t<e.column;t++){let u=d[t+n];u||(u={row:c,column:t,type:"normal",inRange:!1,start:!1,end:!1});const h=s(c*e.column+t);u.dayjs=h,u.date=h.toDate(),u.timestamp=h.valueOf(),u.type="normal",u.inRange=!!(r&&h.isSameOrAfter(r,a)&&o&&h.isSameOrBefore(o,a))||!!(r&&h.isSameOrBefore(r,a)&&o&&h.isSameOrAfter(o,a)),(null==r?void 0:r.isSameOrAfter(o))?(u.start=!!o&&h.isSame(o,a),u.end=r&&h.isSame(r,a)):(u.start=!!r&&h.isSame(r,a),u.end=!!o&&h.isSame(o,a));h.isSame(i,a)&&(u.type="today"),null==l||l(u,{rowIndex:c,columnIndex:t}),d[t+n]=u}null==u||u(d)}},isNormalDay=(e="")=>["normal","today"].includes(e),useBasicDateTable=(e,t)=>{const{lang:n}=useLocale(),r=ref(),o=ref(),i=ref(),a=ref(),s=ref([[],[],[],[],[],[]]);let l=!1;const u=e.date.$locale().weekStart||7,c=e.date.locale("en").localeData().weekdaysShort().map((e=>e.toLowerCase())),d=computed((()=>u>3?7-u:-u)),h=computed((()=>{const t=e.date.startOf("month");return t.subtract(t.day()||7,"day")})),p=computed((()=>c.concat(c).slice(u,u+7))),f=computed((()=>flatten(unref(y)).some((e=>e.isCurrent)))),m=computed((()=>{const t=e.date.startOf("month");return{startOfMonthDay:t.day()||7,dateCountOfMonth:t.daysInMonth(),dateCountOfLastMonth:t.subtract(1,"month").daysInMonth()}})),_=computed((()=>"dates"===e.selectionMode?castArray(e.parsedValue):[])),g=(t,{columnIndex:n,rowIndex:r},o)=>{const{disabledDate:i,cellClassName:a}=e,s=unref(_),l=((e,{count:t,rowIndex:n,columnIndex:r})=>{const{startOfMonthDay:o,dateCountOfMonth:i,dateCountOfLastMonth:a}=unref(m),s=unref(d);if(!(n>=0&&n<=1))return t<=i?e.text=t:(e.text=t-i,e.type="next-month"),!0;{const i=o+s<0?7+o+s:o+s;if(r+7*n>=i)return e.text=t,!0;e.text=a-(i-r%7)+1+7*n,e.type="prev-month"}return!1})(t,{count:o,rowIndex:r,columnIndex:n}),u=t.dayjs.toDate();return t.selected=s.find((e=>e.valueOf()===t.dayjs.valueOf())),t.isSelected=!!t.selected,t.isCurrent=E(t),t.disabled=null==i?void 0:i(u),t.customClass=null==a?void 0:a(u),l},v=t=>{if("week"===e.selectionMode){const[n,r]=e.showWeekNumber?[1,7]:[0,6],o=S(t[n+1]);t[n].inRange=o,t[n].start=o,t[r].inRange=o,t[r].end=o}},y=computed((()=>{const{minDate:t,maxDate:r,rangeState:o,showWeekNumber:i}=e,a=unref(d),l=unref(s),u="day";let c=1;if(i)for(let e=0;e<6;e++)l[e][0]||(l[e][0]={type:"week",text:unref(h).add(7*e+1,u).week()});return buildPickerTable({row:6,column:7},l,{startDate:t,columnIndexOffset:i?1:0,nextEndDate:o.endDate||r||o.selecting&&t||null,now:dayjs().locale(unref(n)).startOf(u),unit:u,relativeDateGetter:e=>unref(h).add(e-a,u),setCellMetadata:(...e)=>{g(...e,c)&&(c+=1)},setRowMetadata:v}),l}));watch((()=>e.date),(async()=>{var e;(null==(e=unref(r))?void 0:e.contains(document.activeElement))&&(await nextTick(),await b())}));const b=async()=>{var e;return null==(e=unref(o))?void 0:e.focus()},E=t=>"date"===e.selectionMode&&isNormalDay(t.type)&&C(t,e.parsedValue),C=(t,r)=>!!r&&dayjs(r).locale(unref(n)).isSame(e.date.date(Number(t.text)),"day"),x=(t,n)=>{const r=7*t+(n-(e.showWeekNumber?1:0))-unref(d);return unref(h).add(r,"day")},w=(n,r=!1)=>{const o=n.target.closest("td");if(!o)return;const i=o.parentNode.rowIndex-1,a=o.cellIndex,s=unref(y)[i][a];if(s.disabled||"week"===s.type)return;const l=x(i,a);switch(e.selectionMode){case"range":(n=>{e.rangeState.selecting&&e.minDate?(n>=e.minDate?t("pick",{minDate:e.minDate,maxDate:n}):t("pick",{minDate:n,maxDate:e.minDate}),t("select",!1)):(t("pick",{minDate:n,maxDate:null}),t("select",!0))})(l);break;case"date":t("pick",l,r);break;case"week":(e=>{const n=e.week(),r=`${e.year()}w${n}`;t("pick",{year:e.year(),week:n,value:r,date:e.startOf("week")})})(l);break;case"dates":((n,r)=>{const o=r?castArray(e.parsedValue).filter((e=>(null==e?void 0:e.valueOf())!==n.valueOf())):castArray(e.parsedValue).concat([n]);t("pick",o)})(l,!!s.selected)}},S=t=>{if("week"!==e.selectionMode)return!1;let n=e.date.startOf("day");if("prev-month"===t.type&&(n=n.subtract(1,"month")),"next-month"===t.type&&(n=n.add(1,"month")),n=n.date(Number.parseInt(t.text,10)),e.parsedValue&&!Array.isArray(e.parsedValue)){const t=(e.parsedValue.day()-u+7)%7-1;return e.parsedValue.subtract(t,"day").isSame(n,"day")}return!1};return{WEEKS:p,rows:y,tbodyRef:r,currentCellRef:o,focus:b,isCurrent:E,isWeekActive:S,isSelectedCell:e=>!unref(f)&&1===(null==e?void 0:e.text)&&"normal"===e.type||e.isCurrent,handlePickDate:w,handleMouseUp:e=>{e.target.closest("td")&&(l=!1)},handleMouseDown:e=>{e.target.closest("td")&&(l=!0)},handleMouseMove:n=>{var r;if(!e.rangeState.selecting)return;let o=n.target;if("SPAN"===o.tagName&&(o=null==(r=o.parentNode)?void 0:r.parentNode),"DIV"===o.tagName&&(o=o.parentNode),"TD"!==o.tagName)return;const s=o.parentNode.rowIndex-1,l=o.cellIndex;unref(y)[s][l].disabled||s===unref(i)&&l===unref(a)||(i.value=s,a.value=l,t("changerange",{selecting:!0,endDate:x(s,l)}))},handleFocus:t=>{l||unref(f)||"date"!==e.selectionMode||w(t,!0)}}},useBasicDateTableDOM=(e,{isCurrent:t,isWeekActive:n})=>{const r=useNamespace("date-table"),{t:o}=useLocale();return{tableKls:computed((()=>[r.b(),{"is-week-mode":"week"===e.selectionMode}])),tableLabel:computed((()=>o("el.datepicker.dateTablePrompt"))),weekLabel:computed((()=>o("el.datepicker.week"))),getCellClasses:n=>{const r=[];return isNormalDay(n.type)&&!n.disabled?(r.push("available"),"today"===n.type&&r.push("today")):r.push(n.type),t(n)&&r.push("current"),n.inRange&&(isNormalDay(n.type)||"week"===e.selectionMode)&&(r.push("in-range"),n.start&&r.push("start-date"),n.end&&r.push("end-date")),n.disabled&&r.push("disabled"),n.selected&&r.push("selected"),n.customClass&&r.push(n.customClass),r.join(" ")},getRowKls:e=>[r.e("row"),{current:n(e)}],t:o}},basicCellProps=buildProps({cell:{type:definePropType(Object)}});var ElDatePickerCell=defineComponent({name:"ElDatePickerCell",props:basicCellProps,setup(e){const t=useNamespace("date-table-cell"),{slots:n}=inject(ROOT_PICKER_INJECTION_KEY);return()=>{const{cell:r}=e;return renderSlot(n,"default",{...r},(()=>[createVNode("div",{class:t.b()},[createVNode("span",{class:t.e("text")},[null==r?void 0:r.text])])]))}}});const _hoisted_1$1H=["aria-label"],_hoisted_2$16={key:0,scope:"col"},_hoisted_3$M=["aria-label"],_hoisted_4$s=["aria-current","aria-selected","tabindex"],_sfc_main$2y=defineComponent({__name:"basic-date-table",props:basicDateTableProps,emits:basicDateTableEmits,setup(e,{expose:t,emit:n}){const r=e,{WEEKS:o,rows:i,tbodyRef:a,currentCellRef:s,focus:l,isCurrent:u,isWeekActive:c,isSelectedCell:d,handlePickDate:h,handleMouseUp:p,handleMouseDown:f,handleMouseMove:m,handleFocus:_}=useBasicDateTable(r,n),{tableLabel:g,tableKls:v,weekLabel:y,getCellClasses:b,getRowKls:E,t:C}=useBasicDateTableDOM(r,{isCurrent:u,isWeekActive:c});return t({focus:l}),(e,t)=>(openBlock(),createElementBlock("table",{"aria-label":unref(g),class:normalizeClass(unref(v)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:t[1]||(t[1]=(...e)=>unref(h)&&unref(h)(...e)),onMousemove:t[2]||(t[2]=(...e)=>unref(m)&&unref(m)(...e)),onMousedown:t[3]||(t[3]=withModifiers(((...e)=>unref(f)&&unref(f)(...e)),["prevent"])),onMouseup:t[4]||(t[4]=(...e)=>unref(p)&&unref(p)(...e))},[createBaseVNode("tbody",{ref_key:"tbodyRef",ref:a},[createBaseVNode("tr",null,[e.showWeekNumber?(openBlock(),createElementBlock("th",_hoisted_2$16,toDisplayString(unref(y)),1)):createCommentVNode("v-if",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(o),((e,t)=>(openBlock(),createElementBlock("th",{key:t,"aria-label":unref(C)("el.datepicker.weeksFull."+e),scope:"col"},toDisplayString(unref(C)("el.datepicker.weeks."+e)),9,_hoisted_3$M)))),128))]),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(i),((e,n)=>(openBlock(),createElementBlock("tr",{key:n,class:normalizeClass(unref(E)(e[1]))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e,((e,r)=>(openBlock(),createElementBlock("td",{key:`${n}.${r}`,ref_for:!0,ref:t=>unref(d)(e)&&(s.value=t),class:normalizeClass(unref(b)(e)),"aria-current":e.isCurrent?"date":void 0,"aria-selected":e.isCurrent,tabindex:unref(d)(e)?0:-1,onFocus:t[0]||(t[0]=(...e)=>unref(_)&&unref(_)(...e))},[createVNode(unref(ElDatePickerCell),{cell:e},null,8,["cell"])],42,_hoisted_4$s)))),128))],2)))),128))],512)],42,_hoisted_1$1H))}});var DateTable=_export_sfc(_sfc_main$2y,[["__file","basic-date-table.vue"]]);const basicMonthTableProps=buildProps({...datePickerSharedProps,selectionMode:selectionModeWithDefault("month")}),_hoisted_1$1G=["aria-label"],_hoisted_2$15=["aria-selected","aria-label","tabindex","onKeydown"],_hoisted_3$L={class:"cell"},_sfc_main$2x=defineComponent({__name:"basic-month-table",props:basicMonthTableProps,emits:["changerange","pick","select"],setup(e,{expose:t,emit:n}){const r=e,o=useNamespace("month-table"),{t:i,lang:a}=useLocale(),s=ref(),l=ref(),u=ref(r.date.locale("en").localeData().monthsShort().map((e=>e.toLowerCase()))),c=ref([[],[],[]]),d=ref(),h=ref(),p=computed((()=>{var e,t;const n=c.value,o=dayjs().locale(a.value).startOf("month");for(let i=0;i<3;i++){const a=n[i];for(let n=0;n<4;n++){const s=a[n]||(a[n]={row:i,column:n,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});s.type="normal";const l=4*i+n,u=r.date.startOf("year").month(l),c=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;s.inRange=!!(r.minDate&&u.isSameOrAfter(r.minDate,"month")&&c&&u.isSameOrBefore(c,"month"))||!!(r.minDate&&u.isSameOrBefore(r.minDate,"month")&&c&&u.isSameOrAfter(c,"month")),(null==(e=r.minDate)?void 0:e.isSameOrAfter(c))?(s.start=!(!c||!u.isSame(c,"month")),s.end=r.minDate&&u.isSame(r.minDate,"month")):(s.start=!(!r.minDate||!u.isSame(r.minDate,"month")),s.end=!(!c||!u.isSame(c,"month")));o.isSame(u)&&(s.type="today"),s.text=l,s.disabled=(null==(t=r.disabledDate)?void 0:t.call(r,u.toDate()))||!1}}return n})),f=e=>{const t={},n=r.date.year(),o=new Date,i=e.text;return t.disabled=!!r.disabledDate&&((e,t,n)=>{const r=dayjs().locale(n).startOf("month").month(t).year(e),o=r.daysInMonth();return rangeArr(o).map((e=>r.add(e,"day").toDate()))})(n,i,a.value).every(r.disabledDate),t.current=castArray(r.parsedValue).findIndex((e=>dayjs.isDayjs(e)&&e.year()===n&&e.month()===i))>=0,t.today=o.getFullYear()===n&&o.getMonth()===i,e.inRange&&(t["in-range"]=!0,e.start&&(t["start-date"]=!0),e.end&&(t["end-date"]=!0)),t},m=e=>{const t=r.date.year(),n=e.text;return castArray(r.date).findIndex((e=>e.year()===t&&e.month()===n))>=0},_=e=>{var t;if(!r.rangeState.selecting)return;let o=e.target;if("SPAN"===o.tagName&&(o=null==(t=o.parentNode)?void 0:t.parentNode),"DIV"===o.tagName&&(o=o.parentNode),"TD"!==o.tagName)return;const i=o.parentNode.rowIndex,a=o.cellIndex;p.value[i][a].disabled||i===d.value&&a===h.value||(d.value=i,h.value=a,n("changerange",{selecting:!0,endDate:r.date.startOf("year").month(4*i+a)}))},g=e=>{var t;const o=null==(t=e.target)?void 0:t.closest("td");if("TD"!==(null==o?void 0:o.tagName))return;if(hasClass(o,"disabled"))return;const i=o.cellIndex,a=4*o.parentNode.rowIndex+i,s=r.date.startOf("year").month(a);"range"===r.selectionMode?r.rangeState.selecting?(r.minDate&&s>=r.minDate?n("pick",{minDate:r.minDate,maxDate:s}):n("pick",{minDate:s,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:s,maxDate:null}),n("select",!0)):n("pick",a)};return watch((()=>r.date),(async()=>{var e,t;(null==(e=s.value)?void 0:e.contains(document.activeElement))&&(await nextTick(),null==(t=l.value)||t.focus())})),t({focus:()=>{var e;null==(e=l.value)||e.focus()}}),(e,t)=>(openBlock(),createElementBlock("table",{role:"grid","aria-label":unref(i)("el.datepicker.monthTablePrompt"),class:normalizeClass(unref(o).b()),onClick:g,onMousemove:_},[createBaseVNode("tbody",{ref_key:"tbodyRef",ref:s},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(p),((e,t)=>(openBlock(),createElementBlock("tr",{key:t},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e,((e,t)=>(openBlock(),createElementBlock("td",{key:t,ref_for:!0,ref:t=>m(e)&&(l.value=t),class:normalizeClass(f(e)),"aria-selected":`${m(e)}`,"aria-label":unref(i)("el.datepicker.month"+(+e.text+1)),tabindex:m(e)?0:-1,onKeydown:[withKeys(withModifiers(g,["prevent","stop"]),["space"]),withKeys(withModifiers(g,["prevent","stop"]),["enter"])]},[createBaseVNode("div",null,[createBaseVNode("span",_hoisted_3$L,toDisplayString(unref(i)("el.datepicker.months."+u.value[e.text])),1)])],42,_hoisted_2$15)))),128))])))),128))],512)],42,_hoisted_1$1G))}});var MonthTable=_export_sfc(_sfc_main$2x,[["__file","basic-month-table.vue"]]);const{date:date,disabledDate:disabledDate,parsedValue:parsedValue}=datePickerSharedProps,basicYearTableProps=buildProps({date:date,disabledDate:disabledDate,parsedValue:parsedValue}),_hoisted_1$1F=["aria-label"],_hoisted_2$14=["aria-selected","tabindex","onKeydown"],_hoisted_3$K={class:"cell"},_hoisted_4$r={key:1},_sfc_main$2w=defineComponent({__name:"basic-year-table",props:basicYearTableProps,emits:["pick"],setup(e,{expose:t,emit:n}){const r=e,o=useNamespace("year-table"),{t:i,lang:a}=useLocale(),s=ref(),l=ref(),u=computed((()=>10*Math.floor(r.date.year()/10))),c=e=>{const t={},n=dayjs().locale(a.value);return t.disabled=!!r.disabledDate&&((e,t)=>{const n=dayjs(String(e)).locale(t).startOf("year"),r=n.endOf("year").dayOfYear();return rangeArr(r).map((e=>n.add(e,"day").toDate()))})(e,a.value).every(r.disabledDate),t.current=castArray(r.parsedValue).findIndex((t=>t.year()===e))>=0,t.today=n.year()===e,t},d=e=>e===u.value&&r.date.year()<u.value&&r.date.year()>u.value+9||castArray(r.date).findIndex((t=>t.year()===e))>=0,h=e=>{const t=e.target.closest("td");if(t&&t.textContent){if(hasClass(t,"disabled"))return;const e=t.textContent||t.innerText;n("pick",Number(e))}};return watch((()=>r.date),(async()=>{var e,t;(null==(e=s.value)?void 0:e.contains(document.activeElement))&&(await nextTick(),null==(t=l.value)||t.focus())})),t({focus:()=>{var e;null==(e=l.value)||e.focus()}}),(e,t)=>(openBlock(),createElementBlock("table",{role:"grid","aria-label":unref(i)("el.datepicker.yearTablePrompt"),class:normalizeClass(unref(o).b()),onClick:h},[createBaseVNode("tbody",{ref_key:"tbodyRef",ref:s},[(openBlock(),createElementBlock(Fragment,null,renderList(3,((e,t)=>createBaseVNode("tr",{key:t},[(openBlock(),createElementBlock(Fragment,null,renderList(4,((e,n)=>(openBlock(),createElementBlock(Fragment,{key:t+"_"+n},[4*t+n<10?(openBlock(),createElementBlock("td",{key:0,ref_for:!0,ref:e=>d(unref(u)+4*t+n)&&(l.value=e),class:normalizeClass(["available",c(unref(u)+4*t+n)]),"aria-selected":`${d(unref(u)+4*t+n)}`,tabindex:d(unref(u)+4*t+n)?0:-1,onKeydown:[withKeys(withModifiers(h,["prevent","stop"]),["space"]),withKeys(withModifiers(h,["prevent","stop"]),["enter"])]},[createBaseVNode("span",_hoisted_3$K,toDisplayString(unref(u)+4*t+n),1)],42,_hoisted_2$14)):(openBlock(),createElementBlock("td",_hoisted_4$r))],64)))),64))]))),64))],512)],10,_hoisted_1$1F))}});var YearTable=_export_sfc(_sfc_main$2w,[["__file","basic-year-table.vue"]]);const _hoisted_1$1E=["onClick"],_hoisted_2$13=["aria-label"],_hoisted_3$J=["aria-label"],_hoisted_4$q=["aria-label"],_hoisted_5$i=["aria-label"],_sfc_main$2v=defineComponent({__name:"panel-date-pick",props:panelDatePickProps,emits:["pick","set-picker-option","panel-change"],setup(e,{emit:t}){const n=e,r=useNamespace("picker-panel"),o=useNamespace("date-picker"),i=useAttrs$1(),a=useSlots(),{t:s,lang:l}=useLocale(),u=inject("EP_PICKER_BASE"),c=inject(TOOLTIP_INJECTION_KEY),{shortcuts:d,disabledDate:h,cellClassName:p,defaultTime:f}=u.props,m=toRef$1(u.props,"defaultValue"),_=ref(),g=ref(dayjs().locale(l.value)),v=ref(!1);let y=!1;const b=computed((()=>dayjs(f).locale(l.value))),E=computed((()=>g.value.month())),C=computed((()=>g.value.year())),x=ref([]),w=ref(null),S=ref(null),T=e=>!(x.value.length>0)||(x.value,n.format,!0),k=e=>!f||Y.value||v.value||y?V.value?e.millisecond(0):e.startOf("day"):b.value.year(e.year()).month(e.month()).date(e.date()),L=(e,...n)=>{if(e)if(isArray$1(e)){const r=e.map(k);t("pick",r,...n)}else t("pick",k(e),...n);else t("pick",e,...n);w.value=null,S.value=null,v.value=!1,y=!1},P=(e,t)=>{if("date"===I.value){let r=n.parsedValue?n.parsedValue.year(e.year()).month(e.month()).date(e.date()):e;T()||(r=x.value[0][0].year(e.year()).month(e.month()).date(e.date())),g.value=r,L(r,V.value||t),"datetime"===n.type&&oe()}else"week"===I.value?L(e.date):"dates"===I.value&&L(e,!0)},M=e=>{const t=e?"add":"subtract";g.value=g.value[t](1,"month"),se("month")},O=e=>{const t=g.value,n=e?"add":"subtract";g.value="year"===N.value?t[n](10,"year"):t[n](1,"year"),se("year")},N=ref("date"),A=computed((()=>{const e=s("el.datepicker.year");if("year"===N.value){const t=10*Math.floor(C.value/10);return e?`${t} ${e} - ${t+9} ${e}`:`${t} - ${t+9}`}return`${C.value} ${e}`})),I=computed((()=>{const{type:e}=n;return["week","month","year","dates"].includes(e)?e:"date"})),R=computed((()=>"date"===I.value?N.value:I.value)),$=computed((()=>!!d.length)),B=async e=>{g.value=g.value.startOf("month").month(e),"month"===I.value?L(g.value,!1):(N.value="date",["month","year","date","week"].includes(I.value)&&(L(g.value,!0),await nextTick(),oe())),se("month")},D=async e=>{"year"===I.value?(g.value=g.value.startOf("year").year(e),L(g.value,!1)):(g.value=g.value.year(e),N.value="month",["month","year","date","week"].includes(I.value)&&(L(g.value,!0),await nextTick(),oe())),se("year")},F=async e=>{N.value=e,await nextTick(),oe()},V=computed((()=>"datetime"===n.type||"datetimerange"===n.type)),z=computed((()=>V.value||"dates"===I.value)),j=computed((()=>!!h&&(!n.parsedValue||(isArray$1(n.parsedValue)?h(n.parsedValue[0].toDate()):h(n.parsedValue.toDate()))))),U=()=>{if("dates"===I.value)L(n.parsedValue);else{let e=n.parsedValue;if(!e){const t=dayjs(f).locale(l.value),n=re();e=t.year(n.year()).month(n.month()).date(n.date())}g.value=e,L(e)}},G=computed((()=>!!h&&h(dayjs().locale(l.value).toDate()))),H=()=>{const e=dayjs().locale(l.value).toDate();v.value=!0,h&&h(e)||!T()||(g.value=dayjs().locale(l.value),L(g.value))},K=computed((()=>n.timeFormat||extractTimeFormat(n.format))),W=computed((()=>n.dateFormat||extractDateFormat(n.format))),Y=computed((()=>S.value?S.value:n.parsedValue||m.value?(n.parsedValue||g.value).format(K.value):void 0)),q=computed((()=>w.value?w.value:n.parsedValue||m.value?(n.parsedValue||g.value).format(W.value):void 0)),Z=ref(!1),X=()=>{Z.value=!0},J=()=>{Z.value=!1},Q=e=>({hour:e.hour(),minute:e.minute(),second:e.second(),year:e.year(),month:e.month(),date:e.date()}),ee=(e,t,r)=>{const{hour:o,minute:i,second:a}=Q(e),s=n.parsedValue?n.parsedValue.hour(o).minute(i).second(a):e;g.value=s,L(g.value,!0),r||(Z.value=t)},te=e=>{const t=dayjs(e,K.value).locale(l.value);if(t.isValid()&&T()){const{year:e,month:n,date:r}=Q(g.value);g.value=t.year(e).month(n).date(r),S.value=null,Z.value=!1,L(g.value,!0)}},ne=e=>{const t=dayjs(e,W.value).locale(l.value);if(t.isValid()){if(h&&h(t.toDate()))return;const{hour:e,minute:n,second:r}=Q(g.value);g.value=t.hour(e).minute(n).second(r),w.value=null,L(g.value,!0)}},re=()=>{const e=dayjs(m.value).locale(l.value);if(!m.value){const e=b.value;return dayjs().hour(e.hour()).minute(e.minute()).second(e.second()).locale(l.value)}return e},oe=async()=>{var e;["week","month","year","date"].includes(I.value)&&(null==(e=_.value)||e.focus(),"week"===I.value&&ae(EVENT_CODE.down))},ie=e=>{const{code:t}=e;[EVENT_CODE.up,EVENT_CODE.down,EVENT_CODE.left,EVENT_CODE.right,EVENT_CODE.home,EVENT_CODE.end,EVENT_CODE.pageUp,EVENT_CODE.pageDown].includes(t)&&(ae(t),e.stopPropagation(),e.preventDefault()),[EVENT_CODE.enter,EVENT_CODE.space,EVENT_CODE.numpadEnter].includes(t)&&null===w.value&&null===S.value&&(e.preventDefault(),L(g.value,!1))},ae=e=>{var n;const{up:r,down:o,left:i,right:a,home:s,end:u,pageUp:c,pageDown:d}=EVENT_CODE,p={year:{[r]:-4,[o]:4,[i]:-1,[a]:1,offset:(e,t)=>e.setFullYear(e.getFullYear()+t)},month:{[r]:-4,[o]:4,[i]:-1,[a]:1,offset:(e,t)=>e.setMonth(e.getMonth()+t)},week:{[r]:-1,[o]:1,[i]:-1,[a]:1,offset:(e,t)=>e.setDate(e.getDate()+7*t)},date:{[r]:-7,[o]:7,[i]:-1,[a]:1,[s]:e=>-e.getDay(),[u]:e=>6-e.getDay(),[c]:e=>-new Date(e.getFullYear(),e.getMonth(),0).getDate(),[d]:e=>new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),offset:(e,t)=>e.setDate(e.getDate()+t)}},f=g.value.toDate();for(;Math.abs(g.value.diff(f,"year",!0))<1;){const r=p[R.value];if(!r)return;if(r.offset(f,isFunction$2(r[e])?r[e](f):null!=(n=r[e])?n:0),h&&h(f))break;const o=dayjs(f).locale(l.value);g.value=o,t("pick",o,!0);break}},se=e=>{t("panel-change",g.value.toDate(),e,N.value)};return watch((()=>I.value),(e=>{["month","year"].includes(e)?N.value=e:N.value="date"}),{immediate:!0}),watch((()=>N.value),(()=>{null==c||c.updatePopper()})),watch((()=>m.value),(e=>{e&&(g.value=re())}),{immediate:!0}),watch((()=>n.parsedValue),(e=>{if(e){if("dates"===I.value)return;if(Array.isArray(e))return;g.value=e}else g.value=re()}),{immediate:!0}),t("set-picker-option",["isValidValue",e=>dayjs.isDayjs(e)&&e.isValid()&&(!h||!h(e.toDate()))]),t("set-picker-option",["formatToString",e=>"dates"===I.value?e.map((e=>e.format(n.format))):e.format(n.format)]),t("set-picker-option",["parseUserInput",e=>dayjs(e,n.format).locale(l.value)]),t("set-picker-option",["handleFocusPicker",oe]),(e,n)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(r).b(),unref(o).b(),{"has-sidebar":e.$slots.sidebar||unref($),"has-time":unref(V)}])},[createBaseVNode("div",{class:normalizeClass(unref(r).e("body-wrapper"))},[renderSlot(e.$slots,"sidebar",{class:normalizeClass(unref(r).e("sidebar"))}),unref($)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(d),((e,n)=>(openBlock(),createElementBlock("button",{key:n,type:"button",class:normalizeClass(unref(r).e("shortcut")),onClick:n=>(e=>{const n=isFunction$2(e.value)?e.value():e.value;if(n)return y=!0,void L(dayjs(n).locale(l.value));e.onClick&&e.onClick({attrs:i,slots:a,emit:t})})(e)},toDisplayString(e.text),11,_hoisted_1$1E)))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(r).e("body"))},[unref(V)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(o).e("time-header"))},[createBaseVNode("span",{class:normalizeClass(unref(o).e("editor-wrap"))},[createVNode(unref(ElInput),{placeholder:unref(s)("el.datepicker.selectDate"),"model-value":unref(q),size:"small","validate-event":!1,onInput:n[0]||(n[0]=e=>w.value=e),onChange:ne},null,8,["placeholder","model-value"])],2),withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(unref(o).e("editor-wrap"))},[createVNode(unref(ElInput),{placeholder:unref(s)("el.datepicker.selectTime"),"model-value":unref(Y),size:"small","validate-event":!1,onFocus:X,onInput:n[1]||(n[1]=e=>S.value=e),onChange:te},null,8,["placeholder","model-value"]),createVNode(unref(TimePickPanel),{visible:Z.value,format:unref(K),"parsed-value":g.value,onPick:ee},null,8,["visible","format","parsed-value"])],2)),[[unref(ClickOutside),J]])],2)):createCommentVNode("v-if",!0),withDirectives(createBaseVNode("div",{class:normalizeClass([unref(o).e("header"),("year"===N.value||"month"===N.value)&&unref(o).e("header--bordered")])},[createBaseVNode("span",{class:normalizeClass(unref(o).e("prev-btn"))},[createBaseVNode("button",{type:"button","aria-label":unref(s)("el.datepicker.prevYear"),class:normalizeClass(["d-arrow-left",unref(r).e("icon-btn")]),onClick:n[2]||(n[2]=e=>O(!1))},[createVNode(unref(ElIcon),null,{default:withCtx((()=>[createVNode(unref(d_arrow_left_default))])),_:1})],10,_hoisted_2$13),withDirectives(createBaseVNode("button",{type:"button","aria-label":unref(s)("el.datepicker.prevMonth"),class:normalizeClass([unref(r).e("icon-btn"),"arrow-left"]),onClick:n[3]||(n[3]=e=>M(!1))},[createVNode(unref(ElIcon),null,{default:withCtx((()=>[createVNode(unref(arrow_left_default))])),_:1})],10,_hoisted_3$J),[[vShow,"date"===N.value]])],2),createBaseVNode("span",{role:"button",class:normalizeClass(unref(o).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:n[4]||(n[4]=withKeys((e=>F("year")),["enter"])),onClick:n[5]||(n[5]=e=>F("year"))},toDisplayString(unref(A)),35),withDirectives(createBaseVNode("span",{role:"button","aria-live":"polite",tabindex:"0",class:normalizeClass([unref(o).e("header-label"),{active:"month"===N.value}]),onKeydown:n[6]||(n[6]=withKeys((e=>F("month")),["enter"])),onClick:n[7]||(n[7]=e=>F("month"))},toDisplayString(unref(s)(`el.datepicker.month${unref(E)+1}`)),35),[[vShow,"date"===N.value]]),createBaseVNode("span",{class:normalizeClass(unref(o).e("next-btn"))},[withDirectives(createBaseVNode("button",{type:"button","aria-label":unref(s)("el.datepicker.nextMonth"),class:normalizeClass([unref(r).e("icon-btn"),"arrow-right"]),onClick:n[8]||(n[8]=e=>M(!0))},[createVNode(unref(ElIcon),null,{default:withCtx((()=>[createVNode(unref(arrow_right_default))])),_:1})],10,_hoisted_4$q),[[vShow,"date"===N.value]]),createBaseVNode("button",{type:"button","aria-label":unref(s)("el.datepicker.nextYear"),class:normalizeClass([unref(r).e("icon-btn"),"d-arrow-right"]),onClick:n[9]||(n[9]=e=>O(!0))},[createVNode(unref(ElIcon),null,{default:withCtx((()=>[createVNode(unref(d_arrow_right_default))])),_:1})],10,_hoisted_5$i)],2)],2),[[vShow,"time"!==N.value]]),createBaseVNode("div",{class:normalizeClass(unref(r).e("content")),onKeydown:ie},["date"===N.value?(openBlock(),createBlock(DateTable,{key:0,ref_key:"currentViewRef",ref:_,"selection-mode":unref(I),date:g.value,"parsed-value":e.parsedValue,"disabled-date":unref(h),"cell-class-name":unref(p),onPick:P},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):createCommentVNode("v-if",!0),"year"===N.value?(openBlock(),createBlock(YearTable,{key:1,ref_key:"currentViewRef",ref:_,date:g.value,"disabled-date":unref(h),"parsed-value":e.parsedValue,onPick:D},null,8,["date","disabled-date","parsed-value"])):createCommentVNode("v-if",!0),"month"===N.value?(openBlock(),createBlock(MonthTable,{key:2,ref_key:"currentViewRef",ref:_,date:g.value,"parsed-value":e.parsedValue,"disabled-date":unref(h),onPick:B},null,8,["date","parsed-value","disabled-date"])):createCommentVNode("v-if",!0)],34)],2)],2),withDirectives(createBaseVNode("div",{class:normalizeClass(unref(r).e("footer"))},[withDirectives(createVNode(unref(ElButton),{text:"",size:"small",class:normalizeClass(unref(r).e("link-btn")),disabled:unref(G),onClick:H},{default:withCtx((()=>[createTextVNode(toDisplayString(unref(s)("el.datepicker.now")),1)])),_:1},8,["class","disabled"]),[[vShow,"dates"!==unref(I)]]),createVNode(unref(ElButton),{plain:"",size:"small",class:normalizeClass(unref(r).e("link-btn")),disabled:unref(j),onClick:U},{default:withCtx((()=>[createTextVNode(toDisplayString(unref(s)("el.datepicker.confirm")),1)])),_:1},8,["class","disabled"])],2),[[vShow,unref(z)&&"date"===N.value]])],2))}});var DatePickPanel=_export_sfc(_sfc_main$2v,[["__file","panel-date-pick.vue"]]);const panelDateRangeProps=buildProps({...panelSharedProps,...panelRangeSharedProps}),useShortcut=e=>{const{emit:t}=getCurrentInstance(),n=useAttrs$1(),r=useSlots();return o=>{const i=isFunction$2(o.value)?o.value():o.value;i?t("pick",[dayjs(i[0]).locale(e.value),dayjs(i[1]).locale(e.value)]):o.onClick&&o.onClick({attrs:n,slots:r,emit:t})}},useRangePicker=(e,{defaultValue:t,leftDate:n,rightDate:r,unit:o,onParsedValueChanged:i})=>{const{emit:a}=getCurrentInstance(),{pickerNs:s}=inject(ROOT_PICKER_INJECTION_KEY),l=useNamespace("date-range-picker"),{t:u,lang:c}=useLocale(),d=useShortcut(c),h=ref(),p=ref(),f=ref({endDate:null,selecting:!1}),m=()=>{const[i,a]=getDefaultValue(unref(t),{lang:unref(c),unit:o,unlinkPanels:e.unlinkPanels});h.value=void 0,p.value=void 0,n.value=i,r.value=a};return watch(t,(e=>{e&&m()}),{immediate:!0}),watch((()=>e.parsedValue),(e=>{if(isArray$1(e)&&2===e.length){const[t,r]=e;h.value=t,n.value=t,p.value=r,i(unref(h),unref(p))}else m()}),{immediate:!0}),{minDate:h,maxDate:p,rangeState:f,lang:c,ppNs:s,drpNs:l,handleChangeRange:e=>{f.value=e},handleRangeConfirm:(e=!1)=>{const t=unref(h),n=unref(p);isValidRange([t,n])&&a("pick",[t,n],e)},handleShortcutClick:d,onSelect:e=>{f.value.selecting=e,e||(f.value.endDate=null)},t:u}},_hoisted_1$1D=["onClick"],_hoisted_2$12=["aria-label"],_hoisted_3$I=["aria-label"],_hoisted_4$p=["disabled","aria-label"],_hoisted_5$h=["disabled","aria-label"],_hoisted_6$c=["disabled","aria-label"],_hoisted_7$8=["disabled","aria-label"],_hoisted_8$5=["aria-label"],_hoisted_9$4=["aria-label"],unit$1="month",_sfc_main$2u=defineComponent({__name:"panel-date-range",props:panelDateRangeProps,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(e,{emit:t}){const n=e,r=inject("EP_PICKER_BASE"),{disabledDate:o,cellClassName:i,format:a,defaultTime:s,clearable:l}=r.props,u=toRef$1(r.props,"shortcuts"),c=toRef$1(r.props,"defaultValue"),{lang:d}=useLocale(),h=ref(dayjs().locale(d.value)),p=ref(dayjs().locale(d.value).add(1,unit$1)),{minDate:f,maxDate:m,rangeState:_,ppNs:g,drpNs:v,handleChangeRange:y,handleRangeConfirm:b,handleShortcutClick:E,onSelect:C,t:x}=useRangePicker(n,{defaultValue:c,leftDate:h,rightDate:p,unit:unit$1,onParsedValueChanged:function(e,t){if(n.unlinkPanels&&t){const n=(null==e?void 0:e.year())||0,r=(null==e?void 0:e.month())||0,o=t.year(),i=t.month();p.value=n===o&&r===i?t.add(1,unit$1):t}else p.value=h.value.add(1,unit$1),t&&(p.value=p.value.hour(t.hour()).minute(t.minute()).second(t.second()))}}),w=ref({min:null,max:null}),S=ref({min:null,max:null}),T=computed((()=>`${h.value.year()} ${x("el.datepicker.year")} ${x(`el.datepicker.month${h.value.month()+1}`)}`)),k=computed((()=>`${p.value.year()} ${x("el.datepicker.year")} ${x(`el.datepicker.month${p.value.month()+1}`)}`)),L=computed((()=>h.value.year())),P=computed((()=>h.value.month())),M=computed((()=>p.value.year())),O=computed((()=>p.value.month())),N=computed((()=>!!u.value.length)),A=computed((()=>null!==w.value.min?w.value.min:f.value?f.value.format(D.value):"")),I=computed((()=>null!==w.value.max?w.value.max:m.value||f.value?(m.value||f.value).format(D.value):"")),R=computed((()=>null!==S.value.min?S.value.min:f.value?f.value.format(B.value):"")),$=computed((()=>null!==S.value.max?S.value.max:m.value||f.value?(m.value||f.value).format(B.value):"")),B=computed((()=>n.timeFormat||extractTimeFormat(a))),D=computed((()=>n.dateFormat||extractDateFormat(a))),F=()=>{h.value=h.value.subtract(1,"year"),n.unlinkPanels||(p.value=h.value.add(1,"month")),W("year")},V=()=>{h.value=h.value.subtract(1,"month"),n.unlinkPanels||(p.value=h.value.add(1,"month")),W("month")},z=()=>{n.unlinkPanels?p.value=p.value.add(1,"year"):(h.value=h.value.add(1,"year"),p.value=h.value.add(1,"month")),W("year")},j=()=>{n.unlinkPanels?p.value=p.value.add(1,"month"):(h.value=h.value.add(1,"month"),p.value=h.value.add(1,"month")),W("month")},U=()=>{h.value=h.value.add(1,"year"),W("year")},G=()=>{h.value=h.value.add(1,"month"),W("month")},H=()=>{p.value=p.value.subtract(1,"year"),W("year")},K=()=>{p.value=p.value.subtract(1,"month"),W("month")},W=e=>{t("panel-change",[h.value.toDate(),p.value.toDate()],e)},Y=computed((()=>{const e=(P.value+1)%12,t=P.value+1>=12?1:0;return n.unlinkPanels&&new Date(L.value+t,e)<new Date(M.value,O.value)})),q=computed((()=>n.unlinkPanels&&12*M.value+O.value-(12*L.value+P.value+1)>=12)),Z=computed((()=>!(f.value&&m.value&&!_.value.selecting&&isValidRange([f.value,m.value])))),X=computed((()=>"datetime"===n.type||"datetimerange"===n.type)),J=(e,t)=>{if(e){if(s){return dayjs(s[t]||s).locale(d.value).year(e.year()).month(e.month()).date(e.date())}return e}},Q=(e,n=!0)=>{const r=e.minDate,o=e.maxDate,i=J(r,0),a=J(o,1);m.value===a&&f.value===i||(t("calendar-change",[r.toDate(),o&&o.toDate()]),m.value=a,f.value=i,n&&!X.value&&b())},ee=ref(!1),te=ref(!1),ne=()=>{ee.value=!1},re=()=>{te.value=!1},oe=(e,t)=>{w.value[t]=e;const r=dayjs(e,D.value).locale(d.value);if(r.isValid()){if(o&&o(r.toDate()))return;"min"===t?(h.value=r,f.value=(f.value||h.value).year(r.year()).month(r.month()).date(r.date()),n.unlinkPanels||m.value&&!m.value.isBefore(f.value)||(p.value=r.add(1,"month"),m.value=f.value.add(1,"month"))):(p.value=r,m.value=(m.value||p.value).year(r.year()).month(r.month()).date(r.date()),n.unlinkPanels||f.value&&!f.value.isAfter(m.value)||(h.value=r.subtract(1,"month"),f.value=m.value.subtract(1,"month")))}},ie=(e,t)=>{w.value[t]=null},ae=(e,t)=>{S.value[t]=e;const n=dayjs(e,B.value).locale(d.value);n.isValid()&&("min"===t?(ee.value=!0,f.value=(f.value||h.value).hour(n.hour()).minute(n.minute()).second(n.second()),m.value&&!m.value.isBefore(f.value)||(m.value=f.value)):(te.value=!0,m.value=(m.value||p.value).hour(n.hour()).minute(n.minute()).second(n.second()),p.value=m.value,m.value&&m.value.isBefore(f.value)&&(f.value=m.value)))},se=(e,t)=>{S.value[t]=null,"min"===t?(h.value=f.value,ee.value=!1):(p.value=m.value,te.value=!1)},le=(e,t,n)=>{S.value.min||(e&&(h.value=e,f.value=(f.value||h.value).hour(e.hour()).minute(e.minute()).second(e.second())),n||(ee.value=t),m.value&&!m.value.isBefore(f.value)||(m.value=f.value,p.value=e))},ue=(e,t,n)=>{S.value.max||(e&&(p.value=e,m.value=(m.value||p.value).hour(e.hour()).minute(e.minute()).second(e.second())),n||(te.value=t),m.value&&m.value.isBefore(f.value)&&(f.value=m.value))},ce=()=>{h.value=getDefaultValue(unref(c),{lang:unref(d),unit:"month",unlinkPanels:n.unlinkPanels})[0],p.value=h.value.add(1,"month"),t("pick",null)};return t("set-picker-option",["isValidValue",e=>isValidRange(e)&&(!o||!o(e[0].toDate())&&!o(e[1].toDate()))]),t("set-picker-option",["parseUserInput",e=>isArray$1(e)?e.map((e=>dayjs(e,a).locale(d.value))):dayjs(e,a).locale(d.value)]),t("set-picker-option",["formatToString",e=>isArray$1(e)?e.map((e=>e.format(a))):e.format(a)]),t("set-picker-option",["handleClear",ce]),(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(g).b(),unref(v).b(),{"has-sidebar":e.$slots.sidebar||unref(N),"has-time":unref(X)}])},[createBaseVNode("div",{class:normalizeClass(unref(g).e("body-wrapper"))},[renderSlot(e.$slots,"sidebar",{class:normalizeClass(unref(g).e("sidebar"))}),unref(N)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(u),((e,t)=>(openBlock(),createElementBlock("button",{key:t,type:"button",class:normalizeClass(unref(g).e("shortcut")),onClick:t=>unref(E)(e)},toDisplayString(e.text),11,_hoisted_1$1D)))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(g).e("body"))},[unref(X)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(v).e("time-header"))},[createBaseVNode("span",{class:normalizeClass(unref(v).e("editors-wrap"))},[createBaseVNode("span",{class:normalizeClass(unref(v).e("time-picker-wrap"))},[createVNode(unref(ElInput),{size:"small",disabled:unref(_).selecting,placeholder:unref(x)("el.datepicker.startDate"),class:normalizeClass(unref(v).e("editor")),"model-value":unref(A),"validate-event":!1,onInput:t[0]||(t[0]=e=>oe(e,"min")),onChange:t[1]||(t[1]=e=>ie(0,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(unref(v).e("time-picker-wrap"))},[createVNode(unref(ElInput),{size:"small",class:normalizeClass(unref(v).e("editor")),disabled:unref(_).selecting,placeholder:unref(x)("el.datepicker.startTime"),"model-value":unref(R),"validate-event":!1,onFocus:t[2]||(t[2]=e=>ee.value=!0),onInput:t[3]||(t[3]=e=>ae(e,"min")),onChange:t[4]||(t[4]=e=>se(0,"min"))},null,8,["class","disabled","placeholder","model-value"]),createVNode(unref(TimePickPanel),{visible:ee.value,format:unref(B),"datetime-role":"start","parsed-value":h.value,onPick:le},null,8,["visible","format","parsed-value"])],2)),[[unref(ClickOutside),ne]])],2),createBaseVNode("span",null,[createVNode(unref(ElIcon),null,{default:withCtx((()=>[createVNode(unref(arrow_right_default))])),_:1})]),createBaseVNode("span",{class:normalizeClass([unref(v).e("editors-wrap"),"is-right"])},[createBaseVNode("span",{class:normalizeClass(unref(v).e("time-picker-wrap"))},[createVNode(unref(ElInput),{size:"small",class:normalizeClass(unref(v).e("editor")),disabled:unref(_).selecting,placeholder:unref(x)("el.datepicker.endDate"),"model-value":unref(I),readonly:!unref(f),"validate-event":!1,onInput:t[5]||(t[5]=e=>oe(e,"max")),onChange:t[6]||(t[6]=e=>ie(0,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(unref(v).e("time-picker-wrap"))},[createVNode(unref(ElInput),{size:"small",class:normalizeClass(unref(v).e("editor")),disabled:unref(_).selecting,placeholder:unref(x)("el.datepicker.endTime"),"model-value":unref($),readonly:!unref(f),"validate-event":!1,onFocus:t[7]||(t[7]=e=>unref(f)&&(te.value=!0)),onInput:t[8]||(t[8]=e=>ae(e,"max")),onChange:t[9]||(t[9]=e=>se(0,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),createVNode(unref(TimePickPanel),{"datetime-role":"end",visible:te.value,format:unref(B),"parsed-value":p.value,onPick:ue},null,8,["visible","format","parsed-value"])],2)),[[unref(ClickOutside),re]])],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass([[unref(g).e("content"),unref(v).e("content")],"is-left"])},[createBaseVNode("div",{class:normalizeClass(unref(v).e("header"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(g).e("icon-btn"),"d-arrow-left"]),"aria-label":unref(x)("el.datepicker.prevYear"),onClick:F},[createVNode(unref(ElIcon),null,{default:withCtx((()=>[createVNode(unref(d_arrow_left_default))])),_:1})],10,_hoisted_2$12),createBaseVNode("button",{type:"button",class:normalizeClass([unref(g).e("icon-btn"),"arrow-left"]),"aria-label":unref(x)("el.datepicker.prevMonth"),onClick:V},[createVNode(unref(ElIcon),null,{default:withCtx((()=>[createVNode(unref(arrow_left_default))])),_:1})],10,_hoisted_3$I),e.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(q),class:normalizeClass([[unref(g).e("icon-btn"),{"is-disabled":!unref(q)}],"d-arrow-right"]),"aria-label":unref(x)("el.datepicker.nextYear"),onClick:U},[createVNode(unref(ElIcon),null,{default:withCtx((()=>[createVNode(unref(d_arrow_right_default))])),_:1})],10,_hoisted_4$p)):createCommentVNode("v-if",!0),e.unlinkPanels?(openBlock(),createElementBlock("button",{key:1,type:"button",disabled:!unref(Y),class:normalizeClass([[unref(g).e("icon-btn"),{"is-disabled":!unref(Y)}],"arrow-right"]),"aria-label":unref(x)("el.datepicker.nextMonth"),onClick:G},[createVNode(unref(ElIcon),null,{default:withCtx((()=>[createVNode(unref(arrow_right_default))])),_:1})],10,_hoisted_5$h)):createCommentVNode("v-if",!0),createBaseVNode("div",null,toDisplayString(unref(T)),1)],2),createVNode(DateTable,{"selection-mode":"range",date:h.value,"min-date":unref(f),"max-date":unref(m),"range-state":unref(_),"disabled-date":unref(o),"cell-class-name":unref(i),onChangerange:unref(y),onPick:Q,onSelect:unref(C)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),createBaseVNode("div",{class:normalizeClass([[unref(g).e("content"),unref(v).e("content")],"is-right"])},[createBaseVNode("div",{class:normalizeClass(unref(v).e("header"))},[e.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(q),class:normalizeClass([[unref(g).e("icon-btn"),{"is-disabled":!unref(q)}],"d-arrow-left"]),"aria-label":unref(x)("el.datepicker.prevYear"),onClick:H},[createVNode(unref(ElIcon),null,{default:withCtx((()=>[createVNode(unref(d_arrow_left_default))])),_:1})],10,_hoisted_6$c)):createCommentVNode("v-if",!0),e.unlinkPanels?(openBlock(),createElementBlock("button",{key:1,type:"button",disabled:!unref(Y),class:normalizeClass([[unref(g).e("icon-btn"),{"is-disabled":!unref(Y)}],"arrow-left"]),"aria-label":unref(x)("el.datepicker.prevMonth"),onClick:K},[createVNode(unref(ElIcon),null,{default:withCtx((()=>[createVNode(unref(arrow_left_default))])),_:1})],10,_hoisted_7$8)):createCommentVNode("v-if",!0),createBaseVNode("button",{type:"button","aria-label":unref(x)("el.datepicker.nextYear"),class:normalizeClass([unref(g).e("icon-btn"),"d-arrow-right"]),onClick:z},[createVNode(unref(ElIcon),null,{default:withCtx((()=>[createVNode(unref(d_arrow_right_default))])),_:1})],10,_hoisted_8$5),createBaseVNode("button",{type:"button",class:normalizeClass([unref(g).e("icon-btn"),"arrow-right"]),"aria-label":unref(x)("el.datepicker.nextMonth"),onClick:j},[createVNode(unref(ElIcon),null,{default:withCtx((()=>[createVNode(unref(arrow_right_default))])),_:1})],10,_hoisted_9$4),createBaseVNode("div",null,toDisplayString(unref(k)),1)],2),createVNode(DateTable,{"selection-mode":"range",date:p.value,"min-date":unref(f),"max-date":unref(m),"range-state":unref(_),"disabled-date":unref(o),"cell-class-name":unref(i),onChangerange:unref(y),onPick:Q,onSelect:unref(C)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),unref(X)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g).e("footer"))},[unref(l)?(openBlock(),createBlock(unref(ElButton),{key:0,text:"",size:"small",class:normalizeClass(unref(g).e("link-btn")),onClick:ce},{default:withCtx((()=>[createTextVNode(toDisplayString(unref(x)("el.datepicker.clear")),1)])),_:1},8,["class"])):createCommentVNode("v-if",!0),createVNode(unref(ElButton),{plain:"",size:"small",class:normalizeClass(unref(g).e("link-btn")),disabled:unref(Z),onClick:t[10]||(t[10]=e=>unref(b)(!1))},{default:withCtx((()=>[createTextVNode(toDisplayString(unref(x)("el.datepicker.confirm")),1)])),_:1},8,["class","disabled"])],2)):createCommentVNode("v-if",!0)],2))}});var DateRangePickPanel=_export_sfc(_sfc_main$2u,[["__file","panel-date-range.vue"]]);const panelMonthRangeProps=buildProps({...panelRangeSharedProps}),panelMonthRangeEmits=["pick","set-picker-option","calendar-change"],useMonthRangeHeader=({unlinkPanels:e,leftDate:t,rightDate:n})=>{const{t:r}=useLocale();return{leftPrevYear:()=>{t.value=t.value.subtract(1,"year"),e.value||(n.value=n.value.subtract(1,"year"))},rightNextYear:()=>{e.value||(t.value=t.value.add(1,"year")),n.value=n.value.add(1,"year")},leftNextYear:()=>{t.value=t.value.add(1,"year")},rightPrevYear:()=>{n.value=n.value.subtract(1,"year")},leftLabel:computed((()=>`${t.value.year()} ${r("el.datepicker.year")}`)),rightLabel:computed((()=>`${n.value.year()} ${r("el.datepicker.year")}`)),leftYear:computed((()=>t.value.year())),rightYear:computed((()=>n.value.year()===t.value.year()?t.value.year()+1:n.value.year()))}},_hoisted_1$1C=["onClick"],_hoisted_2$11=["disabled"],_hoisted_3$H=["disabled"],unit="year",__default__$S=defineComponent({name:"DatePickerMonthRange"}),_sfc_main$2t=defineComponent({...__default__$S,props:panelMonthRangeProps,emits:panelMonthRangeEmits,setup(e,{emit:t}){const n=e,{lang:r}=useLocale(),o=inject("EP_PICKER_BASE"),{shortcuts:i,disabledDate:a,format:s}=o.props,l=toRef$1(o.props,"defaultValue"),u=ref(dayjs().locale(r.value)),c=ref(dayjs().locale(r.value).add(1,unit)),{minDate:d,maxDate:h,rangeState:p,ppNs:f,drpNs:m,handleChangeRange:_,handleRangeConfirm:g,handleShortcutClick:v,onSelect:y}=useRangePicker(n,{defaultValue:l,leftDate:u,rightDate:c,unit:unit,onParsedValueChanged:function(e,t){if(n.unlinkPanels&&t){const n=(null==e?void 0:e.year())||0,r=t.year();c.value=n===r?t.add(1,unit):t}else c.value=u.value.add(1,unit)}}),b=computed((()=>!!i.length)),{leftPrevYear:E,rightNextYear:C,leftNextYear:x,rightPrevYear:w,leftLabel:S,rightLabel:T,leftYear:k,rightYear:L}=useMonthRangeHeader({unlinkPanels:toRef$1(n,"unlinkPanels"),leftDate:u,rightDate:c}),P=computed((()=>n.unlinkPanels&&L.value>k.value+1)),M=(e,n=!0)=>{const r=e.minDate,o=e.maxDate;h.value===o&&d.value===r||(t("calendar-change",[r.toDate(),o&&o.toDate()]),h.value=o,d.value=r,n&&g())};return t("set-picker-option",["formatToString",e=>e.map((e=>e.format(s)))]),(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(f).b(),unref(m).b(),{"has-sidebar":Boolean(e.$slots.sidebar)||unref(b)}])},[createBaseVNode("div",{class:normalizeClass(unref(f).e("body-wrapper"))},[renderSlot(e.$slots,"sidebar",{class:normalizeClass(unref(f).e("sidebar"))}),unref(b)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(f).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(i),((e,t)=>(openBlock(),createElementBlock("button",{key:t,type:"button",class:normalizeClass(unref(f).e("shortcut")),onClick:t=>unref(v)(e)},toDisplayString(e.text),11,_hoisted_1$1C)))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(f).e("body"))},[createBaseVNode("div",{class:normalizeClass([[unref(f).e("content"),unref(m).e("content")],"is-left"])},[createBaseVNode("div",{class:normalizeClass(unref(m).e("header"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(f).e("icon-btn"),"d-arrow-left"]),onClick:t[0]||(t[0]=(...e)=>unref(E)&&unref(E)(...e))},[createVNode(unref(ElIcon),null,{default:withCtx((()=>[createVNode(unref(d_arrow_left_default))])),_:1})],2),e.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(P),class:normalizeClass([[unref(f).e("icon-btn"),{[unref(f).is("disabled")]:!unref(P)}],"d-arrow-right"]),onClick:t[1]||(t[1]=(...e)=>unref(x)&&unref(x)(...e))},[createVNode(unref(ElIcon),null,{default:withCtx((()=>[createVNode(unref(d_arrow_right_default))])),_:1})],10,_hoisted_2$11)):createCommentVNode("v-if",!0),createBaseVNode("div",null,toDisplayString(unref(S)),1)],2),createVNode(MonthTable,{"selection-mode":"range",date:u.value,"min-date":unref(d),"max-date":unref(h),"range-state":unref(p),"disabled-date":unref(a),onChangerange:unref(_),onPick:M,onSelect:unref(y)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),createBaseVNode("div",{class:normalizeClass([[unref(f).e("content"),unref(m).e("content")],"is-right"])},[createBaseVNode("div",{class:normalizeClass(unref(m).e("header"))},[e.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(P),class:normalizeClass([[unref(f).e("icon-btn"),{"is-disabled":!unref(P)}],"d-arrow-left"]),onClick:t[2]||(t[2]=(...e)=>unref(w)&&unref(w)(...e))},[createVNode(unref(ElIcon),null,{default:withCtx((()=>[createVNode(unref(d_arrow_left_default))])),_:1})],10,_hoisted_3$H)):createCommentVNode("v-if",!0),createBaseVNode("button",{type:"button",class:normalizeClass([unref(f).e("icon-btn"),"d-arrow-right"]),onClick:t[3]||(t[3]=(...e)=>unref(C)&&unref(C)(...e))},[createVNode(unref(ElIcon),null,{default:withCtx((()=>[createVNode(unref(d_arrow_right_default))])),_:1})],2),createBaseVNode("div",null,toDisplayString(unref(T)),1)],2),createVNode(MonthTable,{"selection-mode":"range",date:c.value,"min-date":unref(d),"max-date":unref(h),"range-state":unref(p),"disabled-date":unref(a),onChangerange:unref(_),onPick:M,onSelect:unref(y)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var MonthRangePickPanel=_export_sfc(_sfc_main$2t,[["__file","panel-month-range.vue"]]);const getPanel=function(e){switch(e){case"daterange":case"datetimerange":return DateRangePickPanel;case"monthrange":return MonthRangePickPanel;default:return DatePickPanel}};dayjs.extend(localeData),dayjs.extend(advancedFormat),dayjs.extend(customParseFormat),dayjs.extend(weekOfYear),dayjs.extend(weekYear),dayjs.extend(dayOfYear),dayjs.extend(isSameOrAfter),dayjs.extend(isSameOrBefore);var DatePicker=defineComponent({name:"ElDatePicker",install:null,props:datePickerProps,emits:["update:modelValue"],setup(e,{expose:t,emit:n,slots:r}){const o=useNamespace("picker-panel");provide("ElPopperOptions",reactive(toRef$1(e,"popperOptions"))),provide(ROOT_PICKER_INJECTION_KEY,{slots:r,pickerNs:o});const i=ref();t({focus:(e=!0)=>{var t;null==(t=i.value)||t.focus(e)},handleOpen:()=>{var e;null==(e=i.value)||e.handleOpen()},handleClose:()=>{var e;null==(e=i.value)||e.handleClose()}});const a=e=>{n("update:modelValue",e)};return()=>{var t;const n=null!=(t=e.format)?t:DEFAULT_FORMATS_DATEPICKER[e.type]||DEFAULT_FORMATS_DATE,o=getPanel(e.type);return createVNode(CommonPicker,mergeProps(e,{format:n,type:e.type,ref:i,"onUpdate:modelValue":a}),{default:e=>createVNode(o,e,null),"range-separator":r["range-separator"]})}}});const _DatePicker=DatePicker;_DatePicker.install=e=>{e.component(_DatePicker.name,_DatePicker)};const ElDatePicker=_DatePicker,descriptionsKey=Symbol("elDescriptions");var ElDescriptionsCell=defineComponent({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup:()=>({descriptions:inject(descriptionsKey,{})}),render(){var e,t,n,r,o,i,a;const s=getNormalizedProps(this.cell),l=((null==(e=this.cell)?void 0:e.dirs)||[]).map((e=>{const{dir:t,arg:n,modifiers:r,value:o}=e;return[t,o,n,r]})),{border:u,direction:c}=this.descriptions,d="vertical"===c,h=(null==(r=null==(n=null==(t=this.cell)?void 0:t.children)?void 0:n.label)?void 0:r.call(n))||s.label,p=null==(a=null==(i=null==(o=this.cell)?void 0:o.children)?void 0:i.default)?void 0:a.call(i),f=s.span,m=s.align?`is-${s.align}`:"",_=s.labelAlign?`is-${s.labelAlign}`:m,g=s.className,v=s.labelClassName,y={width:addUnit(s.width),minWidth:addUnit(s.minWidth)},b=useNamespace("descriptions");switch(this.type){case"label":return withDirectives(h$1(this.tag,{style:y,class:[b.e("cell"),b.e("label"),b.is("bordered-label",u),b.is("vertical-label",d),_,v],colSpan:d?f:1},h),l);case"content":return withDirectives(h$1(this.tag,{style:y,class:[b.e("cell"),b.e("content"),b.is("bordered-content",u),b.is("vertical-content",d),m,g],colSpan:d?f:2*f-1},p),l);default:return withDirectives(h$1("td",{style:y,class:[b.e("cell"),m],colSpan:f},[isNil(h)?void 0:h$1("span",{class:[b.e("label"),v]},h),h$1("span",{class:[b.e("content"),g]},p)]),l)}}});const descriptionsRowProps=buildProps({row:{type:definePropType(Array),default:()=>[]}}),_hoisted_1$1B={key:1},__default__$R=defineComponent({name:"ElDescriptionsRow"}),_sfc_main$2s=defineComponent({...__default__$R,props:descriptionsRowProps,setup(e){const t=inject(descriptionsKey,{});return(e,n)=>"vertical"===unref(t).direction?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("tr",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.row,((e,t)=>(openBlock(),createBlock(unref(ElDescriptionsCell),{key:`tr1-${t}`,cell:e,tag:"th",type:"label"},null,8,["cell"])))),128))]),createBaseVNode("tr",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.row,((e,t)=>(openBlock(),createBlock(unref(ElDescriptionsCell),{key:`tr2-${t}`,cell:e,tag:"td",type:"content"},null,8,["cell"])))),128))])],64)):(openBlock(),createElementBlock("tr",_hoisted_1$1B,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.row,((e,n)=>(openBlock(),createElementBlock(Fragment,{key:`tr3-${n}`},[unref(t).border?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(unref(ElDescriptionsCell),{cell:e,tag:"td",type:"label"},null,8,["cell"]),createVNode(unref(ElDescriptionsCell),{cell:e,tag:"td",type:"content"},null,8,["cell"])],64)):(openBlock(),createBlock(unref(ElDescriptionsCell),{key:1,cell:e,tag:"td",type:"both"},null,8,["cell"]))],64)))),128))]))}});var ElDescriptionsRow=_export_sfc(_sfc_main$2s,[["__file","descriptions-row.vue"]]);const descriptionProps=buildProps({border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:useSizeProp,title:{type:String,default:""},extra:{type:String,default:""}}),__default__$Q=defineComponent({name:"ElDescriptions"}),_sfc_main$2r=defineComponent({...__default__$Q,props:descriptionProps,setup(e){const t=e,n=useNamespace("descriptions"),r=useFormSize(),o=useSlots();provide(descriptionsKey,t);const i=computed((()=>[n.b(),n.m(r.value)])),a=(e,t,n,r=!1)=>(e.props||(e.props={}),t>n&&(e.props.span=n),r&&(e.props.span=t),e),s=()=>{if(!o.default)return[];const e=flattedChildren(o.default()).filter((e=>{var t;return"ElDescriptionsItem"===(null==(t=null==e?void 0:e.type)?void 0:t.name)})),n=[];let r=[],i=t.column,s=0;return e.forEach(((o,l)=>{var u;const c=(null==(u=o.props)?void 0:u.span)||1;if(l<e.length-1&&(s+=c>i?i:c),l===e.length-1){const e=t.column-s%t.column;return r.push(a(o,e,i,!0)),void n.push(r)}c<i?(i-=c,r.push(o)):(r.push(a(o,c,i)),n.push(r),i=t.column,r=[])})),n};return(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(i))},[e.title||e.extra||e.$slots.title||e.$slots.extra?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(n).e("header"))},[createBaseVNode("div",{class:normalizeClass(unref(n).e("title"))},[renderSlot(e.$slots,"title",{},(()=>[createTextVNode(toDisplayString(e.title),1)]))],2),createBaseVNode("div",{class:normalizeClass(unref(n).e("extra"))},[renderSlot(e.$slots,"extra",{},(()=>[createTextVNode(toDisplayString(e.extra),1)]))],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(n).e("body"))},[createBaseVNode("table",{class:normalizeClass([unref(n).e("table"),unref(n).is("bordered",e.border)])},[createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s(),((e,t)=>(openBlock(),createBlock(ElDescriptionsRow,{key:t,row:e},null,8,["row"])))),128))])],2)],2)],2))}});var Descriptions=_export_sfc(_sfc_main$2r,[["__file","description.vue"]]);const descriptionItemProps=buildProps({label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),DescriptionItem=defineComponent({name:"ElDescriptionsItem",props:descriptionItemProps}),ElDescriptions=withInstall(Descriptions,{DescriptionsItem:DescriptionItem}),ElDescriptionsItem=withNoopInstall(DescriptionItem),overlayProps=buildProps({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:definePropType([String,Array,Object])},zIndex:{type:definePropType([String,Number])}}),overlayEmits={click:e=>e instanceof MouseEvent},BLOCK="overlay";var Overlay$1=defineComponent({name:"ElOverlay",props:overlayProps,emits:overlayEmits,setup(e,{slots:t,emit:n}){const r=useNamespace(BLOCK),{onClick:o,onMousedown:i,onMouseup:a}=useSameTarget(e.customMaskEvent?void 0:e=>{n("click",e)});return()=>e.mask?createVNode("div",{class:[r.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:o,onMousedown:i,onMouseup:a},[renderSlot(t,"default")],PatchFlags.STYLE|PatchFlags.CLASS|PatchFlags.PROPS,["onClick","onMouseup","onMousedown"]):h$1("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[renderSlot(t,"default")])}});const ElOverlay=Overlay$1,dialogInjectionKey=Symbol("dialogInjectionKey"),dialogContentProps=buildProps({center:Boolean,alignCenter:Boolean,closeIcon:{type:iconPropType},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),dialogContentEmits={close:()=>!0},_hoisted_1$1A=["aria-level"],_hoisted_2$10=["aria-label"],_hoisted_3$G=["id"],__default__$P=defineComponent({name:"ElDialogContent"}),_sfc_main$2q=defineComponent({...__default__$P,props:dialogContentProps,emits:dialogContentEmits,setup(e){const t=e,{t:n}=useLocale(),{Close:r}=CloseComponents,{dialogRef:o,headerRef:i,bodyId:a,ns:s,style:l}=inject(dialogInjectionKey),{focusTrapRef:u}=inject(FOCUS_TRAP_INJECTION_KEY),c=computed((()=>[s.b(),s.is("fullscreen",t.fullscreen),s.is("draggable",t.draggable),s.is("align-center",t.alignCenter),{[s.m("center")]:t.center},t.customClass])),d=composeRefs(u,o),h=computed((()=>t.draggable));return useDraggable(o,i,h),(e,t)=>(openBlock(),createElementBlock("div",{ref:unref(d),class:normalizeClass(unref(c)),style:normalizeStyle(unref(l)),tabindex:"-1"},[createBaseVNode("header",{ref_key:"headerRef",ref:i,class:normalizeClass(unref(s).e("header"))},[renderSlot(e.$slots,"header",{},(()=>[createBaseVNode("span",{role:"heading","aria-level":e.ariaLevel,class:normalizeClass(unref(s).e("title"))},toDisplayString(e.title),11,_hoisted_1$1A)])),e.showClose?(openBlock(),createElementBlock("button",{key:0,"aria-label":unref(n)("el.dialog.close"),class:normalizeClass(unref(s).e("headerbtn")),type:"button",onClick:t[0]||(t[0]=t=>e.$emit("close"))},[createVNode(unref(ElIcon),{class:normalizeClass(unref(s).e("close"))},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.closeIcon||unref(r))))])),_:1},8,["class"])],10,_hoisted_2$10)):createCommentVNode("v-if",!0)],2),createBaseVNode("div",{id:unref(a),class:normalizeClass(unref(s).e("body"))},[renderSlot(e.$slots,"default")],10,_hoisted_3$G),e.$slots.footer?(openBlock(),createElementBlock("footer",{key:0,class:normalizeClass(unref(s).e("footer"))},[renderSlot(e.$slots,"footer")],2)):createCommentVNode("v-if",!0)],6))}});var ElDialogContent=_export_sfc(_sfc_main$2q,[["__file","dialog-content.vue"]]);const dialogProps=buildProps({...dialogContentProps,appendToBody:Boolean,appendTo:{type:definePropType(String),default:"body"},beforeClose:{type:definePropType(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),dialogEmits={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[UPDATE_MODEL_EVENT]:e=>isBoolean(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},useDialog=(e,t)=>{var n;const r=getCurrentInstance().emit,{nextZIndex:o}=useZIndex();let i="";const a=useId(),s=useId(),l=ref(!1),u=ref(!1),c=ref(!1),d=ref(null!=(n=e.zIndex)?n:o());let h,p;const f=useGlobalConfig("namespace",defaultNamespace),m=computed((()=>{const t={},n=`--${f.value}-dialog`;return e.fullscreen||(e.top&&(t[`${n}-margin-top`]=e.top),e.width&&(t[`${n}-width`]=addUnit(e.width))),t})),_=computed((()=>e.alignCenter?{display:"flex"}:{}));function g(){null==p||p(),null==h||h(),e.openDelay&&e.openDelay>0?({stop:h}=useTimeoutFn((()=>b()),e.openDelay)):b()}function v(){null==h||h(),null==p||p(),e.closeDelay&&e.closeDelay>0?({stop:p}=useTimeoutFn((()=>E()),e.closeDelay)):E()}function y(){e.beforeClose?e.beforeClose((function(e){e||(u.value=!0,l.value=!1)})):v()}function b(){isClient$1&&(l.value=!0)}function E(){l.value=!1}return e.lockScroll&&useLockscreen(l),watch((()=>e.modelValue),(n=>{n?(u.value=!1,g(),c.value=!0,d.value=isUndefined$1(e.zIndex)?o():d.value++,nextTick((()=>{r("open"),t.value&&(t.value.scrollTop=0)}))):l.value&&v()})),watch((()=>e.fullscreen),(e=>{t.value&&(e?(i=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=i)})),onMounted((()=>{e.modelValue&&(l.value=!0,c.value=!0,g())})),{afterEnter:function(){r("opened")},afterLeave:function(){r("closed"),r(UPDATE_MODEL_EVENT,!1),e.destroyOnClose&&(c.value=!1)},beforeLeave:function(){r("close")},handleClose:y,onModalClick:function(){e.closeOnClickModal&&y()},close:v,doClose:E,onOpenAutoFocus:function(){r("openAutoFocus")},onCloseAutoFocus:function(){r("closeAutoFocus")},onCloseRequested:function(){e.closeOnPressEscape&&y()},onFocusoutPrevented:function(e){var t;"pointer"===(null==(t=e.detail)?void 0:t.focusReason)&&e.preventDefault()},titleId:a,bodyId:s,closed:u,style:m,overlayDialogStyle:_,rendered:c,visible:l,zIndex:d}},_hoisted_1$1z=["aria-label","aria-labelledby","aria-describedby"],__default__$O=defineComponent({name:"ElDialog",inheritAttrs:!1}),_sfc_main$2p=defineComponent({...__default__$O,props:dialogProps,emits:dialogEmits,setup(e,{expose:t}){const n=e,r=useSlots();useDeprecated({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},computed((()=>!!r.title))),useDeprecated({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},computed((()=>!!n.customClass)));const o=useNamespace("dialog"),i=ref(),a=ref(),s=ref(),{visible:l,titleId:u,bodyId:c,style:d,overlayDialogStyle:h,rendered:p,zIndex:f,afterEnter:m,afterLeave:_,beforeLeave:g,handleClose:v,onModalClick:y,onOpenAutoFocus:b,onCloseAutoFocus:E,onCloseRequested:C,onFocusoutPrevented:x}=useDialog(n,i);provide(dialogInjectionKey,{dialogRef:i,headerRef:a,bodyId:c,ns:o,rendered:p,style:d});const w=useSameTarget(y),S=computed((()=>n.draggable&&!n.fullscreen));return t({visible:l,dialogContentRef:s}),(e,t)=>(openBlock(),createBlock(Teleport,{to:e.appendTo,disabled:"body"===e.appendTo&&!e.appendToBody},[createVNode(Transition,{name:"dialog-fade",onAfterEnter:unref(m),onAfterLeave:unref(_),onBeforeLeave:unref(g),persisted:""},{default:withCtx((()=>[withDirectives(createVNode(unref(ElOverlay),{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":unref(f)},{default:withCtx((()=>[createBaseVNode("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:unref(u),"aria-describedby":unref(c),class:normalizeClass(`${unref(o).namespace.value}-overlay-dialog`),style:normalizeStyle(unref(h)),onClick:t[0]||(t[0]=(...e)=>unref(w).onClick&&unref(w).onClick(...e)),onMousedown:t[1]||(t[1]=(...e)=>unref(w).onMousedown&&unref(w).onMousedown(...e)),onMouseup:t[2]||(t[2]=(...e)=>unref(w).onMouseup&&unref(w).onMouseup(...e))},[createVNode(unref(ElFocusTrap),{loop:"",trapped:unref(l),"focus-start-el":"container",onFocusAfterTrapped:unref(b),onFocusAfterReleased:unref(E),onFocusoutPrevented:unref(x),onReleaseRequested:unref(C)},{default:withCtx((()=>[unref(p)?(openBlock(),createBlock(ElDialogContent,mergeProps({key:0,ref_key:"dialogContentRef",ref:s},e.$attrs,{"custom-class":e.customClass,center:e.center,"align-center":e.alignCenter,"close-icon":e.closeIcon,draggable:unref(S),fullscreen:e.fullscreen,"show-close":e.showClose,title:e.title,"aria-level":e.headerAriaLevel,onClose:unref(v)}),createSlots({header:withCtx((()=>[e.$slots.title?renderSlot(e.$slots,"title",{key:1}):renderSlot(e.$slots,"header",{key:0,close:unref(v),titleId:unref(u),titleClass:unref(o).e("title")})])),default:withCtx((()=>[renderSlot(e.$slots,"default")])),_:2},[e.$slots.footer?{name:"footer",fn:withCtx((()=>[renderSlot(e.$slots,"footer")]))}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):createCommentVNode("v-if",!0)])),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,_hoisted_1$1z)])),_:3},8,["mask","overlay-class","z-index"]),[[vShow,unref(l)]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var Dialog=_export_sfc(_sfc_main$2p,[["__file","dialog.vue"]]);const ElDialog=withInstall(Dialog),dividerProps=buildProps({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:definePropType(String),default:"solid"}}),__default__$N=defineComponent({name:"ElDivider"}),_sfc_main$2o=defineComponent({...__default__$N,props:dividerProps,setup(e){const t=e,n=useNamespace("divider"),r=computed((()=>n.cssVar({"border-style":t.borderStyle})));return(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(n).b(),unref(n).m(e.direction)]),style:normalizeStyle(unref(r)),role:"separator"},[e.$slots.default&&"vertical"!==e.direction?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(n).e("text"),unref(n).is(e.contentPosition)])},[renderSlot(e.$slots,"default")],2)):createCommentVNode("v-if",!0)],6))}});var Divider=_export_sfc(_sfc_main$2o,[["__file","divider.vue"]]);const ElDivider=withInstall(Divider),drawerProps=buildProps({...dialogProps,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),drawerEmits=dialogEmits,_sfc_main$2n=defineComponent({name:"ElDrawer",components:{ElOverlay:ElOverlay,ElFocusTrap:ElFocusTrap,ElIcon:ElIcon,Close:close_default},inheritAttrs:!1,props:drawerProps,emits:drawerEmits,setup(e,{slots:t}){useDeprecated({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},computed((()=>!!t.title))),useDeprecated({scope:"el-drawer",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/drawer.html#attributes",type:"Attribute"},computed((()=>!!e.customClass)));const n=ref(),r=ref(),o=useNamespace("drawer"),{t:i}=useLocale(),a=computed((()=>"rtl"===e.direction||"ltr"===e.direction)),s=computed((()=>addUnit(e.size)));return{...useDialog(e,n),drawerRef:n,focusStartRef:r,isHorizontal:a,drawerSize:s,ns:o,t:i}}}),_hoisted_1$1y=["aria-label","aria-labelledby","aria-describedby"],_hoisted_2$$=["id","aria-level"],_hoisted_3$F=["aria-label"],_hoisted_4$o=["id"];function _sfc_render$A(e,t,n,r,o,i){const a=resolveComponent("close"),s=resolveComponent("el-icon"),l=resolveComponent("el-focus-trap"),u=resolveComponent("el-overlay");return openBlock(),createBlock(Teleport,{to:"body",disabled:!e.appendToBody},[createVNode(Transition,{name:e.ns.b("fade"),onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave,onBeforeLeave:e.beforeLeave,persisted:""},{default:withCtx((()=>[withDirectives(createVNode(u,{mask:e.modal,"overlay-class":e.modalClass,"z-index":e.zIndex,onClick:e.onModalClick},{default:withCtx((()=>[createVNode(l,{loop:"",trapped:e.visible,"focus-trap-el":e.drawerRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:withCtx((()=>[createBaseVNode("div",mergeProps({ref:"drawerRef","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:e.titleId,"aria-describedby":e.bodyId},e.$attrs,{class:[e.ns.b(),e.direction,e.visible&&"open",e.customClass],style:e.isHorizontal?"width: "+e.drawerSize:"height: "+e.drawerSize,role:"dialog",onClick:t[1]||(t[1]=withModifiers((()=>{}),["stop"]))}),[createBaseVNode("span",{ref:"focusStartRef",class:normalizeClass(e.ns.e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?(openBlock(),createElementBlock("header",{key:0,class:normalizeClass(e.ns.e("header"))},[e.$slots.title?renderSlot(e.$slots,"title",{key:1},(()=>[createCommentVNode(" DEPRECATED SLOT ")])):renderSlot(e.$slots,"header",{key:0,close:e.handleClose,titleId:e.titleId,titleClass:e.ns.e("title")},(()=>[e.$slots.title?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",{key:0,id:e.titleId,role:"heading","aria-level":e.headerAriaLevel,class:normalizeClass(e.ns.e("title"))},toDisplayString(e.title),11,_hoisted_2$$))])),e.showClose?(openBlock(),createElementBlock("button",{key:2,"aria-label":e.t("el.drawer.close"),class:normalizeClass(e.ns.e("close-btn")),type:"button",onClick:t[0]||(t[0]=(...t)=>e.handleClose&&e.handleClose(...t))},[createVNode(s,{class:normalizeClass(e.ns.e("close"))},{default:withCtx((()=>[createVNode(a)])),_:1},8,["class"])],10,_hoisted_3$F)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),e.rendered?(openBlock(),createElementBlock("div",{key:1,id:e.bodyId,class:normalizeClass(e.ns.e("body"))},[renderSlot(e.$slots,"default")],10,_hoisted_4$o)):createCommentVNode("v-if",!0),e.$slots.footer?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(e.ns.e("footer"))},[renderSlot(e.$slots,"footer")],2)):createCommentVNode("v-if",!0)],16,_hoisted_1$1y)])),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])])),_:3},8,["mask","overlay-class","z-index","onClick"]),[[vShow,e.visible]])])),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var Drawer=_export_sfc(_sfc_main$2n,[["render",_sfc_render$A],["__file","drawer.vue"]]);const ElDrawer=withInstall(Drawer),_sfc_main$2m=defineComponent({inheritAttrs:!1});function _sfc_render$z(e,t,n,r,o,i){return renderSlot(e.$slots,"default")}var Collection=_export_sfc(_sfc_main$2m,[["render",_sfc_render$z],["__file","collection.vue"]]);const _sfc_main$2l=defineComponent({name:"ElCollectionItem",inheritAttrs:!1});function _sfc_render$y(e,t,n,r,o,i){return renderSlot(e.$slots,"default")}var CollectionItem=_export_sfc(_sfc_main$2l,[["render",_sfc_render$y],["__file","collection-item.vue"]]);const COLLECTION_ITEM_SIGN="data-el-collection-item",createCollectionWithScope=e=>{const t=`El${e}Collection`,n=`${t}Item`,r=Symbol(t),o=Symbol(n),i={...Collection,name:t,setup(){const e=ref(null),t=new Map;provide(r,{itemMap:t,getItems:()=>{const n=unref(e);if(!n)return[];const r=Array.from(n.querySelectorAll(`[${COLLECTION_ITEM_SIGN}]`));return[...t.values()].sort(((e,t)=>r.indexOf(e.ref)-r.indexOf(t.ref)))},collectionRef:e})}},a={...CollectionItem,name:n,setup(e,{attrs:t}){const n=ref(null),i=inject(r,void 0);provide(o,{collectionItemRef:n}),onMounted((()=>{const e=unref(n);e&&i.itemMap.set(e,{ref:e,...t})})),onBeforeUnmount((()=>{const e=unref(n);i.itemMap.delete(e)}))}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:o,ElCollection:i,ElCollectionItem:a}},rovingFocusGroupProps=buildProps({style:{type:definePropType([String,Array,Object])},currentTabId:{type:definePropType(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:definePropType(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:ElCollection$1,ElCollectionItem:ElCollectionItem$1,COLLECTION_INJECTION_KEY:COLLECTION_INJECTION_KEY$1,COLLECTION_ITEM_INJECTION_KEY:COLLECTION_ITEM_INJECTION_KEY$1}=createCollectionWithScope("RovingFocusGroup"),ROVING_FOCUS_GROUP_INJECTION_KEY=Symbol("elRovingFocusGroup"),ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY=Symbol("elRovingFocusGroupItem"),MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},getDirectionAwareKey=(e,t)=>{if("rtl"!==t)return e;switch(e){case EVENT_CODE.right:return EVENT_CODE.left;case EVENT_CODE.left:return EVENT_CODE.right;default:return e}},getFocusIntent=(e,t,n)=>{const r=getDirectionAwareKey(e.key,n);if(!("vertical"===t&&[EVENT_CODE.left,EVENT_CODE.right].includes(r)||"horizontal"===t&&[EVENT_CODE.up,EVENT_CODE.down].includes(r)))return MAP_KEY_TO_FOCUS_INTENT[r]},reorderArray=(e,t)=>e.map(((n,r)=>e[(r+t)%e.length])),focusFirst=e=>{const{activeElement:t}=document;for(const n of e){if(n===t)return;if(n.focus(),t!==document.activeElement)return}},CURRENT_TAB_ID_CHANGE_EVT="currentTabIdChange",ENTRY_FOCUS_EVT="rovingFocusGroup.entryFocus",EVT_OPTS={bubbles:!1,cancelable:!0},_sfc_main$2k=defineComponent({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:rovingFocusGroupProps,emits:[CURRENT_TAB_ID_CHANGE_EVT,"entryFocus"],setup(e,{emit:t}){var n;const r=ref(null!=(n=e.currentTabId||e.defaultCurrentTabId)?n:null),o=ref(!1),i=ref(!1),a=ref(null),{getItems:s}=inject(COLLECTION_INJECTION_KEY$1,void 0),l=computed((()=>[{outline:"none"},e.style])),u=composeEventHandlers((t=>{var n;null==(n=e.onMousedown)||n.call(e,t)}),(()=>{i.value=!0})),c=composeEventHandlers((t=>{var n;null==(n=e.onFocus)||n.call(e,t)}),(e=>{const t=!unref(i),{target:n,currentTarget:a}=e;if(n===a&&t&&!unref(o)){const e=new Event(ENTRY_FOCUS_EVT,EVT_OPTS);if(null==a||a.dispatchEvent(e),!e.defaultPrevented){const e=s().filter((e=>e.focusable)),t=[e.find((e=>e.active)),e.find((e=>e.id===unref(r))),...e].filter(Boolean).map((e=>e.ref));focusFirst(t)}}i.value=!1})),d=composeEventHandlers((t=>{var n;null==(n=e.onBlur)||n.call(e,t)}),(()=>{o.value=!1}));provide(ROVING_FOCUS_GROUP_INJECTION_KEY,{currentTabbedId:readonly(r),loop:toRef$1(e,"loop"),tabIndex:computed((()=>unref(o)?-1:0)),rovingFocusGroupRef:a,rovingFocusGroupRootStyle:l,orientation:toRef$1(e,"orientation"),dir:toRef$1(e,"dir"),onItemFocus:e=>{t(CURRENT_TAB_ID_CHANGE_EVT,e)},onItemShiftTab:()=>{o.value=!0},onBlur:d,onFocus:c,onMousedown:u}),watch((()=>e.currentTabId),(e=>{r.value=null!=e?e:null})),useEventListener$1(a,ENTRY_FOCUS_EVT,((...e)=>{t("entryFocus",...e)}))}});function _sfc_render$x(e,t,n,r,o,i){return renderSlot(e.$slots,"default")}var ElRovingFocusGroupImpl=_export_sfc(_sfc_main$2k,[["render",_sfc_render$x],["__file","roving-focus-group-impl.vue"]]);const _sfc_main$2j=defineComponent({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:ElCollection$1,ElRovingFocusGroupImpl:ElRovingFocusGroupImpl}});function _sfc_render$w(e,t,n,r,o,i){const a=resolveComponent("el-roving-focus-group-impl"),s=resolveComponent("el-focus-group-collection");return openBlock(),createBlock(s,null,{default:withCtx((()=>[createVNode(a,normalizeProps(guardReactiveProps(e.$attrs)),{default:withCtx((()=>[renderSlot(e.$slots,"default")])),_:3},16)])),_:3})}var ElRovingFocusGroup=_export_sfc(_sfc_main$2j,[["render",_sfc_render$w],["__file","roving-focus-group.vue"]]);const _sfc_main$2i=defineComponent({components:{ElRovingFocusCollectionItem:ElCollectionItem$1},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:n,loop:r,onItemFocus:o,onItemShiftTab:i}=inject(ROVING_FOCUS_GROUP_INJECTION_KEY,void 0),{getItems:a}=inject(COLLECTION_INJECTION_KEY$1,void 0),s=useId(),l=ref(null),u=composeEventHandlers((e=>{t("mousedown",e)}),(t=>{e.focusable?o(unref(s)):t.preventDefault()})),c=composeEventHandlers((e=>{t("focus",e)}),(()=>{o(unref(s))})),d=composeEventHandlers((e=>{t("keydown",e)}),(e=>{const{key:t,shiftKey:n,target:o,currentTarget:s}=e;if(t===EVENT_CODE.tab&&n)return void i();if(o!==s)return;const l=getFocusIntent(e);if(l){e.preventDefault();let t=a().filter((e=>e.focusable)).map((e=>e.ref));switch(l){case"last":t.reverse();break;case"prev":case"next":{"prev"===l&&t.reverse();const e=t.indexOf(s);t=r.value?reorderArray(t,e+1):t.slice(e+1);break}}nextTick((()=>{focusFirst(t)}))}})),h=computed((()=>n.value===unref(s)));return provide(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY,{rovingFocusGroupItemRef:l,tabIndex:computed((()=>unref(h)?0:-1)),handleMousedown:u,handleFocus:c,handleKeydown:d}),{id:s,handleKeydown:d,handleFocus:c,handleMousedown:u}}});function _sfc_render$v(e,t,n,r,o,i){const a=resolveComponent("el-roving-focus-collection-item");return openBlock(),createBlock(a,{id:e.id,focusable:e.focusable,active:e.active},{default:withCtx((()=>[renderSlot(e.$slots,"default")])),_:3},8,["id","focusable","active"])}var ElRovingFocusItem=_export_sfc(_sfc_main$2i,[["render",_sfc_render$v],["__file","roving-focus-item.vue"]]);const dropdownProps=buildProps({trigger:useTooltipTriggerProps.trigger,effect:{...useTooltipContentProps.effect,default:"light"},type:{type:definePropType(String)},placement:{type:definePropType(String),default:"bottom"},popperOptions:{type:definePropType(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:definePropType([Number,String]),default:0},maxHeight:{type:definePropType([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:definePropType(Object)},teleported:useTooltipContentProps.teleported}),dropdownItemProps=buildProps({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:iconPropType}}),dropdownMenuProps=buildProps({onKeydown:{type:definePropType(Function)}}),FIRST_KEYS=[EVENT_CODE.down,EVENT_CODE.pageDown,EVENT_CODE.home],LAST_KEYS=[EVENT_CODE.up,EVENT_CODE.pageUp,EVENT_CODE.end],FIRST_LAST_KEYS=[...FIRST_KEYS,...LAST_KEYS],{ElCollection:ElCollection,ElCollectionItem:ElCollectionItem,COLLECTION_INJECTION_KEY:COLLECTION_INJECTION_KEY,COLLECTION_ITEM_INJECTION_KEY:COLLECTION_ITEM_INJECTION_KEY}=createCollectionWithScope("Dropdown"),DROPDOWN_INJECTION_KEY=Symbol("elDropdown"),{ButtonGroup:ElButtonGroup}=ElButton,_sfc_main$2h=defineComponent({name:"ElDropdown",components:{ElButton:ElButton,ElButtonGroup:ElButtonGroup,ElScrollbar:ElScrollbar,ElDropdownCollection:ElCollection,ElTooltip:ElTooltip,ElRovingFocusGroup:ElRovingFocusGroup,ElOnlyChild:OnlyChild,ElIcon:ElIcon,ArrowDown:arrow_down_default},props:dropdownProps,emits:["visible-change","click","command"],setup(e,{emit:t}){const n=getCurrentInstance(),r=useNamespace("dropdown"),{t:o}=useLocale(),i=ref(),a=ref(),s=ref(null),l=ref(null),u=ref(null),c=ref(null),d=ref(!1),h=[EVENT_CODE.enter,EVENT_CODE.space,EVENT_CODE.down],p=computed((()=>({maxHeight:addUnit(e.maxHeight)}))),f=computed((()=>[r.m(y.value)])),m=computed((()=>castArray$1(e.trigger))),_=useId().value,g=computed((()=>e.id||_));function v(){var e;null==(e=s.value)||e.onClose()}watch([i,m],(([e,t],[n])=>{var r,o,i;(null==(r=null==n?void 0:n.$el)?void 0:r.removeEventListener)&&n.$el.removeEventListener("pointerenter",b),(null==(o=null==e?void 0:e.$el)?void 0:o.removeEventListener)&&e.$el.removeEventListener("pointerenter",b),(null==(i=null==e?void 0:e.$el)?void 0:i.addEventListener)&&t.includes("hover")&&e.$el.addEventListener("pointerenter",b)}),{immediate:!0}),onBeforeUnmount((()=>{var e,t;(null==(t=null==(e=i.value)?void 0:e.$el)?void 0:t.removeEventListener)&&i.value.$el.removeEventListener("pointerenter",b)}));const y=useFormSize();function b(){var e,t;null==(t=null==(e=i.value)?void 0:e.$el)||t.focus()}provide(DROPDOWN_INJECTION_KEY,{contentRef:l,role:computed((()=>e.role)),triggerId:g,isUsingKeyboard:d,onItemEnter:function(){},onItemLeave:function(){const e=unref(l);m.value.includes("hover")&&(null==e||e.focus()),c.value=null}}),provide("elDropdown",{instance:n,dropdownSize:y,handleClick:function(){v()},commandHandler:function(...e){t("command",...e)},trigger:toRef$1(e,"trigger"),hideOnClick:toRef$1(e,"hideOnClick")});return{t:o,ns:r,scrollbar:u,wrapStyle:p,dropdownTriggerKls:f,dropdownSize:y,triggerId:g,triggerKeys:h,currentTabId:c,handleCurrentTabIdChange:function(e){c.value=e},handlerMainButtonClick:e=>{t("click",e)},handleEntryFocus:function(e){d.value||(e.preventDefault(),e.stopImmediatePropagation())},handleClose:v,handleOpen:function(){var e;null==(e=s.value)||e.onOpen()},handleBeforeShowTooltip:function(){t("visible-change",!0)},handleShowTooltip:function(e){"keydown"===(null==e?void 0:e.type)&&l.value.focus()},handleBeforeHideTooltip:function(){t("visible-change",!1)},onFocusAfterTrapped:e=>{var t,n;e.preventDefault(),null==(n=null==(t=l.value)?void 0:t.focus)||n.call(t,{preventScroll:!0})},popperRef:s,contentRef:l,triggeringElementRef:i,referenceElementRef:a}}});function _sfc_render$u(e,t,n,r,o,i){var a;const s=resolveComponent("el-dropdown-collection"),l=resolveComponent("el-roving-focus-group"),u=resolveComponent("el-scrollbar"),c=resolveComponent("el-only-child"),d=resolveComponent("el-tooltip"),h=resolveComponent("el-button"),p=resolveComponent("arrow-down"),f=resolveComponent("el-icon"),m=resolveComponent("el-button-group");return openBlock(),createElementBlock("div",{class:normalizeClass([e.ns.b(),e.ns.is("disabled",e.disabled)])},[createVNode(d,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":"hover"===e.trigger?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":null==(a=e.referenceElementRef)?void 0:a.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":"hover"===e.trigger?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},createSlots({content:withCtx((()=>[createVNode(u,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:withCtx((()=>[createVNode(l,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:withCtx((()=>[createVNode(s,null,{default:withCtx((()=>[renderSlot(e.$slots,"dropdown")])),_:3})])),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])])),_:3},8,["wrap-style","view-class"])])),_:2},[e.splitButton?void 0:{name:"default",fn:withCtx((()=>[createVNode(c,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:withCtx((()=>[renderSlot(e.$slots,"default")])),_:3},8,["id","tabindex"])]))}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(openBlock(),createBlock(m,{key:0},{default:withCtx((()=>[createVNode(h,mergeProps({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:withCtx((()=>[renderSlot(e.$slots,"default")])),_:3},16,["size","type","disabled","tabindex","onClick"]),createVNode(h,mergeProps({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:withCtx((()=>[createVNode(f,{class:normalizeClass(e.ns.e("icon"))},{default:withCtx((()=>[createVNode(p)])),_:1},8,["class"])])),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])])),_:3})):createCommentVNode("v-if",!0)],2)}var Dropdown=_export_sfc(_sfc_main$2h,[["render",_sfc_render$u],["__file","dropdown.vue"]]);const _sfc_main$2g=defineComponent({name:"DropdownItemImpl",components:{ElIcon:ElIcon},props:dropdownItemProps,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const n=useNamespace("dropdown"),{role:r}=inject(DROPDOWN_INJECTION_KEY,void 0),{collectionItemRef:o}=inject(COLLECTION_ITEM_INJECTION_KEY,void 0),{collectionItemRef:i}=inject(COLLECTION_ITEM_INJECTION_KEY$1,void 0),{rovingFocusGroupItemRef:a,tabIndex:s,handleFocus:l,handleKeydown:u,handleMousedown:c}=inject(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY,void 0),d=composeRefs(o,i,a),h=computed((()=>"menu"===r.value?"menuitem":"navigation"===r.value?"link":"button")),p=composeEventHandlers((e=>{const{code:n}=e;if(n===EVENT_CODE.enter||n===EVENT_CODE.space)return e.preventDefault(),e.stopImmediatePropagation(),t("clickimpl",e),!0}),u);return{ns:n,itemRef:d,dataset:{[COLLECTION_ITEM_SIGN]:""},role:h,tabIndex:s,handleFocus:l,handleKeydown:p,handleMousedown:c}}}),_hoisted_1$1x=["aria-disabled","tabindex","role"];function _sfc_render$t(e,t,n,r,o,i){const a=resolveComponent("el-icon");return openBlock(),createElementBlock(Fragment,null,[e.divided?(openBlock(),createElementBlock("li",mergeProps({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):createCommentVNode("v-if",!0),createBaseVNode("li",mergeProps({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:t[0]||(t[0]=t=>e.$emit("clickimpl",t)),onFocus:t[1]||(t[1]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onKeydown:t[2]||(t[2]=withModifiers(((...t)=>e.handleKeydown&&e.handleKeydown(...t)),["self"])),onMousedown:t[3]||(t[3]=(...t)=>e.handleMousedown&&e.handleMousedown(...t)),onPointermove:t[4]||(t[4]=t=>e.$emit("pointermove",t)),onPointerleave:t[5]||(t[5]=t=>e.$emit("pointerleave",t))}),[e.icon?(openBlock(),createBlock(a,{key:0},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.icon)))])),_:1})):createCommentVNode("v-if",!0),renderSlot(e.$slots,"default")],16,_hoisted_1$1x)],64)}var ElDropdownItemImpl=_export_sfc(_sfc_main$2g,[["render",_sfc_render$t],["__file","dropdown-item-impl.vue"]]);const useDropdown=()=>{const e=inject("elDropdown",{}),t=computed((()=>null==e?void 0:e.dropdownSize));return{elDropdown:e,_elDropdownSize:t}},_sfc_main$2f=defineComponent({name:"ElDropdownItem",components:{ElDropdownCollectionItem:ElCollectionItem,ElRovingFocusItem:ElRovingFocusItem,ElDropdownItemImpl:ElDropdownItemImpl},inheritAttrs:!1,props:dropdownItemProps,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:n}){const{elDropdown:r}=useDropdown(),o=getCurrentInstance(),i=ref(null),a=computed((()=>{var e,t;return null!=(t=null==(e=unref(i))?void 0:e.textContent)?t:""})),{onItemEnter:s,onItemLeave:l}=inject(DROPDOWN_INJECTION_KEY,void 0),u=composeEventHandlers((e=>(t("pointermove",e),e.defaultPrevented)),whenMouse((t=>{if(e.disabled)return void l(t);const n=t.currentTarget;n===document.activeElement||n.contains(document.activeElement)||(s(t),t.defaultPrevented||null==n||n.focus())}))),c=composeEventHandlers((e=>(t("pointerleave",e),e.defaultPrevented)),whenMouse((e=>{l(e)}))),d=composeEventHandlers((n=>{if(!e.disabled)return t("click",n),"keydown"!==n.type&&n.defaultPrevented}),(t=>{var n,i,a;e.disabled?t.stopImmediatePropagation():((null==(n=null==r?void 0:r.hideOnClick)?void 0:n.value)&&(null==(i=r.handleClick)||i.call(r)),null==(a=r.commandHandler)||a.call(r,e.command,o,t))}));return{handleClick:d,handlePointerMove:u,handlePointerLeave:c,textContent:a,propsAndAttrs:computed((()=>({...e,...n})))}}});function _sfc_render$s(e,t,n,r,o,i){var a;const s=resolveComponent("el-dropdown-item-impl"),l=resolveComponent("el-roving-focus-item"),u=resolveComponent("el-dropdown-collection-item");return openBlock(),createBlock(u,{disabled:e.disabled,"text-value":null!=(a=e.textValue)?a:e.textContent},{default:withCtx((()=>[createVNode(l,{focusable:!e.disabled},{default:withCtx((()=>[createVNode(s,mergeProps(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:withCtx((()=>[renderSlot(e.$slots,"default")])),_:3},16,["onPointerleave","onPointermove","onClickimpl"])])),_:3},8,["focusable"])])),_:3},8,["disabled","text-value"])}var DropdownItem=_export_sfc(_sfc_main$2f,[["render",_sfc_render$s],["__file","dropdown-item.vue"]]);const _sfc_main$2e=defineComponent({name:"ElDropdownMenu",props:dropdownMenuProps,setup(e){const t=useNamespace("dropdown"),{_elDropdownSize:n}=useDropdown(),r=n.value,{focusTrapRef:o,onKeydown:i}=inject(FOCUS_TRAP_INJECTION_KEY,void 0),{contentRef:a,role:s,triggerId:l}=inject(DROPDOWN_INJECTION_KEY,void 0),{collectionRef:u,getItems:c}=inject(COLLECTION_INJECTION_KEY,void 0),{rovingFocusGroupRef:d,rovingFocusGroupRootStyle:h,tabIndex:p,onBlur:f,onFocus:m,onMousedown:_}=inject(ROVING_FOCUS_GROUP_INJECTION_KEY,void 0),{collectionRef:g}=inject(COLLECTION_INJECTION_KEY$1,void 0),v=computed((()=>[t.b("menu"),t.bm("menu",null==r?void 0:r.value)])),y=composeRefs(a,u,o,d,g),b=composeEventHandlers((t=>{var n;null==(n=e.onKeydown)||n.call(e,t)}),(e=>{const{currentTarget:t,code:n,target:r}=e;if(t.contains(r),EVENT_CODE.tab===n&&e.stopImmediatePropagation(),e.preventDefault(),r!==unref(a))return;if(!FIRST_LAST_KEYS.includes(n))return;const o=c().filter((e=>!e.disabled)).map((e=>e.ref));LAST_KEYS.includes(n)&&o.reverse(),focusFirst(o)}));return{size:r,rovingFocusGroupRootStyle:h,tabIndex:p,dropdownKls:v,role:s,triggerId:l,dropdownListWrapperRef:y,handleKeydown:e=>{b(e),i(e)},onBlur:f,onFocus:m,onMousedown:_}}}),_hoisted_1$1w=["role","aria-labelledby"];function _sfc_render$r(e,t,n,r,o,i){return openBlock(),createElementBlock("ul",{ref:e.dropdownListWrapperRef,class:normalizeClass(e.dropdownKls),style:normalizeStyle(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:t[0]||(t[0]=(...t)=>e.onBlur&&e.onBlur(...t)),onFocus:t[1]||(t[1]=(...t)=>e.onFocus&&e.onFocus(...t)),onKeydown:t[2]||(t[2]=withModifiers(((...t)=>e.handleKeydown&&e.handleKeydown(...t)),["self"])),onMousedown:t[3]||(t[3]=withModifiers(((...t)=>e.onMousedown&&e.onMousedown(...t)),["self"]))},[renderSlot(e.$slots,"default")],46,_hoisted_1$1w)}var DropdownMenu=_export_sfc(_sfc_main$2e,[["render",_sfc_render$r],["__file","dropdown-menu.vue"]]);const ElDropdown=withInstall(Dropdown,{DropdownItem:DropdownItem,DropdownMenu:DropdownMenu}),ElDropdownItem=withNoopInstall(DropdownItem),ElDropdownMenu=withNoopInstall(DropdownMenu),_hoisted_1$1v={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},_hoisted_2$_=["id"],_hoisted_3$E=["stop-color"],_hoisted_4$n=["stop-color"],_hoisted_5$g=["id"],_hoisted_6$b=["stop-color"],_hoisted_7$7=["stop-color"],_hoisted_8$4=["id"],_hoisted_9$3={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},_hoisted_10$3={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},_hoisted_11$3={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},_hoisted_12$1=["fill"],_hoisted_13$1=["fill"],_hoisted_14$1={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},_hoisted_15$1=["fill"],_hoisted_16$1=["fill"],_hoisted_17$1=["fill"],_hoisted_18$1=["fill"],_hoisted_19$1=["fill"],_hoisted_20$1={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},_hoisted_21$1=["fill","xlink:href"],_hoisted_22$1=["fill","mask"],_hoisted_23$1=["fill"],__default__$M=defineComponent({name:"ImgEmpty"}),_sfc_main$2d=defineComponent({...__default__$M,setup(e){const t=useNamespace("empty"),n=useId();return(e,r)=>(openBlock(),createElementBlock("svg",_hoisted_1$1v,[createBaseVNode("defs",null,[createBaseVNode("linearGradient",{id:`linearGradient-1-${unref(n)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[createBaseVNode("stop",{"stop-color":`var(${unref(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,_hoisted_3$E),createBaseVNode("stop",{"stop-color":`var(${unref(t).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,_hoisted_4$n)],8,_hoisted_2$_),createBaseVNode("linearGradient",{id:`linearGradient-2-${unref(n)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[createBaseVNode("stop",{"stop-color":`var(${unref(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,_hoisted_6$b),createBaseVNode("stop",{"stop-color":`var(${unref(t).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,_hoisted_7$7)],8,_hoisted_5$g),createBaseVNode("rect",{id:`path-3-${unref(n)}`,x:"0",y:"0",width:"17",height:"36"},null,8,_hoisted_8$4)]),createBaseVNode("g",_hoisted_9$3,[createBaseVNode("g",_hoisted_10$3,[createBaseVNode("g",_hoisted_11$3,[createBaseVNode("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${unref(t).cssVarBlockName("fill-color-3")})`},null,8,_hoisted_12$1),createBaseVNode("polygon",{id:"Rectangle-Copy-14",fill:`var(${unref(t).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,_hoisted_13$1),createBaseVNode("g",_hoisted_14$1,[createBaseVNode("polygon",{id:"Rectangle-Copy-10",fill:`var(${unref(t).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,_hoisted_15$1),createBaseVNode("polygon",{id:"Rectangle-Copy-11",fill:`var(${unref(t).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,_hoisted_16$1),createBaseVNode("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${unref(n)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,_hoisted_17$1),createBaseVNode("polygon",{id:"Rectangle-Copy-13",fill:`var(${unref(t).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,_hoisted_18$1)]),createBaseVNode("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${unref(n)})`,x:"13",y:"45",width:"40",height:"36"},null,8,_hoisted_19$1),createBaseVNode("g",_hoisted_20$1,[createBaseVNode("use",{id:"Mask",fill:`var(${unref(t).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${unref(n)}`},null,8,_hoisted_21$1),createBaseVNode("polygon",{id:"Rectangle-Copy",fill:`var(${unref(t).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${unref(n)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,_hoisted_22$1)]),createBaseVNode("polygon",{id:"Rectangle-Copy-18",fill:`var(${unref(t).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,_hoisted_23$1)])])])]))}});var ImgEmpty=_export_sfc(_sfc_main$2d,[["__file","img-empty.vue"]]);const emptyProps=buildProps({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),_hoisted_1$1u=["src"],_hoisted_2$Z={key:1},__default__$L=defineComponent({name:"ElEmpty"}),_sfc_main$2c=defineComponent({...__default__$L,props:emptyProps,setup(e){const t=e,{t:n}=useLocale(),r=useNamespace("empty"),o=computed((()=>t.description||n("el.table.emptyText"))),i=computed((()=>({width:addUnit(t.imageSize)})));return(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(r).b())},[createBaseVNode("div",{class:normalizeClass(unref(r).e("image")),style:normalizeStyle(unref(i))},[e.image?(openBlock(),createElementBlock("img",{key:0,src:e.image,ondragstart:"return false"},null,8,_hoisted_1$1u)):renderSlot(e.$slots,"image",{key:1},(()=>[createVNode(ImgEmpty)]))],6),createBaseVNode("div",{class:normalizeClass(unref(r).e("description"))},[e.$slots.description?renderSlot(e.$slots,"description",{key:0}):(openBlock(),createElementBlock("p",_hoisted_2$Z,toDisplayString(unref(o)),1))],2),e.$slots.default?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).e("bottom"))},[renderSlot(e.$slots,"default")],2)):createCommentVNode("v-if",!0)],2))}});var Empty=_export_sfc(_sfc_main$2c,[["__file","empty.vue"]]);const ElEmpty=withInstall(Empty),imageViewerProps=buildProps({urlList:{type:definePropType(Array),default:()=>mutable([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7}}),imageViewerEmits={close:()=>!0,switch:e=>isNumber(e),rotate:e=>isNumber(e)},_hoisted_1$1t=["src"],__default__$K=defineComponent({name:"ElImageViewer"}),_sfc_main$2b=defineComponent({...__default__$K,props:imageViewerProps,emits:imageViewerEmits,setup(e,{expose:t,emit:n}){const r=e,o={CONTAIN:{name:"contain",icon:markRaw(full_screen_default)},ORIGINAL:{name:"original",icon:markRaw(scale_to_original_default)}},{t:i}=useLocale(),a=useNamespace("image-viewer"),{nextZIndex:s}=useZIndex(),l=ref(),u=ref([]),c=effectScope(),d=ref(!0),h=ref(r.initialIndex),p=shallowRef(o.CONTAIN),f=ref({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),m=computed((()=>{const{urlList:e}=r;return e.length<=1})),_=computed((()=>0===h.value)),g=computed((()=>h.value===r.urlList.length-1)),v=computed((()=>r.urlList[h.value])),y=computed((()=>[a.e("btn"),a.e("prev"),a.is("disabled",!r.infinite&&_.value)])),b=computed((()=>[a.e("btn"),a.e("next"),a.is("disabled",!r.infinite&&g.value)])),E=computed((()=>{const{scale:e,deg:t,offsetX:n,offsetY:r,enableTransition:i}=f.value;let a=n/e,s=r/e;switch(t%360){case 90:case-270:[a,s]=[s,-a];break;case 180:case-180:[a,s]=[-a,-s];break;case 270:case-90:[a,s]=[-s,a]}const l={transform:`scale(${e}) rotate(${t}deg) translate(${a}px, ${s}px)`,transition:i?"transform .3s":""};return p.value.name===o.CONTAIN.name&&(l.maxWidth=l.maxHeight="100%"),l})),C=computed((()=>isNumber(r.zIndex)?r.zIndex:s()));function x(){c.stop(),n("close")}function w(){d.value=!1}function S(e){d.value=!1,e.target.alt=i("el.image.error")}function T(e){if(d.value||0!==e.button||!l.value)return;f.value.enableTransition=!1;const{offsetX:t,offsetY:n}=f.value,r=e.pageX,o=e.pageY,i=throttle((e=>{f.value={...f.value,offsetX:t+e.pageX-r,offsetY:n+e.pageY-o}})),a=useEventListener$1(document,"mousemove",i);useEventListener$1(document,"mouseup",(()=>{a()})),e.preventDefault()}function k(){f.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function L(){if(d.value)return;const e=keysOf(o),t=Object.values(o),n=p.value.name,r=(t.findIndex((e=>e.name===n))+1)%e.length;p.value=o[e[r]],k()}function P(e){const t=r.urlList.length;h.value=(e+t)%t}function M(){_.value&&!r.infinite||P(h.value-1)}function O(){g.value&&!r.infinite||P(h.value+1)}function N(e,t={}){if(d.value)return;const{minScale:o,maxScale:i}=r,{zoomRate:a,rotateDeg:s,enableTransition:l}={zoomRate:r.zoomRate,rotateDeg:90,enableTransition:!0,...t};switch(e){case"zoomOut":f.value.scale>o&&(f.value.scale=Number.parseFloat((f.value.scale/a).toFixed(3)));break;case"zoomIn":f.value.scale<i&&(f.value.scale=Number.parseFloat((f.value.scale*a).toFixed(3)));break;case"clockwise":f.value.deg+=s,n("rotate",f.value.deg);break;case"anticlockwise":f.value.deg-=s,n("rotate",f.value.deg)}f.value.enableTransition=l}return watch(v,(()=>{nextTick((()=>{const e=u.value[0];(null==e?void 0:e.complete)||(d.value=!0)}))})),watch(h,(e=>{k(),n("switch",e)})),onMounted((()=>{var e,t;!function(){const e=throttle((e=>{switch(e.code){case EVENT_CODE.esc:r.closeOnPressEscape&&x();break;case EVENT_CODE.space:L();break;case EVENT_CODE.left:M();break;case EVENT_CODE.up:N("zoomIn");break;case EVENT_CODE.right:O();break;case EVENT_CODE.down:N("zoomOut")}})),t=throttle((e=>{N((e.deltaY||e.deltaX)<0?"zoomIn":"zoomOut",{zoomRate:r.zoomRate,enableTransition:!1})}));c.run((()=>{useEventListener$1(document,"keydown",e),useEventListener$1(document,"wheel",t)}))}(),null==(t=null==(e=l.value)?void 0:e.focus)||t.call(e)})),t({setActiveItem:P}),(e,t)=>(openBlock(),createBlock(Teleport,{to:"body",disabled:!e.teleported},[createVNode(Transition,{name:"viewer-fade",appear:""},{default:withCtx((()=>[createBaseVNode("div",{ref_key:"wrapper",ref:l,tabindex:-1,class:normalizeClass(unref(a).e("wrapper")),style:normalizeStyle({zIndex:unref(C)})},[createBaseVNode("div",{class:normalizeClass(unref(a).e("mask")),onClick:t[0]||(t[0]=withModifiers((t=>e.hideOnClickModal&&x()),["self"]))},null,2),createCommentVNode(" CLOSE "),createBaseVNode("span",{class:normalizeClass([unref(a).e("btn"),unref(a).e("close")]),onClick:x},[createVNode(unref(ElIcon),null,{default:withCtx((()=>[createVNode(unref(close_default))])),_:1})],2),createCommentVNode(" ARROW "),unref(m)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("span",{class:normalizeClass(unref(y)),onClick:M},[createVNode(unref(ElIcon),null,{default:withCtx((()=>[createVNode(unref(arrow_left_default))])),_:1})],2),createBaseVNode("span",{class:normalizeClass(unref(b)),onClick:O},[createVNode(unref(ElIcon),null,{default:withCtx((()=>[createVNode(unref(arrow_right_default))])),_:1})],2)],64)),createCommentVNode(" ACTIONS "),createBaseVNode("div",{class:normalizeClass([unref(a).e("btn"),unref(a).e("actions")])},[createBaseVNode("div",{class:normalizeClass(unref(a).e("actions__inner"))},[createVNode(unref(ElIcon),{onClick:t[1]||(t[1]=e=>N("zoomOut"))},{default:withCtx((()=>[createVNode(unref(zoom_out_default))])),_:1}),createVNode(unref(ElIcon),{onClick:t[2]||(t[2]=e=>N("zoomIn"))},{default:withCtx((()=>[createVNode(unref(zoom_in_default))])),_:1}),createBaseVNode("i",{class:normalizeClass(unref(a).e("actions__divider"))},null,2),createVNode(unref(ElIcon),{onClick:L},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(p).icon)))])),_:1}),createBaseVNode("i",{class:normalizeClass(unref(a).e("actions__divider"))},null,2),createVNode(unref(ElIcon),{onClick:t[3]||(t[3]=e=>N("anticlockwise"))},{default:withCtx((()=>[createVNode(unref(refresh_left_default))])),_:1}),createVNode(unref(ElIcon),{onClick:t[4]||(t[4]=e=>N("clockwise"))},{default:withCtx((()=>[createVNode(unref(refresh_right_default))])),_:1})],2)],2),createCommentVNode(" CANVAS "),createBaseVNode("div",{class:normalizeClass(unref(a).e("canvas"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.urlList,((e,t)=>withDirectives((openBlock(),createElementBlock("img",{ref_for:!0,ref:e=>u.value[t]=e,key:e,src:e,style:normalizeStyle(unref(E)),class:normalizeClass(unref(a).e("img")),onLoad:w,onError:S,onMousedown:T},null,46,_hoisted_1$1t)),[[vShow,t===h.value]]))),128))],2),renderSlot(e.$slots,"default")],6)])),_:3})],8,["disabled"]))}});var ImageViewer=_export_sfc(_sfc_main$2b,[["__file","image-viewer.vue"]]);const ElImageViewer=withInstall(ImageViewer),imageProps=buildProps({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:definePropType([String,Object])},previewSrcList:{type:definePropType(Array),default:()=>mutable([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7}}),imageEmits={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>isNumber(e),close:()=>!0,show:()=>!0},_hoisted_1$1s=["src","loading"],_hoisted_2$Y={key:0},__default__$J=defineComponent({name:"ElImage",inheritAttrs:!1}),_sfc_main$2a=defineComponent({...__default__$J,props:imageProps,emits:imageEmits,setup(e,{emit:t}){const n=e;let r="";const{t:o}=useLocale(),i=useNamespace("image"),a=useAttrs$1(),s=useAttrs(),l=ref(),u=ref(!1),c=ref(!0),d=ref(!1),h=ref(),p=ref(),f=isClient$1&&"loading"in HTMLImageElement.prototype;let m,_;const g=computed((()=>[i.e("inner"),b.value&&i.e("preview"),c.value&&i.is("loading")])),v=computed((()=>a.style)),y=computed((()=>{const{fit:e}=n;return isClient$1&&e?{objectFit:e}:{}})),b=computed((()=>{const{previewSrcList:e}=n;return Array.isArray(e)&&e.length>0})),E=computed((()=>{const{previewSrcList:e,initialIndex:t}=n;let r=t;return t>e.length-1&&(r=0),r})),C=computed((()=>"eager"!==n.loading&&(!f&&"lazy"===n.loading||n.lazy))),x=()=>{isClient$1&&(c.value=!0,u.value=!1,l.value=n.src)};function w(e){c.value=!1,u.value=!1,t("load",e)}function S(e){c.value=!1,u.value=!0,t("error",e)}function T(){isInContainer(h.value,p.value)&&(x(),P())}const k=useThrottleFn(T,200,!0);async function L(){var e;if(!isClient$1)return;await nextTick();const{scrollContainer:t}=n;isElement$1(t)?p.value=t:isString$1(t)&&""!==t?p.value=null!=(e=document.querySelector(t))?e:void 0:h.value&&(p.value=getScrollContainer(h.value)),p.value&&(m=useEventListener$1(p,"scroll",k),setTimeout((()=>T()),100))}function P(){isClient$1&&p.value&&k&&(null==m||m(),p.value=void 0)}function M(e){if(e.ctrlKey)return e.deltaY<0||e.deltaY>0?(e.preventDefault(),!1):void 0}function O(){b.value&&(_=useEventListener$1("wheel",M,{passive:!1}),r=document.body.style.overflow,document.body.style.overflow="hidden",d.value=!0,t("show"))}function N(){null==_||_(),document.body.style.overflow=r,d.value=!1,t("close")}function A(e){t("switch",e)}return watch((()=>n.src),(()=>{C.value?(c.value=!0,u.value=!1,P(),L()):x()})),onMounted((()=>{C.value?L():x()})),(e,t)=>(openBlock(),createElementBlock("div",{ref_key:"container",ref:h,class:normalizeClass([unref(i).b(),e.$attrs.class]),style:normalizeStyle(unref(v))},[u.value?renderSlot(e.$slots,"error",{key:0},(()=>[createBaseVNode("div",{class:normalizeClass(unref(i).e("error"))},toDisplayString(unref(o)("el.image.error")),3)])):(openBlock(),createElementBlock(Fragment,{key:1},[void 0!==l.value?(openBlock(),createElementBlock("img",mergeProps({key:0},unref(s),{src:l.value,loading:e.loading,style:unref(y),class:unref(g),onClick:O,onLoad:w,onError:S}),null,16,_hoisted_1$1s)):createCommentVNode("v-if",!0),c.value?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(i).e("wrapper"))},[renderSlot(e.$slots,"placeholder",{},(()=>[createBaseVNode("div",{class:normalizeClass(unref(i).e("placeholder"))},null,2)]))],2)):createCommentVNode("v-if",!0)],64)),unref(b)?(openBlock(),createElementBlock(Fragment,{key:2},[d.value?(openBlock(),createBlock(unref(ElImageViewer),{key:0,"z-index":e.zIndex,"initial-index":unref(E),infinite:e.infinite,"zoom-rate":e.zoomRate,"min-scale":e.minScale,"max-scale":e.maxScale,"url-list":e.previewSrcList,"hide-on-click-modal":e.hideOnClickModal,teleported:e.previewTeleported,"close-on-press-escape":e.closeOnPressEscape,onClose:N,onSwitch:A},{default:withCtx((()=>[e.$slots.viewer?(openBlock(),createElementBlock("div",_hoisted_2$Y,[renderSlot(e.$slots,"viewer")])):createCommentVNode("v-if",!0)])),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):createCommentVNode("v-if",!0)],64)):createCommentVNode("v-if",!0)],6))}});var Image$1=_export_sfc(_sfc_main$2a,[["__file","image.vue"]]);const ElImage=withInstall(Image$1),inputNumberProps=buildProps({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:useSizeProp,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>null===e||isNumber(e)||["min","max"].includes(e),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0}}),inputNumberEmits={[CHANGE_EVENT]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[INPUT_EVENT]:e=>isNumber(e)||isNil(e),[UPDATE_MODEL_EVENT]:e=>isNumber(e)||isNil(e)},_hoisted_1$1r=["aria-label","onKeydown"],_hoisted_2$X=["aria-label","onKeydown"],__default__$I=defineComponent({name:"ElInputNumber"}),_sfc_main$29=defineComponent({...__default__$I,props:inputNumberProps,emits:inputNumberEmits,setup(e,{expose:t,emit:n}){const r=e,{t:o}=useLocale(),i=useNamespace("input-number"),a=ref(),s=reactive({currentValue:r.modelValue,userInput:null}),{formItem:l}=useFormItem(),u=computed((()=>isNumber(r.modelValue)&&r.modelValue<=r.min)),c=computed((()=>isNumber(r.modelValue)&&r.modelValue>=r.max)),d=computed((()=>{const e=g(r.step);return isUndefined(r.precision)?Math.max(g(r.modelValue),e):(r.precision,r.precision)})),h=computed((()=>r.controls&&"right"===r.controlsPosition)),p=useFormSize(),f=useFormDisabled(),m=computed((()=>{if(null!==s.userInput)return s.userInput;let e=s.currentValue;if(isNil(e))return"";if(isNumber(e)){if(Number.isNaN(e))return"";isUndefined(r.precision)||(e=e.toFixed(r.precision))}return e})),_=(e,t)=>{if(isUndefined(t)&&(t=d.value),0===t)return Math.round(e);let n=String(e);const r=n.indexOf(".");if(-1===r)return e;if(!n.replace(".","").split("")[r+t])return e;const o=n.length;return"5"===n.charAt(o-1)&&(n=`${n.slice(0,Math.max(0,o-1))}6`),Number.parseFloat(Number(n).toFixed(t))},g=e=>{if(isNil(e))return 0;const t=e.toString(),n=t.indexOf(".");let r=0;return-1!==n&&(r=t.length-n-1),r},v=(e,t=1)=>isNumber(e)?_(e+r.step*t):s.currentValue,y=()=>{if(r.readonly||f.value||c.value)return;const e=Number(m.value)||0,t=v(e);C(t),n(INPUT_EVENT,s.currentValue)},b=()=>{if(r.readonly||f.value||u.value)return;const e=Number(m.value)||0,t=v(e,-1);C(t),n(INPUT_EVENT,s.currentValue)},E=(e,t)=>{const{max:o,min:i,step:a,precision:s,stepStrictly:l,valueOnClear:u}=r;o<i&&throwError("InputNumber","min should not be greater than max.");let c=Number(e);if(isNil(e)||Number.isNaN(c))return null;if(""===e){if(null===u)return null;c=isString$1(u)?{min:i,max:o}[u]:u}return l&&(c=_(Math.round(c/a)*a,s)),isUndefined(s)||(c=_(c,s)),(c>o||c<i)&&(c=c>o?o:i,t&&n(UPDATE_MODEL_EVENT,c)),c},C=(e,t=!0)=>{var o;const i=s.currentValue,a=E(e);t?i!==a&&(s.userInput=null,n(UPDATE_MODEL_EVENT,a),n(CHANGE_EVENT,a,i),r.validateEvent&&(null==(o=null==l?void 0:l.validate)||o.call(l,"change").catch((e=>debugWarn()))),s.currentValue=a):n(UPDATE_MODEL_EVENT,a)},x=e=>{s.userInput=e;const t=""===e?null:Number(e);n(INPUT_EVENT,t),C(t,!1)},w=e=>{const t=""!==e?Number(e):"";(isNumber(t)&&!Number.isNaN(t)||""===e)&&C(t),s.userInput=null},S=e=>{n("focus",e)},T=e=>{var t;s.userInput=null,n("blur",e),r.validateEvent&&(null==(t=null==l?void 0:l.validate)||t.call(l,"blur").catch((e=>debugWarn())))};return watch((()=>r.modelValue),((e,t)=>{const n=E(e,!0);null===s.userInput&&n!==t&&(s.currentValue=n)}),{immediate:!0}),onMounted((()=>{var e;const{min:t,max:o,modelValue:i}=r,l=null==(e=a.value)?void 0:e.input;if(l.setAttribute("role","spinbutton"),Number.isFinite(o)?l.setAttribute("aria-valuemax",String(o)):l.removeAttribute("aria-valuemax"),Number.isFinite(t)?l.setAttribute("aria-valuemin",String(t)):l.removeAttribute("aria-valuemin"),l.setAttribute("aria-valuenow",s.currentValue||0===s.currentValue?String(s.currentValue):""),l.setAttribute("aria-disabled",String(f.value)),!isNumber(i)&&null!=i){let e=Number(i);Number.isNaN(e)&&(e=null),n(UPDATE_MODEL_EVENT,e)}})),onUpdated((()=>{var e,t;const n=null==(e=a.value)?void 0:e.input;null==n||n.setAttribute("aria-valuenow",`${null!=(t=s.currentValue)?t:""}`)})),t({focus:()=>{var e,t;null==(t=null==(e=a.value)?void 0:e.focus)||t.call(e)},blur:()=>{var e,t;null==(t=null==(e=a.value)?void 0:e.blur)||t.call(e)}}),(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(i).b(),unref(i).m(unref(p)),unref(i).is("disabled",unref(f)),unref(i).is("without-controls",!e.controls),unref(i).is("controls-right",unref(h))]),onDragstart:t[1]||(t[1]=withModifiers((()=>{}),["prevent"]))},[e.controls?withDirectives((openBlock(),createElementBlock("span",{key:0,role:"button","aria-label":unref(o)("el.inputNumber.decrease"),class:normalizeClass([unref(i).e("decrease"),unref(i).is("disabled",unref(u))]),onKeydown:withKeys(b,["enter"])},[createVNode(unref(ElIcon),null,{default:withCtx((()=>[unref(h)?(openBlock(),createBlock(unref(arrow_down_default),{key:0})):(openBlock(),createBlock(unref(minus_default),{key:1}))])),_:1})],42,_hoisted_1$1r)),[[unref(vRepeatClick),b]]):createCommentVNode("v-if",!0),e.controls?withDirectives((openBlock(),createElementBlock("span",{key:1,role:"button","aria-label":unref(o)("el.inputNumber.increase"),class:normalizeClass([unref(i).e("increase"),unref(i).is("disabled",unref(c))]),onKeydown:withKeys(y,["enter"])},[createVNode(unref(ElIcon),null,{default:withCtx((()=>[unref(h)?(openBlock(),createBlock(unref(arrow_up_default),{key:0})):(openBlock(),createBlock(unref(plus_default),{key:1}))])),_:1})],42,_hoisted_2$X)),[[unref(vRepeatClick),y]]):createCommentVNode("v-if",!0),createVNode(unref(ElInput),{id:e.id,ref_key:"input",ref:a,type:"number",step:e.step,"model-value":unref(m),placeholder:e.placeholder,readonly:e.readonly,disabled:unref(f),size:unref(p),max:e.max,min:e.min,name:e.name,label:e.label,"validate-event":!1,onWheel:t[0]||(t[0]=withModifiers((()=>{}),["prevent"])),onKeydown:[withKeys(withModifiers(y,["prevent"]),["up"]),withKeys(withModifiers(b,["prevent"]),["down"])],onBlur:T,onFocus:S,onInput:x,onChange:w},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var InputNumber=_export_sfc(_sfc_main$29,[["__file","input-number.vue"]]);const ElInputNumber=withInstall(InputNumber),linkProps=buildProps({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},icon:{type:iconPropType}}),linkEmits={click:e=>e instanceof MouseEvent},_hoisted_1$1q=["href"],__default__$H=defineComponent({name:"ElLink"}),_sfc_main$28=defineComponent({...__default__$H,props:linkProps,emits:linkEmits,setup(e,{emit:t}){const n=e,r=useNamespace("link"),o=computed((()=>[r.b(),r.m(n.type),r.is("disabled",n.disabled),r.is("underline",n.underline&&!n.disabled)]));function i(e){n.disabled||t("click",e)}return(e,t)=>(openBlock(),createElementBlock("a",{class:normalizeClass(unref(o)),href:e.disabled||!e.href?void 0:e.href,onClick:i},[e.icon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.icon)))])),_:1})):createCommentVNode("v-if",!0),e.$slots.default?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(r).e("inner"))},[renderSlot(e.$slots,"default")],2)):createCommentVNode("v-if",!0),e.$slots.icon?renderSlot(e.$slots,"icon",{key:2}):createCommentVNode("v-if",!0)],10,_hoisted_1$1q))}});var Link=_export_sfc(_sfc_main$28,[["__file","link.vue"]]);const ElLink=withInstall(Link);let SubMenu$1=class{constructor(e,t){this.parent=e,this.domNode=t,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,(t=>{t.addEventListener("keydown",(t=>{let n=!1;switch(t.code){case EVENT_CODE.down:this.gotoSubIndex(this.subIndex+1),n=!0;break;case EVENT_CODE.up:this.gotoSubIndex(this.subIndex-1),n=!0;break;case EVENT_CODE.tab:triggerEvent(e,"mouseleave");break;case EVENT_CODE.enter:case EVENT_CODE.space:n=!0,t.currentTarget.click()}return n&&(t.preventDefault(),t.stopPropagation()),!1}))}))}},MenuItem$1=class{constructor(e,t){this.domNode=e,this.submenu=null,this.submenu=null,this.init(t)}init(e){this.domNode.setAttribute("tabindex","0");const t=this.domNode.querySelector(`.${e}-menu`);t&&(this.submenu=new SubMenu$1(this,t)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",(e=>{let t=!1;switch(e.code){case EVENT_CODE.down:triggerEvent(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),t=!0;break;case EVENT_CODE.up:triggerEvent(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),t=!0;break;case EVENT_CODE.tab:triggerEvent(e.currentTarget,"mouseleave");break;case EVENT_CODE.enter:case EVENT_CODE.space:t=!0,e.currentTarget.click()}t&&e.preventDefault()}))}},Menu$1=class{constructor(e,t){this.domNode=e,this.init(t)}init(e){const t=this.domNode.childNodes;Array.from(t).forEach((t=>{1===t.nodeType&&new MenuItem$1(t,e)}))}};const _sfc_main$27=defineComponent({name:"ElMenuCollapseTransition",setup(){const e=useNamespace("menu");return{listeners:{onBeforeEnter:e=>e.style.opacity="0.2",onEnter(t,n){addClass(t,`${e.namespace.value}-opacity-transition`),t.style.opacity="1",n()},onAfterEnter(t){removeClass(t,`${e.namespace.value}-opacity-transition`),t.style.opacity=""},onBeforeLeave(t){t.dataset||(t.dataset={}),hasClass(t,e.m("collapse"))?(removeClass(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),addClass(t,e.m("collapse"))):(addClass(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),removeClass(t,e.m("collapse"))),t.style.width=`${t.scrollWidth}px`,t.style.overflow="hidden"},onLeave(e){addClass(e,"horizontal-collapse-transition"),e.style.width=`${e.dataset.scrollWidth}px`}}}}});function _sfc_render$q(e,t,n,r,o,i){return openBlock(),createBlock(Transition,mergeProps({mode:"out-in"},e.listeners),{default:withCtx((()=>[renderSlot(e.$slots,"default")])),_:3},16)}var ElMenuCollapseTransition=_export_sfc(_sfc_main$27,[["render",_sfc_render$q],["__file","menu-collapse-transition.vue"]]);function useMenu(e,t){const n=computed((()=>{let n=e.parent;const r=[t.value];for(;"ElMenu"!==n.type.name;)n.props.index&&r.unshift(n.props.index),n=n.parent;return r}));return{parentMenu:computed((()=>{let t=e.parent;for(;t&&!["ElMenu","ElSubMenu"].includes(t.type.name);)t=t.parent;return t})),indexPath:n}}function useMenuColor(e){return computed((()=>{const t=e.backgroundColor;return t?new TinyColor(t).shade(20).toString():""}))}const useMenuCssVar=(e,t)=>{const n=useNamespace("menu");return computed((()=>n.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":useMenuColor(e).value||"","active-color":e.activeTextColor||"",level:`${t}`})))},subMenuProps=buildProps({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},teleported:{type:Boolean,default:void 0},popperOffset:{type:Number,default:void 0},expandCloseIcon:{type:iconPropType},expandOpenIcon:{type:iconPropType},collapseCloseIcon:{type:iconPropType},collapseOpenIcon:{type:iconPropType}}),COMPONENT_NAME$c="ElSubMenu";var SubMenu=defineComponent({name:COMPONENT_NAME$c,props:subMenuProps,setup(e,{slots:t,expose:n}){useDeprecated({from:"popper-append-to-body",replacement:"teleported",scope:COMPONENT_NAME$c,version:"2.3.0",ref:"https://element-plus.org/en-US/component/menu.html#submenu-attributes"},computed((()=>void 0!==e.popperAppendToBody)));const r=getCurrentInstance(),{indexPath:o,parentMenu:i}=useMenu(r,computed((()=>e.index))),a=useNamespace("menu"),s=useNamespace("sub-menu"),l=inject("rootMenu");l||throwError(COMPONENT_NAME$c,"can not inject root menu");const u=inject(`subMenu:${i.value.uid}`);u||throwError(COMPONENT_NAME$c,"can not inject sub menu");const c=ref({}),d=ref({});let h;const p=ref(!1),f=ref(),m=ref(null),_=computed((()=>"horizontal"===w.value&&v.value?"bottom-start":"right-start")),g=computed((()=>"horizontal"===w.value&&v.value||"vertical"===w.value&&!l.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?C.value?e.expandOpenIcon:e.expandCloseIcon:arrow_down_default:e.collapseCloseIcon&&e.collapseOpenIcon?C.value?e.collapseOpenIcon:e.collapseCloseIcon:arrow_right_default)),v=computed((()=>0===u.level)),y=computed((()=>{var t;const n=null!=(t=e.teleported)?t:e.popperAppendToBody;return void 0===n?v.value:n})),b=computed((()=>l.props.collapse?`${a.namespace.value}-zoom-in-left`:`${a.namespace.value}-zoom-in-top`)),E=computed((()=>"horizontal"===w.value&&v.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"])),C=computed((()=>l.openedMenus.includes(e.index))),x=computed((()=>{let e=!1;return Object.values(c.value).forEach((t=>{t.active&&(e=!0)})),Object.values(d.value).forEach((t=>{t.active&&(e=!0)})),e})),w=computed((()=>l.props.mode)),S=reactive({index:e.index,indexPath:o,active:x}),T=useMenuCssVar(l.props,u.level+1),k=computed((()=>{var t;return null!=(t=e.popperOffset)?t:l.props.popperOffset})),L=e=>{var t,n,r;e||null==(r=null==(n=null==(t=m.value)?void 0:t.popperRef)?void 0:n.popperInstanceRef)||r.destroy()},P=()=>{"hover"===l.props.menuTrigger&&"horizontal"===l.props.mode||l.props.collapse&&"vertical"===l.props.mode||e.disabled||l.handleSubMenuClick({index:e.index,indexPath:o.value,active:x.value})},M=(t,n=e.showTimeout)=>{var r;"focus"!==t.type&&("click"===l.props.menuTrigger&&"horizontal"===l.props.mode||!l.props.collapse&&"vertical"===l.props.mode||e.disabled?u.mouseInChild.value=!0:(u.mouseInChild.value=!0,null==h||h(),({stop:h}=useTimeoutFn((()=>{l.openMenu(e.index,o.value)}),n)),y.value&&(null==(r=i.value.vnode.el)||r.dispatchEvent(new MouseEvent("mouseenter")))))},O=(t=!1)=>{var n,i;"click"===l.props.menuTrigger&&"horizontal"===l.props.mode||!l.props.collapse&&"vertical"===l.props.mode?u.mouseInChild.value=!1:(null==h||h(),u.mouseInChild.value=!1,({stop:h}=useTimeoutFn((()=>!p.value&&l.closeMenu(e.index,o.value)),e.hideTimeout)),y.value&&t&&"ElSubMenu"===(null==(n=r.parent)?void 0:n.type.name)&&(null==(i=u.handleMouseleave)||i.call(u,!0)))};watch((()=>l.props.collapse),(e=>L(Boolean(e))));{const e=e=>{d.value[e.index]=e},t=e=>{delete d.value[e.index]};provide(`subMenu:${r.uid}`,{addSubMenu:e,removeSubMenu:t,handleMouseleave:O,mouseInChild:p,level:u.level+1})}return n({opened:C}),onMounted((()=>{l.addSubMenu(S),u.addSubMenu(S)})),onBeforeUnmount((()=>{u.removeSubMenu(S),l.removeSubMenu(S)})),()=>{var n;const o=[null==(n=t.title)?void 0:n.call(t),h$1(ElIcon,{class:s.e("icon-arrow"),style:{transform:C.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>isString$1(g.value)?h$1(r.appContext.components[g.value]):h$1(g.value)})],i=l.isMenuPopup?h$1(ElTooltip,{ref:m,visible:C.value,effect:"light",pure:!0,offset:k.value,showArrow:!1,persistent:!0,popperClass:e.popperClass,placement:_.value,teleported:y.value,fallbackPlacements:E.value,transition:b.value,gpuAcceleration:!1},{content:()=>{var n;return h$1("div",{class:[a.m(w.value),a.m("popup-container"),e.popperClass],onMouseenter:e=>M(e,100),onMouseleave:()=>O(!0),onFocus:e=>M(e,100)},[h$1("ul",{class:[a.b(),a.m("popup"),a.m(`popup-${_.value}`)],style:T.value},[null==(n=t.default)?void 0:n.call(t)])])},default:()=>h$1("div",{class:s.e("title"),onClick:P},o)}):h$1(Fragment,{},[h$1("div",{class:s.e("title"),ref:f,onClick:P},o),h$1(_CollapseTransition,{},{default:()=>{var e;return withDirectives(h$1("ul",{role:"menu",class:[a.b(),a.m("inline")],style:T.value},[null==(e=t.default)?void 0:e.call(t)]),[[vShow,C.value]])}})]);return h$1("li",{class:[s.b(),s.is("active",x.value),s.is("opened",C.value),s.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:C.value,onMouseenter:M,onMouseleave:()=>O(!0),onFocus:M},[i])}}});const menuProps=buildProps({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:definePropType(Array),default:()=>mutable([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:iconPropType,default:()=>more_default},popperEffect:{type:String,values:["dark","light"],default:"dark"}}),checkIndexPath=e=>Array.isArray(e)&&e.every((e=>isString$1(e))),menuEmits={close:(e,t)=>isString$1(e)&&checkIndexPath(t),open:(e,t)=>isString$1(e)&&checkIndexPath(t),select:(e,t,n,r)=>isString$1(e)&&checkIndexPath(t)&&isObject$2(n)&&(void 0===r||r instanceof Promise)};var Menu=defineComponent({name:"ElMenu",props:menuProps,emits:menuEmits,setup(e,{emit:t,slots:n,expose:r}){const o=getCurrentInstance(),i=o.appContext.config.globalProperties.$router,a=ref(),s=useNamespace("menu"),l=useNamespace("sub-menu"),u=ref(-1),c=ref(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),d=ref(e.defaultActive),h=ref({}),p=ref({}),f=computed((()=>"horizontal"===e.mode||"vertical"===e.mode&&e.collapse)),m=(n,r)=>{c.value.includes(n)||(e.uniqueOpened&&(c.value=c.value.filter((e=>r.includes(e)))),c.value.push(n),t("open",n,r))},_=e=>{const t=c.value.indexOf(e);-1!==t&&c.value.splice(t,1)},g=(e,n)=>{_(e),t("close",e,n)},v=({index:e,indexPath:t})=>{c.value.includes(e)?g(e,t):m(e,t)},y=n=>{("horizontal"===e.mode||e.collapse)&&(c.value=[]);const{index:r,indexPath:o}=n;if(!isNil(r)&&!isNil(o))if(e.router&&i){const e=n.route||r,a=i.push(e).then((e=>(e||(d.value=r),e)));t("select",r,o,{index:r,indexPath:o,route:e},a)}else d.value=r,t("select",r,o,{index:r,indexPath:o})};let b=!0;const E=()=>{const e=()=>{u.value=-1,nextTick((()=>{u.value=(()=>{var e,t;if(!a.value)return-1;const n=Array.from(null!=(t=null==(e=a.value)?void 0:e.childNodes)?t:[]).filter((e=>"#comment"!==e.nodeName&&("#text"!==e.nodeName||e.nodeValue))),r=Number.parseInt(getComputedStyle(a.value).paddingLeft,10),o=Number.parseInt(getComputedStyle(a.value).paddingRight,10),i=a.value.clientWidth-r-o;let s=0,l=0;return n.forEach(((e,t)=>{s+=e.offsetWidth||0,s<=i-64&&(l=t+1)})),l===n.length?-1:l})()}))};b?e():((e,t=33.34)=>{let n;return()=>{n&&clearTimeout(n),n=setTimeout((()=>{e()}),t)}})(e)(),b=!1};let C;watch((()=>e.defaultActive),(t=>{h.value[t]||(d.value=""),(t=>{const n=h.value,r=n[t]||d.value&&n[d.value]||n[e.defaultActive];d.value=r?r.index:t})(t)})),watch((()=>e.collapse),(e=>{e&&(c.value=[])})),watch(h.value,(()=>{const t=d.value&&h.value[d.value];if(!t||"horizontal"===e.mode||e.collapse)return;t.indexPath.forEach((e=>{const t=p.value[e];t&&m(e,t.indexPath)}))})),watchEffect((()=>{"horizontal"===e.mode&&e.ellipsis?C=useResizeObserver(a,E).stop:null==C||C()}));const x=ref(!1);{const t=e=>{p.value[e.index]=e},n=e=>{delete p.value[e.index]},r=e=>{h.value[e.index]=e},i=e=>{delete h.value[e.index]};provide("rootMenu",reactive({props:e,openedMenus:c,items:h,subMenus:p,activeIndex:d,isMenuPopup:f,addMenuItem:r,removeMenuItem:i,addSubMenu:t,removeSubMenu:n,openMenu:m,closeMenu:g,handleMenuItemClick:y,handleSubMenuClick:v})),provide(`subMenu:${o.uid}`,{addSubMenu:t,removeSubMenu:n,mouseInChild:x,level:0})}onMounted((()=>{"horizontal"===e.mode&&new Menu$1(o.vnode.el,s.namespace.value)}));r({open:e=>{const{indexPath:t}=p.value[e];t.forEach((e=>m(e,t)))},close:_,handleResize:E});return()=>{var r,o;let i=null!=(o=null==(r=n.default)?void 0:r.call(n))?o:[];const d=[];if("horizontal"===e.mode&&a.value){const t=flattedChildren(i),n=-1===u.value?t:t.slice(0,u.value),r=-1===u.value?[]:t.slice(u.value);(null==r?void 0:r.length)&&e.ellipsis&&(i=n,d.push(h$1(SubMenu,{index:"sub-menu-more",class:l.e("hide-arrow"),popperOffset:e.popperOffset},{title:()=>h$1(ElIcon,{class:l.e("icon-more")},{default:()=>h$1(e.ellipsisIcon)}),default:()=>r})))}const h=useMenuCssVar(e,0),f=e.closeOnClickOutside?[[ClickOutside,()=>{c.value.length&&(x.value||(c.value.forEach((e=>{return t("close",e,(n=e,p.value[n].indexPath));var n})),c.value=[]))}]]:[],m=withDirectives(h$1("ul",{key:String(e.collapse),role:"menubar",ref:a,style:h.value,class:{[s.b()]:!0,[s.m(e.mode)]:!0,[s.m("collapse")]:e.collapse}},[...i,...d]),f);return e.collapseTransition&&"vertical"===e.mode?h$1(ElMenuCollapseTransition,(()=>m)):m}}});const menuItemProps=buildProps({index:{type:definePropType([String,null]),default:null},route:{type:definePropType([String,Object])},disabled:Boolean}),menuItemEmits={click:e=>isString$1(e.index)&&Array.isArray(e.indexPath)},COMPONENT_NAME$b="ElMenuItem",_sfc_main$26=defineComponent({name:COMPONENT_NAME$b,components:{ElTooltip:ElTooltip},props:menuItemProps,emits:menuItemEmits,setup(e,{emit:t}){const n=getCurrentInstance(),r=inject("rootMenu"),o=useNamespace("menu"),i=useNamespace("menu-item");r||throwError(COMPONENT_NAME$b,"can not inject root menu");const{parentMenu:a,indexPath:s}=useMenu(n,toRef$1(e,"index")),l=inject(`subMenu:${a.value.uid}`);l||throwError(COMPONENT_NAME$b,"can not inject sub menu");const u=computed((()=>e.index===r.activeIndex)),c=reactive({index:e.index,indexPath:s,active:u});return onMounted((()=>{l.addSubMenu(c),r.addMenuItem(c)})),onBeforeUnmount((()=>{l.removeSubMenu(c),r.removeMenuItem(c)})),{parentMenu:a,rootMenu:r,active:u,nsMenu:o,nsMenuItem:i,handleClick:()=>{e.disabled||(r.handleMenuItemClick({index:e.index,indexPath:s.value,route:e.route}),t("click",c))}}}});function _sfc_render$p(e,t,n,r,o,i){const a=resolveComponent("el-tooltip");return openBlock(),createElementBlock("li",{class:normalizeClass([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:t[0]||(t[0]=(...t)=>e.handleClick&&e.handleClick(...t))},["ElMenu"===e.parentMenu.type.name&&e.rootMenu.props.collapse&&e.$slots.title?(openBlock(),createBlock(a,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:withCtx((()=>[renderSlot(e.$slots,"title")])),default:withCtx((()=>[createBaseVNode("div",{class:normalizeClass(e.nsMenu.be("tooltip","trigger"))},[renderSlot(e.$slots,"default")],2)])),_:3},8,["effect"])):(openBlock(),createElementBlock(Fragment,{key:1},[renderSlot(e.$slots,"default"),renderSlot(e.$slots,"title")],64))],2)}var MenuItem=_export_sfc(_sfc_main$26,[["render",_sfc_render$p],["__file","menu-item.vue"]]);const menuItemGroupProps={title:String},COMPONENT_NAME$a="ElMenuItemGroup",_sfc_main$25=defineComponent({name:COMPONENT_NAME$a,props:menuItemGroupProps,setup:()=>({ns:useNamespace("menu-item-group")})});function _sfc_render$o(e,t,n,r,o,i){return openBlock(),createElementBlock("li",{class:normalizeClass(e.ns.b())},[createBaseVNode("div",{class:normalizeClass(e.ns.e("title"))},[e.$slots.title?renderSlot(e.$slots,"title",{key:1}):(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(e.title),1)],64))],2),createBaseVNode("ul",null,[renderSlot(e.$slots,"default")])],2)}var MenuItemGroup=_export_sfc(_sfc_main$25,[["render",_sfc_render$o],["__file","menu-item-group.vue"]]);const ElMenu=withInstall(Menu,{MenuItem:MenuItem,MenuItemGroup:MenuItemGroup,SubMenu:SubMenu}),ElMenuItem=withNoopInstall(MenuItem),ElMenuItemGroup=withNoopInstall(MenuItemGroup),ElSubMenu=withNoopInstall(SubMenu),pageHeaderProps=buildProps({icon:{type:iconPropType,default:()=>back_default},title:String,content:{type:String,default:""}}),pageHeaderEmits={back:()=>!0},_hoisted_1$1p=["aria-label"],__default__$G=defineComponent({name:"ElPageHeader"}),_sfc_main$24=defineComponent({...__default__$G,props:pageHeaderProps,emits:pageHeaderEmits,setup(e,{emit:t}){const n=useSlots(),{t:r}=useLocale(),o=useNamespace("page-header"),i=computed((()=>[o.b(),{[o.m("has-breadcrumb")]:!!n.breadcrumb,[o.m("has-extra")]:!!n.extra,[o.is("contentful")]:!!n.default}]));function a(){t("back")}return(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(i))},[e.$slots.breadcrumb?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(o).e("breadcrumb"))},[renderSlot(e.$slots,"breadcrumb")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(o).e("header"))},[createBaseVNode("div",{class:normalizeClass(unref(o).e("left"))},[createBaseVNode("div",{class:normalizeClass(unref(o).e("back")),role:"button",tabindex:"0",onClick:a},[e.icon||e.$slots.icon?(openBlock(),createElementBlock("div",{key:0,"aria-label":e.title||unref(r)("el.pageHeader.title"),class:normalizeClass(unref(o).e("icon"))},[renderSlot(e.$slots,"icon",{},(()=>[e.icon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.icon)))])),_:1})):createCommentVNode("v-if",!0)]))],10,_hoisted_1$1p)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(o).e("title"))},[renderSlot(e.$slots,"title",{},(()=>[createTextVNode(toDisplayString(e.title||unref(r)("el.pageHeader.title")),1)]))],2)],2),createVNode(unref(ElDivider),{direction:"vertical"}),createBaseVNode("div",{class:normalizeClass(unref(o).e("content"))},[renderSlot(e.$slots,"content",{},(()=>[createTextVNode(toDisplayString(e.content),1)]))],2)],2),e.$slots.extra?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(o).e("extra"))},[renderSlot(e.$slots,"extra")],2)):createCommentVNode("v-if",!0)],2),e.$slots.default?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(o).e("main"))},[renderSlot(e.$slots,"default")],2)):createCommentVNode("v-if",!0)],2))}});var PageHeader=_export_sfc(_sfc_main$24,[["__file","page-header.vue"]]);const ElPageHeader=withInstall(PageHeader),elPaginationKey=Symbol("elPaginationKey"),paginationPrevProps=buildProps({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:iconPropType}}),paginationPrevEmits={click:e=>e instanceof MouseEvent},_hoisted_1$1o=["disabled","aria-label","aria-disabled"],_hoisted_2$W={key:0},__default__$F=defineComponent({name:"ElPaginationPrev"}),_sfc_main$23=defineComponent({...__default__$F,props:paginationPrevProps,emits:paginationPrevEmits,setup(e){const t=e,{t:n}=useLocale(),r=computed((()=>t.disabled||t.currentPage<=1));return(e,t)=>(openBlock(),createElementBlock("button",{type:"button",class:"btn-prev",disabled:unref(r),"aria-label":e.prevText||unref(n)("el.pagination.prev"),"aria-disabled":unref(r),onClick:t[0]||(t[0]=t=>e.$emit("click",t))},[e.prevText?(openBlock(),createElementBlock("span",_hoisted_2$W,toDisplayString(e.prevText),1)):(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.prevIcon)))])),_:1}))],8,_hoisted_1$1o))}});var Prev=_export_sfc(_sfc_main$23,[["__file","prev.vue"]]);const paginationNextProps=buildProps({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:iconPropType}}),_hoisted_1$1n=["disabled","aria-label","aria-disabled"],_hoisted_2$V={key:0},__default__$E=defineComponent({name:"ElPaginationNext"}),_sfc_main$22=defineComponent({...__default__$E,props:paginationNextProps,emits:["click"],setup(e){const t=e,{t:n}=useLocale(),r=computed((()=>t.disabled||t.currentPage===t.pageCount||0===t.pageCount));return(e,t)=>(openBlock(),createElementBlock("button",{type:"button",class:"btn-next",disabled:unref(r),"aria-label":e.nextText||unref(n)("el.pagination.next"),"aria-disabled":unref(r),onClick:t[0]||(t[0]=t=>e.$emit("click",t))},[e.nextText?(openBlock(),createElementBlock("span",_hoisted_2$V,toDisplayString(e.nextText),1)):(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.nextIcon)))])),_:1}))],8,_hoisted_1$1n))}});var Next=_export_sfc(_sfc_main$22,[["__file","next.vue"]]);const selectGroupKey=Symbol("ElSelectGroup"),selectKey=Symbol("ElSelect");function useOption$1(e,t){const n=inject(selectKey),r=inject(selectGroupKey,{disabled:!1}),o=computed((()=>isObject$2(e.value))),i=computed((()=>n.props.multiple?d(n.props.modelValue,e.value):h(e.value,n.props.modelValue))),a=computed((()=>{if(n.props.multiple){const e=n.props.modelValue||[];return!i.value&&e.length>=n.props.multipleLimit&&n.props.multipleLimit>0}return!1})),s=computed((()=>e.label||(o.value?"":e.value))),l=computed((()=>e.value||e.label||"")),u=computed((()=>e.disabled||t.groupDisabled||a.value)),c=getCurrentInstance(),d=(e=[],t)=>{if(o.value){const r=n.props.valueKey;return e&&e.some((e=>toRaw(get$1(e,r))===get$1(t,r)))}return e&&e.includes(t)},h=(e,t)=>{if(o.value){const{valueKey:r}=n.props;return get$1(e,r)===get$1(t,r)}return e===t};watch((()=>s.value),(()=>{e.created||n.props.remote||n.setSelected()})),watch((()=>e.value),((t,r)=>{const{remote:o,valueKey:i}=n.props;if(Object.is(t,r)||(n.onOptionDestroy(r,c.proxy),n.onOptionCreate(c.proxy)),!e.created&&!o){if(i&&isObject$2(t)&&isObject$2(r)&&t[i]===r[i])return;n.setSelected()}})),watch((()=>r.disabled),(()=>{t.groupDisabled=r.disabled}),{immediate:!0});const{queryChange:p}=toRaw(n);return watch(p,(r=>{const{query:o}=unref(r),i=new RegExp(escapeStringRegexp(o),"i");t.visible=i.test(s.value)||e.created,t.visible||n.filteredOptionsCount--}),{immediate:!0}),{select:n,currentLabel:s,currentValue:l,itemSelected:i,isDisabled:u,hoverItem:()=>{e.disabled||r.disabled||(n.hoverIndex=n.optionsArray.indexOf(c.proxy))}}}const _sfc_main$21=defineComponent({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(e){const t=useNamespace("select"),n=useId(),r=computed((()=>[t.be("dropdown","item"),t.is("disabled",unref(s)),{selected:unref(a),hover:unref(d)}])),o=reactive({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:i,itemSelected:a,isDisabled:s,select:l,hoverItem:u}=useOption$1(e,o),{visible:c,hover:d}=toRefs(o),h=getCurrentInstance().proxy;return l.onOptionCreate(h),onBeforeUnmount((()=>{const e=h.value,{selected:t}=l,n=(l.props.multiple?t:[t]).some((e=>e.value===h.value));nextTick((()=>{l.cachedOptions.get(e)!==h||n||l.cachedOptions.delete(e)})),l.onOptionDestroy(e,h)})),{ns:t,id:n,containerKls:r,currentLabel:i,itemSelected:a,isDisabled:s,select:l,hoverItem:u,visible:c,hover:d,selectOptionClick:function(){!0!==e.disabled&&!0!==o.groupDisabled&&l.handleOptionSelect(h)},states:o}}}),_hoisted_1$1m=["id","aria-disabled","aria-selected"];function _sfc_render$n(e,t,n,r,o,i){return withDirectives((openBlock(),createElementBlock("li",{id:e.id,class:normalizeClass(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMouseenter:t[0]||(t[0]=(...t)=>e.hoverItem&&e.hoverItem(...t)),onClick:t[1]||(t[1]=withModifiers(((...t)=>e.selectOptionClick&&e.selectOptionClick(...t)),["stop"]))},[renderSlot(e.$slots,"default",{},(()=>[createBaseVNode("span",null,toDisplayString(e.currentLabel),1)]))],42,_hoisted_1$1m)),[[vShow,e.visible]])}var Option=_export_sfc(_sfc_main$21,[["render",_sfc_render$n],["__file","option.vue"]]);const _sfc_main$20=defineComponent({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=inject(selectKey),t=useNamespace("select"),n=computed((()=>e.props.popperClass)),r=computed((()=>e.props.multiple)),o=computed((()=>e.props.fitInputWidth)),i=ref("");function a(){var t;i.value=`${null==(t=e.selectWrapper)?void 0:t.offsetWidth}px`}return onMounted((()=>{a(),useResizeObserver(e.selectWrapper,a)})),{ns:t,minWidth:i,popperClass:n,isMultiple:r,isFitInputWidth:o}}});function _sfc_render$m(e,t,n,r,o,i){return openBlock(),createElementBlock("div",{class:normalizeClass([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:normalizeStyle({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(e.ns.be("dropdown","header"))},[renderSlot(e.$slots,"header")],2)):createCommentVNode("v-if",!0),renderSlot(e.$slots,"default"),e.$slots.footer?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(e.ns.be("dropdown","footer"))},[renderSlot(e.$slots,"footer")],2)):createCommentVNode("v-if",!0)],6)}var ElSelectMenu$1=_export_sfc(_sfc_main$20,[["render",_sfc_render$m],["__file","select-dropdown.vue"]]);function useSelectStates(e){const{t:t}=useLocale();return reactive({options:new Map,cachedOptions:new Map,disabledOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:t("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,prefixWidth:11,mouseEnter:!1,focused:!1})}const useSelect$2=(e,t,n)=>{const{t:r}=useLocale(),o=useNamespace("select");useDeprecated({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},computed((()=>!1===e.suffixTransition)));const i=ref(null),a=ref(null),s=ref(null),l=ref(null),u=ref(null),c=ref(null),d=ref(null),h=ref(null),p=ref(),f=shallowRef({query:""}),m=shallowRef(""),_=ref([]);let g=0;const{form:v,formItem:y}=useFormItem(),b=computed((()=>!e.filterable||e.multiple||!t.visible)),E=computed((()=>e.disabled||(null==v?void 0:v.disabled))),C=computed((()=>{const n=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:void 0!==e.modelValue&&null!==e.modelValue&&""!==e.modelValue;return e.clearable&&!E.value&&t.inputHovering&&n})),x=computed((()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon)),w=computed((()=>o.is("reverse",x.value&&t.visible&&e.suffixTransition))),S=computed((()=>(null==v?void 0:v.statusIcon)&&(null==y?void 0:y.validateState)&&ValidateComponentsMap[null==y?void 0:y.validateState])),T=computed((()=>e.remote?300:0)),k=computed((()=>e.loading?e.loadingText||r("el.select.loading"):(!e.remote||""!==t.query||0!==t.options.size)&&(e.filterable&&t.query&&t.options.size>0&&0===t.filteredOptionsCount?e.noMatchText||r("el.select.noMatch"):0===t.options.size?e.noDataText||r("el.select.noData"):null))),L=computed((()=>{const e=Array.from(t.options.values()),n=[];return _.value.forEach((t=>{const r=e.findIndex((e=>e.currentLabel===t));r>-1&&n.push(e[r])})),n.length>=e.length?n:e})),P=computed((()=>Array.from(t.cachedOptions.values()))),M=computed((()=>{const n=L.value.filter((e=>!e.created)).some((e=>e.currentLabel===t.query));return e.filterable&&e.allowCreate&&""!==t.query&&!n})),O=useFormSize(),N=computed((()=>["small"].includes(O.value)?"small":"default")),A=computed({get:()=>t.visible&&!1!==k.value,set(e){t.visible=e}});watch([()=>E.value,()=>O.value,()=>null==v?void 0:v.size],(()=>{nextTick((()=>{I()}))})),watch((()=>e.placeholder),(n=>{t.cachedPlaceHolder=t.currentPlaceholder=n;e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(t.currentPlaceholder="")})),watch((()=>e.modelValue),((n,r)=>{e.multiple&&(I(),n&&n.length>0||a.value&&""!==t.query?t.currentPlaceholder="":t.currentPlaceholder=t.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(t.query="",R(t.query))),D(),e.filterable&&!e.multiple&&(t.inputLength=20),!isEqual$1(n,r)&&e.validateEvent&&(null==y||y.validate("change").catch((e=>debugWarn())))}),{flush:"post",deep:!0}),watch((()=>t.visible),(r=>{var o,i,u,c,d;r?(null==(i=null==(o=l.value)?void 0:o.updatePopper)||i.call(o),e.filterable&&(t.filteredOptionsCount=t.optionsCount,t.query=e.remote?"":t.selectedLabel,null==(c=null==(u=s.value)?void 0:u.focus)||c.call(u),e.multiple?null==(d=a.value)||d.focus():t.selectedLabel&&(t.currentPlaceholder=`${t.selectedLabel}`,t.selectedLabel=""),R(t.query),e.multiple||e.remote||(f.value.query="",triggerRef(f),triggerRef(m)))):(e.filterable&&(isFunction$2(e.filterMethod)&&e.filterMethod(""),isFunction$2(e.remoteMethod)&&e.remoteMethod("")),t.query="",t.previousQuery=null,t.selectedLabel="",t.inputLength=20,t.menuVisibleOnFocus=!1,V(),nextTick((()=>{a.value&&""===a.value.value&&0===t.selected.length&&(t.currentPlaceholder=t.cachedPlaceHolder)})),e.multiple||(t.selected&&(e.filterable&&e.allowCreate&&t.createdSelected&&t.createdLabel?t.selectedLabel=t.createdLabel:t.selectedLabel=t.selected.currentLabel,e.filterable&&(t.query=t.selectedLabel)),e.filterable&&(t.currentPlaceholder=t.cachedPlaceHolder))),n.emit("visible-change",r)})),watch((()=>t.options.entries()),(()=>{var n,r,o;if(!isClient$1)return;null==(r=null==(n=l.value)?void 0:n.updatePopper)||r.call(n),e.multiple&&I();const i=(null==(o=d.value)?void 0:o.querySelectorAll("input"))||[];(e.filterable||e.defaultFirstOption||isUndefined(e.modelValue))&&Array.from(i).includes(document.activeElement)||D(),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&B()}),{flush:"post"}),watch((()=>t.hoverIndex),(e=>{isNumber(e)&&e>-1?p.value=L.value[e]||{}:p.value={},L.value.forEach((e=>{e.hover=p.value===e}))}));const I=()=>{nextTick((()=>{var e,n;if(!i.value)return;const r=i.value.$el.querySelector("input");g=g||(r.clientHeight>0?r.clientHeight+2:0);const a=c.value,s=getComputedStyle(r).getPropertyValue(o.cssVarName("input-height")),u=Number.parseFloat(s)||getComponentSize(O.value||(null==v?void 0:v.size)),d=O.value||u===g||g<=0?u:g;!(null===r.offsetParent)&&(r.style.height=(0===t.selected.length?d:Math.max(a?a.clientHeight+(a.clientHeight>d?6:0):0,d))-2+"px"),t.visible&&!1!==k.value&&(null==(n=null==(e=l.value)?void 0:e.updatePopper)||n.call(e))}))},R=async n=>{t.previousQuery===n||t.isOnComposition||(null!==t.previousQuery||!isFunction$2(e.filterMethod)&&!isFunction$2(e.remoteMethod)?(t.previousQuery=n,nextTick((()=>{var e,n;t.visible&&(null==(n=null==(e=l.value)?void 0:e.updatePopper)||n.call(e))})),t.hoverIndex=-1,e.multiple&&e.filterable&&nextTick((()=>{if(!E.value){const n=15*a.value.value.length+20;t.inputLength=e.collapseTags?Math.min(50,n):n,$()}I()})),e.remote&&isFunction$2(e.remoteMethod)?(t.hoverIndex=-1,e.remoteMethod(n)):isFunction$2(e.filterMethod)?(e.filterMethod(n),triggerRef(m)):(t.filteredOptionsCount=t.optionsCount,f.value.query=n,triggerRef(f),triggerRef(m)),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&(await nextTick(),B())):t.previousQuery=n)},$=()=>{""!==t.currentPlaceholder&&(t.currentPlaceholder=a.value.value?"":t.cachedPlaceHolder)},B=()=>{const e=L.value.filter((e=>e.visible&&!e.disabled&&!e.states.groupDisabled)),n=e.find((e=>e.created)),r=e[0];t.hoverIndex=q(L.value,n||r)},D=()=>{var n;if(!e.multiple){const r=F(e.modelValue);return(null==(n=r.props)?void 0:n.created)?(t.createdLabel=r.props.value,t.createdSelected=!0):t.createdSelected=!1,t.selectedLabel=r.currentLabel,t.selected=r,void(e.filterable&&(t.query=t.selectedLabel))}t.selectedLabel="";const r=[];Array.isArray(e.modelValue)&&e.modelValue.forEach((e=>{r.push(F(e))})),t.selected=r,nextTick((()=>{I()}))},F=n=>{let r;const o="object"===toRawType(n).toLowerCase(),i="null"===toRawType(n).toLowerCase(),a="undefined"===toRawType(n).toLowerCase();for(let l=t.cachedOptions.size-1;l>=0;l--){const t=P.value[l];if(o?get$1(t.value,e.valueKey)===get$1(n,e.valueKey):t.value===n){r={value:n,currentLabel:t.currentLabel,isDisabled:t.isDisabled};break}}if(r)return r;const s={value:n,currentLabel:o?n.label:i||a?"":n};return e.multiple&&(s.hitState=!1),s},V=()=>{setTimeout((()=>{const n=e.valueKey;e.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map((e=>L.value.findIndex((t=>get$1(t,n)===get$1(e,n)))))):t.hoverIndex=-1:t.hoverIndex=L.value.findIndex((e=>ne(e)===ne(t.selected)))}),300)},z=()=>{var e;t.inputWidth=null==(e=i.value)?void 0:e.$el.offsetWidth},j=debounce((()=>{e.filterable&&t.query!==t.selectedLabel&&(t.query=t.selectedLabel,R(t.query))}),T.value),U=debounce((e=>{R(e.target.value)}),T.value),G=t=>{isEqual$1(e.modelValue,t)||n.emit(CHANGE_EVENT,t)},H=e=>findLastIndex(e,(e=>!t.disabledOptions.has(e))),K=(r,o)=>{const i=t.selected.indexOf(o);if(i>-1&&!E.value){const t=e.modelValue.slice();t.splice(i,1),n.emit(UPDATE_MODEL_EVENT,t),G(t),n.emit("remove-tag",o.value)}r.stopPropagation(),Q()},W=r=>{r.stopPropagation();const o=e.multiple?[]:"";if(!isString$1(o))for(const e of t.selected)e.isDisabled&&o.push(e.value);n.emit(UPDATE_MODEL_EVENT,o),G(o),t.hoverIndex=-1,t.visible=!1,n.emit("clear"),Q()},Y=r=>{var o;if(e.multiple){const i=(e.modelValue||[]).slice(),s=q(i,r.value);s>-1?i.splice(s,1):(e.multipleLimit<=0||i.length<e.multipleLimit)&&i.push(r.value),n.emit(UPDATE_MODEL_EVENT,i),G(i),r.created&&(t.query="",R(""),t.inputLength=20),e.filterable&&(null==(o=a.value)||o.focus())}else n.emit(UPDATE_MODEL_EVENT,r.value),G(r.value),t.visible=!1;Z(),t.visible||nextTick((()=>{X(r)}))},q=(t=[],n)=>{if(!isObject$2(n))return t.indexOf(n);const r=e.valueKey;let o=-1;return t.some(((e,t)=>toRaw(get$1(e,r))===get$1(n,r)&&(o=t,!0))),o},Z=()=>{const e=a.value||i.value;e&&(null==e||e.focus())},X=e=>{var t,n,r,i,a;const s=Array.isArray(e)?e[0]:e;let u=null;if(null==s?void 0:s.value){const e=L.value.filter((e=>e.value===s.value));e.length>0&&(u=e[0].$el)}if(l.value&&u){const e=null==(i=null==(r=null==(n=null==(t=l.value)?void 0:t.popperRef)?void 0:n.contentRef)?void 0:r.querySelector)?void 0:i.call(r,`.${o.be("dropdown","wrap")}`);e&&scrollIntoView(e,u)}null==(a=h.value)||a.handleScroll()},J=e=>{if(!Array.isArray(t.selected))return;const n=H(t.selected.map((e=>e.value))),r=t.selected[n];return r?!0===e||!1===e?(r.hitState=e,e):(r.hitState=!r.hitState,r.hitState):void 0},Q=()=>{var e,n;t.visible?null==(e=a.value||i.value)||e.focus():null==(n=i.value)||n.focus()},ee=()=>{t.visible=!1},te=e=>{e&&!t.mouseEnter||E.value||(t.menuVisibleOnFocus?t.menuVisibleOnFocus=!1:l.value&&l.value.isFocusInsideContent()||(t.visible=!t.visible),Q())},ne=t=>isObject$2(t.value)?get$1(t.value,e.valueKey):t.value,re=computed((()=>L.value.filter((e=>e.visible)).every((e=>e.disabled)))),oe=computed((()=>e.multiple?t.selected.slice(0,e.maxCollapseTags):[])),ie=computed((()=>e.multiple?t.selected.slice(e.maxCollapseTags):[])),ae=e=>{if(t.visible){if(0!==t.options.size&&0!==t.filteredOptionsCount&&!t.isOnComposition&&!re.value){"next"===e?(t.hoverIndex++,t.hoverIndex===t.options.size&&(t.hoverIndex=0)):"prev"===e&&(t.hoverIndex--,t.hoverIndex<0&&(t.hoverIndex=t.options.size-1));const n=L.value[t.hoverIndex];!0!==n.disabled&&!0!==n.states.groupDisabled&&n.visible||ae(e),nextTick((()=>X(p.value)))}}else t.visible=!0},se=computed((()=>({maxWidth:unref(t.inputWidth)-32-(S.value?22:0)+"px",width:"100%"})));return{optionList:_,optionsArray:L,hoverOption:p,selectSize:O,handleResize:()=>{var t,n;z(),null==(n=null==(t=l.value)?void 0:t.updatePopper)||n.call(t),e.multiple&&I()},debouncedOnInputChange:j,debouncedQueryChange:U,deletePrevTag:r=>{if(r.code!==EVENT_CODE.delete){if(r.target.value.length<=0&&!J()){const t=e.modelValue.slice(),r=H(t);if(r<0)return;t.splice(r,1),n.emit(UPDATE_MODEL_EVENT,t),G(t)}1===r.target.value.length&&0===e.modelValue.length&&(t.currentPlaceholder=t.cachedPlaceHolder)}},deleteTag:K,deleteSelected:W,handleOptionSelect:Y,scrollToOption:X,readonly:b,resetInputHeight:I,showClose:C,iconComponent:x,iconReverse:w,showNewOption:M,collapseTagSize:N,setSelected:D,managePlaceholder:$,selectDisabled:E,emptyText:k,toggleLastOptionHitState:J,resetInputState:e=>{e.code!==EVENT_CODE.backspace&&J(!1),t.inputLength=15*a.value.value.length+20,I()},handleComposition:e=>{const n=e.target.value;if("compositionend"===e.type)t.isOnComposition=!1,nextTick((()=>R(n)));else{const e=n[n.length-1]||"";t.isOnComposition=!isKorean(e)}},onOptionCreate:e=>{t.optionsCount++,t.filteredOptionsCount++,t.options.set(e.value,e),t.cachedOptions.set(e.value,e),e.disabled&&t.disabledOptions.set(e.value,e)},onOptionDestroy:(e,n)=>{t.options.get(e)===n&&(t.optionsCount--,t.filteredOptionsCount--,t.options.delete(e))},handleMenuEnter:()=>{nextTick((()=>X(t.selected)))},handleFocus:r=>{t.focused||((e.automaticDropdown||e.filterable)&&(e.filterable&&!t.visible&&(t.menuVisibleOnFocus=!0),t.visible=!0),t.focused=!0,n.emit("focus",r))},focus:Q,blur:()=>{var e,n,r;t.visible=!1,null==(e=i.value)||e.blur(),null==(r=null==(n=s.value)?void 0:n.blur)||r.call(n)},handleBlur:e=>{var r,o,i;(null==(r=l.value)?void 0:r.isFocusInsideContent(e))||(null==(o=u.value)?void 0:o.isFocusInsideContent(e))||(null==(i=d.value)?void 0:i.contains(e.relatedTarget))||(t.visible&&ee(),t.focused=!1,n.emit("blur",e))},handleClearClick:e=>{W(e)},handleClose:ee,handleKeydownEscape:e=>{t.visible&&(e.preventDefault(),e.stopPropagation(),t.visible=!1)},toggleMenu:te,selectOption:()=>{t.visible?L.value[t.hoverIndex]&&Y(L.value[t.hoverIndex]):te()},getValueKey:ne,navigateOptions:ae,handleDeleteTooltipTag:(e,t)=>{var n,r;K(e,t),null==(r=null==(n=u.value)?void 0:n.updatePopper)||r.call(n)},dropMenuVisible:A,queryChange:f,groupQueryChange:m,showTagList:oe,collapseTagList:ie,selectTagsStyle:se,reference:i,input:a,iOSInput:s,tooltipRef:l,tagTooltipRef:u,tags:c,selectWrapper:d,scrollbar:h,handleMouseEnter:()=>{t.mouseEnter=!0},handleMouseLeave:()=>{t.mouseEnter=!1}}};var ElOptions=defineComponent({name:"ElOptions",emits:["update-options"],setup(e,{slots:t,emit:n}){let r=[];return()=>{var e,o;const i=null==(e=t.default)?void 0:e.call(t),a=[];return i.length&&function e(t){Array.isArray(t)&&t.forEach((t=>{var n,r,o,i;const s=null==(n=(null==t?void 0:t.type)||{})?void 0:n.name;"ElOptionGroup"===s?e(isString$1(t.children)||Array.isArray(t.children)||!isFunction$2(null==(r=t.children)?void 0:r.default)?t.children:null==(o=t.children)?void 0:o.default()):"ElOption"===s?a.push(null==(i=t.props)?void 0:i.label):Array.isArray(t.children)&&e(t.children)}))}(null==(o=i[0])?void 0:o.children),function(e,t){if(e.length!==t.length)return!1;for(const[n]of e.entries())if(e[n]!=t[n])return!1;return!0}(a,r)||(r=a,n("update-options",a)),i}}});const COMPONENT_NAME$9="ElSelect",_sfc_main$1$=defineComponent({name:COMPONENT_NAME$9,componentName:COMPONENT_NAME$9,components:{ElInput:ElInput,ElSelectMenu:ElSelectMenu$1,ElOption:Option,ElOptions:ElOptions,ElTag:ElTag,ElScrollbar:ElScrollbar,ElTooltip:ElTooltip,ElIcon:ElIcon},directives:{ClickOutside:ClickOutside},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:isValidComponentSize},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:useTooltipContentProps.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:iconPropType,default:circle_close_default},fitInputWidth:Boolean,suffixIcon:{type:iconPropType,default:arrow_down_default},tagType:{...tagProps.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:Ee,default:"bottom-start"},ariaLabel:{type:String,default:void 0}},emits:[UPDATE_MODEL_EVENT,CHANGE_EVENT,"remove-tag","clear","visible-change","focus","blur"],setup(e,t){const n=useNamespace("select"),r=useNamespace("input"),{t:o}=useLocale(),i=useId(),a=useSelectStates(e),{optionList:s,optionsArray:l,hoverOption:u,selectSize:c,readonly:d,handleResize:h,collapseTagSize:p,debouncedOnInputChange:f,debouncedQueryChange:m,deletePrevTag:_,deleteTag:g,deleteSelected:v,handleOptionSelect:y,scrollToOption:b,setSelected:E,resetInputHeight:C,managePlaceholder:x,showClose:w,selectDisabled:S,iconComponent:T,iconReverse:k,showNewOption:L,emptyText:P,toggleLastOptionHitState:M,resetInputState:O,handleComposition:N,onOptionCreate:A,onOptionDestroy:I,handleMenuEnter:R,handleFocus:$,focus:B,blur:D,handleBlur:F,handleClearClick:V,handleClose:z,handleKeydownEscape:j,toggleMenu:U,selectOption:G,getValueKey:H,navigateOptions:K,handleDeleteTooltipTag:W,dropMenuVisible:Y,reference:q,input:Z,iOSInput:X,tooltipRef:J,tagTooltipRef:Q,tags:ee,selectWrapper:te,scrollbar:ne,queryChange:re,groupQueryChange:oe,handleMouseEnter:ie,handleMouseLeave:ae,showTagList:se,collapseTagList:le,selectTagsStyle:ue}=useSelect$2(e,a,t),{inputWidth:ce,selected:de,inputLength:he,filteredOptionsCount:pe,visible:fe,selectedLabel:me,hoverIndex:_e,query:ge,inputHovering:ve,currentPlaceholder:ye,menuVisibleOnFocus:be,isOnComposition:Ee,options:Ce,cachedOptions:xe,optionsCount:we,prefixWidth:Se}=toRefs(a),Te=computed((()=>{const t=[n.b()],r=unref(c);return r&&t.push(n.m(r)),e.disabled&&t.push(n.m("disabled")),t})),ke=computed((()=>[n.e("tags"),n.is("disabled",unref(S))])),Le=computed((()=>[n.b("tags-wrapper"),{"has-prefix":unref(Se)&&unref(de).length}])),Pe=computed((()=>[n.e("input"),n.is(unref(c)),n.is("disabled",unref(S))])),Me=computed((()=>[n.e("input"),n.is(unref(c)),n.em("input","iOS")])),Oe=computed((()=>[n.is("empty",!e.allowCreate&&Boolean(unref(ge))&&0===unref(pe))])),Ne=computed((()=>({maxWidth:`${unref(ce)>123&&unref(de).length>e.maxCollapseTags?unref(ce)-123:unref(ce)-75}px`}))),Ae=computed((()=>({marginLeft:`${unref(Se)}px`,flexGrow:1,width:unref(he)/(unref(ce)-32)+"%",maxWidth:unref(ce)-42+"px"})));provide(selectKey,reactive({props:e,options:Ce,optionsArray:l,cachedOptions:xe,optionsCount:we,filteredOptionsCount:pe,hoverIndex:_e,handleOptionSelect:y,onOptionCreate:A,onOptionDestroy:I,selectWrapper:te,selected:de,setSelected:E,queryChange:re,groupQueryChange:oe})),onMounted((()=>{a.cachedPlaceHolder=ye.value=e.placeholder||(()=>o("el.select.placeholder")),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(ye.value=""),useResizeObserver(te,h),e.remote&&e.multiple&&C(),nextTick((()=>{const e=q.value&&q.value.$el;if(e&&(ce.value=e.getBoundingClientRect().width,t.slots.prefix)){const t=e.querySelector(`.${r.e("prefix")}`);Se.value=Math.max(t.getBoundingClientRect().width+11,30)}})),E()})),e.multiple&&!Array.isArray(e.modelValue)&&t.emit(UPDATE_MODEL_EVENT,[]),!e.multiple&&Array.isArray(e.modelValue)&&t.emit(UPDATE_MODEL_EVENT,"");const Ie=computed((()=>{var e,t;return null==(t=null==(e=J.value)?void 0:e.popperRef)?void 0:t.contentRef}));return{isIOS:isIOS$1,onOptionsRendered:e=>{s.value=e},prefixWidth:Se,selectSize:c,readonly:d,handleResize:h,collapseTagSize:p,debouncedOnInputChange:f,debouncedQueryChange:m,deletePrevTag:_,deleteTag:g,handleDeleteTooltipTag:W,deleteSelected:v,handleOptionSelect:y,scrollToOption:b,inputWidth:ce,selected:de,inputLength:he,filteredOptionsCount:pe,visible:fe,selectedLabel:me,hoverIndex:_e,query:ge,inputHovering:ve,currentPlaceholder:ye,menuVisibleOnFocus:be,isOnComposition:Ee,options:Ce,resetInputHeight:C,managePlaceholder:x,showClose:w,selectDisabled:S,iconComponent:T,iconReverse:k,showNewOption:L,emptyText:P,toggleLastOptionHitState:M,resetInputState:O,handleComposition:N,handleMenuEnter:R,handleFocus:$,focus:B,blur:D,handleBlur:F,handleClearClick:V,handleClose:z,handleKeydownEscape:j,toggleMenu:U,selectOption:G,getValueKey:H,navigateOptions:K,dropMenuVisible:Y,reference:q,input:Z,iOSInput:X,tooltipRef:J,popperPaneRef:Ie,tags:ee,selectWrapper:te,scrollbar:ne,wrapperKls:Te,tagsKls:ke,tagWrapperKls:Le,inputKls:Pe,iOSInputKls:Me,scrollbarKls:Oe,selectTagsStyle:ue,nsSelect:n,tagTextStyle:Ne,inputStyle:Ae,handleMouseEnter:ie,handleMouseLeave:ae,showTagList:se,collapseTagList:le,tagTooltipRef:Q,contentId:i,hoverOption:u}}}),_hoisted_1$1l=["disabled","autocomplete","aria-activedescendant","aria-controls","aria-expanded","aria-label"],_hoisted_2$U=["disabled"],_hoisted_3$D={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function _sfc_render$l(e,t,n,r,o,i){const a=resolveComponent("el-tag"),s=resolveComponent("el-tooltip"),l=resolveComponent("el-icon"),u=resolveComponent("el-input"),c=resolveComponent("el-option"),d=resolveComponent("el-options"),h=resolveComponent("el-scrollbar"),p=resolveComponent("el-select-menu"),f=resolveDirective("click-outside");return withDirectives((openBlock(),createElementBlock("div",{ref:"selectWrapper",class:normalizeClass(e.wrapperKls),onMouseenter:t[22]||(t[22]=(...t)=>e.handleMouseEnter&&e.handleMouseEnter(...t)),onMouseleave:t[23]||(t[23]=(...t)=>e.handleMouseLeave&&e.handleMouseLeave(...t)),onClick:t[24]||(t[24]=withModifiers(((...t)=>e.toggleMenu&&e.toggleMenu(...t)),["stop"]))},[createVNode(s,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:withCtx((()=>{var n,r;return[createBaseVNode("div",{class:"select-trigger",onMouseenter:t[20]||(t[20]=t=>e.inputHovering=!0),onMouseleave:t[21]||(t[21]=t=>e.inputHovering=!1)},[e.multiple?(openBlock(),createElementBlock("div",{key:0,ref:"tags",tabindex:"-1",class:normalizeClass(e.tagsKls),style:normalizeStyle(e.selectTagsStyle),onClick:t[15]||(t[15]=(...t)=>e.focus&&e.focus(...t))},[e.collapseTags&&e.selected.length?(openBlock(),createBlock(Transition,{key:0,onAfterLeave:e.resetInputHeight},{default:withCtx((()=>[createBaseVNode("span",{class:normalizeClass(e.tagWrapperKls)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.showTagList,(t=>(openBlock(),createBlock(a,{key:e.getValueKey(t),closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,hit:t.hitState,type:e.tagType,"disable-transitions":"",onClose:n=>e.deleteTag(n,t)},{default:withCtx((()=>[createBaseVNode("span",{class:normalizeClass(e.nsSelect.e("tags-text")),style:normalizeStyle(e.tagTextStyle)},toDisplayString(t.currentLabel),7)])),_:2},1032,["closable","size","hit","type","onClose"])))),128)),e.selected.length>e.maxCollapseTags?(openBlock(),createBlock(a,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:withCtx((()=>[e.collapseTagsTooltip?(openBlock(),createBlock(s,{key:0,ref:"tagTooltipRef",disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:withCtx((()=>[createBaseVNode("span",{class:normalizeClass(e.nsSelect.e("tags-text"))},"+ "+toDisplayString(e.selected.length-e.maxCollapseTags),3)])),content:withCtx((()=>[createBaseVNode("div",{class:normalizeClass(e.nsSelect.e("collapse-tags"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.collapseTagList,(t=>(openBlock(),createElementBlock("div",{key:e.getValueKey(t),class:normalizeClass(e.nsSelect.e("collapse-tag"))},[createVNode(a,{class:"in-tooltip",closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,hit:t.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:n=>e.handleDeleteTooltipTag(n,t)},{default:withCtx((()=>[createBaseVNode("span",{class:normalizeClass(e.nsSelect.e("tags-text")),style:normalizeStyle({maxWidth:e.inputWidth-75+"px"})},toDisplayString(t.currentLabel),7)])),_:2},1032,["closable","size","hit","type","onClose"])],2)))),128))],2)])),_:1},8,["disabled","effect","teleported"])):(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(e.nsSelect.e("tags-text"))},"+ "+toDisplayString(e.selected.length-e.maxCollapseTags),3))])),_:1},8,["size","type"])):createCommentVNode("v-if",!0)],2)])),_:1},8,["onAfterLeave"])):createCommentVNode("v-if",!0),e.collapseTags?createCommentVNode("v-if",!0):(openBlock(),createBlock(Transition,{key:1,onAfterLeave:e.resetInputHeight},{default:withCtx((()=>[createBaseVNode("span",{class:normalizeClass(e.tagWrapperKls),style:normalizeStyle(e.prefixWidth&&e.selected.length?{marginLeft:`${e.prefixWidth}px`}:"")},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.selected,(t=>(openBlock(),createBlock(a,{key:e.getValueKey(t),closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,hit:t.hitState,type:e.tagType,"disable-transitions":"",onClose:n=>e.deleteTag(n,t)},{default:withCtx((()=>[createBaseVNode("span",{class:normalizeClass(e.nsSelect.e("tags-text")),style:normalizeStyle({maxWidth:e.inputWidth-75+"px"})},toDisplayString(t.currentLabel),7)])),_:2},1032,["closable","size","hit","type","onClose"])))),128))],6)])),_:1},8,["onAfterLeave"])),e.filterable&&!e.selectDisabled?withDirectives((openBlock(),createElementBlock("input",{key:2,ref:"input","onUpdate:modelValue":t[0]||(t[0]=t=>e.query=t),type:"text",class:normalizeClass(e.inputKls),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:normalizeStyle(e.inputStyle),role:"combobox","aria-activedescendant":(null==(n=e.hoverOption)?void 0:n.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:t[1]||(t[1]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[2]||(t[2]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onKeyup:t[3]||(t[3]=(...t)=>e.managePlaceholder&&e.managePlaceholder(...t)),onKeydown:[t[4]||(t[4]=(...t)=>e.resetInputState&&e.resetInputState(...t)),t[5]||(t[5]=withKeys(withModifiers((t=>e.navigateOptions("next")),["prevent"]),["down"])),t[6]||(t[6]=withKeys(withModifiers((t=>e.navigateOptions("prev")),["prevent"]),["up"])),t[7]||(t[7]=withKeys(((...t)=>e.handleKeydownEscape&&e.handleKeydownEscape(...t)),["esc"])),t[8]||(t[8]=withKeys(withModifiers(((...t)=>e.selectOption&&e.selectOption(...t)),["stop","prevent"]),["enter"])),t[9]||(t[9]=withKeys(((...t)=>e.deletePrevTag&&e.deletePrevTag(...t)),["delete"])),t[10]||(t[10]=withKeys((t=>e.visible=!1),["tab"]))],onCompositionstart:t[11]||(t[11]=(...t)=>e.handleComposition&&e.handleComposition(...t)),onCompositionupdate:t[12]||(t[12]=(...t)=>e.handleComposition&&e.handleComposition(...t)),onCompositionend:t[13]||(t[13]=(...t)=>e.handleComposition&&e.handleComposition(...t)),onInput:t[14]||(t[14]=(...t)=>e.debouncedQueryChange&&e.debouncedQueryChange(...t))},null,46,_hoisted_1$1l)),[[vModelText,e.query]]):createCommentVNode("v-if",!0)],6)):createCommentVNode("v-if",!0),e.isIOS&&!e.multiple&&e.filterable&&e.readonly?(openBlock(),createElementBlock("input",{key:1,ref:"iOSInput",class:normalizeClass(e.iOSInputKls),disabled:e.selectDisabled,type:"text"},null,10,_hoisted_2$U)):createCommentVNode("v-if",!0),createVNode(u,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":t[16]||(t[16]=t=>e.selectedLabel=t),type:"text",placeholder:"function"==typeof e.currentPlaceholder?e.currentPlaceholder():e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:normalizeClass([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,role:"combobox","aria-activedescendant":(null==(r=e.hoverOption)?void 0:r.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropMenuVisible,label:e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[t[17]||(t[17]=withKeys(withModifiers((t=>e.navigateOptions("next")),["stop","prevent"]),["down"])),t[18]||(t[18]=withKeys(withModifiers((t=>e.navigateOptions("prev")),["stop","prevent"]),["up"])),withKeys(withModifiers(e.selectOption,["stop","prevent"]),["enter"]),withKeys(e.handleKeydownEscape,["esc"]),t[19]||(t[19]=withKeys((t=>e.visible=!1),["tab"]))]},createSlots({suffix:withCtx((()=>[e.iconComponent&&!e.showClose?(openBlock(),createBlock(l,{key:0,class:normalizeClass([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.iconComponent)))])),_:1},8,["class"])):createCommentVNode("v-if",!0),e.showClose&&e.clearIcon?(openBlock(),createBlock(l,{key:1,class:normalizeClass([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.clearIcon)))])),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)])),_:2},[e.$slots.prefix?{name:"prefix",fn:withCtx((()=>[createBaseVNode("div",_hoisted_3$D,[renderSlot(e.$slots,"prefix")])]))}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","aria-activedescendant","aria-controls","aria-expanded","label","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]})),content:withCtx((()=>[createVNode(p,null,createSlots({default:withCtx((()=>[withDirectives(createVNode(h,{id:e.contentId,ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:normalizeClass(e.scrollbarKls),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical"},{default:withCtx((()=>[e.showNewOption?(openBlock(),createBlock(c,{key:0,value:e.query,created:!0},null,8,["value"])):createCommentVNode("v-if",!0),createVNode(d,{onUpdateOptions:e.onOptionsRendered},{default:withCtx((()=>[renderSlot(e.$slots,"default")])),_:3},8,["onUpdateOptions"])])),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[vShow,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&0===e.options.size)?(openBlock(),createElementBlock(Fragment,{key:0},[e.$slots.empty?renderSlot(e.$slots,"empty",{key:0}):(openBlock(),createElementBlock("p",{key:1,class:normalizeClass(e.nsSelect.be("dropdown","empty"))},toDisplayString(e.emptyText),3))],64)):createCommentVNode("v-if",!0)])),_:2},[e.$slots.header?{name:"header",fn:withCtx((()=>[renderSlot(e.$slots,"header")]))}:void 0,e.$slots.footer?{name:"footer",fn:withCtx((()=>[renderSlot(e.$slots,"footer")]))}:void 0]),1024)])),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[f,e.handleClose,e.popperPaneRef]])}var Select$1=_export_sfc(_sfc_main$1$,[["render",_sfc_render$l],["__file","select.vue"]]);const _sfc_main$1_=defineComponent({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const t=useNamespace("select"),n=ref(!0),r=getCurrentInstance(),o=ref([]);provide(selectGroupKey,reactive({...toRefs(e)}));const i=inject(selectKey);onMounted((()=>{o.value=a(r.subTree)}));const a=e=>{const t=[];return Array.isArray(e.children)&&e.children.forEach((e=>{var n;e.type&&"ElOption"===e.type.name&&e.component&&e.component.proxy?t.push(e.component.proxy):(null==(n=e.children)?void 0:n.length)&&t.push(...a(e))})),t},{groupQueryChange:s}=toRaw(i);return watch(s,(()=>{n.value=o.value.some((e=>!0===e.visible))}),{flush:"post"}),{visible:n,ns:t}}});function _sfc_render$k(e,t,n,r,o,i){return withDirectives((openBlock(),createElementBlock("ul",{class:normalizeClass(e.ns.be("group","wrap"))},[createBaseVNode("li",{class:normalizeClass(e.ns.be("group","title"))},toDisplayString(e.label),3),createBaseVNode("li",null,[createBaseVNode("ul",{class:normalizeClass(e.ns.b("group"))},[renderSlot(e.$slots,"default")],2)])],2)),[[vShow,e.visible]])}var OptionGroup=_export_sfc(_sfc_main$1_,[["render",_sfc_render$k],["__file","option-group.vue"]]);const ElSelect=withInstall(Select$1,{Option:Option,OptionGroup:OptionGroup}),ElOption=withNoopInstall(Option),ElOptionGroup=withNoopInstall(OptionGroup),usePagination=()=>inject(elPaginationKey,{}),paginationSizesProps=buildProps({pageSize:{type:Number,required:!0},pageSizes:{type:definePropType(Array),default:()=>mutable([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:componentSizes}}),__default__$D=defineComponent({name:"ElPaginationSizes"}),_sfc_main$1Z=defineComponent({...__default__$D,props:paginationSizesProps,emits:["page-size-change"],setup(e,{emit:t}){const n=e,{t:r}=useLocale(),o=useNamespace("pagination"),i=usePagination(),a=ref(n.pageSize);watch((()=>n.pageSizes),((e,r)=>{if(!isEqual$1(e,r)&&Array.isArray(e)){const r=e.includes(n.pageSize)?n.pageSize:n.pageSizes[0];t("page-size-change",r)}})),watch((()=>n.pageSize),(e=>{a.value=e}));const s=computed((()=>n.pageSizes));function l(e){var t;e!==a.value&&(a.value=e,null==(t=i.handleSizeChange)||t.call(i,Number(e)))}return(e,t)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(o).e("sizes"))},[createVNode(unref(ElSelect),{"model-value":a.value,disabled:e.disabled,"popper-class":e.popperClass,size:e.size,teleported:e.teleported,"validate-event":!1,onChange:l},{default:withCtx((()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(s),(e=>(openBlock(),createBlock(unref(ElOption),{key:e,value:e,label:e+unref(r)("el.pagination.pagesize")},null,8,["value","label"])))),128))])),_:1},8,["model-value","disabled","popper-class","size","teleported"])],2))}});var Sizes=_export_sfc(_sfc_main$1Z,[["__file","sizes.vue"]]);const paginationJumperProps=buildProps({size:{type:String,values:componentSizes}}),_hoisted_1$1k=["disabled"],__default__$C=defineComponent({name:"ElPaginationJumper"}),_sfc_main$1Y=defineComponent({...__default__$C,props:paginationJumperProps,setup(e){const{t:t}=useLocale(),n=useNamespace("pagination"),{pageCount:r,disabled:o,currentPage:i,changeEvent:a}=usePagination(),s=ref(),l=computed((()=>{var e;return null!=(e=s.value)?e:null==i?void 0:i.value}));function u(e){s.value=e?+e:""}function c(e){e=Math.trunc(+e),null==a||a(e),s.value=void 0}return(e,i)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(n).e("jump")),disabled:unref(o)},[createBaseVNode("span",{class:normalizeClass([unref(n).e("goto")])},toDisplayString(unref(t)("el.pagination.goto")),3),createVNode(unref(ElInput),{size:e.size,class:normalizeClass([unref(n).e("editor"),unref(n).is("in-pagination")]),min:1,max:unref(r),disabled:unref(o),"model-value":unref(l),"validate-event":!1,label:unref(t)("el.pagination.page"),type:"number","onUpdate:modelValue":u,onChange:c},null,8,["size","class","max","disabled","model-value","label"]),createBaseVNode("span",{class:normalizeClass([unref(n).e("classifier")])},toDisplayString(unref(t)("el.pagination.pageClassifier")),3)],10,_hoisted_1$1k))}});var Jumper=_export_sfc(_sfc_main$1Y,[["__file","jumper.vue"]]);const paginationTotalProps=buildProps({total:{type:Number,default:1e3}}),_hoisted_1$1j=["disabled"],__default__$B=defineComponent({name:"ElPaginationTotal"}),_sfc_main$1X=defineComponent({...__default__$B,props:paginationTotalProps,setup(e){const{t:t}=useLocale(),n=useNamespace("pagination"),{disabled:r}=usePagination();return(e,o)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(n).e("total")),disabled:unref(r)},toDisplayString(unref(t)("el.pagination.total",{total:e.total})),11,_hoisted_1$1j))}});var Total=_export_sfc(_sfc_main$1X,[["__file","total.vue"]]);const paginationPagerProps=buildProps({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),_hoisted_1$1i=["onKeyup"],_hoisted_2$T=["aria-current","aria-label","tabindex"],_hoisted_3$C=["tabindex","aria-label"],_hoisted_4$m=["aria-current","aria-label","tabindex"],_hoisted_5$f=["tabindex","aria-label"],_hoisted_6$a=["aria-current","aria-label","tabindex"],__default__$A=defineComponent({name:"ElPaginationPager"}),_sfc_main$1W=defineComponent({...__default__$A,props:paginationPagerProps,emits:["change"],setup(e,{emit:t}){const n=e,r=useNamespace("pager"),o=useNamespace("icon"),{t:i}=useLocale(),a=ref(!1),s=ref(!1),l=ref(!1),u=ref(!1),c=ref(!1),d=ref(!1),h=computed((()=>{const e=n.pagerCount,t=(e-1)/2,r=Number(n.currentPage),o=Number(n.pageCount);let i=!1,a=!1;o>e&&(r>e-t&&(i=!0),r<o-t&&(a=!0));const s=[];if(i&&!a){for(let t=o-(e-2);t<o;t++)s.push(t)}else if(!i&&a)for(let n=2;n<e;n++)s.push(n);else if(i&&a){const t=Math.floor(e/2)-1;for(let e=r-t;e<=r+t;e++)s.push(e)}else for(let n=2;n<o;n++)s.push(n);return s})),p=computed((()=>["more","btn-quickprev",o.b(),r.is("disabled",n.disabled)])),f=computed((()=>["more","btn-quicknext",o.b(),r.is("disabled",n.disabled)])),m=computed((()=>n.disabled?-1:0));function _(e=!1){n.disabled||(e?l.value=!0:u.value=!0)}function g(e=!1){e?c.value=!0:d.value=!0}function v(e){const r=e.target;if("li"===r.tagName.toLowerCase()&&Array.from(r.classList).includes("number")){const e=Number(r.textContent);e!==n.currentPage&&t("change",e)}else"li"===r.tagName.toLowerCase()&&Array.from(r.classList).includes("more")&&y(e)}function y(e){const r=e.target;if("ul"===r.tagName.toLowerCase()||n.disabled)return;let o=Number(r.textContent);const i=n.pageCount,a=n.currentPage,s=n.pagerCount-2;r.className.includes("more")&&(r.className.includes("quickprev")?o=a-s:r.className.includes("quicknext")&&(o=a+s)),Number.isNaN(+o)||(o<1&&(o=1),o>i&&(o=i)),o!==a&&t("change",o)}return watchEffect((()=>{const e=(n.pagerCount-1)/2;a.value=!1,s.value=!1,n.pageCount>n.pagerCount&&(n.currentPage>n.pagerCount-e&&(a.value=!0),n.currentPage<n.pageCount-e&&(s.value=!0))})),(e,t)=>(openBlock(),createElementBlock("ul",{class:normalizeClass(unref(r).b()),onClick:y,onKeyup:withKeys(v,["enter"])},[e.pageCount>0?(openBlock(),createElementBlock("li",{key:0,class:normalizeClass([[unref(r).is("active",1===e.currentPage),unref(r).is("disabled",e.disabled)],"number"]),"aria-current":1===e.currentPage,"aria-label":unref(i)("el.pagination.currentPage",{pager:1}),tabindex:unref(m)}," 1 ",10,_hoisted_2$T)):createCommentVNode("v-if",!0),a.value?(openBlock(),createElementBlock("li",{key:1,class:normalizeClass(unref(p)),tabindex:unref(m),"aria-label":unref(i)("el.pagination.prevPages",{pager:e.pagerCount-2}),onMouseenter:t[0]||(t[0]=e=>_(!0)),onMouseleave:t[1]||(t[1]=e=>l.value=!1),onFocus:t[2]||(t[2]=e=>g(!0)),onBlur:t[3]||(t[3]=e=>c.value=!1)},[!l.value&&!c.value||e.disabled?(openBlock(),createBlock(unref(more_filled_default),{key:1})):(openBlock(),createBlock(unref(d_arrow_left_default),{key:0}))],42,_hoisted_3$C)):createCommentVNode("v-if",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(h),(t=>(openBlock(),createElementBlock("li",{key:t,class:normalizeClass([[unref(r).is("active",e.currentPage===t),unref(r).is("disabled",e.disabled)],"number"]),"aria-current":e.currentPage===t,"aria-label":unref(i)("el.pagination.currentPage",{pager:t}),tabindex:unref(m)},toDisplayString(t),11,_hoisted_4$m)))),128)),s.value?(openBlock(),createElementBlock("li",{key:2,class:normalizeClass(unref(f)),tabindex:unref(m),"aria-label":unref(i)("el.pagination.nextPages",{pager:e.pagerCount-2}),onMouseenter:t[4]||(t[4]=e=>_()),onMouseleave:t[5]||(t[5]=e=>u.value=!1),onFocus:t[6]||(t[6]=e=>g()),onBlur:t[7]||(t[7]=e=>d.value=!1)},[!u.value&&!d.value||e.disabled?(openBlock(),createBlock(unref(more_filled_default),{key:1})):(openBlock(),createBlock(unref(d_arrow_right_default),{key:0}))],42,_hoisted_5$f)):createCommentVNode("v-if",!0),e.pageCount>1?(openBlock(),createElementBlock("li",{key:3,class:normalizeClass([[unref(r).is("active",e.currentPage===e.pageCount),unref(r).is("disabled",e.disabled)],"number"]),"aria-current":e.currentPage===e.pageCount,"aria-label":unref(i)("el.pagination.currentPage",{pager:e.pageCount}),tabindex:unref(m)},toDisplayString(e.pageCount),11,_hoisted_6$a)):createCommentVNode("v-if",!0)],42,_hoisted_1$1i))}});var Pager=_export_sfc(_sfc_main$1W,[["__file","pager.vue"]]);const isAbsent=e=>"number"!=typeof e,paginationProps=buildProps({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>isNumber(e)&&Math.trunc(e)===e&&e>4&&e<22&&e%2==1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:definePropType(Array),default:()=>mutable([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:iconPropType,default:()=>arrow_left_default},nextText:{type:String,default:""},nextIcon:{type:iconPropType,default:()=>arrow_right_default},teleported:{type:Boolean,default:!0},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),paginationEmits={"update:current-page":e=>isNumber(e),"update:page-size":e=>isNumber(e),"size-change":e=>isNumber(e),change:(e,t)=>isNumber(e)&&isNumber(t),"current-change":e=>isNumber(e),"prev-click":e=>isNumber(e),"next-click":e=>isNumber(e)},componentName="ElPagination";var Pagination=defineComponent({name:componentName,props:paginationProps,emits:paginationEmits,setup(e,{emit:t,slots:n}){const{t:r}=useLocale(),o=useNamespace("pagination"),i=getCurrentInstance().vnode.props||{},a="onUpdate:currentPage"in i||"onUpdate:current-page"in i||"onCurrentChange"in i,s="onUpdate:pageSize"in i||"onUpdate:page-size"in i||"onSizeChange"in i,l=computed((()=>{if(isAbsent(e.total)&&isAbsent(e.pageCount))return!1;if(!isAbsent(e.currentPage)&&!a)return!1;if(e.layout.includes("sizes"))if(isAbsent(e.pageCount)){if(!isAbsent(e.total)&&!isAbsent(e.pageSize)&&!s)return!1}else if(!s)return!1;return!0})),u=ref(isAbsent(e.defaultPageSize)?10:e.defaultPageSize),c=ref(isAbsent(e.defaultCurrentPage)?1:e.defaultCurrentPage),d=computed({get:()=>isAbsent(e.pageSize)?u.value:e.pageSize,set(n){isAbsent(e.pageSize)&&(u.value=n),s&&(t("update:page-size",n),t("size-change",n))}}),h=computed((()=>{let t=0;return isAbsent(e.pageCount)?isAbsent(e.total)||(t=Math.max(1,Math.ceil(e.total/d.value))):t=e.pageCount,t})),p=computed({get:()=>isAbsent(e.currentPage)?c.value:e.currentPage,set(n){let r=n;n<1?r=1:n>h.value&&(r=h.value),isAbsent(e.currentPage)&&(c.value=r),a&&(t("update:current-page",r),t("current-change",r))}});function f(e){p.value=e}function m(){e.disabled||(p.value-=1,t("prev-click",p.value))}function _(){e.disabled||(p.value+=1,t("next-click",p.value))}function g(e,t){e&&(e.props||(e.props={}),e.props.class=[e.props.class,t].join(" "))}return watch(h,(e=>{p.value>e&&(p.value=e)})),watch([p,d],(e=>{t("change",...e)}),{flush:"post"}),provide(elPaginationKey,{pageCount:h,disabled:computed((()=>e.disabled)),currentPage:p,changeEvent:f,handleSizeChange:function(e){d.value=e;const t=h.value;p.value>t&&(p.value=t)}}),()=>{var t,i;if(!l.value)return debugWarn(componentName,r("el.pagination.deprecationWarning")),null;if(!e.layout)return null;if(e.hideOnSinglePage&&h.value<=1)return null;const a=[],s=[],u=h$1("div",{class:o.e("rightwrapper")},s),c={prev:h$1(Prev,{disabled:e.disabled,currentPage:p.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:m}),jumper:h$1(Jumper,{size:e.small?"small":"default"}),pager:h$1(Pager,{currentPage:p.value,pageCount:h.value,pagerCount:e.pagerCount,onChange:f,disabled:e.disabled}),next:h$1(Next,{disabled:e.disabled,currentPage:p.value,pageCount:h.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:_}),sizes:h$1(Sizes,{pageSize:d.value,pageSizes:e.pageSizes,popperClass:e.popperClass,disabled:e.disabled,teleported:e.teleported,size:e.small?"small":"default"}),slot:null!=(i=null==(t=null==n?void 0:n.default)?void 0:t.call(n))?i:null,total:h$1(Total,{total:isAbsent(e.total)?0:e.total})},v=e.layout.split(",").map((e=>e.trim()));let y=!1;return v.forEach((e=>{"->"!==e?y?s.push(c[e]):a.push(c[e]):y=!0})),g(a[0],o.is("first")),g(a[a.length-1],o.is("last")),y&&s.length>0&&(g(s[0],o.is("first")),g(s[s.length-1],o.is("last")),a.push(u)),h$1("div",{class:[o.b(),o.is("background",e.background),{[o.m("small")]:e.small}]},a)}}});const ElPagination=withInstall(Pagination),popconfirmProps=buildProps({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:buttonTypes,default:"primary"},cancelButtonType:{type:String,values:buttonTypes,default:"text"},icon:{type:iconPropType,default:()=>question_filled_default},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:useTooltipContentProps.teleported,persistent:useTooltipContentProps.persistent,width:{type:[String,Number],default:150}}),popconfirmEmits={confirm:e=>e instanceof MouseEvent,cancel:e=>e instanceof MouseEvent},__default__$z=defineComponent({name:"ElPopconfirm"}),_sfc_main$1V=defineComponent({...__default__$z,props:popconfirmProps,emits:popconfirmEmits,setup(e,{emit:t}){const n=e,{t:r}=useLocale(),o=useNamespace("popconfirm"),i=ref(),a=()=>{var e,t;null==(t=null==(e=i.value)?void 0:e.onClose)||t.call(e)},s=computed((()=>({width:addUnit(n.width)}))),l=e=>{t("confirm",e),a()},u=e=>{t("cancel",e),a()},c=computed((()=>n.confirmButtonText||r("el.popconfirm.confirmButtonText"))),d=computed((()=>n.cancelButtonText||r("el.popconfirm.cancelButtonText")));return(e,t)=>(openBlock(),createBlock(unref(ElTooltip),mergeProps({ref_key:"tooltipRef",ref:i,trigger:"click",effect:"light"},e.$attrs,{"popper-class":`${unref(o).namespace.value}-popover`,"popper-style":unref(s),teleported:e.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":e.hideAfter,persistent:e.persistent}),{content:withCtx((()=>[createBaseVNode("div",{class:normalizeClass(unref(o).b())},[createBaseVNode("div",{class:normalizeClass(unref(o).e("main"))},[!e.hideIcon&&e.icon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(o).e("icon")),style:normalizeStyle({color:e.iconColor})},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.icon)))])),_:1},8,["class","style"])):createCommentVNode("v-if",!0),createTextVNode(" "+toDisplayString(e.title),1)],2),createBaseVNode("div",{class:normalizeClass(unref(o).e("action"))},[createVNode(unref(ElButton),{size:"small",type:"text"===e.cancelButtonType?"":e.cancelButtonType,text:"text"===e.cancelButtonType,onClick:u},{default:withCtx((()=>[createTextVNode(toDisplayString(unref(d)),1)])),_:1},8,["type","text"]),createVNode(unref(ElButton),{size:"small",type:"text"===e.confirmButtonType?"":e.confirmButtonType,text:"text"===e.confirmButtonType,onClick:l},{default:withCtx((()=>[createTextVNode(toDisplayString(unref(c)),1)])),_:1},8,["type","text"])],2)],2)])),default:withCtx((()=>[e.$slots.reference?renderSlot(e.$slots,"reference",{key:0}):createCommentVNode("v-if",!0)])),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var Popconfirm=_export_sfc(_sfc_main$1V,[["__file","popconfirm.vue"]]);const ElPopconfirm=withInstall(Popconfirm),popoverProps=buildProps({trigger:useTooltipTriggerProps.trigger,placement:dropdownProps.placement,disabled:useTooltipTriggerProps.disabled,visible:useTooltipContentProps.visible,transition:useTooltipContentProps.transition,popperOptions:dropdownProps.popperOptions,tabindex:dropdownProps.tabindex,content:useTooltipContentProps.content,popperStyle:useTooltipContentProps.popperStyle,popperClass:useTooltipContentProps.popperClass,enterable:{...useTooltipContentProps.enterable,default:!0},effect:{...useTooltipContentProps.effect,default:"light"},teleported:useTooltipContentProps.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),popoverEmits={"update:visible":e=>isBoolean(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},updateEventKeyRaw="onUpdate:visible",__default__$y=defineComponent({name:"ElPopover"}),_sfc_main$1U=defineComponent({...__default__$y,props:popoverProps,emits:popoverEmits,setup(e,{expose:t,emit:n}){const r=e,o=computed((()=>r[updateEventKeyRaw])),i=useNamespace("popover"),a=ref(),s=computed((()=>{var e;return null==(e=unref(a))?void 0:e.popperRef})),l=computed((()=>[{width:addUnit(r.width)},r.popperStyle])),u=computed((()=>[i.b(),r.popperClass,{[i.m("plain")]:!!r.content}])),c=computed((()=>r.transition===`${i.namespace.value}-fade-in-linear`)),d=()=>{n("before-enter")},h=()=>{n("before-leave")},p=()=>{n("after-enter")},f=()=>{n("update:visible",!1),n("after-leave")};return t({popperRef:s,hide:()=>{var e;null==(e=a.value)||e.hide()}}),(e,t)=>(openBlock(),createBlock(unref(ElTooltip),mergeProps({ref_key:"tooltipRef",ref:a},e.$attrs,{trigger:e.trigger,placement:e.placement,disabled:e.disabled,visible:e.visible,transition:e.transition,"popper-options":e.popperOptions,tabindex:e.tabindex,content:e.content,offset:e.offset,"show-after":e.showAfter,"hide-after":e.hideAfter,"auto-close":e.autoClose,"show-arrow":e.showArrow,"aria-label":e.title,effect:e.effect,enterable:e.enterable,"popper-class":unref(u),"popper-style":unref(l),teleported:e.teleported,persistent:e.persistent,"gpu-acceleration":unref(c),"onUpdate:visible":unref(o),onBeforeShow:d,onBeforeHide:h,onShow:p,onHide:f}),{content:withCtx((()=>[e.title?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(i).e("title")),role:"title"},toDisplayString(e.title),3)):createCommentVNode("v-if",!0),renderSlot(e.$slots,"default",{},(()=>[createTextVNode(toDisplayString(e.content),1)]))])),default:withCtx((()=>[e.$slots.reference?renderSlot(e.$slots,"reference",{key:0}):createCommentVNode("v-if",!0)])),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var Popover=_export_sfc(_sfc_main$1U,[["__file","popover.vue"]]);const attachEvents=(e,t)=>{const n=t.arg||t.value,r=null==n?void 0:n.popperRef;r&&(r.triggerRef=e)};var PopoverDirective={mounted(e,t){attachEvents(e,t)},updated(e,t){attachEvents(e,t)}};const VPopover="popover",ElPopoverDirective=withInstallDirective(PopoverDirective,VPopover),ElPopover=withInstall(Popover,{directive:ElPopoverDirective}),progressProps=buildProps({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:definePropType(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:definePropType([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:definePropType(Function),default:e=>`${e}%`}}),_hoisted_1$1h=["aria-valuenow"],_hoisted_2$S={viewBox:"0 0 100 100"},_hoisted_3$B=["d","stroke","stroke-linecap","stroke-width"],_hoisted_4$l=["d","stroke","opacity","stroke-linecap","stroke-width"],_hoisted_5$e={key:0},__default__$x=defineComponent({name:"ElProgress"}),_sfc_main$1T=defineComponent({...__default__$x,props:progressProps,setup(e){const t=e,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},r=useNamespace("progress"),o=computed((()=>({width:`${t.percentage}%`,animationDuration:`${t.duration}s`,backgroundColor:g(t.percentage)}))),i=computed((()=>(t.strokeWidth/t.width*100).toFixed(1))),a=computed((()=>["circle","dashboard"].includes(t.type)?Number.parseInt(""+(50-Number.parseFloat(i.value)/2),10):0)),s=computed((()=>{const e=a.value,n="dashboard"===t.type;return`\n          M 50 50\n          m 0 ${n?"":"-"}${e}\n          a ${e} ${e} 0 1 1 0 ${n?"-":""}${2*e}\n          a ${e} ${e} 0 1 1 0 ${n?"":"-"}${2*e}\n          `})),l=computed((()=>2*Math.PI*a.value)),u=computed((()=>"dashboard"===t.type?.75:1)),c=computed((()=>`${-1*l.value*(1-u.value)/2}px`)),d=computed((()=>({strokeDasharray:`${l.value*u.value}px, ${l.value}px`,strokeDashoffset:c.value}))),h=computed((()=>({strokeDasharray:`${l.value*u.value*(t.percentage/100)}px, ${l.value}px`,strokeDashoffset:c.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"}))),p=computed((()=>{let e;return e=t.color?g(t.percentage):n[t.status]||n.default,e})),f=computed((()=>"warning"===t.status?warning_filled_default:"line"===t.type?"success"===t.status?circle_check_default:circle_close_default:"success"===t.status?check_default:close_default)),m=computed((()=>"line"===t.type?12+.4*t.strokeWidth:.111111*t.width+2)),_=computed((()=>t.format(t.percentage)));const g=e=>{var n;const{color:r}=t;if(isFunction$2(r))return r(e);if(isString$1(r))return r;{const t=function(e){const t=100/e.length;return e.map(((e,n)=>isString$1(e)?{color:e,percentage:(n+1)*t}:e)).sort(((e,t)=>e.percentage-t.percentage))}(r);for(const n of t)if(n.percentage>e)return n.color;return null==(n=t[t.length-1])?void 0:n.color}};return(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(r).b(),unref(r).m(e.type),unref(r).is(e.status),{[unref(r).m("without-text")]:!e.showText,[unref(r).m("text-inside")]:e.textInside}]),role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"},["line"===e.type?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).b("bar"))},[createBaseVNode("div",{class:normalizeClass(unref(r).be("bar","outer")),style:normalizeStyle({height:`${e.strokeWidth}px`})},[createBaseVNode("div",{class:normalizeClass([unref(r).be("bar","inner"),{[unref(r).bem("bar","inner","indeterminate")]:e.indeterminate},{[unref(r).bem("bar","inner","striped")]:e.striped},{[unref(r).bem("bar","inner","striped-flow")]:e.stripedFlow}]),style:normalizeStyle(unref(o))},[(e.showText||e.$slots.default)&&e.textInside?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).be("bar","innerText"))},[renderSlot(e.$slots,"default",{percentage:e.percentage},(()=>[createBaseVNode("span",null,toDisplayString(unref(_)),1)]))],2)):createCommentVNode("v-if",!0)],6)],6)],2)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(r).b("circle")),style:normalizeStyle({height:`${e.width}px`,width:`${e.width}px`})},[(openBlock(),createElementBlock("svg",_hoisted_2$S,[createBaseVNode("path",{class:normalizeClass(unref(r).be("circle","track")),d:unref(s),stroke:`var(${unref(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":e.strokeLinecap,"stroke-width":unref(i),fill:"none",style:normalizeStyle(unref(d))},null,14,_hoisted_3$B),createBaseVNode("path",{class:normalizeClass(unref(r).be("circle","path")),d:unref(s),stroke:unref(p),fill:"none",opacity:e.percentage?1:0,"stroke-linecap":e.strokeLinecap,"stroke-width":unref(i),style:normalizeStyle(unref(h))},null,14,_hoisted_4$l)]))],6)),!e.showText&&!e.$slots.default||e.textInside?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(unref(r).e("text")),style:normalizeStyle({fontSize:`${unref(m)}px`})},[renderSlot(e.$slots,"default",{percentage:e.percentage},(()=>[e.status?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(f))))])),_:1})):(openBlock(),createElementBlock("span",_hoisted_5$e,toDisplayString(unref(_)),1))]))],6))],10,_hoisted_1$1h))}});var Progress=_export_sfc(_sfc_main$1T,[["__file","progress.vue"]]);const ElProgress=withInstall(Progress),rateProps=buildProps({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:definePropType([Array,Object]),default:()=>mutable(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:definePropType([Array,Object]),default:()=>[star_filled_default,star_filled_default,star_filled_default]},voidIcon:{type:iconPropType,default:()=>star_default},disabledVoidIcon:{type:iconPropType,default:()=>star_filled_default},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:definePropType(Array),default:()=>mutable(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:useSizeProp,label:{type:String,default:void 0},clearable:{type:Boolean,default:!1}}),rateEmits={[CHANGE_EVENT]:e=>isNumber(e),[UPDATE_MODEL_EVENT]:e=>isNumber(e)},_hoisted_1$1g=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],_hoisted_2$R=["onMousemove","onClick"],__default__$w=defineComponent({name:"ElRate"}),_sfc_main$1S=defineComponent({...__default__$w,props:rateProps,emits:rateEmits,setup(e,{expose:t,emit:n}){const r=e;function o(e,t){const n=e=>isObject$2(e),r=Object.keys(t).map((e=>+e)).filter((r=>{const o=t[r];return!!n(o)&&o.excluded?e<r:e<=r})).sort(((e,t)=>e-t)),o=t[r[0]];return n(o)&&o.value||o}const i=inject(formContextKey,void 0),a=inject(formItemContextKey,void 0),s=useFormSize(),l=useNamespace("rate"),{inputId:u,isLabeledByFormItem:c}=useFormItemInputId(r,{formItemContext:a}),d=ref(r.modelValue),h=ref(-1),p=ref(!0),f=computed((()=>[l.b(),l.m(s.value)])),m=computed((()=>r.disabled||(null==i?void 0:i.disabled))),_=computed((()=>l.cssVarBlock({"void-color":r.voidColor,"disabled-void-color":r.disabledVoidColor,"fill-color":b.value}))),g=computed((()=>{let e="";return r.showScore?e=r.scoreTemplate.replace(/\{\s*value\s*\}/,m.value?`${r.modelValue}`:`${d.value}`):r.showText&&(e=r.texts[Math.ceil(d.value)-1]),e})),v=computed((()=>100*r.modelValue-100*Math.floor(r.modelValue))),y=computed((()=>isArray$1(r.colors)?{[r.lowThreshold]:r.colors[0],[r.highThreshold]:{value:r.colors[1],excluded:!0},[r.max]:r.colors[2]}:r.colors)),b=computed((()=>{const e=o(d.value,y.value);return isObject$2(e)?"":e})),E=computed((()=>{let e="";return m.value?e=`${v.value}%`:r.allowHalf&&(e="50%"),{color:b.value,width:e}})),C=computed((()=>{let e=isArray$1(r.icons)?[...r.icons]:{...r.icons};return e=markRaw(e),isArray$1(e)?{[r.lowThreshold]:e[0],[r.highThreshold]:{value:e[1],excluded:!0},[r.max]:e[2]}:e})),x=computed((()=>o(r.modelValue,C.value))),w=computed((()=>m.value?isString$1(r.disabledVoidIcon)?r.disabledVoidIcon:markRaw(r.disabledVoidIcon):isString$1(r.voidIcon)?r.voidIcon:markRaw(r.voidIcon))),S=computed((()=>o(d.value,C.value)));function T(e){const t=m.value&&v.value>0&&e-1<r.modelValue&&e>r.modelValue,n=r.allowHalf&&p.value&&e-.5<=d.value&&e>d.value;return t||n}function k(e){r.clearable&&e===r.modelValue&&(e=0),n(UPDATE_MODEL_EVENT,e),r.modelValue!==e&&n("change",e)}function L(e){if(m.value)return;let t=d.value;const o=e.code;return o===EVENT_CODE.up||o===EVENT_CODE.right?(r.allowHalf?t+=.5:t+=1,e.stopPropagation(),e.preventDefault()):o!==EVENT_CODE.left&&o!==EVENT_CODE.down||(r.allowHalf?t-=.5:t-=1,e.stopPropagation(),e.preventDefault()),t=t<0?0:t,t=t>r.max?r.max:t,n(UPDATE_MODEL_EVENT,t),n("change",t),t}function P(e,t){if(!m.value){if(r.allowHalf&&t){let n=t.target;hasClass(n,l.e("item"))&&(n=n.querySelector(`.${l.e("icon")}`)),(0===n.clientWidth||hasClass(n,l.e("decimal")))&&(n=n.parentNode),p.value=2*t.offsetX<=n.clientWidth,d.value=p.value?e-.5:e}else d.value=e;h.value=e}}function M(){m.value||(r.allowHalf&&(p.value=r.modelValue!==Math.floor(r.modelValue)),d.value=r.modelValue,h.value=-1)}return watch((()=>r.modelValue),(e=>{d.value=e,p.value=r.modelValue!==Math.floor(r.modelValue)})),r.modelValue||n(UPDATE_MODEL_EVENT,0),t({setCurrentValue:P,resetCurrentValue:M}),(e,t)=>{var n;return openBlock(),createElementBlock("div",{id:unref(u),class:normalizeClass([unref(f),unref(l).is("disabled",unref(m))]),role:"slider","aria-label":unref(c)?void 0:e.label||"rating","aria-labelledby":unref(c)?null==(n=unref(a))?void 0:n.labelId:void 0,"aria-valuenow":d.value,"aria-valuetext":unref(g)||void 0,"aria-valuemin":"0","aria-valuemax":e.max,tabindex:"0",style:normalizeStyle(unref(_)),onKeydown:L},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.max,((e,t)=>(openBlock(),createElementBlock("span",{key:t,class:normalizeClass(unref(l).e("item")),onMousemove:t=>P(e,t),onMouseleave:M,onClick:t=>{return n=e,void(m.value||(r.allowHalf&&p.value?k(d.value):k(n)));var n}},[createVNode(unref(ElIcon),{class:normalizeClass([unref(l).e("icon"),{hover:h.value===e},unref(l).is("active",e<=d.value)])},{default:withCtx((()=>[T(e)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:0},[withDirectives((openBlock(),createBlock(resolveDynamicComponent(unref(S)),null,null,512)),[[vShow,e<=d.value]]),withDirectives((openBlock(),createBlock(resolveDynamicComponent(unref(w)),null,null,512)),[[vShow,!(e<=d.value)]])],64)),T(e)?(openBlock(),createElementBlock(Fragment,{key:1},[(openBlock(),createBlock(resolveDynamicComponent(unref(w)),{class:normalizeClass([unref(l).em("decimal","box")])},null,8,["class"])),createVNode(unref(ElIcon),{style:normalizeStyle(unref(E)),class:normalizeClass([unref(l).e("icon"),unref(l).e("decimal")])},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(x))))])),_:1},8,["style","class"])],64)):createCommentVNode("v-if",!0)])),_:2},1032,["class"])],42,_hoisted_2$R)))),128)),e.showText||e.showScore?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(l).e("text")),style:normalizeStyle({color:e.textColor})},toDisplayString(unref(g)),7)):createCommentVNode("v-if",!0)],46,_hoisted_1$1g)}}});var Rate=_export_sfc(_sfc_main$1S,[["__file","rate.vue"]]);const ElRate=withInstall(Rate),IconMap={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},IconComponentMap={[IconMap.success]:circle_check_filled_default,[IconMap.warning]:warning_filled_default,[IconMap.error]:circle_close_filled_default,[IconMap.info]:info_filled_default},resultProps=buildProps({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),__default__$v=defineComponent({name:"ElResult"}),_sfc_main$1R=defineComponent({...__default__$v,props:resultProps,setup(e){const t=e,n=useNamespace("result"),r=computed((()=>{const e=t.icon,n=e&&IconMap[e]?IconMap[e]:"icon-info";return{class:n,component:IconComponentMap[n]||IconComponentMap["icon-info"]}}));return(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(n).b())},[createBaseVNode("div",{class:normalizeClass(unref(n).e("icon"))},[renderSlot(e.$slots,"icon",{},(()=>[unref(r).component?(openBlock(),createBlock(resolveDynamicComponent(unref(r).component),{key:0,class:normalizeClass(unref(r).class)},null,8,["class"])):createCommentVNode("v-if",!0)]))],2),e.title||e.$slots.title?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(n).e("title"))},[renderSlot(e.$slots,"title",{},(()=>[createBaseVNode("p",null,toDisplayString(e.title),1)]))],2)):createCommentVNode("v-if",!0),e.subTitle||e.$slots["sub-title"]?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(n).e("subtitle"))},[renderSlot(e.$slots,"sub-title",{},(()=>[createBaseVNode("p",null,toDisplayString(e.subTitle),1)]))],2)):createCommentVNode("v-if",!0),e.$slots.extra?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(unref(n).e("extra"))},[renderSlot(e.$slots,"extra")],2)):createCommentVNode("v-if",!0)],2))}});var Result=_export_sfc(_sfc_main$1R,[["__file","result.vue"]]);const ElResult=withInstall(Result);var safeIsNaN=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function isEqual(e,t){return e===t||!(!safeIsNaN(e)||!safeIsNaN(t))}function areInputsEqual(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!isEqual(e[n],t[n]))return!1;return!0}function memoizeOne(e,t){void 0===t&&(t=areInputsEqual);var n=null;function r(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var i=e.apply(this,r);return n={lastResult:i,lastArgs:r,lastThis:this},i}return r.clear=function(){n=null},r}const useCache=()=>{const e=getCurrentInstance().proxy.$props;return computed((()=>{const t=(e,t,n)=>({});return e.perfMode?memoize(t):memoizeOne(t)}))},DEFAULT_DYNAMIC_LIST_ITEM_SIZE=50,ITEM_RENDER_EVT="itemRendered",SCROLL_EVT="scroll",FORWARD="forward",BACKWARD="backward",AUTO_ALIGNMENT="auto",SMART_ALIGNMENT="smart",START_ALIGNMENT="start",CENTERED_ALIGNMENT="center",END_ALIGNMENT="end",HORIZONTAL="horizontal",VERTICAL="vertical",LTR="ltr",RTL="rtl",RTL_OFFSET_NAG="negative",RTL_OFFSET_POS_ASC="positive-ascending",RTL_OFFSET_POS_DESC="positive-descending",ScrollbarDirKey={[HORIZONTAL]:"left",[VERTICAL]:"top"},SCROLLBAR_MIN_SIZE=20,LayoutKeys={[HORIZONTAL]:"deltaX",[VERTICAL]:"deltaY"},useWheel=({atEndEdge:e,atStartEdge:t,layout:n},r)=>{let o,i=0;const a=n=>n<0&&t.value||n>0&&e.value;return{hasReachedEdge:a,onWheel:e=>{cAF(o);const t=e[LayoutKeys[n.value]];a(i)&&a(i+t)||(i+=t,isFirefox()||e.preventDefault(),o=rAF((()=>{r(i),i=0})))}}},itemSize$1=buildProp({type:definePropType([Number,Function]),required:!0}),estimatedItemSize=buildProp({type:Number}),cache=buildProp({type:Number,default:2}),direction=buildProp({type:String,values:["ltr","rtl"],default:"ltr"}),initScrollOffset=buildProp({type:Number,default:0}),total=buildProp({type:Number,required:!0}),layout=buildProp({type:String,values:["horizontal","vertical"],default:VERTICAL}),virtualizedProps=buildProps({className:{type:String,default:""},containerElement:{type:definePropType([String,Object]),default:"div"},data:{type:definePropType(Array),default:()=>mutable([])},direction:direction,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:definePropType([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),virtualizedListProps=buildProps({cache:cache,estimatedItemSize:estimatedItemSize,layout:layout,initScrollOffset:initScrollOffset,total:total,itemSize:itemSize$1,...virtualizedProps}),scrollbarSize={type:Number,default:6},startGap={type:Number,default:0},endGap={type:Number,default:2},virtualizedGridProps=buildProps({columnCache:cache,columnWidth:itemSize$1,estimatedColumnWidth:estimatedItemSize,estimatedRowHeight:estimatedItemSize,initScrollLeft:initScrollOffset,initScrollTop:initScrollOffset,itemKey:{type:definePropType(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:cache,rowHeight:itemSize$1,totalColumn:total,totalRow:total,hScrollbarSize:scrollbarSize,vScrollbarSize:scrollbarSize,scrollbarStartGap:startGap,scrollbarEndGap:endGap,role:String,...virtualizedProps}),virtualizedScrollbarProps=buildProps({alwaysOn:Boolean,class:String,layout:layout,total:total,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:scrollbarSize,startGap:startGap,endGap:endGap,visible:Boolean}),getScrollDir=(e,t)=>e<t?FORWARD:BACKWARD,isHorizontal=e=>e===LTR||e===RTL||e===HORIZONTAL,isRTL=e=>e===RTL;let cachedRTLResult=null;function getRTLOffsetType(e=!1){if(null===cachedRTLResult||e){const e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";const n=document.createElement("div"),r=n.style;return r.width="100px",r.height="100px",e.appendChild(n),document.body.appendChild(e),e.scrollLeft>0?cachedRTLResult=RTL_OFFSET_POS_DESC:(e.scrollLeft=1,cachedRTLResult=0===e.scrollLeft?RTL_OFFSET_NAG:RTL_OFFSET_POS_ASC),document.body.removeChild(e),cachedRTLResult}return cachedRTLResult}function renderThumbStyle({move:e,size:t,bar:n},r){const o={},i=`translate${n.axis}(${e}px)`;return o[n.size]=t,o.transform=i,o.msTransform=i,o.webkitTransform=i,"horizontal"===r?o.height="100%":o.width="100%",o}const ScrollBar=defineComponent({name:"ElVirtualScrollBar",props:virtualizedScrollbarProps,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const n=computed((()=>e.startGap+e.endGap)),r=useNamespace("virtual-scrollbar"),o=useNamespace("scrollbar"),i=ref(),a=ref();let s=null,l=null;const u=reactive({isDragging:!1,traveled:0}),c=computed((()=>BAR_MAP[e.layout])),d=computed((()=>e.clientSize-unref(n))),h=computed((()=>({position:"absolute",width:`${HORIZONTAL===e.layout?d.value:e.scrollbarSize}px`,height:`${HORIZONTAL===e.layout?e.scrollbarSize:d.value}px`,[ScrollbarDirKey[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"}))),p=computed((()=>{const t=e.ratio,n=e.clientSize;if(t>=100)return Number.POSITIVE_INFINITY;if(t>=50)return t*n/100;const r=n/3;return Math.floor(Math.min(Math.max(t*n,SCROLLBAR_MIN_SIZE),r))})),f=computed((()=>{if(!Number.isFinite(p.value))return{display:"none"};const t=`${p.value}px`;return renderThumbStyle({bar:c.value,size:t,move:u.traveled},e.layout)})),m=computed((()=>Math.floor(e.clientSize-p.value-unref(n)))),_=()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",v),document.onselectstart=l,l=null;const e=unref(a);e&&(e.removeEventListener("touchmove",y),e.removeEventListener("touchend",v))},g=e=>{e.stopImmediatePropagation(),e.ctrlKey||[1,2].includes(e.button)||(u.isDragging=!0,u[c.value.axis]=e.currentTarget[c.value.offset]-(e[c.value.client]-e.currentTarget.getBoundingClientRect()[c.value.direction]),t("start-move"),(()=>{window.addEventListener("mousemove",y),window.addEventListener("mouseup",v);const e=unref(a);e&&(l=document.onselectstart,document.onselectstart=()=>!1,e.addEventListener("touchmove",y),e.addEventListener("touchend",v))})())},v=()=>{u.isDragging=!1,u[c.value.axis]=0,t("stop-move"),_()},y=n=>{const{isDragging:r}=u;if(!r)return;if(!a.value||!i.value)return;const o=u[c.value.axis];if(!o)return;cAF(s);const l=-1*(i.value.getBoundingClientRect()[c.value.direction]-n[c.value.client])-(a.value[c.value.offset]-o);s=rAF((()=>{u.traveled=Math.max(e.startGap,Math.min(l,m.value)),t("scroll",l,m.value)}))},b=e=>{const n=Math.abs(e.target.getBoundingClientRect()[c.value.direction]-e[c.value.client])-a.value[c.value.offset]/2;u.traveled=Math.max(0,Math.min(n,m.value)),t("scroll",n,m.value)};return watch((()=>e.scrollFrom),(e=>{u.isDragging||(u.traveled=Math.ceil(e*m.value))})),onBeforeUnmount((()=>{_()})),()=>h$1("div",{role:"presentation",ref:i,class:[r.b(),e.class,(e.alwaysOn||u.isDragging)&&"always-on"],style:h.value,onMousedown:withModifiers(b,["stop","prevent"]),onTouchstartPrevent:g},h$1("div",{ref:a,class:o.e("thumb"),style:f.value,onMousedown:g},[]))}}),createList=({name:e,getOffset:t,getItemSize:n,getItemOffset:r,getEstimatedTotalSize:o,getStartIndexForOffset:i,getStopIndexForStartIndex:a,initCache:s,clearCache:l,validateProps:u})=>defineComponent({name:null!=e?e:"ElVirtualList",props:virtualizedListProps,emits:[ITEM_RENDER_EVT,SCROLL_EVT],setup(e,{emit:c,expose:d}){u(e);const h=getCurrentInstance(),p=useNamespace("vl"),f=ref(s(e,h)),m=useCache(),_=ref(),g=ref(),v=ref(),y=ref({isScrolling:!1,scrollDir:"forward",scrollOffset:isNumber(e.initScrollOffset)?e.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:e.scrollbarAlwaysOn}),b=computed((()=>{const{total:t,cache:n}=e,{isScrolling:r,scrollDir:o,scrollOffset:s}=unref(y);if(0===t)return[0,0,0,0];const l=i(e,s,unref(f)),u=a(e,l,s,unref(f)),c=r&&o!==BACKWARD?1:Math.max(1,n),d=r&&o!==FORWARD?1:Math.max(1,n);return[Math.max(0,l-c),Math.max(0,Math.min(t-1,u+d)),l,u]})),E=computed((()=>o(e,unref(f)))),C=computed((()=>isHorizontal(e.layout))),x=computed((()=>[{position:"relative",["overflow-"+(C.value?"x":"y")]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:e.direction,height:isNumber(e.height)?`${e.height}px`:e.height,width:isNumber(e.width)?`${e.width}px`:e.width},e.style])),w=computed((()=>{const e=unref(E),t=unref(C);return{height:t?"100%":`${e}px`,pointerEvents:unref(y).isScrolling?"none":void 0,width:t?`${e}px`:"100%"}})),S=computed((()=>C.value?e.width:e.height)),{onWheel:T}=useWheel({atStartEdge:computed((()=>y.value.scrollOffset<=0)),atEndEdge:computed((()=>y.value.scrollOffset>=E.value)),layout:computed((()=>e.layout))},(e=>{var t,n;null==(n=(t=v.value).onMouseUp)||n.call(t),L(Math.min(y.value.scrollOffset+e,E.value-S.value))})),k=()=>{const{total:t}=e;if(t>0){const[e,t,n,r]=unref(b);c(ITEM_RENDER_EVT,e,t,n,r)}const{scrollDir:n,scrollOffset:r,updateRequested:o}=unref(y);c(SCROLL_EVT,n,r,o)},L=e=>{(e=Math.max(e,0))!==unref(y).scrollOffset&&(y.value={...unref(y),scrollOffset:e,scrollDir:getScrollDir(unref(y).scrollOffset,e),updateRequested:!0},nextTick(M))},P=(n,r=AUTO_ALIGNMENT)=>{const{scrollOffset:o}=unref(y);n=Math.max(0,Math.min(n,e.total-1)),L(t(e,n,r,o,unref(f)))},M=()=>{y.value.isScrolling=!1,nextTick((()=>{m.value(-1,null,null)}))},O=()=>{const e=_.value;e&&(e.scrollTop=0)};onMounted((()=>{if(!isClient$1)return;const{initScrollOffset:t}=e,n=unref(_);isNumber(t)&&n&&(unref(C)?n.scrollLeft=t:n.scrollTop=t),k()})),onUpdated((()=>{const{direction:t,layout:n}=e,{scrollOffset:r,updateRequested:o}=unref(y),i=unref(_);if(o&&i)if(n===HORIZONTAL)if(t===RTL)switch(getRTLOffsetType()){case RTL_OFFSET_NAG:i.scrollLeft=-r;break;case RTL_OFFSET_POS_ASC:i.scrollLeft=r;break;default:{const{clientWidth:e,scrollWidth:t}=i;i.scrollLeft=t-e-r;break}}else i.scrollLeft=r;else i.scrollTop=r}));const N={ns:p,clientSize:S,estimatedTotalSize:E,windowStyle:x,windowRef:_,innerRef:g,innerStyle:w,itemsToRender:b,scrollbarRef:v,states:y,getItemStyle:t=>{const{direction:o,itemSize:i,layout:a}=e,s=m.value(l&&i,l&&a,l&&o);let u;if(hasOwn(s,String(t)))u=s[t];else{const i=r(e,t,unref(f)),a=n(e,t,unref(f)),l=unref(C),c=o===RTL,d=l?i:0;s[t]=u={position:"absolute",left:c?void 0:`${d}px`,right:c?`${d}px`:void 0,top:l?0:`${i}px`,height:l?"100%":`${a}px`,width:l?`${a}px`:"100%"}}return u},onScroll:t=>{unref(C)?(t=>{const{clientWidth:n,scrollLeft:r,scrollWidth:o}=t.currentTarget,i=unref(y);if(i.scrollOffset===r)return;const{direction:a}=e;let s=r;if(a===RTL)switch(getRTLOffsetType()){case RTL_OFFSET_NAG:s=-r;break;case RTL_OFFSET_POS_DESC:s=o-n-r}s=Math.max(0,Math.min(s,o-n)),y.value={...i,isScrolling:!0,scrollDir:getScrollDir(i.scrollOffset,s),scrollOffset:s,updateRequested:!1},nextTick(M)})(t):(e=>{const{clientHeight:t,scrollHeight:n,scrollTop:r}=e.currentTarget,o=unref(y);if(o.scrollOffset===r)return;const i=Math.max(0,Math.min(r,n-t));y.value={...o,isScrolling:!0,scrollDir:getScrollDir(o.scrollOffset,i),scrollOffset:i,updateRequested:!1},nextTick(M)})(t),k()},onScrollbarScroll:(e,t)=>{const n=(E.value-S.value)/t*e;L(Math.min(E.value-S.value,n))},onWheel:T,scrollTo:L,scrollToItem:P,resetScrollTop:O};return d({windowRef:_,innerRef:g,getItemStyleCache:m,scrollTo:L,scrollToItem:P,resetScrollTop:O,states:y}),N},render(e){var t;const{$slots:n,className:r,clientSize:o,containerElement:i,data:a,getItemStyle:s,innerElement:l,itemsToRender:u,innerStyle:c,layout:d,total:h,onScroll:p,onScrollbarScroll:f,onWheel:m,states:_,useIsScrolling:g,windowStyle:v,ns:y}=e,[b,E]=u,C=resolveDynamicComponent(i),x=resolveDynamicComponent(l),w=[];if(h>0)for(let L=b;L<=E;L++)w.push(null==(t=n.default)?void 0:t.call(n,{data:a,key:L,index:L,isScrolling:g?_.isScrolling:void 0,style:s(L)}));const S=[h$1(x,{style:c,ref:"innerRef"},isString$1(x)?w:{default:()=>w})],T=h$1(ScrollBar,{ref:"scrollbarRef",clientSize:o,layout:d,onScroll:f,ratio:100*o/this.estimatedTotalSize,scrollFrom:_.scrollOffset/(this.estimatedTotalSize-o),total:h}),k=h$1(C,{class:[y.e("window"),r],style:v,onScroll:p,onWheel:m,ref:"windowRef",key:0},isString$1(C)?[S]:{default:()=>[S]});return h$1("div",{key:0,class:[y.e("wrapper"),_.scrollbarAlwaysOn?"always-on":""]},[k,T])}}),FixedSizeList=createList({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:n,layout:r,width:o},i,a,s)=>{const l=isHorizontal(r)?o:e,u=Math.max(0,t*n-l),c=Math.min(u,i*n),d=Math.max(0,(i+1)*n-l);switch(a===SMART_ALIGNMENT&&(a=s>=d-l&&s<=c+l?AUTO_ALIGNMENT:CENTERED_ALIGNMENT),a){case START_ALIGNMENT:return c;case END_ALIGNMENT:return d;case CENTERED_ALIGNMENT:{const e=Math.round(d+(c-d)/2);return e<Math.ceil(l/2)?0:e>u+Math.floor(l/2)?u:e}default:return s>=d&&s<=c?s:s<d?d:c}},getStartIndexForOffset:({total:e,itemSize:t},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:n,layout:r,width:o},i,a)=>{const s=i*n,l=isHorizontal(r)?o:e,u=Math.ceil((l+a-s)/n);return Math.max(0,Math.min(t-1,i+u-1))},initCache(){},clearCache:!0,validateProps(){}}),getItemFromCache$1=(e,t,n)=>{const{itemSize:r}=e,{items:o,lastVisitedIndex:i}=n;if(t>i){let e=0;if(i>=0){const t=o[i];e=t.offset+t.size}for(let n=i+1;n<=t;n++){const t=r(n);o[n]={offset:e,size:t},e+=t}n.lastVisitedIndex=t}return o[t]},findItem$1=(e,t,n)=>{const{items:r,lastVisitedIndex:o}=t;return(o>0?r[o].offset:0)>=n?bs$1(e,t,0,o,n):es$1(e,t,Math.max(0,o),n)},bs$1=(e,t,n,r,o)=>{for(;n<=r;){const i=n+Math.floor((r-n)/2),a=getItemFromCache$1(e,i,t).offset;if(a===o)return i;a<o?n=i+1:a>o&&(r=i-1)}return Math.max(0,n-1)},es$1=(e,t,n,r)=>{const{total:o}=e;let i=1;for(;n<o&&getItemFromCache$1(e,n,t).offset<r;)n+=i,i*=2;return bs$1(e,t,Math.floor(n/2),Math.min(n,o-1),r)},getEstimatedTotalSize=({total:e},{items:t,estimatedItemSize:n,lastVisitedIndex:r})=>{let o=0;if(r>=e&&(r=e-1),r>=0){const e=t[r];o=e.offset+e.size}return o+(e-r-1)*n},DynamicSizeList=createList({name:"ElDynamicSizeList",getItemOffset:(e,t,n)=>getItemFromCache$1(e,t,n).offset,getItemSize:(e,t,{items:n})=>n[t].size,getEstimatedTotalSize:getEstimatedTotalSize,getOffset:(e,t,n,r,o)=>{const{height:i,layout:a,width:s}=e,l=isHorizontal(a)?s:i,u=getItemFromCache$1(e,t,o),c=getEstimatedTotalSize(e,o),d=Math.max(0,Math.min(c-l,u.offset)),h=Math.max(0,u.offset-l+u.size);switch(n===SMART_ALIGNMENT&&(n=r>=h-l&&r<=d+l?AUTO_ALIGNMENT:CENTERED_ALIGNMENT),n){case START_ALIGNMENT:return d;case END_ALIGNMENT:return h;case CENTERED_ALIGNMENT:return Math.round(h+(d-h)/2);default:return r>=h&&r<=d?r:r<h?h:d}},getStartIndexForOffset:(e,t,n)=>findItem$1(e,n,t),getStopIndexForStartIndex:(e,t,n,r)=>{const{height:o,total:i,layout:a,width:s}=e,l=isHorizontal(a)?s:o,u=getItemFromCache$1(e,t,r),c=n+l;let d=u.offset+u.size,h=t;for(;h<i-1&&d<c;)h++,d+=getItemFromCache$1(e,h,r).size;return h},initCache({estimatedItemSize:e=DEFAULT_DYNAMIC_LIST_ITEM_SIZE},t){const n={items:{},estimatedItemSize:e,lastVisitedIndex:-1,clearCacheAfterIndex:(e,r=!0)=>{var o,i;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,e-1),null==(o=t.exposed)||o.getItemStyleCache(-1),r&&(null==(i=t.proxy)||i.$forceUpdate())}};return n},clearCache:!1,validateProps:({itemSize:e})=>{}}),useGridWheel=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:n,atYStartEdge:r},o)=>{let i=null,a=0,s=0;const l=(o,i)=>{const a=o<=0&&t.value||o>=0&&e.value,s=i<=0&&r.value||i>=0&&n.value;return a&&s};return{hasReachedEdge:l,onWheel:e=>{cAF(i);let t=e.deltaX,n=e.deltaY;Math.abs(t)>Math.abs(n)?n=0:t=0,e.shiftKey&&0!==n&&(t=n,n=0),l(a,s)&&l(a+t,s+n)||(a+=t,s+=n,e.preventDefault(),i=rAF((()=>{o(a,s),a=0,s=0})))}}},createGrid=({name:e,clearCache:t,getColumnPosition:n,getColumnStartIndexForOffset:r,getColumnStopIndexForStartIndex:o,getEstimatedTotalHeight:i,getEstimatedTotalWidth:a,getColumnOffset:s,getRowOffset:l,getRowPosition:u,getRowStartIndexForOffset:c,getRowStopIndexForStartIndex:d,initCache:h,injectToInstance:p,validateProps:f})=>defineComponent({name:null!=e?e:"ElVirtualList",props:virtualizedGridProps,emits:[ITEM_RENDER_EVT,SCROLL_EVT],setup(e,{emit:m,expose:_,slots:g}){const v=useNamespace("vl");f(e);const y=getCurrentInstance(),b=ref(h(e,y));null==p||p(y,b);const E=ref(),C=ref(),x=ref(),w=ref(null),S=ref({isScrolling:!1,scrollLeft:isNumber(e.initScrollLeft)?e.initScrollLeft:0,scrollTop:isNumber(e.initScrollTop)?e.initScrollTop:0,updateRequested:!1,xAxisScrollDir:FORWARD,yAxisScrollDir:FORWARD}),T=useCache(),k=computed((()=>Number.parseInt(`${e.height}`,10))),L=computed((()=>Number.parseInt(`${e.width}`,10))),P=computed((()=>{const{totalColumn:t,totalRow:n,columnCache:i}=e,{isScrolling:a,xAxisScrollDir:s,scrollLeft:l}=unref(S);if(0===t||0===n)return[0,0,0,0];const u=r(e,l,unref(b)),c=o(e,u,l,unref(b)),d=a&&s!==BACKWARD?1:Math.max(1,i),h=a&&s!==FORWARD?1:Math.max(1,i);return[Math.max(0,u-d),Math.max(0,Math.min(t-1,c+h)),u,c]})),M=computed((()=>{const{totalColumn:t,totalRow:n,rowCache:r}=e,{isScrolling:o,yAxisScrollDir:i,scrollTop:a}=unref(S);if(0===t||0===n)return[0,0,0,0];const s=c(e,a,unref(b)),l=d(e,s,a,unref(b)),u=o&&i!==BACKWARD?1:Math.max(1,r),h=o&&i!==FORWARD?1:Math.max(1,r);return[Math.max(0,s-u),Math.max(0,Math.min(n-1,l+h)),s,l]})),O=computed((()=>i(e,unref(b)))),N=computed((()=>a(e,unref(b)))),A=computed((()=>{var t;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:e.direction,height:isNumber(e.height)?`${e.height}px`:e.height,width:isNumber(e.width)?`${e.width}px`:e.width},null!=(t=e.style)?t:{}]})),I=computed((()=>{const e=`${unref(N)}px`;return{height:`${unref(O)}px`,pointerEvents:unref(S).isScrolling?"none":void 0,width:e}})),R=()=>{const{totalColumn:t,totalRow:n}=e;if(t>0&&n>0){const[e,t,n,r]=unref(P),[o,i,a,s]=unref(M);m(ITEM_RENDER_EVT,{columnCacheStart:e,columnCacheEnd:t,rowCacheStart:o,rowCacheEnd:i,columnVisibleStart:n,columnVisibleEnd:r,rowVisibleStart:a,rowVisibleEnd:s})}const{scrollLeft:r,scrollTop:o,updateRequested:i,xAxisScrollDir:a,yAxisScrollDir:s}=unref(S);m(SCROLL_EVT,{xAxisScrollDir:a,scrollLeft:r,yAxisScrollDir:s,scrollTop:o,updateRequested:i})},$=t=>{const{clientHeight:n,clientWidth:r,scrollHeight:o,scrollLeft:i,scrollTop:a,scrollWidth:s}=t.currentTarget,l=unref(S);if(l.scrollTop===a&&l.scrollLeft===i)return;let u=i;if(isRTL(e.direction))switch(getRTLOffsetType()){case RTL_OFFSET_NAG:u=-i;break;case RTL_OFFSET_POS_DESC:u=s-r-i}S.value={...l,isScrolling:!0,scrollLeft:u,scrollTop:Math.max(0,Math.min(a,o-n)),updateRequested:!0,xAxisScrollDir:getScrollDir(l.scrollLeft,u),yAxisScrollDir:getScrollDir(l.scrollTop,a)},nextTick((()=>j())),U(),R()},B=(e,t)=>{const n=unref(k),r=(O.value-n)/t*e;V({scrollTop:Math.min(O.value-n,r)})},D=(e,t)=>{const n=unref(L),r=(N.value-n)/t*e;V({scrollLeft:Math.min(N.value-n,r)})},{onWheel:F}=useGridWheel({atXStartEdge:computed((()=>S.value.scrollLeft<=0)),atXEndEdge:computed((()=>S.value.scrollLeft>=N.value-unref(L))),atYStartEdge:computed((()=>S.value.scrollTop<=0)),atYEndEdge:computed((()=>S.value.scrollTop>=O.value-unref(k)))},((e,t)=>{var n,r,o,i;null==(r=null==(n=C.value)?void 0:n.onMouseUp)||r.call(n),null==(i=null==(o=x.value)?void 0:o.onMouseUp)||i.call(o);const a=unref(L),s=unref(k);V({scrollLeft:Math.min(S.value.scrollLeft+e,N.value-a),scrollTop:Math.min(S.value.scrollTop+t,O.value-s)})})),V=({scrollLeft:e=S.value.scrollLeft,scrollTop:t=S.value.scrollTop})=>{e=Math.max(e,0),t=Math.max(t,0);const n=unref(S);t===n.scrollTop&&e===n.scrollLeft||(S.value={...n,xAxisScrollDir:getScrollDir(n.scrollLeft,e),yAxisScrollDir:getScrollDir(n.scrollTop,t),scrollLeft:e,scrollTop:t,updateRequested:!0},nextTick((()=>j())),U(),R())},z=(r,o)=>{const{columnWidth:i,direction:a,rowHeight:s}=e,l=T.value(t&&i,t&&s,t&&a),c=`${r},${o}`;if(hasOwn(l,c))return l[c];{const[,t]=n(e,o,unref(b)),i=unref(b),s=isRTL(a),[d,h]=u(e,r,i),[p]=n(e,o,i);return l[c]={position:"absolute",left:s?void 0:`${t}px`,right:s?`${t}px`:void 0,top:`${h}px`,height:`${d}px`,width:`${p}px`},l[c]}},j=()=>{S.value.isScrolling=!1,nextTick((()=>{T.value(-1,null,null)}))};onMounted((()=>{if(!isClient$1)return;const{initScrollLeft:t,initScrollTop:n}=e,r=unref(E);r&&(isNumber(t)&&(r.scrollLeft=t),isNumber(n)&&(r.scrollTop=n)),R()}));const U=()=>{const{direction:t}=e,{scrollLeft:n,scrollTop:r,updateRequested:o}=unref(S),i=unref(E);if(o&&i){if(t===RTL)switch(getRTLOffsetType()){case RTL_OFFSET_NAG:i.scrollLeft=-n;break;case RTL_OFFSET_POS_ASC:i.scrollLeft=n;break;default:{const{clientWidth:e,scrollWidth:t}=i;i.scrollLeft=t-e-n;break}}else i.scrollLeft=Math.max(0,n);i.scrollTop=Math.max(0,r)}},{resetAfterColumnIndex:G,resetAfterRowIndex:H,resetAfter:K}=y.proxy;_({windowRef:E,innerRef:w,getItemStyleCache:T,scrollTo:V,scrollToItem:(t=0,n=0,r=AUTO_ALIGNMENT)=>{const o=unref(S);n=Math.max(0,Math.min(n,e.totalColumn-1)),t=Math.max(0,Math.min(t,e.totalRow-1));const u=getScrollBarWidth(v.namespace.value),c=unref(b),d=i(e,c),h=a(e,c);V({scrollLeft:s(e,n,r,o.scrollLeft,c,h>e.width?u:0),scrollTop:l(e,t,r,o.scrollTop,c,d>e.height?u:0)})},states:S,resetAfterColumnIndex:G,resetAfterRowIndex:H,resetAfter:K});const W=()=>{const t=resolveDynamicComponent(e.innerElement),n=(()=>{var t;const[n,r]=unref(P),[o,i]=unref(M),{data:a,totalColumn:s,totalRow:l,useIsScrolling:u,itemKey:c}=e,d=[];if(l>0&&s>0)for(let e=o;e<=i;e++)for(let o=n;o<=r;o++)d.push(null==(t=g.default)?void 0:t.call(g,{columnIndex:o,data:a,key:c({columnIndex:o,data:a,rowIndex:e}),isScrolling:u?unref(S).isScrolling:void 0,style:z(e,o),rowIndex:e}));return d})();return[h$1(t,{style:unref(I),ref:w},isString$1(t)?n:{default:()=>n})]};return()=>{const t=resolveDynamicComponent(e.containerElement),{horizontalScrollbar:n,verticalScrollbar:r}=(()=>{const{scrollbarAlwaysOn:t,scrollbarStartGap:n,scrollbarEndGap:r,totalColumn:o,totalRow:i}=e,a=unref(L),s=unref(k),l=unref(N),u=unref(O),{scrollLeft:c,scrollTop:d}=unref(S);return{horizontalScrollbar:h$1(ScrollBar,{ref:C,alwaysOn:t,startGap:n,endGap:r,class:v.e("horizontal"),clientSize:a,layout:"horizontal",onScroll:D,ratio:100*a/l,scrollFrom:c/(l-a),total:i,visible:!0}),verticalScrollbar:h$1(ScrollBar,{ref:x,alwaysOn:t,startGap:n,endGap:r,class:v.e("vertical"),clientSize:s,layout:"vertical",onScroll:B,ratio:100*s/u,scrollFrom:d/(u-s),total:o,visible:!0})}})(),o=W();return h$1("div",{key:0,class:v.e("wrapper"),role:e.role},[h$1(t,{class:e.className,style:unref(A),onScroll:$,onWheel:F,ref:E},isString$1(t)?o:{default:()=>o}),n,r])}}}),FixedSizeGrid=createGrid({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:n},r,o,i,a,s)=>{n=Number(n);const l=Math.max(0,e*t-n),u=Math.min(l,r*t),c=Math.max(0,r*t-n+s+t);switch("smart"===o&&(o=i>=c-n&&i<=u+n?AUTO_ALIGNMENT:CENTERED_ALIGNMENT),o){case START_ALIGNMENT:return u;case END_ALIGNMENT:return c;case CENTERED_ALIGNMENT:{const e=Math.round(c+(u-c)/2);return e<Math.ceil(n/2)?0:e>l+Math.floor(n/2)?l:e}default:return i>=c&&i<=u?i:c>u||i<c?c:u}},getRowOffset:({rowHeight:e,height:t,totalRow:n},r,o,i,a,s)=>{t=Number(t);const l=Math.max(0,n*e-t),u=Math.min(l,r*e),c=Math.max(0,r*e-t+s+e);switch(o===SMART_ALIGNMENT&&(o=i>=c-t&&i<=u+t?AUTO_ALIGNMENT:CENTERED_ALIGNMENT),o){case START_ALIGNMENT:return u;case END_ALIGNMENT:return c;case CENTERED_ALIGNMENT:{const e=Math.round(c+(u-c)/2);return e<Math.ceil(t/2)?0:e>l+Math.floor(t/2)?l:e}default:return i>=c&&i<=u?i:c>u||i<c?c:u}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:n},r,o)=>{const i=r*e,a=Math.ceil((n+o-i)/e);return Math.max(0,Math.min(t-1,r+a-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:n},r,o)=>{const i=r*e,a=Math.ceil((n+o-i)/e);return Math.max(0,Math.min(t-1,r+a-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),{max:max,min:min,floor:floor}=Math,ACCESS_SIZER_KEY_MAP={column:"columnWidth",row:"rowHeight"},ACCESS_LAST_VISITED_KEY_MAP={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},getItemFromCache=(e,t,n,r)=>{const[o,i,a]=[n[r],e[ACCESS_SIZER_KEY_MAP[r]],n[ACCESS_LAST_VISITED_KEY_MAP[r]]];if(t>a){let e=0;if(a>=0){const t=o[a];e=t.offset+t.size}for(let n=a+1;n<=t;n++){const t=i(n);o[n]={offset:e,size:t},e+=t}n[ACCESS_LAST_VISITED_KEY_MAP[r]]=t}return o[t]},bs=(e,t,n,r,o,i)=>{for(;n<=r;){const a=n+floor((r-n)/2),s=getItemFromCache(e,a,t,i).offset;if(s===o)return a;s<o?n=a+1:r=a-1}return max(0,n-1)},es=(e,t,n,r,o)=>{const i="column"===o?e.totalColumn:e.totalRow;let a=1;for(;n<i&&getItemFromCache(e,n,t,o).offset<r;)n+=a,a*=2;return bs(e,t,floor(n/2),min(n,i-1),r,o)},findItem=(e,t,n,r)=>{const[o,i]=[t[r],t[ACCESS_LAST_VISITED_KEY_MAP[r]]];return(i>0?o[i].offset:0)>=n?bs(e,t,0,i,n,r):es(e,t,max(0,i),n,r)},getEstimatedTotalHeight=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:n,row:r})=>{let o=0;if(n>=e&&(n=e-1),n>=0){const e=r[n];o=e.offset+e.size}return o+(e-n-1)*t},getEstimatedTotalWidth=({totalColumn:e},{column:t,estimatedColumnWidth:n,lastVisitedColumnIndex:r})=>{let o=0;if(r>e&&(r=e-1),r>=0){const e=t[r];o=e.offset+e.size}return o+(e-r-1)*n},ACCESS_ESTIMATED_SIZE_KEY_MAP={column:getEstimatedTotalWidth,row:getEstimatedTotalHeight},getOffset$1=(e,t,n,r,o,i,a)=>{const[s,l]=["row"===i?e.height:e.width,ACCESS_ESTIMATED_SIZE_KEY_MAP[i]],u=getItemFromCache(e,t,o,i),c=l(e,o),d=max(0,min(c-s,u.offset)),h=max(0,u.offset-s+a+u.size);switch(n===SMART_ALIGNMENT&&(n=r>=h-s&&r<=d+s?AUTO_ALIGNMENT:CENTERED_ALIGNMENT),n){case START_ALIGNMENT:return d;case END_ALIGNMENT:return h;case CENTERED_ALIGNMENT:return Math.round(h+(d-h)/2);default:return r>=h&&r<=d?r:h>d||r<h?h:d}},DynamicSizeGrid=createGrid({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,n)=>{const r=getItemFromCache(e,t,n,"column");return[r.size,r.offset]},getRowPosition:(e,t,n)=>{const r=getItemFromCache(e,t,n,"row");return[r.size,r.offset]},getColumnOffset:(e,t,n,r,o,i)=>getOffset$1(e,t,n,r,o,"column",i),getRowOffset:(e,t,n,r,o,i)=>getOffset$1(e,t,n,r,o,"row",i),getColumnStartIndexForOffset:(e,t,n)=>findItem(e,n,t,"column"),getColumnStopIndexForStartIndex:(e,t,n,r)=>{const o=getItemFromCache(e,t,r,"column"),i=n+e.width;let a=o.offset+o.size,s=t;for(;s<e.totalColumn-1&&a<i;)s++,a+=getItemFromCache(e,t,r,"column").size;return s},getEstimatedTotalHeight:getEstimatedTotalHeight,getEstimatedTotalWidth:getEstimatedTotalWidth,getRowStartIndexForOffset:(e,t,n)=>findItem(e,n,t,"row"),getRowStopIndexForStartIndex:(e,t,n,r)=>{const{totalRow:o,height:i}=e,a=getItemFromCache(e,t,r,"row"),s=n+i;let l=a.size+a.offset,u=t;for(;u<o-1&&l<s;)u++,l+=getItemFromCache(e,u,r,"row").size;return u},injectToInstance:(e,t)=>{const n=({columnIndex:n,rowIndex:r},o)=>{var i,a;o=!!isUndefined(o)||o,isNumber(n)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,n-1)),isNumber(r)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,r-1)),null==(i=e.exposed)||i.getItemStyleCache.value(-1,null,null),o&&(null==(a=e.proxy)||a.$forceUpdate())};Object.assign(e.proxy,{resetAfterColumnIndex:(e,t)=>{n({columnIndex:e},t)},resetAfterRowIndex:(e,t)=>{n({rowIndex:e},t)},resetAfter:n})},initCache:({estimatedColumnWidth:e=DEFAULT_DYNAMIC_LIST_ITEM_SIZE,estimatedRowHeight:t=DEFAULT_DYNAMIC_LIST_ITEM_SIZE})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),_sfc_main$1Q=defineComponent({props:{item:{type:Object,required:!0},style:Object,height:Number},setup:()=>({ns:useNamespace("select")})});function _sfc_render$j(e,t,n,r,o,i){return e.item.isTitle?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(e.ns.be("group","title")),style:normalizeStyle([e.style,{lineHeight:`${e.height}px`}])},toDisplayString(e.item.label),7)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(e.ns.be("group","split")),style:normalizeStyle(e.style)},[createBaseVNode("span",{class:normalizeClass(e.ns.be("group","split-dash")),style:normalizeStyle({top:e.height/2+"px"})},null,6)],6))}var GroupItem=_export_sfc(_sfc_main$1Q,[["render",_sfc_render$j],["__file","group-item.vue"]]);function useOption(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}const defaultProps$3={label:"label",value:"value",disabled:"disabled",options:"options"};function useProps(e){const t=computed((()=>({...defaultProps$3,...e.props})));return{aliasProps:t,getLabel:e=>get$1(e,t.value.label),getValue:e=>get$1(e,t.value.value),getDisabled:e=>get$1(e,t.value.disabled),getOptions:e=>get$1(e,t.value.options)}}const SelectProps=buildProps({allowCreate:Boolean,autocomplete:{type:definePropType(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:iconPropType,default:circle_close_default},effect:{type:definePropType(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:{type:definePropType([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:definePropType(Array),required:!0},placeholder:{type:String},teleported:useTooltipContentProps.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:definePropType(Object),default:()=>({})},remote:Boolean,size:useSizeProp,props:{type:definePropType(Object),default:()=>defaultProps$3},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},placement:{type:definePropType(String),values:Ee,default:"bottom-start"}}),OptionProps=buildProps({data:Array,disabled:Boolean,hovering:Boolean,item:{type:definePropType(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),selectV2InjectionKey=Symbol("ElSelectV2Injection"),_sfc_main$1P=defineComponent({props:OptionProps,emits:["select","hover"],setup(e,{emit:t}){const n=inject(selectV2InjectionKey),r=useNamespace("select"),{hoverItem:o,selectOptionClick:i}=useOption(e,{emit:t}),{getLabel:a}=useProps(n.props);return{ns:r,hoverItem:o,selectOptionClick:i,getLabel:a}}}),_hoisted_1$1f=["aria-selected"];function _sfc_render$i(e,t,n,r,o,i){return openBlock(),createElementBlock("li",{"aria-selected":e.selected,style:normalizeStyle(e.style),class:normalizeClass([e.ns.be("dropdown","option-item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),{hover:e.hovering}]),onMouseenter:t[0]||(t[0]=(...t)=>e.hoverItem&&e.hoverItem(...t)),onClick:t[1]||(t[1]=withModifiers(((...t)=>e.selectOptionClick&&e.selectOptionClick(...t)),["stop"]))},[renderSlot(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},(()=>[createBaseVNode("span",null,toDisplayString(e.getLabel(e.item)),1)]))],46,_hoisted_1$1f)}var OptionItem=_export_sfc(_sfc_main$1P,[["render",_sfc_render$i],["__file","option-item.vue"]]),ElSelectMenu=defineComponent({name:"ElSelectDropdown",props:{data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(e,{slots:t,expose:n}){const r=inject(selectV2InjectionKey),o=useNamespace("select"),{getLabel:i,getValue:a,getDisabled:s}=useProps(r.props),l=ref([]),u=ref(),c=computed((()=>e.data.length));watch((()=>c.value),(()=>{var e,t;null==(t=(e=r.popper.value).updatePopper)||t.call(e)}));const d=computed((()=>isUndefined(r.props.estimatedOptionHeight))),h=computed((()=>d.value?{itemSize:r.props.itemHeight}:{estimatedSize:r.props.estimatedOptionHeight,itemSize:e=>l.value[e]})),p=(e,t)=>r.props.multiple?((e=[],t)=>{const{props:{valueKey:n}}=r;return isObject$2(t)?e&&e.some((e=>toRaw(get$1(e,n))===get$1(t,n))):e.includes(t)})(e,a(t)):((e,t)=>{if(isObject$2(t)){const{valueKey:n}=r.props;return get$1(e,n)===get$1(t,n)}return e===t})(e,a(t)),f=(e,t)=>{const{disabled:n,multiple:o,multipleLimit:i}=r.props;return n||!t&&!!o&&i>0&&e.length>=i},m=t=>e.hoveringIndex===t;n({listRef:u,isSized:d,isItemDisabled:f,isItemHovering:m,isItemSelected:p,scrollToItem:e=>{const t=u.value;t&&t.scrollToItem(e)},resetScrollTop:()=>{const e=u.value;e&&e.resetScrollTop()}});const _=e=>{const{index:n,data:o,style:a}=e,l=unref(d),{itemSize:u,estimatedSize:c}=unref(h),{modelValue:_}=r.props,{onSelect:g,onHover:v}=r,y=o[n];if("Group"===y.type)return createVNode(GroupItem,{item:y,style:a,height:l?u:c},null);const b=p(_,y),E=f(_,b),C=m(n);return createVNode(OptionItem,mergeProps(e,{selected:b,disabled:s(y)||E,created:!!y.created,hovering:C,item:y,onSelect:g,onHover:v}),{default:e=>{var n;return(null==(n=t.default)?void 0:n.call(t,e))||createVNode("span",null,[i(y)])}})},{onKeyboardNavigate:g,onKeyboardSelect:v}=r,y=e=>{const{code:t}=e,{tab:n,esc:o,down:i,up:a,enter:s}=EVENT_CODE;switch(t!==n&&(e.preventDefault(),e.stopPropagation()),t){case n:case o:r.expanded=!1;break;case i:g("forward");break;case a:g("backward");break;case s:v()}};return()=>{var n;const{data:i,width:a}=e,{height:s,multiple:l,scrollbarAlwaysOn:c}=r.props;if(0===i.length)return createVNode("div",{class:o.b("dropdown"),style:{width:`${a}px`}},[null==(n=t.empty)?void 0:n.call(t)]);const p=unref(d)?FixedSizeList:DynamicSizeList;return createVNode("div",{class:[o.b("dropdown"),o.is("multiple",l)]},[createVNode(p,mergeProps({ref:u},unref(h),{className:o.be("dropdown","list"),scrollbarAlwaysOn:c,data:i,height:s,width:a,total:i.length,onKeydown:y}),{default:e=>createVNode(_,e,null)})])}}});function useAllowCreate(e,t){const{aliasProps:n,getLabel:r,getValue:o}=useProps(e),i=ref(0),a=ref(null),s=computed((()=>e.allowCreate&&e.filterable));return{createNewOption:function(r){if(s.value)if(r&&r.length>0&&!function(n){const r=e=>o(e)===n;return e.options&&e.options.some(r)||t.createdOptions.some(r)}(r)){const e={[n.value.value]:r,[n.value.label]:r,created:!0,[n.value.disabled]:!1};t.createdOptions.length>=i.value?t.createdOptions[i.value]=e:t.createdOptions.push(e)}else if(e.multiple)t.createdOptions.length=i.value;else{const e=a.value;t.createdOptions.length=0,e&&e.created&&t.createdOptions.push(e)}},removeNewOption:function(n){if(!s.value||!n||!n.created||n.created&&e.reserveKeyword&&t.inputValue===r(n))return;const a=t.createdOptions.findIndex((e=>o(e)===o(n)));~a&&(t.createdOptions.splice(a,1),i.value--)},selectNewOption:function(t){s.value&&(e.multiple&&t.created?i.value++:a.value=t)},clearAllNewOption:function(){s.value&&(t.createdOptions.length=0,i.value=0)}}}function useInput(e){const t=ref(!1);return{handleCompositionStart:()=>{t.value=!0},handleCompositionUpdate:e=>{const n=e.target.value,r=n[n.length-1]||"";t.value=!isKorean(r)},handleCompositionEnd:n=>{t.value&&(t.value=!1,isFunction$2(e)&&e(n))}}}const DEFAULT_INPUT_PLACEHOLDER="",MINIMUM_INPUT_WIDTH=11,TAG_BASE_WIDTH={larget:51,default:42,small:33},useSelect$1=(e,t)=>{const{t:n}=useLocale(),r=useNamespace("select-v2"),o=useNamespace("input"),{form:i,formItem:a}=useFormItem(),{getLabel:s,getValue:l,getDisabled:u,getOptions:c}=useProps(e),d=reactive({inputValue:DEFAULT_INPUT_PLACEHOLDER,displayInputValue:DEFAULT_INPUT_PLACEHOLDER,calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:void 0,query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),h=ref(-1),p=ref(-1),f=ref(null),m=ref(null),_=ref(null),g=ref(null),v=ref(null),y=ref(null),b=ref(null),E=ref(!1),C=computed((()=>e.disabled||(null==i?void 0:i.disabled))),x=computed((()=>{const t=N.value.length*e.itemHeight;return t>e.height?e.height:t})),w=computed((()=>!isNil(e.modelValue))),S=computed((()=>{const t=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:w.value;return e.clearable&&!C.value&&d.comboBoxHovering&&t})),T=computed((()=>e.remote&&e.filterable?"":arrow_up_default)),k=computed((()=>T.value&&r.is("reverse",E.value))),L=computed((()=>(null==a?void 0:a.validateState)||"")),P=computed((()=>ValidateComponentsMap[L.value])),M=computed((()=>e.remote?300:0)),O=computed((()=>{const t=N.value;return e.loading?e.loadingText||n("el.select.loading"):(!e.remote||""!==d.inputValue||0!==t.length)&&(e.filterable&&d.inputValue&&t.length>0?e.noMatchText||n("el.select.noMatch"):0===t.length?e.noDataText||n("el.select.noData"):null)})),N=computed((()=>{const t=e=>{const t=d.inputValue,n=new RegExp(escapeStringRegexp(t),"i");return!t||n.test(s(e)||"")};return e.loading?[]:[...e.options,...d.createdOptions].reduce(((n,r)=>{const o=c(r);if(isArray$1(o)){const e=o.filter(t);e.length>0&&n.push({label:s(r),isTitle:!0,type:"Group"},...e,{type:"Group"})}else(e.remote||t(r))&&n.push(r);return n}),[])})),A=computed((()=>{const e=new Map;return N.value.forEach(((t,n)=>{e.set(se(l(t)),{option:t,index:n})})),e})),I=computed((()=>N.value.every((e=>u(e))))),R=useFormSize(),$=computed((()=>"small"===R.value?"small":"default")),B=computed((()=>{const e=y.value,t=$.value||"default",n=e?Number.parseInt(getComputedStyle(e).paddingLeft):0,r=e?Number.parseInt(getComputedStyle(e).paddingRight):0;return d.selectWidth-r-n-TAG_BASE_WIDTH[t]})),D=()=>{var e;p.value=(null==(e=v.value)?void 0:e.offsetWidth)||200},F=computed((()=>({width:`${0===d.calculatedWidth?MINIMUM_INPUT_WIDTH:Math.ceil(d.calculatedWidth)+MINIMUM_INPUT_WIDTH}px`}))),V=computed((()=>isArray$1(e.modelValue)?0===e.modelValue.length&&!d.displayInputValue:!e.filterable||0===d.displayInputValue.length)),z=computed((()=>{const t=e.placeholder||n("el.select.placeholder");return e.multiple||isNil(e.modelValue)?t:d.selectedLabel})),j=computed((()=>{var e,t;return null==(t=null==(e=g.value)?void 0:e.popperRef)?void 0:t.contentRef})),U=computed((()=>{if(e.multiple){const t=e.modelValue.length;if(e.modelValue.length>0&&A.value.has(e.modelValue[t-1])){const{index:n}=A.value.get(e.modelValue[t-1]);return n}}else if(e.modelValue&&A.value.has(e.modelValue)){const{index:t}=A.value.get(e.modelValue);return t}return-1})),G=computed({get:()=>E.value&&!1!==O.value,set(e){E.value=e}}),H=computed((()=>d.cachedOptions.slice(0,e.maxCollapseTags))),K=computed((()=>d.cachedOptions.slice(e.maxCollapseTags))),{createNewOption:W,removeNewOption:Y,selectNewOption:q,clearAllNewOption:Z}=useAllowCreate(e,d),{handleCompositionStart:X,handleCompositionUpdate:J,handleCompositionEnd:Q}=useInput((e=>ve(e))),ee=()=>{var e,t,n;null==(t=null==(e=m.value)?void 0:e.focus)||t.call(e),null==(n=g.value)||n.updatePopper()},te=()=>{if(!e.automaticDropdown)return C.value?void 0:(d.isComposing&&(d.softFocus=!0),nextTick((()=>{var e,t;E.value=!E.value,null==(t=null==(e=m.value)?void 0:e.focus)||t.call(e)})))},ne=()=>(e.filterable&&d.inputValue!==d.selectedLabel&&(d.query=d.selectedLabel),oe(d.inputValue),nextTick((()=>{W(d.inputValue)}))),re=debounce(ne,M.value),oe=t=>{d.previousQuery!==t&&(d.previousQuery=t,e.filterable&&isFunction$2(e.filterMethod)?e.filterMethod(t):e.filterable&&e.remote&&isFunction$2(e.remoteMethod)&&e.remoteMethod(t))},ie=n=>{t(UPDATE_MODEL_EVENT,n),(n=>{isEqual$1(e.modelValue,n)||t(CHANGE_EVENT,n)})(n),d.previousValue=String(n)},ae=(t=[],n)=>{if(!isObject$2(n))return t.indexOf(n);const r=e.valueKey;let o=-1;return t.some(((e,t)=>get$1(e,r)===get$1(n,r)&&(o=t,!0))),o},se=t=>isObject$2(t)?get$1(t,e.valueKey):t,le=()=>nextTick((()=>{var e,t;if(!m.value)return;const n=y.value;v.value.height=n.offsetHeight,E.value&&!1!==O.value&&(null==(t=null==(e=g.value)?void 0:e.updatePopper)||t.call(e))})),ue=()=>{var t,n;if(ce(),D(),null==(n=null==(t=g.value)?void 0:t.updatePopper)||n.call(t),e.multiple)return le()},ce=()=>{const e=y.value;e&&(d.selectWidth=e.getBoundingClientRect().width)},de=(t,n,r=!0)=>{var o,i;if(e.multiple){let r=e.modelValue.slice();const a=ae(r,l(t));a>-1?(r=[...r.slice(0,a),...r.slice(a+1)],d.cachedOptions.splice(a,1),Y(t)):(e.multipleLimit<=0||r.length<e.multipleLimit)&&(r=[...r,l(t)],d.cachedOptions.push(t),q(t),me(n)),ie(r),t.created&&(d.query="",oe(""),d.inputLength=20),e.filterable&&!e.reserveKeyword&&(null==(i=(o=m.value).focus)||i.call(o),pe("")),e.filterable&&(d.calculatedWidth=b.value.getBoundingClientRect().width),le(),ge()}else h.value=n,d.selectedLabel=s(t),ie(l(t)),E.value=!1,d.isComposing=!1,d.isSilentBlur=r,q(t),t.created||Z(),me(n)},he=e=>(d.softFocus=!1,nextTick((()=>{var n,r;null==(r=null==(n=m.value)?void 0:n.blur)||r.call(n),b.value&&(d.calculatedWidth=b.value.getBoundingClientRect().width),d.isSilentBlur?d.isSilentBlur=!1:d.isComposing&&t("blur",e),d.isComposing=!1}))),pe=e=>{d.displayInputValue=e,d.inputValue=e},fe=(e,t=void 0)=>{const n=N.value;if(!["forward","backward"].includes(e)||C.value||n.length<=0||I.value)return;if(!E.value)return te();void 0===t&&(t=d.hoveringIndex);let r=-1;"forward"===e?(r=t+1,r>=n.length&&(r=0)):"backward"===e&&(r=t-1,(r<0||r>=n.length)&&(r=n.length-1));const o=n[r];if(u(o)||"Group"===o.type)return fe(e,r);me(r),ye(r)},me=e=>{d.hoveringIndex=e},_e=()=>{d.hoveringIndex=-1},ge=()=>{var e;const t=m.value;t&&(null==(e=t.focus)||e.call(t))},ve=t=>{const n=t.target.value;if(pe(n),d.displayInputValue.length>0&&!E.value&&(E.value=!0),d.calculatedWidth=b.value.getBoundingClientRect().width,e.multiple&&le(),!e.remote)return ne();re()},ye=e=>{_.value.scrollToItem(e)},be=()=>{if(_e(),e.multiple)if(e.modelValue.length>0){let t=!1;d.cachedOptions.length=0,d.previousValue=e.modelValue.toString();for(const n of e.modelValue){const e=se(n);if(A.value.has(e)){const{index:n,option:r}=A.value.get(e);d.cachedOptions.push(r),t||me(n),t=!0}}}else d.cachedOptions=[],d.previousValue=void 0;else if(w.value){d.previousValue=e.modelValue;const t=N.value,n=t.findIndex((t=>se(l(t))===se(e.modelValue)));~n?(d.selectedLabel=s(t[n]),me(n)):d.selectedLabel=se(e.modelValue)}else d.selectedLabel="",d.previousValue=void 0;Z(),D()};return watch(E,(e=>{var n,r;t("visible-change",e),e?null==(r=(n=g.value).update)||r.call(n):(d.displayInputValue="",d.previousQuery=null,W(""))})),watch((()=>e.modelValue),((t,n)=>{var r;t&&t.toString()===d.previousValue||be(),!isEqual$1(t,n)&&e.validateEvent&&(null==(r=null==a?void 0:a.validate)||r.call(a,"change").catch((e=>debugWarn())))}),{deep:!0}),watch((()=>e.options),(()=>{const e=m.value;(!e||e&&document.activeElement!==e)&&be()}),{deep:!0}),watch(N,(()=>_.value&&nextTick(_.value.resetScrollTop))),watch((()=>G.value),(e=>{e||_e()})),onMounted((()=>{be()})),useResizeObserver(v,ue),{collapseTagSize:$,currentPlaceholder:z,expanded:E,emptyText:O,popupHeight:x,debounce:M,filteredOptions:N,iconComponent:T,iconReverse:k,inputWrapperStyle:F,popperSize:p,dropdownMenuVisible:G,hasModelValue:w,shouldShowPlaceholder:V,selectDisabled:C,selectSize:R,showClearBtn:S,states:d,tagMaxWidth:B,nsSelectV2:r,nsInput:o,calculatorRef:b,controlRef:f,inputRef:m,menuRef:_,popper:g,selectRef:v,selectionRef:y,popperRef:j,validateState:L,validateIcon:P,showTagList:H,collapseTagList:K,debouncedOnInputChange:re,deleteTag:(n,r)=>{let o=e.modelValue.slice();const i=ae(o,l(r));if(i>-1&&!C.value)return o=[...e.modelValue.slice(0,i),...e.modelValue.slice(i+1)],d.cachedOptions.splice(i,1),ie(o),t("remove-tag",l(r)),d.softFocus=!0,Y(r),nextTick(ee);n.stopPropagation()},getLabel:s,getValue:l,getDisabled:u,getValueKey:se,handleBlur:he,handleClear:()=>{let n;return n=isArray$1(e.modelValue)?[]:void 0,d.softFocus=!0,e.multiple?d.cachedOptions=[]:d.selectedLabel="",E.value=!1,ie(n),t("clear"),Z(),nextTick(ee)},handleClickOutside:()=>(E.value=!1,he()),handleDel:t=>{if(0===d.displayInputValue.length){t.preventDefault();const n=e.modelValue.slice();n.pop(),Y(d.cachedOptions.pop()),ie(n)}},handleEsc:()=>{d.displayInputValue.length>0?pe(""):E.value=!1},handleFocus:e=>{const n=d.isComposing;d.isComposing=!0,d.softFocus?d.softFocus=!1:n||t("focus",e)},handleMenuEnter:()=>(d.inputValue=d.displayInputValue,nextTick((()=>{~U.value&&(me(U.value),ye(d.hoveringIndex))}))),handleResize:ue,toggleMenu:te,scrollTo:ye,onInput:ve,onKeyboardNavigate:fe,onKeyboardSelect:()=>{if(!E.value)return te();~d.hoveringIndex&&N.value[d.hoveringIndex]&&de(N.value[d.hoveringIndex],d.hoveringIndex,!1)},onSelect:de,onHover:me,onUpdateInputValue:pe,handleCompositionStart:X,handleCompositionEnd:Q,handleCompositionUpdate:J}},_sfc_main$1O=defineComponent({name:"ElSelectV2",components:{ElSelectMenu:ElSelectMenu,ElTag:ElTag,ElTooltip:ElTooltip,ElIcon:ElIcon},directives:{ClickOutside:ClickOutside,ModelText:vModelText},props:SelectProps,emits:[UPDATE_MODEL_EVENT,CHANGE_EVENT,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const n=computed((()=>{const{modelValue:t,multiple:n}=e,r=n?[]:void 0;return isArray$1(t)?n?t:r:n?r:t})),r=useSelect$1(reactive({...toRefs(e),modelValue:n}),t);return provide(selectV2InjectionKey,{props:reactive({...toRefs(e),height:r.popupHeight,modelValue:n}),popper:r.popper,onSelect:r.onSelect,onHover:r.onHover,onKeyboardNavigate:r.onKeyboardNavigate,onKeyboardSelect:r.onKeyboardSelect}),{...r,modelValue:n}}}),_hoisted_1$1e={key:0},_hoisted_2$Q=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],_hoisted_3$A=["textContent"],_hoisted_4$k=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],_hoisted_5$d=["textContent"];function _sfc_render$h(e,t,n,r,o,i){const a=resolveComponent("el-tag"),s=resolveComponent("el-tooltip"),l=resolveComponent("el-icon"),u=resolveComponent("el-select-menu"),c=resolveDirective("model-text"),d=resolveDirective("click-outside");return withDirectives((openBlock(),createElementBlock("div",{ref:"selectRef",class:normalizeClass([e.nsSelectV2.b(),e.nsSelectV2.m(e.selectSize)]),onClick:t[24]||(t[24]=withModifiers(((...t)=>e.toggleMenu&&e.toggleMenu(...t)),["stop"])),onMouseenter:t[25]||(t[25]=t=>e.states.comboBoxHovering=!0),onMouseleave:t[26]||(t[26]=t=>e.states.comboBoxHovering=!1)},[createVNode(s,{ref:"popper",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelectV2.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:t[23]||(t[23]=t=>e.states.inputValue=e.states.displayInputValue)},{default:withCtx((()=>[createBaseVNode("div",{ref:"selectionRef",class:normalizeClass([e.nsSelectV2.e("wrapper"),e.nsSelectV2.is("focused",e.states.isComposing||e.expanded),e.nsSelectV2.is("hovering",e.states.comboBoxHovering),e.nsSelectV2.is("filterable",e.filterable),e.nsSelectV2.is("disabled",e.selectDisabled)])},[e.$slots.prefix?(openBlock(),createElementBlock("div",_hoisted_1$1e,[renderSlot(e.$slots,"prefix")])):createCommentVNode("v-if",!0),e.multiple?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(e.nsSelectV2.e("selection"))},[e.collapseTags&&e.modelValue.length>0?(openBlock(),createElementBlock(Fragment,{key:0},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.showTagList,(t=>(openBlock(),createElementBlock("div",{key:e.getValueKey(e.getValue(t)),class:normalizeClass(e.nsSelectV2.e("selected-item"))},[createVNode(a,{closable:!e.selectDisabled&&!e.getDisabled(t),size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:n=>e.deleteTag(n,t)},{default:withCtx((()=>[createBaseVNode("span",{class:normalizeClass(e.nsSelectV2.e("tags-text")),style:normalizeStyle({maxWidth:`${e.tagMaxWidth}px`})},toDisplayString(e.getLabel(t)),7)])),_:2},1032,["closable","size","onClose"])],2)))),128)),createBaseVNode("div",{class:normalizeClass(e.nsSelectV2.e("selected-item"))},[e.modelValue.length>e.maxCollapseTags?(openBlock(),createBlock(a,{key:0,closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""},{default:withCtx((()=>[e.collapseTagsTooltip?(openBlock(),createBlock(s,{key:0,disabled:e.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:!1},{default:withCtx((()=>[createBaseVNode("span",{class:normalizeClass(e.nsSelectV2.e("tags-text")),style:normalizeStyle({maxWidth:`${e.tagMaxWidth}px`})}," + "+toDisplayString(e.modelValue.length-e.maxCollapseTags),7)])),content:withCtx((()=>[createBaseVNode("div",{class:normalizeClass(e.nsSelectV2.e("selection"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.collapseTagList,(t=>(openBlock(),createElementBlock("div",{key:e.getValueKey(e.getValue(t)),class:normalizeClass(e.nsSelectV2.e("selected-item"))},[createVNode(a,{closable:!e.selectDisabled&&!e.getDisabled(t),size:e.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:n=>e.deleteTag(n,t)},{default:withCtx((()=>[createBaseVNode("span",{class:normalizeClass(e.nsSelectV2.e("tags-text")),style:normalizeStyle({maxWidth:`${e.tagMaxWidth}px`})},toDisplayString(e.getLabel(t)),7)])),_:2},1032,["closable","size","onClose"])],2)))),128))],2)])),_:1},8,["disabled","effect"])):(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(e.nsSelectV2.e("tags-text")),style:normalizeStyle({maxWidth:`${e.tagMaxWidth}px`})}," + "+toDisplayString(e.modelValue.length-e.maxCollapseTags),7))])),_:1},8,["size"])):createCommentVNode("v-if",!0)],2)],64)):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(e.states.cachedOptions,(t=>(openBlock(),createElementBlock("div",{key:e.getValueKey(e.getValue(t)),class:normalizeClass(e.nsSelectV2.e("selected-item"))},[createVNode(a,{closable:!e.selectDisabled&&!e.getDisabled(t),size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:n=>e.deleteTag(n,t)},{default:withCtx((()=>[createBaseVNode("span",{class:normalizeClass(e.nsSelectV2.e("tags-text")),style:normalizeStyle({maxWidth:`${e.tagMaxWidth}px`})},toDisplayString(e.getLabel(t)),7)])),_:2},1032,["closable","size","onClose"])],2)))),128)),createBaseVNode("div",{class:normalizeClass([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")]),style:normalizeStyle(e.inputWrapperStyle)},[withDirectives(createBaseVNode("input",{id:e.id,ref:"inputRef",autocomplete:e.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-labelledby":e.label,class:normalizeClass([e.nsSelectV2.is(e.selectSize),e.nsSelectV2.e("combobox-input")]),disabled:e.disabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,unselectable:e.expanded?"on":void 0,"onUpdate:modelValue":t[0]||(t[0]=(...t)=>e.onUpdateInputValue&&e.onUpdateInputValue(...t)),onFocus:t[1]||(t[1]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[2]||(t[2]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onInput:t[3]||(t[3]=(...t)=>e.onInput&&e.onInput(...t)),onCompositionstart:t[4]||(t[4]=(...t)=>e.handleCompositionStart&&e.handleCompositionStart(...t)),onCompositionupdate:t[5]||(t[5]=(...t)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...t)),onCompositionend:t[6]||(t[6]=(...t)=>e.handleCompositionEnd&&e.handleCompositionEnd(...t)),onKeydown:[t[7]||(t[7]=withKeys(withModifiers((t=>e.onKeyboardNavigate("backward")),["stop","prevent"]),["up"])),t[8]||(t[8]=withKeys(withModifiers((t=>e.onKeyboardNavigate("forward")),["stop","prevent"]),["down"])),t[9]||(t[9]=withKeys(withModifiers(((...t)=>e.onKeyboardSelect&&e.onKeyboardSelect(...t)),["stop","prevent"]),["enter"])),t[10]||(t[10]=withKeys(withModifiers(((...t)=>e.handleEsc&&e.handleEsc(...t)),["stop","prevent"]),["esc"])),t[11]||(t[11]=withKeys(withModifiers(((...t)=>e.handleDel&&e.handleDel(...t)),["stop"]),["delete"]))]},null,42,_hoisted_2$Q),[[c,e.states.displayInputValue]]),e.filterable?(openBlock(),createElementBlock("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:normalizeClass(e.nsSelectV2.e("input-calculator")),textContent:toDisplayString(e.states.displayInputValue)},null,10,_hoisted_3$A)):createCommentVNode("v-if",!0)],6)],2)):(openBlock(),createElementBlock(Fragment,{key:2},[createBaseVNode("div",{class:normalizeClass([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")])},[withDirectives(createBaseVNode("input",{id:e.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":e.label,"aria-expanded":e.expanded,autocapitalize:"off",autocomplete:e.autocomplete,class:normalizeClass(e.nsSelectV2.e("combobox-input")),disabled:e.disabled,name:e.name,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",unselectable:e.expanded?"on":void 0,onCompositionstart:t[12]||(t[12]=(...t)=>e.handleCompositionStart&&e.handleCompositionStart(...t)),onCompositionupdate:t[13]||(t[13]=(...t)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...t)),onCompositionend:t[14]||(t[14]=(...t)=>e.handleCompositionEnd&&e.handleCompositionEnd(...t)),onFocus:t[15]||(t[15]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[16]||(t[16]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onInput:t[17]||(t[17]=(...t)=>e.onInput&&e.onInput(...t)),onKeydown:[t[18]||(t[18]=withKeys(withModifiers((t=>e.onKeyboardNavigate("backward")),["stop","prevent"]),["up"])),t[19]||(t[19]=withKeys(withModifiers((t=>e.onKeyboardNavigate("forward")),["stop","prevent"]),["down"])),t[20]||(t[20]=withKeys(withModifiers(((...t)=>e.onKeyboardSelect&&e.onKeyboardSelect(...t)),["stop","prevent"]),["enter"])),t[21]||(t[21]=withKeys(withModifiers(((...t)=>e.handleEsc&&e.handleEsc(...t)),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":t[22]||(t[22]=(...t)=>e.onUpdateInputValue&&e.onUpdateInputValue(...t))},null,42,_hoisted_4$k),[[c,e.states.displayInputValue]])],2),e.filterable?(openBlock(),createElementBlock("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:normalizeClass([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-calculator")]),textContent:toDisplayString(e.states.displayInputValue)},null,10,_hoisted_5$d)):createCommentVNode("v-if",!0)],64)),e.shouldShowPlaceholder?(openBlock(),createElementBlock("span",{key:3,class:normalizeClass([e.nsSelectV2.e("placeholder"),e.nsSelectV2.is("transparent",e.multiple?0===e.modelValue.length:!e.hasModelValue)])},toDisplayString(e.currentPlaceholder),3)):createCommentVNode("v-if",!0),createBaseVNode("span",{class:normalizeClass(e.nsSelectV2.e("suffix"))},[e.iconComponent?withDirectives((openBlock(),createBlock(l,{key:0,class:normalizeClass([e.nsSelectV2.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.iconComponent)))])),_:1},8,["class"])),[[vShow,!e.showClearBtn]]):createCommentVNode("v-if",!0),e.showClearBtn&&e.clearIcon?(openBlock(),createBlock(l,{key:1,class:normalizeClass([e.nsSelectV2.e("caret"),e.nsInput.e("icon")]),onClick:withModifiers(e.handleClear,["prevent","stop"])},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.clearIcon)))])),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0),e.validateState&&e.validateIcon?(openBlock(),createBlock(l,{key:2,class:normalizeClass([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.validateIcon)))])),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)])),content:withCtx((()=>[createVNode(u,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},{default:withCtx((t=>[renderSlot(e.$slots,"default",normalizeProps(guardReactiveProps(t)))])),empty:withCtx((()=>[renderSlot(e.$slots,"empty",{},(()=>[createBaseVNode("p",{class:normalizeClass(e.nsSelectV2.e("empty"))},toDisplayString(e.emptyText?e.emptyText:""),3)]))])),_:3},8,["data","width","hovering-index","scrollbar-always-on"])])),_:3},8,["visible","teleported","popper-class","popper-options","effect","placement","transition","persistent","onBeforeShow"])],34)),[[d,e.handleClickOutside,e.popperRef]])}var Select=_export_sfc(_sfc_main$1O,[["render",_sfc_render$h],["__file","select.vue"]]);Select.install=e=>{e.component(Select.name,Select)};const _Select=Select,ElSelectV2=_Select,skeletonProps=buildProps({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),skeletonItemProps=buildProps({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),__default__$u=defineComponent({name:"ElSkeletonItem"}),_sfc_main$1N=defineComponent({...__default__$u,props:skeletonItemProps,setup(e){const t=useNamespace("skeleton");return(e,n)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(t).e("item"),unref(t).e(e.variant)])},["image"===e.variant?(openBlock(),createBlock(unref(picture_filled_default),{key:0})):createCommentVNode("v-if",!0)],2))}});var SkeletonItem=_export_sfc(_sfc_main$1N,[["__file","skeleton-item.vue"]]);const __default__$t=defineComponent({name:"ElSkeleton"}),_sfc_main$1M=defineComponent({...__default__$t,props:skeletonProps,setup(e,{expose:t}){const n=e,r=useNamespace("skeleton"),o=useThrottleRender(toRef$1(n,"loading"),n.throttle);return t({uiLoading:o}),(e,t)=>unref(o)?(openBlock(),createElementBlock("div",mergeProps({key:0,class:[unref(r).b(),unref(r).is("animated",e.animated)]},e.$attrs),[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.count,(t=>(openBlock(),createElementBlock(Fragment,{key:t},[e.loading?renderSlot(e.$slots,"template",{key:t},(()=>[createVNode(SkeletonItem,{class:normalizeClass(unref(r).is("first")),variant:"p"},null,8,["class"]),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.rows,(t=>(openBlock(),createBlock(SkeletonItem,{key:t,class:normalizeClass([unref(r).e("paragraph"),unref(r).is("last",t===e.rows&&e.rows>1)]),variant:"p"},null,8,["class"])))),128))])):createCommentVNode("v-if",!0)],64)))),128))],16)):renderSlot(e.$slots,"default",normalizeProps(mergeProps({key:1},e.$attrs)))}});var Skeleton=_export_sfc(_sfc_main$1M,[["__file","skeleton.vue"]]);const ElSkeleton=withInstall(Skeleton,{SkeletonItem:SkeletonItem}),ElSkeletonItem=withNoopInstall(SkeletonItem),sliderContextKey=Symbol("sliderContextKey"),sliderProps=buildProps({modelValue:{type:definePropType([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:useSizeProp,inputSize:useSizeProp,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:definePropType(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:definePropType(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Ee,default:"top"},marks:{type:definePropType(Object)},validateEvent:{type:Boolean,default:!0}}),isValidValue$1=e=>isNumber(e)||isArray$1(e)&&e.every(isNumber),sliderEmits={[UPDATE_MODEL_EVENT]:isValidValue$1,[INPUT_EVENT]:isValidValue$1,[CHANGE_EVENT]:isValidValue$1},useLifecycle=(e,t,n)=>{const r=ref();return onMounted((async()=>{e.range?(Array.isArray(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):("number"!=typeof e.modelValue||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),useEventListener$1(window,"resize",n),await nextTick(),n()})),{sliderWrapper:r}},useMarks=e=>computed((()=>{if(!e.marks)return[];return Object.keys(e.marks).map(Number.parseFloat).sort(((e,t)=>e-t)).filter((t=>t<=e.max&&t>=e.min)).map((t=>({point:t,position:100*(t-e.min)/(e.max-e.min),mark:e.marks[t]})))})),useSlide=(e,t,n)=>{const{form:r,formItem:o}=useFormItem(),i=shallowRef(),a=ref(),s=ref(),l={firstButton:a,secondButton:s},u=computed((()=>e.disabled||(null==r?void 0:r.disabled)||!1)),c=computed((()=>Math.min(t.firstValue,t.secondValue))),d=computed((()=>Math.max(t.firstValue,t.secondValue))),h=computed((()=>e.range?100*(d.value-c.value)/(e.max-e.min)+"%":100*(t.firstValue-e.min)/(e.max-e.min)+"%")),p=computed((()=>e.range?100*(c.value-e.min)/(e.max-e.min)+"%":"0%")),f=computed((()=>e.vertical?{height:e.height}:{})),m=computed((()=>e.vertical?{height:h.value,bottom:p.value}:{width:h.value,left:p.value})),_=()=>{i.value&&(t.sliderSize=i.value["client"+(e.vertical?"Height":"Width")])},g=n=>{const r=(n=>{const r=e.min+n*(e.max-e.min)/100;if(!e.range)return a;let o;return o=Math.abs(c.value-r)<Math.abs(d.value-r)?t.firstValue<t.secondValue?"firstButton":"secondButton":t.firstValue>t.secondValue?"firstButton":"secondButton",l[o]})(n);return r.value.setPosition(n),r},v=e=>{n(UPDATE_MODEL_EVENT,e),n(INPUT_EVENT,e)},y=async()=>{await nextTick(),n(CHANGE_EVENT,e.range?[c.value,d.value]:e.modelValue)},b=n=>{var r,o,a,s,l,c;if(u.value||t.dragging)return;_();let d=0;if(e.vertical){const e=null!=(a=null==(o=null==(r=n.touches)?void 0:r.item(0))?void 0:o.clientY)?a:n.clientY;d=(i.value.getBoundingClientRect().bottom-e)/t.sliderSize*100}else{d=((null!=(c=null==(l=null==(s=n.touches)?void 0:s.item(0))?void 0:l.clientX)?c:n.clientX)-i.value.getBoundingClientRect().left)/t.sliderSize*100}return d<0||d>100?void 0:g(d)};return{elFormItem:o,slider:i,firstButton:a,secondButton:s,sliderDisabled:u,minValue:c,maxValue:d,runwayStyle:f,barStyle:m,resetSize:_,setPosition:g,emitChange:y,onSliderWrapperPrevent:e=>{var t,n;((null==(t=l.firstButton.value)?void 0:t.dragging)||(null==(n=l.secondButton.value)?void 0:n.dragging))&&e.preventDefault()},onSliderClick:e=>{b(e)&&y()},onSliderDown:async e=>{const t=b(e);t&&(await nextTick(),t.value.onButtonDown(e))},setFirstValue:n=>{t.firstValue=n,v(e.range?[c.value,d.value]:n)},setSecondValue:n=>{t.secondValue=n,e.range&&v([c.value,d.value])}}},{left:left,down:down,right:right,up:up,home:home,end:end,pageUp:pageUp,pageDown:pageDown}=EVENT_CODE,useTooltip=(e,t,n)=>{const r=ref(),o=ref(!1),i=computed((()=>t.value instanceof Function)),a=computed((()=>i.value&&t.value(e.modelValue)||e.modelValue)),s=debounce((()=>{n.value&&(o.value=!0)}),50),l=debounce((()=>{n.value&&(o.value=!1)}),50);return{tooltip:r,tooltipVisible:o,formatValue:a,displayTooltip:s,hideTooltip:l}},useSliderButton=(e,t,n)=>{const{disabled:r,min:o,max:i,step:a,showTooltip:s,precision:l,sliderSize:u,formatTooltip:c,emitChange:d,resetSize:h,updateDragging:p}=inject(sliderContextKey),{tooltip:f,tooltipVisible:m,formatValue:_,displayTooltip:g,hideTooltip:v}=useTooltip(e,c,s),y=ref(),b=computed((()=>(e.modelValue-o.value)/(i.value-o.value)*100+"%")),E=computed((()=>e.vertical?{bottom:b.value}:{left:b.value})),C=e=>{r.value||(t.newPosition=Number.parseFloat(b.value)+e/(i.value-o.value)*100,k(t.newPosition),d())},x=e=>{let t,n;return e.type.startsWith("touch")?(n=e.touches[0].clientY,t=e.touches[0].clientX):(n=e.clientY,t=e.clientX),{clientX:t,clientY:n}},w=n=>{t.dragging=!0,t.isClick=!0;const{clientX:r,clientY:o}=x(n);e.vertical?t.startY=o:t.startX=r,t.startPosition=Number.parseFloat(b.value),t.newPosition=t.startPosition},S=n=>{if(t.dragging){let r;t.isClick=!1,g(),h();const{clientX:o,clientY:i}=x(n);e.vertical?(t.currentY=i,r=(t.startY-t.currentY)/u.value*100):(t.currentX=o,r=(t.currentX-t.startX)/u.value*100),t.newPosition=t.startPosition+r,k(t.newPosition)}},T=()=>{t.dragging&&(setTimeout((()=>{t.dragging=!1,t.hovering||v(),t.isClick||k(t.newPosition),d()}),0),window.removeEventListener("mousemove",S),window.removeEventListener("touchmove",S),window.removeEventListener("mouseup",T),window.removeEventListener("touchend",T),window.removeEventListener("contextmenu",T))},k=async r=>{if(null===r||Number.isNaN(+r))return;r<0?r=0:r>100&&(r=100);const s=100/((i.value-o.value)/a.value);let u=Math.round(r/s)*s*(i.value-o.value)*.01+o.value;u=Number.parseFloat(u.toFixed(l.value)),u!==e.modelValue&&n(UPDATE_MODEL_EVENT,u),t.dragging||e.modelValue===t.oldValue||(t.oldValue=e.modelValue),await nextTick(),t.dragging&&g(),f.value.updatePopper()};return watch((()=>t.dragging),(e=>{p(e)})),{disabled:r,button:y,tooltip:f,tooltipVisible:m,showTooltip:s,wrapperStyle:E,formatValue:_,handleMouseEnter:()=>{t.hovering=!0,g()},handleMouseLeave:()=>{t.hovering=!1,t.dragging||v()},onButtonDown:e=>{r.value||(e.preventDefault(),w(e),window.addEventListener("mousemove",S),window.addEventListener("touchmove",S),window.addEventListener("mouseup",T),window.addEventListener("touchend",T),window.addEventListener("contextmenu",T),y.value.focus())},onKeyDown:e=>{let t=!0;[left,down].includes(e.key)?C(-a.value):[right,up].includes(e.key)?C(a.value):e.key===home?r.value||(k(0),d()):e.key===end?r.value||(k(100),d()):e.key===pageDown?C(4*-a.value):e.key===pageUp?C(4*a.value):t=!1,t&&e.preventDefault()},setPosition:k}},useStops=(e,t,n,r)=>({stops:computed((()=>{if(!e.showStops||e.min>e.max)return[];if(0===e.step)return[];const o=(e.max-e.min)/e.step,i=100*e.step/(e.max-e.min),a=Array.from({length:o-1}).map(((e,t)=>(t+1)*i));return e.range?a.filter((t=>t<100*(n.value-e.min)/(e.max-e.min)||t>100*(r.value-e.min)/(e.max-e.min))):a.filter((n=>n>100*(t.firstValue-e.min)/(e.max-e.min)))})),getStopStyle:t=>e.vertical?{bottom:`${t}%`}:{left:`${t}%`}}),useWatch=(e,t,n,r,o,i)=>{const a=e=>{o(UPDATE_MODEL_EVENT,e),o(INPUT_EVENT,e)},s=()=>e.range?![n.value,r.value].every(((e,n)=>e===t.oldValue[n])):e.modelValue!==t.oldValue,l=()=>{var n,r;e.min>e.max&&throwError("Slider","min should not be greater than max.");const o=e.modelValue;e.range&&Array.isArray(o)?o[1]<e.min?a([e.min,e.min]):o[0]>e.max?a([e.max,e.max]):o[0]<e.min?a([e.min,o[1]]):o[1]>e.max?a([o[0],e.max]):(t.firstValue=o[0],t.secondValue=o[1],s()&&(e.validateEvent&&(null==(n=null==i?void 0:i.validate)||n.call(i,"change").catch((e=>debugWarn()))),t.oldValue=o.slice())):e.range||"number"!=typeof o||Number.isNaN(o)||(o<e.min?a(e.min):o>e.max?a(e.max):(t.firstValue=o,s()&&(e.validateEvent&&(null==(r=null==i?void 0:i.validate)||r.call(i,"change").catch((e=>debugWarn()))),t.oldValue=o)))};l(),watch((()=>t.dragging),(e=>{e||l()})),watch((()=>e.modelValue),((e,n)=>{t.dragging||Array.isArray(e)&&Array.isArray(n)&&e.every(((e,t)=>e===n[t]))&&t.firstValue===e[0]&&t.secondValue===e[1]||l()}),{deep:!0}),watch((()=>[e.min,e.max]),(()=>{l()}))},sliderButtonProps=buildProps({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Ee,default:"top"}}),sliderButtonEmits={[UPDATE_MODEL_EVENT]:e=>isNumber(e)},_hoisted_1$1d=["tabindex"],__default__$s=defineComponent({name:"ElSliderButton"}),_sfc_main$1L=defineComponent({...__default__$s,props:sliderButtonProps,emits:sliderButtonEmits,setup(e,{expose:t,emit:n}){const r=e,o=useNamespace("slider"),i=reactive({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),{disabled:a,button:s,tooltip:l,showTooltip:u,tooltipVisible:c,wrapperStyle:d,formatValue:h,handleMouseEnter:p,handleMouseLeave:f,onButtonDown:m,onKeyDown:_,setPosition:g}=useSliderButton(r,i,n),{hovering:v,dragging:y}=toRefs(i);return t({onButtonDown:m,onKeyDown:_,setPosition:g,hovering:v,dragging:y}),(e,t)=>(openBlock(),createElementBlock("div",{ref_key:"button",ref:s,class:normalizeClass([unref(o).e("button-wrapper"),{hover:unref(v),dragging:unref(y)}]),style:normalizeStyle(unref(d)),tabindex:unref(a)?-1:0,onMouseenter:t[0]||(t[0]=(...e)=>unref(p)&&unref(p)(...e)),onMouseleave:t[1]||(t[1]=(...e)=>unref(f)&&unref(f)(...e)),onMousedown:t[2]||(t[2]=(...e)=>unref(m)&&unref(m)(...e)),onTouchstart:t[3]||(t[3]=(...e)=>unref(m)&&unref(m)(...e)),onFocus:t[4]||(t[4]=(...e)=>unref(p)&&unref(p)(...e)),onBlur:t[5]||(t[5]=(...e)=>unref(f)&&unref(f)(...e)),onKeydown:t[6]||(t[6]=(...e)=>unref(_)&&unref(_)(...e))},[createVNode(unref(ElTooltip),{ref_key:"tooltip",ref:l,visible:unref(c),placement:e.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":e.tooltipClass,disabled:!unref(u),persistent:""},{content:withCtx((()=>[createBaseVNode("span",null,toDisplayString(unref(h)),1)])),default:withCtx((()=>[createBaseVNode("div",{class:normalizeClass([unref(o).e("button"),{hover:unref(v),dragging:unref(y)}])},null,2)])),_:1},8,["visible","placement","popper-class","disabled"])],46,_hoisted_1$1d))}});var SliderButton=_export_sfc(_sfc_main$1L,[["__file","button.vue"]]);const sliderMarkerProps=buildProps({mark:{type:definePropType([String,Object]),default:void 0}});var SliderMarker=defineComponent({name:"ElSliderMarker",props:sliderMarkerProps,setup(e){const t=useNamespace("slider"),n=computed((()=>isString$1(e.mark)?e.mark:e.mark.label)),r=computed((()=>isString$1(e.mark)?void 0:e.mark.style));return()=>h$1("div",{class:t.e("marks-text"),style:r.value},n.value)}});const _hoisted_1$1c=["id","role","aria-label","aria-labelledby"],_hoisted_2$P={key:1},__default__$r=defineComponent({name:"ElSlider"}),_sfc_main$1K=defineComponent({...__default__$r,props:sliderProps,emits:sliderEmits,setup(e,{expose:t,emit:n}){const r=e,o=useNamespace("slider"),{t:i}=useLocale(),a=reactive({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:s,slider:l,firstButton:u,secondButton:c,sliderDisabled:d,minValue:h,maxValue:p,runwayStyle:f,barStyle:m,resetSize:_,emitChange:g,onSliderWrapperPrevent:v,onSliderClick:y,onSliderDown:b,setFirstValue:E,setSecondValue:C}=useSlide(r,a,n),{stops:x,getStopStyle:w}=useStops(r,a,h,p),{inputId:S,isLabeledByFormItem:T}=useFormItemInputId(r,{formItemContext:s}),k=useFormSize(),L=computed((()=>r.inputSize||k.value)),P=computed((()=>r.label||i("el.slider.defaultLabel",{min:r.min,max:r.max}))),M=computed((()=>r.range?r.rangeStartLabel||i("el.slider.defaultRangeStartLabel"):P.value)),O=computed((()=>r.formatValueText?r.formatValueText(D.value):`${D.value}`)),N=computed((()=>r.rangeEndLabel||i("el.slider.defaultRangeEndLabel"))),A=computed((()=>r.formatValueText?r.formatValueText(F.value):`${F.value}`)),I=computed((()=>[o.b(),o.m(k.value),o.is("vertical",r.vertical),{[o.m("with-input")]:r.showInput}])),R=useMarks(r);useWatch(r,a,h,p,n,s);const $=computed((()=>{const e=[r.min,r.max,r.step].map((e=>{const t=`${e}`.split(".")[1];return t?t.length:0}));return Math.max.apply(null,e)})),{sliderWrapper:B}=useLifecycle(r,a,_),{firstValue:D,secondValue:F,sliderSize:V}=toRefs(a);return provide(sliderContextKey,{...toRefs(r),sliderSize:V,disabled:d,precision:$,emitChange:g,resetSize:_,updateDragging:e=>{a.dragging=e}}),t({onSliderClick:y}),(e,t)=>{var n,r;return openBlock(),createElementBlock("div",{id:e.range?unref(S):void 0,ref_key:"sliderWrapper",ref:B,class:normalizeClass(unref(I)),role:e.range?"group":void 0,"aria-label":e.range&&!unref(T)?unref(P):void 0,"aria-labelledby":e.range&&unref(T)?null==(n=unref(s))?void 0:n.labelId:void 0,onTouchstart:t[2]||(t[2]=(...e)=>unref(v)&&unref(v)(...e)),onTouchmove:t[3]||(t[3]=(...e)=>unref(v)&&unref(v)(...e))},[createBaseVNode("div",{ref_key:"slider",ref:l,class:normalizeClass([unref(o).e("runway"),{"show-input":e.showInput&&!e.range},unref(o).is("disabled",unref(d))]),style:normalizeStyle(unref(f)),onMousedown:t[0]||(t[0]=(...e)=>unref(b)&&unref(b)(...e)),onTouchstart:t[1]||(t[1]=(...e)=>unref(b)&&unref(b)(...e))},[createBaseVNode("div",{class:normalizeClass(unref(o).e("bar")),style:normalizeStyle(unref(m))},null,6),createVNode(SliderButton,{id:e.range?void 0:unref(S),ref_key:"firstButton",ref:u,"model-value":unref(D),vertical:e.vertical,"tooltip-class":e.tooltipClass,placement:e.placement,role:"slider","aria-label":e.range||!unref(T)?unref(M):void 0,"aria-labelledby":!e.range&&unref(T)?null==(r=unref(s))?void 0:r.labelId:void 0,"aria-valuemin":e.min,"aria-valuemax":e.range?unref(F):e.max,"aria-valuenow":unref(D),"aria-valuetext":unref(O),"aria-orientation":e.vertical?"vertical":"horizontal","aria-disabled":unref(d),"onUpdate:modelValue":unref(E)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),e.range?(openBlock(),createBlock(SliderButton,{key:0,ref_key:"secondButton",ref:c,"model-value":unref(F),vertical:e.vertical,"tooltip-class":e.tooltipClass,placement:e.placement,role:"slider","aria-label":unref(N),"aria-valuemin":unref(D),"aria-valuemax":e.max,"aria-valuenow":unref(F),"aria-valuetext":unref(A),"aria-orientation":e.vertical?"vertical":"horizontal","aria-disabled":unref(d),"onUpdate:modelValue":unref(C)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):createCommentVNode("v-if",!0),e.showStops?(openBlock(),createElementBlock("div",_hoisted_2$P,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(x),((e,t)=>(openBlock(),createElementBlock("div",{key:t,class:normalizeClass(unref(o).e("stop")),style:normalizeStyle(unref(w)(e))},null,6)))),128))])):createCommentVNode("v-if",!0),unref(R).length>0?(openBlock(),createElementBlock(Fragment,{key:2},[createBaseVNode("div",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(R),((e,t)=>(openBlock(),createElementBlock("div",{key:t,style:normalizeStyle(unref(w)(e.position)),class:normalizeClass([unref(o).e("stop"),unref(o).e("marks-stop")])},null,6)))),128))]),createBaseVNode("div",{class:normalizeClass(unref(o).e("marks"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(R),((e,t)=>(openBlock(),createBlock(unref(SliderMarker),{key:t,mark:e.mark,style:normalizeStyle(unref(w)(e.position))},null,8,["mark","style"])))),128))],2)],64)):createCommentVNode("v-if",!0)],38),e.showInput&&!e.range?(openBlock(),createBlock(unref(ElInputNumber),{key:0,ref:"input","model-value":unref(D),class:normalizeClass(unref(o).e("input")),step:e.step,disabled:unref(d),controls:e.showInputControls,min:e.min,max:e.max,debounce:e.debounce,size:unref(L),"onUpdate:modelValue":unref(E),onChange:unref(g)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):createCommentVNode("v-if",!0)],42,_hoisted_1$1c)}}});var Slider=_export_sfc(_sfc_main$1K,[["__file","slider.vue"]]);const ElSlider=withInstall(Slider),spaceItemProps=buildProps({prefixCls:{type:String}}),SpaceItem=defineComponent({name:"ElSpaceItem",props:spaceItemProps,setup(e,{slots:t}){const n=useNamespace("space"),r=computed((()=>`${e.prefixCls||n.b()}__item`));return()=>h$1("div",{class:r.value},renderSlot(t,"default"))}}),SIZE_MAP={small:8,default:12,large:16};function useSpace(e){const t=useNamespace("space"),n=computed((()=>[t.b(),t.m(e.direction),e.class])),r=ref(0),o=ref(0),i=computed((()=>[e.wrap||e.fill?{flexWrap:"wrap",marginBottom:`-${o.value}px`}:{},{alignItems:e.alignment},e.style])),a=computed((()=>[{paddingBottom:`${o.value}px`,marginRight:`${r.value}px`},e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{}]));return watchEffect((()=>{const{size:t="small",wrap:n,direction:i,fill:a}=e;if(isArray$1(t)){const[e=0,n=0]=t;r.value=e,o.value=n}else{let e;e=isNumber(t)?t:SIZE_MAP[t||"small"]||SIZE_MAP.small,(n||a)&&"horizontal"===i?r.value=o.value=e:"horizontal"===i?(r.value=e,o.value=0):(o.value=e,r.value=0)}})),{classes:n,containerStyle:i,itemStyle:a}}const spaceProps=buildProps({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:definePropType([String,Object,Array]),default:""},style:{type:definePropType([String,Array,Object]),default:""},alignment:{type:definePropType(String),default:"center"},prefixCls:{type:String},spacer:{type:definePropType([Object,String,Number,Array]),default:null,validator:e=>isVNode(e)||isNumber(e)||isString$1(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:componentSizes,validator:e=>isNumber(e)||isArray$1(e)&&2===e.length&&e.every(isNumber)}}),Space=defineComponent({name:"ElSpace",props:spaceProps,setup(e,{slots:t}){const{classes:n,containerStyle:r,itemStyle:o}=useSpace(e);function i(t,n="",r=[]){const{prefixCls:a}=e;return t.forEach(((e,t)=>{isFragment(e)?isArray$1(e.children)&&e.children.forEach(((e,t)=>{isFragment(e)&&isArray$1(e.children)?i(e.children,`${n+t}-`,r):r.push(createVNode(SpaceItem,{style:o.value,prefixCls:a,key:`nested-${n+t}`},{default:()=>[e]},PatchFlags.PROPS|PatchFlags.STYLE,["style","prefixCls"]))})):isValidElementNode(e)&&r.push(createVNode(SpaceItem,{style:o.value,prefixCls:a,key:`LoopKey${n+t}`},{default:()=>[e]},PatchFlags.PROPS|PatchFlags.STYLE,["style","prefixCls"]))})),r}return()=>{var a;const{spacer:s,direction:l}=e,u=renderSlot(t,"default",{key:0},(()=>[]));if(0===(null!=(a=u.children)?a:[]).length)return null;if(isArray$1(u.children)){let e=i(u.children);if(s){const t=e.length-1;e=e.reduce(((e,n,r)=>{const i=[...e,n];return r!==t&&i.push(createVNode("span",{style:[o.value,"vertical"===l?"width: 100%":null],key:r},[isVNode(s)?s:createTextVNode(s,PatchFlags.TEXT)],PatchFlags.STYLE)),i}),[])}return createVNode("div",{class:n.value,style:r.value},e,PatchFlags.STYLE|PatchFlags.CLASS)}return u.children}}}),ElSpace=withInstall(Space),statisticProps=buildProps({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:definePropType([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:definePropType([String,Object,Array])}}),__default__$q=defineComponent({name:"ElStatistic"}),_sfc_main$1J=defineComponent({...__default__$q,props:statisticProps,setup(e,{expose:t}){const n=e,r=useNamespace("statistic"),o=computed((()=>{const{value:e,formatter:t,precision:r,decimalSeparator:o,groupSeparator:i}=n;if(isFunction$2(t))return t(e);if(!isNumber(e))return e;let[a,s=""]=String(e).split(".");return s=s.padEnd(r,"0").slice(0,r>0?r:0),a=a.replace(/\B(?=(\d{3})+(?!\d))/g,i),[a,s].join(s?o:"")}));return t({displayValue:o}),(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(r).b())},[e.$slots.title||e.title?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).e("head"))},[renderSlot(e.$slots,"title",{},(()=>[createTextVNode(toDisplayString(e.title),1)]))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(r).e("content"))},[e.$slots.prefix||e.prefix?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).e("prefix"))},[renderSlot(e.$slots,"prefix",{},(()=>[createBaseVNode("span",null,toDisplayString(e.prefix),1)]))],2)):createCommentVNode("v-if",!0),createBaseVNode("span",{class:normalizeClass(unref(r).e("number")),style:normalizeStyle(e.valueStyle)},toDisplayString(unref(o)),7),e.$slots.suffix||e.suffix?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(r).e("suffix"))},[renderSlot(e.$slots,"suffix",{},(()=>[createBaseVNode("span",null,toDisplayString(e.suffix),1)]))],2)):createCommentVNode("v-if",!0)],2)],2))}});var Statistic=_export_sfc(_sfc_main$1J,[["__file","statistic.vue"]]);const ElStatistic=withInstall(Statistic),countdownProps=buildProps({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:definePropType([Number,Object]),default:0},valueStyle:{type:definePropType([String,Object,Array])}}),countdownEmits={finish:()=>!0,[CHANGE_EVENT]:e=>isNumber(e)},timeUnits=[["Y",31536e6],["M",2592e6],["D",864e5],["H",36e5],["m",6e4],["s",1e3],["S",1]],getTime=e=>isNumber(e)?new Date(e).getTime():e.valueOf(),formatTime$1=(e,t)=>{let n=e;return timeUnits.reduce(((e,[t,r])=>{const o=new RegExp(`${t}+(?![^\\[\\]]*\\])`,"g");if(o.test(e)){const t=Math.floor(n/r);return n-=t*r,e.replace(o,(e=>String(t).padStart(e.length,"0")))}return e}),t).replace(/\[([^\]]*)]/g,"$1")},__default__$p=defineComponent({name:"ElCountdown"}),_sfc_main$1I=defineComponent({...__default__$p,props:countdownProps,emits:countdownEmits,setup(e,{expose:t,emit:n}){const r=e;let o;const i=ref(getTime(r.value)-Date.now()),a=computed((()=>formatTime$1(i.value,r.format))),s=e=>formatTime$1(e,r.format),l=()=>{o&&(cAF(o),o=void 0)};return watch((()=>[r.value,r.format]),(()=>{l(),(()=>{const e=getTime(r.value),t=()=>{let r=e-Date.now();n("change",r),r<=0?(r=0,l(),n("finish")):o=rAF(t),i.value=r};o=rAF(t)})()}),{immediate:!0}),onBeforeUnmount((()=>{l()})),t({displayValue:a}),(e,t)=>(openBlock(),createBlock(unref(ElStatistic),{value:i.value,title:e.title,prefix:e.prefix,suffix:e.suffix,"value-style":e.valueStyle,formatter:s},createSlots({_:2},[renderList(e.$slots,((t,n)=>({name:n,fn:withCtx((()=>[renderSlot(e.$slots,n)]))})))]),1032,["value","title","prefix","suffix","value-style"]))}});var Countdown=_export_sfc(_sfc_main$1I,[["__file","countdown.vue"]]);const ElCountdown=withInstall(Countdown),stepsProps=buildProps({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),stepsEmits={[CHANGE_EVENT]:(e,t)=>[e,t].every(isNumber)},__default__$o=defineComponent({name:"ElSteps"}),_sfc_main$1H=defineComponent({...__default__$o,props:stepsProps,emits:stepsEmits,setup(e,{emit:t}){const n=e,r=useNamespace("steps"),{children:o,addChild:i,removeChild:a}=useOrderedChildren(getCurrentInstance(),"ElStep");return watch(o,(()=>{o.value.forEach(((e,t)=>{e.setIndex(t)}))})),provide("ElSteps",{props:n,steps:o,addStep:i,removeStep:a}),watch((()=>n.active),((e,n)=>{t(CHANGE_EVENT,e,n)})),(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(r).b(),unref(r).m(e.simple?"simple":e.direction)])},[renderSlot(e.$slots,"default")],2))}});var Steps=_export_sfc(_sfc_main$1H,[["__file","steps.vue"]]);const stepProps=buildProps({title:{type:String,default:""},icon:{type:iconPropType},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),__default__$n=defineComponent({name:"ElStep"}),_sfc_main$1G=defineComponent({...__default__$n,props:stepProps,setup(e){const t=e,n=useNamespace("step"),r=ref(-1),o=ref({}),i=ref(""),a=inject("ElSteps"),s=getCurrentInstance();onMounted((()=>{watch([()=>a.props.active,()=>a.props.processStatus,()=>a.props.finishStatus],(([e])=>{v(e)}),{immediate:!0})})),onBeforeUnmount((()=>{a.removeStep(y.uid)}));const l=computed((()=>t.status||i.value)),u=computed((()=>{const e=a.steps.value[r.value-1];return e?e.currentStatus:"wait"})),c=computed((()=>a.props.alignCenter)),d=computed((()=>"vertical"===a.props.direction)),h=computed((()=>a.props.simple)),p=computed((()=>a.steps.value.length)),f=computed((()=>{var e;return(null==(e=a.steps.value[p.value-1])?void 0:e.uid)===(null==s?void 0:s.uid)})),m=computed((()=>h.value?"":a.props.space)),_=computed((()=>[n.b(),n.is(h.value?"simple":a.props.direction),n.is("flex",f.value&&!m.value&&!c.value),n.is("center",c.value&&!d.value&&!h.value)])),g=computed((()=>{const e={flexBasis:isNumber(m.value)?`${m.value}px`:m.value?m.value:100/(p.value-(c.value?0:1))+"%"};return d.value||f.value&&(e.maxWidth=100/p.value+"%"),e})),v=e=>{e>r.value?i.value=a.props.finishStatus:e===r.value&&"error"!==u.value?i.value=a.props.processStatus:i.value="wait";const t=a.steps.value[r.value-1];t&&t.calcProgress(i.value)},y=reactive({uid:s.uid,currentStatus:l,setIndex:e=>{r.value=e},calcProgress:e=>{const t="wait"===e,n={transitionDelay:`${t?"-":""}${150*r.value}ms`},i=e===a.props.processStatus||t?0:100;n.borderWidth=i&&!h.value?"1px":0,n["vertical"===a.props.direction?"height":"width"]=`${i}%`,o.value=n}});return a.addStep(y),(e,t)=>(openBlock(),createElementBlock("div",{style:normalizeStyle(unref(g)),class:normalizeClass(unref(_))},[createCommentVNode(" icon & line "),createBaseVNode("div",{class:normalizeClass([unref(n).e("head"),unref(n).is(unref(l))])},[unref(h)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(n).e("line"))},[createBaseVNode("i",{class:normalizeClass(unref(n).e("line-inner")),style:normalizeStyle(o.value)},null,6)],2)),createBaseVNode("div",{class:normalizeClass([unref(n).e("icon"),unref(n).is(e.icon||e.$slots.icon?"icon":"text")])},[renderSlot(e.$slots,"icon",{},(()=>[e.icon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(n).e("icon-inner"))},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.icon)))])),_:1},8,["class"])):"success"===unref(l)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(n).e("icon-inner"),unref(n).is("status")])},{default:withCtx((()=>[createVNode(unref(check_default))])),_:1},8,["class"])):"error"===unref(l)?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass([unref(n).e("icon-inner"),unref(n).is("status")])},{default:withCtx((()=>[createVNode(unref(close_default))])),_:1},8,["class"])):unref(h)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:3,class:normalizeClass(unref(n).e("icon-inner"))},toDisplayString(r.value+1),3))]))],2)],2),createCommentVNode(" title & description "),createBaseVNode("div",{class:normalizeClass(unref(n).e("main"))},[createBaseVNode("div",{class:normalizeClass([unref(n).e("title"),unref(n).is(unref(l))])},[renderSlot(e.$slots,"title",{},(()=>[createTextVNode(toDisplayString(e.title),1)]))],2),unref(h)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(n).e("arrow"))},null,2)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([unref(n).e("description"),unref(n).is(unref(l))])},[renderSlot(e.$slots,"description",{},(()=>[createTextVNode(toDisplayString(e.description),1)]))],2))],2)],6))}});var Step=_export_sfc(_sfc_main$1G,[["__file","item.vue"]]);const ElSteps=withInstall(Steps,{Step:Step}),ElStep=withNoopInstall(Step),switchProps=buildProps({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:isValidComponentSize},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:iconPropType},activeActionIcon:{type:iconPropType},activeIcon:{type:iconPropType},inactiveIcon:{type:iconPropType},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:definePropType(Function)},id:String,tabindex:{type:[String,Number]},value:{type:[Boolean,String,Number],default:!1},label:{type:String,default:void 0}}),switchEmits={[UPDATE_MODEL_EVENT]:e=>isBoolean(e)||isString$1(e)||isNumber(e),[CHANGE_EVENT]:e=>isBoolean(e)||isString$1(e)||isNumber(e),[INPUT_EVENT]:e=>isBoolean(e)||isString$1(e)||isNumber(e)},_hoisted_1$1b=["onClick"],_hoisted_2$O=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"],_hoisted_3$z=["aria-hidden"],_hoisted_4$j=["aria-hidden"],_hoisted_5$c=["aria-hidden"],COMPONENT_NAME$8="ElSwitch",__default__$m=defineComponent({name:COMPONENT_NAME$8}),_sfc_main$1F=defineComponent({...__default__$m,props:switchProps,emits:switchEmits,setup(e,{expose:t,emit:n}){const r=e,o=getCurrentInstance(),{formItem:i}=useFormItem(),a=useFormSize(),s=useNamespace("switch");[['"value"','"model-value" or "v-model"',"value"],['"active-color"',"CSS var `--el-switch-on-color`","activeColor"],['"inactive-color"',"CSS var `--el-switch-off-color`","inactiveColor"],['"border-color"',"CSS var `--el-switch-border-color`","borderColor"]].forEach((e=>{useDeprecated({from:e[0],replacement:e[1],scope:COMPONENT_NAME$8,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},computed((()=>{var t;return!!(null==(t=o.vnode.props)?void 0:t[e[2]])})))}));const{inputId:l}=useFormItemInputId(r,{formItemContext:i}),u=useFormDisabled(computed((()=>r.loading))),c=ref(!1!==r.modelValue),d=ref(),h=ref(),p=computed((()=>[s.b(),s.m(a.value),s.is("disabled",u.value),s.is("checked",v.value)])),f=computed((()=>[s.e("label"),s.em("label","left"),s.is("active",!v.value)])),m=computed((()=>[s.e("label"),s.em("label","right"),s.is("active",v.value)])),_=computed((()=>({width:addUnit(r.width)})));watch((()=>r.modelValue),(()=>{c.value=!0})),watch((()=>r.value),(()=>{c.value=!1}));const g=computed((()=>c.value?r.modelValue:r.value)),v=computed((()=>g.value===r.activeValue));[r.activeValue,r.inactiveValue].includes(g.value)||(n(UPDATE_MODEL_EVENT,r.inactiveValue),n(CHANGE_EVENT,r.inactiveValue),n(INPUT_EVENT,r.inactiveValue)),watch(v,(e=>{var t;d.value.checked=e,r.validateEvent&&(null==(t=null==i?void 0:i.validate)||t.call(i,"change").catch((e=>debugWarn())))}));const y=()=>{const e=v.value?r.inactiveValue:r.activeValue;n(UPDATE_MODEL_EVENT,e),n(CHANGE_EVENT,e),n(INPUT_EVENT,e),nextTick((()=>{d.value.checked=v.value}))},b=()=>{if(u.value)return;const{beforeChange:e}=r;if(!e)return void y();const t=e();[isPromise(t),isBoolean(t)].includes(!0)||throwError(COMPONENT_NAME$8,"beforeChange must return type `Promise<boolean>` or `boolean`"),isPromise(t)?t.then((e=>{e&&y()})).catch((e=>{})):t&&y()},E=computed((()=>s.cssVarBlock({...r.activeColor?{"on-color":r.activeColor}:null,...r.inactiveColor?{"off-color":r.inactiveColor}:null,...r.borderColor?{"border-color":r.borderColor}:null})));return onMounted((()=>{d.value.checked=v.value})),t({focus:()=>{var e,t;null==(t=null==(e=d.value)?void 0:e.focus)||t.call(e)},checked:v}),(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(p)),style:normalizeStyle(unref(E)),onClick:withModifiers(b,["prevent"])},[createBaseVNode("input",{id:unref(l),ref_key:"input",ref:d,class:normalizeClass(unref(s).e("input")),type:"checkbox",role:"switch","aria-checked":unref(v),"aria-disabled":unref(u),"aria-label":e.label,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:unref(u),tabindex:e.tabindex,onChange:y,onKeydown:withKeys(b,["enter"])},null,42,_hoisted_2$O),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(f))},[e.inactiveIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.inactiveIcon)))])),_:1})):createCommentVNode("v-if",!0),!e.inactiveIcon&&e.inactiveText?(openBlock(),createElementBlock("span",{key:1,"aria-hidden":unref(v)},toDisplayString(e.inactiveText),9,_hoisted_3$z)):createCommentVNode("v-if",!0)],2)),createBaseVNode("span",{ref_key:"core",ref:h,class:normalizeClass(unref(s).e("core")),style:normalizeStyle(unref(_))},[e.inlinePrompt?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(s).e("inner"))},[e.activeIcon||e.inactiveIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(s).is("icon"))},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(v)?e.activeIcon:e.inactiveIcon)))])),_:1},8,["class"])):e.activeText||e.inactiveText?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(s).is("text")),"aria-hidden":!unref(v)},toDisplayString(unref(v)?e.activeText:e.inactiveText),11,_hoisted_4$j)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(s).e("action"))},[e.loading?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(s).is("loading"))},{default:withCtx((()=>[createVNode(unref(loading_default))])),_:1},8,["class"])):unref(v)?renderSlot(e.$slots,"active-action",{key:1},(()=>[e.activeActionIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.activeActionIcon)))])),_:1})):createCommentVNode("v-if",!0)])):unref(v)?createCommentVNode("v-if",!0):renderSlot(e.$slots,"inactive-action",{key:2},(()=>[e.inactiveActionIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.inactiveActionIcon)))])),_:1})):createCommentVNode("v-if",!0)]))],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(m))},[e.activeIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.activeIcon)))])),_:1})):createCommentVNode("v-if",!0),!e.activeIcon&&e.activeText?(openBlock(),createElementBlock("span",{key:1,"aria-hidden":!unref(v)},toDisplayString(e.activeText),9,_hoisted_5$c)):createCommentVNode("v-if",!0)],2))],14,_hoisted_1$1b))}});var Switch=_export_sfc(_sfc_main$1F,[["__file","switch.vue"]]);const ElSwitch=withInstall(Switch);
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var matchHtmlRegExp=/["'&<>]/,escapeHtml_1=escapeHtml;function escapeHtml(e){var t,n=""+e,r=matchHtmlRegExp.exec(n);if(!r)return n;var o="",i=0,a=0;for(i=r.index;i<n.length;i++){switch(n.charCodeAt(i)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==i&&(o+=n.substring(a,i)),a=i+1,o+=t}return a!==i?o+n.substring(a,i):o}const escapeHtml$1=getDefaultExportFromCjs(escapeHtml_1),getCell=function(e){var t;return null==(t=e.target)?void 0:t.closest("td")},orderBy=function(e,t,n,r,o){if(!t&&!r&&(!o||Array.isArray(o)&&!o.length))return e;n="string"==typeof n?"descending"===n?-1:1:n&&n<0?-1:1;const i=r?null:function(n,r){return o?(Array.isArray(o)||(o=[o]),o.map((t=>"string"==typeof t?get$1(n,t):t(n,r,e)))):("$key"!==t&&isObject$2(n)&&"$value"in n&&(n=n.$value),[isObject$2(n)?get$1(n,t):n])};return e.map(((e,t)=>({value:e,index:t,key:i?i(e,t):null}))).sort(((e,t)=>{let o=function(e,t){if(r)return r(e.value,t.value);for(let n=0,r=e.key.length;n<r;n++){if(e.key[n]<t.key[n])return-1;if(e.key[n]>t.key[n])return 1}return 0}(e,t);return o||(o=e.index-t.index),o*+n})).map((e=>e.value))},getColumnById=function(e,t){let n=null;return e.columns.forEach((e=>{e.id===t&&(n=e)})),n},getColumnByKey=function(e,t){let n=null;for(let r=0;r<e.columns.length;r++){const o=e.columns[r];if(o.columnKey===t){n=o;break}}return n||throwError("ElTable",`No column matching with column-key: ${t}`),n},getColumnByCell=function(e,t,n){const r=(t.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return r?getColumnById(e,r[0]):null},getRowIdentity=(e,t)=>{if(!e)throw new Error("Row is required when get row identity");if("string"==typeof t){if(!t.includes("."))return`${e[t]}`;const n=t.split(".");let r=e;for(const e of n)r=r[e];return`${r}`}if("function"==typeof t)return t.call(null,e)},getKeysMap=function(e,t){const n={};return(e||[]).forEach(((e,r)=>{n[getRowIdentity(e,t)]={row:e,index:r}})),n};function mergeOptions(e,t){const n={};let r;for(r in e)n[r]=e[r];for(r in t)if(hasOwn(t,r)){const e=t[r];void 0!==e&&(n[r]=e)}return n}function parseWidth(e){return""===e||void 0!==e&&(e=Number.parseInt(e,10),Number.isNaN(e)&&(e="")),e}function parseMinWidth(e){return""===e||void 0!==e&&(e=parseWidth(e),Number.isNaN(e)&&(e=80)),e}function parseHeight(e){return"number"==typeof e?e:"string"==typeof e?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function compose(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce(((e,t)=>(...n)=>e(t(...n))))}function toggleRowStatus(e,t,n){let r=!1;const o=e.indexOf(t),i=-1!==o,a=a=>{"add"===a?e.push(t):e.splice(o,1),r=!0,isArray$1(t.children)&&t.children.forEach((t=>{toggleRowStatus(e,t,null!=n?n:!i)}))};return isBoolean(n)?n&&!i?a("add"):!n&&i&&a("remove"):a(i?"remove":"add"),r}function walkTreeNode(e,t,n="children",r="hasChildren"){const o=e=>!(Array.isArray(e)&&e.length);function i(e,a,s){t(e,a,s),a.forEach((e=>{if(e[r])return void t(e,null,s+1);const a=e[n];o(a)||i(e,a,s+1)}))}e.forEach((e=>{if(e[r])return void t(e,null,0);const a=e[n];o(a)||i(e,a,0)}))}let removePopper;function createTablePopper(t,n,r,o,i){i=merge$2({enterable:!0,showArrow:!0},i);const a=null==t?void 0:t.dataset.prefix,s=null==t?void 0:t.querySelector(`.${a}-scrollbar__wrap`);function l(e){return{name:"updateState",enabled:!0,phase:"beforeWrite",fn:({state:t})=>{t.styles.popper.display=e},requires:["computeStyles"]}}const u=(null==removePopper?void 0:removePopper.trigger)!==n;null==removePopper||removePopper(),removePopper=()=>{try{c&&c.destroy(),p&&(null==t||t.removeChild(p)),n.removeEventListener("mouseenter",d),n.removeEventListener("mouseleave",h),null==s||s.removeEventListener("scroll",removePopper),removePopper=void 0}catch(e){}},removePopper.trigger=n;let c=null;const{onOpen:d,onClose:h}=useDelayedToggle({showAfter:i.showAfter,hideAfter:i.hideAfter,open:function(){i.showAfter&&(null==c||c.setOptions({modifiers:[l("block")]})),null==c||c.update()},close:removePopper}),p=function(){const e="light"===i.effect,n=document.createElement("div");return n.className=[`${a}-popper`,e?"is-light":"is-dark",i.popperClass||""].join(" "),r=escapeHtml$1(r),n.innerHTML=r,n.style.zIndex=String(o()),null==t||t.appendChild(n),n}();i.enterable&&(p.onmouseenter=d,p.onmouseleave=h);const f=[];if(i.offset&&f.push({name:"offset",options:{offset:[0,i.offset]}}),i.showArrow){const e=p.appendChild(function(){const e=document.createElement("div");return e.className=`${a}-popper__arrow`,e}());f.push({name:"arrow",options:{element:e,padding:10}})}i.showAfter&&u&&f.push(l("none"));const m=i.popperOptions||{};return c=yn(n,p,{placement:i.placement||"top",strategy:"fixed",...m,modifiers:m.modifiers?f.concat(m.modifiers):f}),n.addEventListener("mouseenter",d),n.addEventListener("mouseleave",h),null==s||s.addEventListener("scroll",removePopper),d(),c}function getCurrentColumns(e){return e.children?flatMap(e.children,getCurrentColumns):[e]}function getColSpan(e,t){return e+t.colSpan}const isFixedColumn=(e,t,n,r)=>{let o=0,i=e;const a=n.states.columns.value;if(r){const t=getCurrentColumns(r[e]);o=a.slice(0,a.indexOf(t[0])).reduce(getColSpan,0),i=o+t.reduce(getColSpan,0)-1}else o=e;let s;switch(t){case"left":i<n.states.fixedLeafColumnsLength.value&&(s="left");break;case"right":o>=a.length-n.states.rightFixedLeafColumnsLength.value&&(s="right");break;default:i<n.states.fixedLeafColumnsLength.value?s="left":o>=a.length-n.states.rightFixedLeafColumnsLength.value&&(s="right")}return s?{direction:s,start:o,after:i}:{}},getFixedColumnsClass=(e,t,n,r,o,i=0)=>{const a=[],{direction:s,start:l,after:u}=isFixedColumn(t,n,r,o);if(s){const t="left"===s;a.push(`${e}-fixed-column--${s}`),t&&u+i===r.states.fixedLeafColumnsLength.value-1?a.push("is-last-column"):t||l-i!=r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value||a.push("is-first-column")}return a};function getOffset(e,t){return e+(null===t.realWidth||Number.isNaN(t.realWidth)?Number(t.width):t.realWidth)}const getFixedColumnOffset=(e,t,n,r)=>{const{direction:o,start:i=0,after:a=0}=isFixedColumn(e,t,n,r);if(!o)return;const s={},l="left"===o,u=n.states.columns.value;return l?s.left=u.slice(0,i).reduce(getOffset,0):s.right=u.slice(a+1).reverse().reduce(getOffset,0),s},ensurePosition=(e,t)=>{e&&(Number.isNaN(e[t])||(e[t]=`${e[t]}px`))};function useExpand(e){const t=getCurrentInstance(),n=ref(!1),r=ref([]);return{updateExpandRows:()=>{const t=e.data.value||[],o=e.rowKey.value;if(n.value)r.value=t.slice();else if(o){const e=getKeysMap(r.value,o);r.value=t.reduce(((t,n)=>{const r=getRowIdentity(n,o);return e[r]&&t.push(n),t}),[])}else r.value=[]},toggleRowExpansion:(e,n)=>{toggleRowStatus(r.value,e,n)&&t.emit("expand-change",e,r.value.slice())},setExpandRowKeys:n=>{t.store.assertRowKey();const o=e.data.value||[],i=e.rowKey.value,a=getKeysMap(o,i);r.value=n.reduce(((e,t)=>{const n=a[t];return n&&e.push(n.row),e}),[])},isRowExpanded:t=>{const n=e.rowKey.value;if(n){return!!getKeysMap(r.value,n)[getRowIdentity(t,n)]}return r.value.includes(t)},states:{expandRows:r,defaultExpandAll:n}}}function useCurrent(e){const t=getCurrentInstance(),n=ref(null),r=ref(null),o=()=>{n.value=null},i=n=>{const{data:o,rowKey:i}=e;let a=null;i.value&&(a=(unref(o)||[]).find((e=>getRowIdentity(e,i.value)===n))),r.value=a,t.emit("current-change",r.value,null)};return{setCurrentRowKey:e=>{t.store.assertRowKey(),n.value=e,i(e)},restoreCurrentRowKey:o,setCurrentRowByKey:i,updateCurrentRow:e=>{const n=r.value;if(e&&e!==n)return r.value=e,void t.emit("current-change",r.value,n);!e&&n&&(r.value=null,t.emit("current-change",null,n))},updateCurrentRowData:()=>{const a=e.rowKey.value,s=e.data.value||[],l=r.value;if(!s.includes(l)&&l){if(a){const e=getRowIdentity(l,a);i(e)}else r.value=null;null===r.value&&t.emit("current-change",null,l)}else n.value&&(i(n.value),o())},states:{_currentRowKey:n,currentRow:r}}}function useTree$2(e){const t=ref([]),n=ref({}),r=ref(16),o=ref(!1),i=ref({}),a=ref("hasChildren"),s=ref("children"),l=getCurrentInstance(),u=computed((()=>{if(!e.rowKey.value)return{};const t=e.data.value||[];return d(t)})),c=computed((()=>{const t=e.rowKey.value,n=Object.keys(i.value),r={};return n.length?(n.forEach((e=>{if(i.value[e].length){const n={children:[]};i.value[e].forEach((e=>{const o=getRowIdentity(e,t);n.children.push(o),e[a.value]&&!r[o]&&(r[o]={children:[]})})),r[e]=n}})),r):r})),d=t=>{const n=e.rowKey.value,r={};return walkTreeNode(t,((e,t,i)=>{const a=getRowIdentity(e,n);Array.isArray(t)?r[a]={children:t.map((e=>getRowIdentity(e,n))),level:i}:o.value&&(r[a]={children:[],lazy:!0,level:i})}),s.value,a.value),r},h=(e=!1,r=(e=>null==(e=l.store)?void 0:e.states.defaultExpandAll.value)())=>{var i;const a=u.value,s=c.value,d=Object.keys(a),h={};if(d.length){const i=unref(n),l=[],u=(n,o)=>{if(e)return t.value?r||t.value.includes(o):!(!r&&!(null==n?void 0:n.expanded));{const e=r||t.value&&t.value.includes(o);return!(!(null==n?void 0:n.expanded)&&!e)}};d.forEach((e=>{const t=i[e],n={...a[e]};if(n.expanded=u(t,e),n.lazy){const{loaded:r=!1,loading:o=!1}=t||{};n.loaded=!!r,n.loading=!!o,l.push(e)}h[e]=n}));const c=Object.keys(s);o.value&&c.length&&l.length&&c.forEach((e=>{const t=i[e],n=s[e].children;if(l.includes(e)){if(0!==h[e].children.length)throw new Error("[ElTable]children must be an empty array.");h[e].children=n}else{const{loaded:r=!1,loading:o=!1}=t||{};h[e]={lazy:!0,loaded:!!r,loading:!!o,expanded:u(t,e),children:n,level:""}}}))}n.value=h,null==(i=l.store)||i.updateTableScrollY()};watch((()=>t.value),(()=>{h(!0)})),watch((()=>u.value),(()=>{h()})),watch((()=>c.value),(()=>{h()}));const p=(t,r)=>{l.store.assertRowKey();const o=e.rowKey.value,i=getRowIdentity(t,o),a=i&&n.value[i];if(i&&a&&"expanded"in a){const e=a.expanded;r=void 0===r?!a.expanded:r,n.value[i].expanded=r,e!==r&&l.emit("expand-change",t,r),l.store.updateTableScrollY()}},f=(e,t,r)=>{const{load:o}=l.props;o&&!n.value[t].loaded&&(n.value[t].loading=!0,o(e,r,(r=>{if(!Array.isArray(r))throw new TypeError("[ElTable] data must be an array");n.value[t].loading=!1,n.value[t].loaded=!0,n.value[t].expanded=!0,r.length&&(i.value[t]=r),l.emit("expand-change",e,!0)})))};return{loadData:f,loadOrToggle:t=>{l.store.assertRowKey();const r=e.rowKey.value,i=getRowIdentity(t,r),a=n.value[i];o.value&&a&&"loaded"in a&&!a.loaded?f(t,i,a):p(t,void 0)},toggleTreeExpansion:p,updateTreeExpandKeys:e=>{t.value=e,h()},updateTreeData:h,normalize:d,states:{expandRowKeys:t,treeData:n,indent:r,lazy:o,lazyTreeNodeMap:i,lazyColumnIdentifier:a,childrenColumnName:s}}}const sortData=(e,t)=>{const n=t.sortingColumn;return n&&"string"!=typeof n.sortable?orderBy(e,t.sortProp,t.sortOrder,n.sortMethod,n.sortBy):e},doFlattenColumns=e=>{const t=[];return e.forEach((e=>{e.children&&e.children.length>0?t.push.apply(t,doFlattenColumns(e.children)):t.push(e)})),t};function useWatcher$1(){var e;const t=getCurrentInstance(),{size:n}=toRefs(null==(e=t.proxy)?void 0:e.$props),r=ref(null),o=ref([]),i=ref([]),a=ref(!1),s=ref([]),l=ref([]),u=ref([]),c=ref([]),d=ref([]),h=ref([]),p=ref([]),f=ref([]),m=ref(0),_=ref(0),g=ref(0),v=ref(!1),y=ref([]),b=ref(!1),E=ref(!1),C=ref(null),x=ref({}),w=ref(null),S=ref(null),T=ref(null),k=ref(null),L=ref(null);watch(o,(()=>t.state&&O(!1)),{deep:!0});const P=e=>{var t;null==(t=e.children)||t.forEach((t=>{t.fixed=e.fixed,P(t)}))},M=()=>{s.value.forEach((e=>{P(e)})),c.value=s.value.filter((e=>!0===e.fixed||"left"===e.fixed)),d.value=s.value.filter((e=>"right"===e.fixed)),c.value.length>0&&s.value[0]&&"selection"===s.value[0].type&&!s.value[0].fixed&&(s.value[0].fixed=!0,c.value.unshift(s.value[0]));const e=s.value.filter((e=>!e.fixed));l.value=[].concat(c.value).concat(e).concat(d.value);const t=doFlattenColumns(e),n=doFlattenColumns(c.value),r=doFlattenColumns(d.value);m.value=t.length,_.value=n.length,g.value=r.length,u.value=[].concat(n).concat(t).concat(r),a.value=c.value.length>0||d.value.length>0},O=(e,n=!1)=>{e&&M(),n?t.state.doLayout():t.state.debouncedUpdateLayout()},N=e=>{var n;if(!t||!t.store)return 0;const{treeData:r}=t.store.states;let o=0;const i=null==(n=r.value[e])?void 0:n.children;return i&&(o+=i.length,i.forEach((e=>{o+=N(e)}))),o},A=(e,t,n)=>{S.value&&S.value!==e&&(S.value.order=null),S.value=e,T.value=t,k.value=n},I=()=>{let e=unref(i);Object.keys(x.value).forEach((t=>{const n=x.value[t];if(!n||0===n.length)return;const r=getColumnById({columns:u.value},t);r&&r.filterMethod&&(e=e.filter((e=>n.some((t=>r.filterMethod.call(null,t,e,r))))))})),w.value=e},R=()=>{o.value=sortData(w.value,{sortingColumn:S.value,sortProp:T.value,sortOrder:k.value})},{setExpandRowKeys:$,toggleRowExpansion:B,updateExpandRows:D,states:F,isRowExpanded:V}=useExpand({data:o,rowKey:r}),{updateTreeExpandKeys:z,toggleTreeExpansion:j,updateTreeData:U,loadOrToggle:G,states:H}=useTree$2({data:o,rowKey:r}),{updateCurrentRowData:K,updateCurrentRow:W,setCurrentRowKey:Y,states:q}=useCurrent({data:o,rowKey:r});return{assertRowKey:()=>{if(!r.value)throw new Error("[ElTable] prop row-key is required")},updateColumns:M,scheduleLayout:O,isSelected:e=>y.value.includes(e),clearSelection:()=>{v.value=!1;y.value.length&&(y.value=[],t.emit("selection-change",[]))},cleanSelection:()=>{let e;if(r.value){e=[];const t=getKeysMap(y.value,r.value),n=getKeysMap(o.value,r.value);for(const r in t)hasOwn(t,r)&&!n[r]&&e.push(t[r].row)}else e=y.value.filter((e=>!o.value.includes(e)));if(e.length){const n=y.value.filter((t=>!e.includes(t)));y.value=n,t.emit("selection-change",n.slice())}},getSelectionRows:()=>(y.value||[]).slice(),toggleRowSelection:(e,n=void 0,r=!0)=>{if(toggleRowStatus(y.value,e,n)){const n=(y.value||[]).slice();r&&t.emit("select",n,e),t.emit("selection-change",n)}},_toggleAllSelection:()=>{var e,n;const r=E.value?!v.value:!(v.value||y.value.length);v.value=r;let i=!1,a=0;const s=null==(n=null==(e=null==t?void 0:t.store)?void 0:e.states)?void 0:n.rowKey.value;o.value.forEach(((e,t)=>{const n=t+a;C.value?C.value.call(null,e,n)&&toggleRowStatus(y.value,e,r)&&(i=!0):toggleRowStatus(y.value,e,r)&&(i=!0),a+=N(getRowIdentity(e,s))})),i&&t.emit("selection-change",y.value?y.value.slice():[]),t.emit("select-all",y.value)},toggleAllSelection:null,updateSelectionByRowKey:()=>{const e=getKeysMap(y.value,r.value);o.value.forEach((t=>{const n=getRowIdentity(t,r.value),o=e[n];o&&(y.value[o.index]=t)}))},updateAllSelected:()=>{var e,n,i;if(0===(null==(e=o.value)?void 0:e.length))return void(v.value=!1);let a;r.value&&(a=getKeysMap(y.value,r.value));let s=!0,l=0,u=0;for(let d=0,h=(o.value||[]).length;d<h;d++){const e=null==(i=null==(n=null==t?void 0:t.store)?void 0:n.states)?void 0:i.rowKey.value,h=d+u,p=o.value[d],f=C.value&&C.value.call(null,p,h);if(c=p,a?a[getRowIdentity(c,r.value)]:y.value.includes(c))l++;else if(!C.value||f){s=!1;break}u+=N(getRowIdentity(p,e))}var c;0===l&&(s=!1),v.value=s},updateFilters:(e,t)=>{Array.isArray(e)||(e=[e]);const n={};return e.forEach((e=>{x.value[e.id]=t,n[e.columnKey||e.id]=t})),n},updateCurrentRow:W,updateSort:A,execFilter:I,execSort:R,execQuery:(e=void 0)=>{e&&e.filter||I(),R()},clearFilter:e=>{const{tableHeaderRef:n}=t.refs;if(!n)return;const r=Object.assign({},n.filterPanels),o=Object.keys(r);if(o.length)if("string"==typeof e&&(e=[e]),Array.isArray(e)){const n=e.map((e=>getColumnByKey({columns:u.value},e)));o.forEach((e=>{const t=n.find((t=>t.id===e));t&&(t.filteredValue=[])})),t.store.commit("filterChange",{column:n,values:[],silent:!0,multi:!0})}else o.forEach((e=>{const t=u.value.find((t=>t.id===e));t&&(t.filteredValue=[])})),x.value={},t.store.commit("filterChange",{column:{},values:[],silent:!0})},clearSort:()=>{S.value&&(A(null,null,null),t.store.commit("changeSortCondition",{silent:!0}))},toggleRowExpansion:B,setExpandRowKeysAdapter:e=>{$(e),z(e)},setCurrentRowKey:Y,toggleRowExpansionAdapter:(e,t)=>{u.value.some((({type:e})=>"expand"===e))?B(e,t):j(e,t)},isRowExpanded:V,updateExpandRows:D,updateCurrentRowData:K,loadOrToggle:G,updateTreeData:U,states:{tableSize:n,rowKey:r,data:o,_data:i,isComplex:a,_columns:s,originColumns:l,columns:u,fixedColumns:c,rightFixedColumns:d,leafColumns:h,fixedLeafColumns:p,rightFixedLeafColumns:f,updateOrderFns:[],leafColumnsLength:m,fixedLeafColumnsLength:_,rightFixedLeafColumnsLength:g,isAllSelected:v,selection:y,reserveSelection:b,selectOnIndeterminate:E,selectable:C,filters:x,filteredData:w,sortingColumn:S,sortProp:T,sortOrder:k,hoverRow:L,...F,...H,...q}}}function replaceColumn(e,t){return e.map((e=>{var n;return e.id===t.id?t:((null==(n=e.children)?void 0:n.length)&&(e.children=replaceColumn(e.children,t)),e)}))}function sortColumn(e){e.forEach((e=>{var t,n;e.no=null==(t=e.getColumnIndex)?void 0:t.call(e),(null==(n=e.children)?void 0:n.length)&&sortColumn(e.children)})),e.sort(((e,t)=>e.no-t.no))}function useStore(){const e=getCurrentInstance(),t=useWatcher$1();return{ns:useNamespace("table"),...t,mutations:{setData(t,n){const r=unref(t._data)!==n;t.data.value=n,t._data.value=n,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),e.store.updateTreeData(e.store.states.defaultExpandAll.value),unref(t.reserveSelection)?(e.store.assertRowKey(),e.store.updateSelectionByRowKey()):r?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(t,n,r,o){const i=unref(t._columns);let a=[];r?(r&&!r.children&&(r.children=[]),r.children.push(n),a=replaceColumn(i,r)):(i.push(n),a=i),sortColumn(a),t._columns.value=a,t.updateOrderFns.push(o),"selection"===n.type&&(t.selectable.value=n.selectable,t.reserveSelection.value=n.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},updateColumnOrder(t,n){var r;(null==(r=n.getColumnIndex)?void 0:r.call(n))!==n.no&&(sortColumn(t._columns.value),e.$ready&&e.store.updateColumns())},removeColumn(t,n,r,o){const i=unref(t._columns)||[];if(r)r.children.splice(r.children.findIndex((e=>e.id===n.id)),1),nextTick((()=>{var e;0===(null==(e=r.children)?void 0:e.length)&&delete r.children})),t._columns.value=replaceColumn(i,r);else{const e=i.indexOf(n);e>-1&&(i.splice(e,1),t._columns.value=i)}const a=t.updateOrderFns.indexOf(o);a>-1&&t.updateOrderFns.splice(a,1),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(t,n){const{prop:r,order:o,init:i}=n;if(r){const n=unref(t.columns).find((e=>e.property===r));n&&(n.order=o,e.store.updateSort(n,r,o),e.store.commit("changeSortCondition",{init:i}))}},changeSortCondition(t,n){const{sortingColumn:r,sortProp:o,sortOrder:i}=t,a=unref(r),s=unref(o),l=unref(i);null===l&&(t.sortingColumn.value=null,t.sortProp.value=null);e.store.execQuery({filter:!0}),n&&(n.silent||n.init)||e.emit("sort-change",{column:a,prop:s,order:l}),e.store.updateTableScrollY()},filterChange(t,n){const{column:r,values:o,silent:i}=n,a=e.store.updateFilters(r,o);e.store.execQuery(),i||e.emit("filter-change",a),e.store.updateTableScrollY()},toggleAllSelection(){e.store.toggleAllSelection()},rowSelectedChanged(t,n){e.store.toggleRowSelection(n),e.store.updateAllSelected()},setHoverRow(e,t){e.hoverRow.value=t},setCurrentRow(t,n){e.store.updateCurrentRow(n)}},commit:function(t,...n){const r=e.store.mutations;if(!r[t])throw new Error(`Action not found: ${t}`);r[t].apply(e,[e.store.states].concat(n))},updateTableScrollY:function(){nextTick((()=>e.layout.updateScrollY.apply(e.layout)))}}}const InitialStateMap={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"}};function createStore(e,t){if(!e)throw new Error("Table is required.");const n=useStore();return n.toggleAllSelection=debounce(n._toggleAllSelection,10),Object.keys(InitialStateMap).forEach((e=>{handleValue(getArrKeysValue(t,e),e,n)})),proxyTableProps(n,t),n}function proxyTableProps(e,t){Object.keys(InitialStateMap).forEach((n=>{watch((()=>getArrKeysValue(t,n)),(t=>{handleValue(t,n,e)}))}))}function handleValue(e,t,n){let r=e,o=InitialStateMap[t];"object"==typeof InitialStateMap[t]&&(o=o.key,r=r||InitialStateMap[t].default),n.states[o].value=r}function getArrKeysValue(e,t){if(t.includes(".")){const n=t.split(".");let r=e;return n.forEach((e=>{r=r[e]})),r}return e[t]}class TableLayout{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=ref(null),this.scrollX=ref(!1),this.scrollY=ref(!1),this.bodyWidth=ref(null),this.fixedWidth=ref(null),this.rightFixedWidth=ref(null),this.gutterWidth=0;for(const t in e)hasOwn(e,t)&&(isRef(this[t])?this[t].value=e[t]:this[t]=e[t]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(null===this.height.value)return!1;const e=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(null==e?void 0:e.wrapRef)){let t=!0;const n=this.scrollY.value;return t=e.wrapRef.scrollHeight>e.wrapRef.clientHeight,this.scrollY.value=t,n!==t}return!1}setHeight(e,t="height"){if(!isClient$1)return;const n=this.table.vnode.el;if(e=parseHeight(e),this.height.value=Number(e),!n&&(e||0===e))return nextTick((()=>this.setHeight(e,t)));"number"==typeof e?(n.style[t]=`${e}px`,this.updateElsHeight()):"string"==typeof e&&(n.style[t]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach((t=>{t.isColumnGroup?e.push.apply(e,t.columns):e.push(t)})),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let t=e;for(;"DIV"!==t.tagName;){if("none"===getComputedStyle(t).display)return!0;t=t.parentElement}return!1}updateColumnsWidth(){if(!isClient$1)return;const e=this.fit,t=this.table.vnode.el.clientWidth;let n=0;const r=this.getFlattenColumns(),o=r.filter((e=>"number"!=typeof e.width));if(r.forEach((e=>{"number"==typeof e.width&&e.realWidth&&(e.realWidth=null)})),o.length>0&&e){if(r.forEach((e=>{n+=Number(e.width||e.minWidth||80)})),n<=t){this.scrollX.value=!1;const e=t-n;if(1===o.length)o[0].realWidth=Number(o[0].minWidth||80)+e;else{const t=e/o.reduce(((e,t)=>e+Number(t.minWidth||80)),0);let n=0;o.forEach(((e,r)=>{if(0===r)return;const o=Math.floor(Number(e.minWidth||80)*t);n+=o,e.realWidth=Number(e.minWidth||80)+o})),o[0].realWidth=Number(o[0].minWidth||80)+e-n}}else this.scrollX.value=!0,o.forEach((e=>{e.realWidth=Number(e.minWidth)}));this.bodyWidth.value=Math.max(n,t),this.table.state.resizeState.value.width=this.bodyWidth.value}else r.forEach((e=>{e.width||e.minWidth?e.realWidth=Number(e.width||e.minWidth):e.realWidth=80,n+=e.realWidth})),this.scrollX.value=n>t,this.bodyWidth.value=n;const i=this.store.states.fixedColumns.value;if(i.length>0){let e=0;i.forEach((t=>{e+=Number(t.realWidth||t.width)})),this.fixedWidth.value=e}const a=this.store.states.rightFixedColumns.value;if(a.length>0){let e=0;a.forEach((t=>{e+=Number(t.realWidth||t.width)})),this.rightFixedWidth.value=e}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const t=this.observers.indexOf(e);-1!==t&&this.observers.splice(t,1)}notifyObservers(e){this.observers.forEach((t=>{var n,r;switch(e){case"columns":null==(n=t.state)||n.onColumnsChange(this);break;case"scrollable":null==(r=t.state)||r.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}}))}}const{CheckboxGroup:ElCheckboxGroup}=ElCheckbox,_sfc_main$1E=defineComponent({name:"ElTableFilterPanel",components:{ElCheckbox:ElCheckbox,ElCheckboxGroup:ElCheckboxGroup,ElScrollbar:ElScrollbar,ElTooltip:ElTooltip,ElIcon:ElIcon,ArrowDown:arrow_down_default,ArrowUp:arrow_up_default},directives:{ClickOutside:ClickOutside},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(e){const t=getCurrentInstance(),{t:n}=useLocale(),r=useNamespace("table-filter"),o=null==t?void 0:t.parent;o.filterPanels.value[e.column.id]||(o.filterPanels.value[e.column.id]=t);const i=ref(!1),a=ref(null),s=computed((()=>e.column&&e.column.filters)),l=computed({get:()=>{var t;return((null==(t=e.column)?void 0:t.filteredValue)||[])[0]},set:e=>{u.value&&(null!=e?u.value.splice(0,1,e):u.value.splice(0,1))}}),u=computed({get:()=>e.column&&e.column.filteredValue||[],set(t){e.column&&e.upDataColumn("filteredValue",t)}}),c=computed((()=>!e.column||e.column.filterMultiple)),d=()=>{i.value=!1},h=t=>{e.store.commit("filterChange",{column:e.column,values:t}),e.store.updateAllSelected()};watch(i,(t=>{e.column&&e.upDataColumn("filterOpened",t)}),{immediate:!0});const p=computed((()=>{var e,t;return null==(t=null==(e=a.value)?void 0:e.popperRef)?void 0:t.contentRef}));return{tooltipVisible:i,multiple:c,filteredValue:u,filterValue:l,filters:s,handleConfirm:()=>{h(u.value),d()},handleReset:()=>{u.value=[],h(u.value),d()},handleSelect:e=>{l.value=e,h(null!=e?u.value:[]),d()},isActive:e=>e.value===l.value,t:n,ns:r,showFilterPanel:e=>{e.stopPropagation(),i.value=!i.value},hideFilterPanel:()=>{i.value=!1},popperPaneRef:p,tooltip:a}}}),_hoisted_1$1a={key:0},_hoisted_2$N=["disabled"],_hoisted_3$y=["label","onClick"];function _sfc_render$g(e,t,n,r,o,i){const a=resolveComponent("el-checkbox"),s=resolveComponent("el-checkbox-group"),l=resolveComponent("el-scrollbar"),u=resolveComponent("arrow-up"),c=resolveComponent("arrow-down"),d=resolveComponent("el-icon"),h=resolveComponent("el-tooltip"),p=resolveDirective("click-outside");return openBlock(),createBlock(h,{ref:"tooltip",visible:e.tooltipVisible,offset:0,placement:e.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":e.ns.b(),persistent:""},{content:withCtx((()=>[e.multiple?(openBlock(),createElementBlock("div",_hoisted_1$1a,[createBaseVNode("div",{class:normalizeClass(e.ns.e("content"))},[createVNode(l,{"wrap-class":e.ns.e("wrap")},{default:withCtx((()=>[createVNode(s,{modelValue:e.filteredValue,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filteredValue=t),class:normalizeClass(e.ns.e("checkbox-group"))},{default:withCtx((()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.filters,(e=>(openBlock(),createBlock(a,{key:e.value,label:e.value},{default:withCtx((()=>[createTextVNode(toDisplayString(e.text),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue","class"])])),_:1},8,["wrap-class"])],2),createBaseVNode("div",{class:normalizeClass(e.ns.e("bottom"))},[createBaseVNode("button",{class:normalizeClass({[e.ns.is("disabled")]:0===e.filteredValue.length}),disabled:0===e.filteredValue.length,type:"button",onClick:t[1]||(t[1]=(...t)=>e.handleConfirm&&e.handleConfirm(...t))},toDisplayString(e.t("el.table.confirmFilter")),11,_hoisted_2$N),createBaseVNode("button",{type:"button",onClick:t[2]||(t[2]=(...t)=>e.handleReset&&e.handleReset(...t))},toDisplayString(e.t("el.table.resetFilter")),1)],2)])):(openBlock(),createElementBlock("ul",{key:1,class:normalizeClass(e.ns.e("list"))},[createBaseVNode("li",{class:normalizeClass([e.ns.e("list-item"),{[e.ns.is("active")]:void 0===e.filterValue||null===e.filterValue}]),onClick:t[3]||(t[3]=t=>e.handleSelect(null))},toDisplayString(e.t("el.table.clearFilter")),3),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.filters,(t=>(openBlock(),createElementBlock("li",{key:t.value,class:normalizeClass([e.ns.e("list-item"),e.ns.is("active",e.isActive(t))]),label:t.value,onClick:n=>e.handleSelect(t.value)},toDisplayString(t.text),11,_hoisted_3$y)))),128))],2))])),default:withCtx((()=>[withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass([`${e.ns.namespace.value}-table__column-filter-trigger`,`${e.ns.namespace.value}-none-outline`]),onClick:t[4]||(t[4]=(...t)=>e.showFilterPanel&&e.showFilterPanel(...t))},[createVNode(d,null,{default:withCtx((()=>[e.column.filterOpened?(openBlock(),createBlock(u,{key:0})):(openBlock(),createBlock(c,{key:1}))])),_:1})],2)),[[p,e.hideFilterPanel,e.popperPaneRef]])])),_:1},8,["visible","placement","popper-class"])}var FilterPanel=_export_sfc(_sfc_main$1E,[["render",_sfc_render$g],["__file","filter-panel.vue"]]);function useLayoutObserver(e){const t=getCurrentInstance();onBeforeMount((()=>{n.value.addObserver(t)})),onMounted((()=>{r(n.value),o(n.value)})),onUpdated((()=>{r(n.value),o(n.value)})),onUnmounted((()=>{n.value.removeObserver(t)}));const n=computed((()=>{const t=e.layout;if(!t)throw new Error("Can not find table layout.");return t})),r=t=>{var n;const r=(null==(n=e.vnode.el)?void 0:n.querySelectorAll("colgroup > col"))||[];if(!r.length)return;const o=t.getFlattenColumns(),i={};o.forEach((e=>{i[e.id]=e}));for(let e=0,a=r.length;e<a;e++){const t=r[e],n=t.getAttribute("name"),o=i[n];o&&t.setAttribute("width",o.realWidth||o.width)}},o=t=>{var n,r;const o=(null==(n=e.vnode.el)?void 0:n.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let e=0,a=o.length;e<a;e++){o[e].setAttribute("width",t.scrollY.value?t.gutterWidth:"0")}const i=(null==(r=e.vnode.el)?void 0:r.querySelectorAll("th.gutter"))||[];for(let e=0,a=i.length;e<a;e++){const n=i[e];n.style.width=t.scrollY.value?`${t.gutterWidth}px`:"0",n.style.display=t.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:r,onScrollableChange:o}}const TABLE_INJECTION_KEY=Symbol("ElTable");function useEvent(e,t){const n=getCurrentInstance(),r=inject(TABLE_INJECTION_KEY),o=e=>{e.stopPropagation()},i=ref(null),a=ref(!1),s=ref({}),l=(t,n,o)=>{var i;t.stopPropagation();const a=n.order===o?null:o||(({order:e,sortOrders:t})=>{if(""===e)return t[0];const n=t.indexOf(e||null);return t[n>t.length-2?0:n+1]})(n),s=null==(i=t.target)?void 0:i.closest("th");if(s&&hasClass(s,"noclick"))return void removeClass(s,"noclick");if(!n.sortable)return;const l=e.store.states;let u,c=l.sortProp.value;const d=l.sortingColumn.value;(d!==n||d===n&&null===d.order)&&(d&&(d.order=null),l.sortingColumn.value=n,c=n.property),u=n.order=a||null,l.sortProp.value=c,l.sortOrder.value=u,null==r||r.store.commit("changeSortCondition")};return{handleHeaderClick:(e,t)=>{!t.filters&&t.sortable?l(e,t,!1):t.filterable&&!t.sortable&&o(e),null==r||r.emit("header-click",t,e)},handleHeaderContextMenu:(e,t)=>{null==r||r.emit("header-contextmenu",t,e)},handleMouseDown:(o,l)=>{if(isClient$1&&!(l.children&&l.children.length>0)&&i.value&&e.border){a.value=!0;const u=r;t("set-drag-visible",!0);const c=(null==u?void 0:u.vnode.el).getBoundingClientRect().left,d=n.vnode.el.querySelector(`th.${l.id}`),h=d.getBoundingClientRect(),p=h.left-c+30;addClass(d,"noclick"),s.value={startMouseLeft:o.clientX,startLeft:h.right-c,startColumnLeft:h.left-c,tableLeft:c};const f=null==u?void 0:u.refs.resizeProxy;f.style.left=`${s.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const m=e=>{const t=e.clientX-s.value.startMouseLeft,n=s.value.startLeft+t;f.style.left=`${Math.max(p,n)}px`},_=()=>{if(a.value){const{startColumnLeft:n,startLeft:r}=s.value,c=Number.parseInt(f.style.left,10)-n;l.width=l.realWidth=c,null==u||u.emit("header-dragend",l.width,r-n,l,o),requestAnimationFrame((()=>{e.store.scheduleLayout(!1,!0)})),document.body.style.cursor="",a.value=!1,i.value=null,s.value={},t("set-drag-visible",!1)}document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",_),document.onselectstart=null,document.ondragstart=null,setTimeout((()=>{removeClass(d,"noclick")}),0)};document.addEventListener("mousemove",m),document.addEventListener("mouseup",_)}},handleMouseMove:(t,n)=>{if(n.children&&n.children.length>0)return;const r=t.target;if(!isElement$1(r))return;const o=null==r?void 0:r.closest("th");if(n&&n.resizable&&!a.value&&e.border){const e=o.getBoundingClientRect(),r=document.body.style;e.width>12&&e.right-t.pageX<8?(r.cursor="col-resize",hasClass(o,"is-sortable")&&(o.style.cursor="col-resize"),i.value=n):a.value||(r.cursor="",hasClass(o,"is-sortable")&&(o.style.cursor="pointer"),i.value=null)}},handleMouseOut:()=>{isClient$1&&(document.body.style.cursor="")},handleSortClick:l,handleFilterClick:o}}function useStyle$2(e){const t=inject(TABLE_INJECTION_KEY),n=useNamespace("table");return{getHeaderRowStyle:e=>{const n=null==t?void 0:t.props.headerRowStyle;return"function"==typeof n?n.call(null,{rowIndex:e}):n},getHeaderRowClass:e=>{const n=[],r=null==t?void 0:t.props.headerRowClassName;return"string"==typeof r?n.push(r):"function"==typeof r&&n.push(r.call(null,{rowIndex:e})),n.join(" ")},getHeaderCellStyle:(n,r,o,i)=>{var a;let s=null!=(a=null==t?void 0:t.props.headerCellStyle)?a:{};"function"==typeof s&&(s=s.call(null,{rowIndex:n,columnIndex:r,row:o,column:i}));const l=getFixedColumnOffset(r,i.fixed,e.store,o);return ensurePosition(l,"left"),ensurePosition(l,"right"),Object.assign({},s,l)},getHeaderCellClass:(r,o,i,a)=>{const s=getFixedColumnsClass(n.b(),o,a.fixed,e.store,i),l=[a.id,a.order,a.headerAlign,a.className,a.labelClassName,...s];a.children||l.push("is-leaf"),a.sortable&&l.push("is-sortable");const u=null==t?void 0:t.props.headerCellClassName;return"string"==typeof u?l.push(u):"function"==typeof u&&l.push(u.call(null,{rowIndex:r,columnIndex:o,row:i,column:a})),l.push(n.e("cell")),l.filter((e=>Boolean(e))).join(" ")}}}const getAllColumns=e=>{const t=[];return e.forEach((e=>{e.children?(t.push(e),t.push.apply(t,getAllColumns(e.children))):t.push(e)})),t},convertToRows=e=>{let t=1;const n=(e,r)=>{if(r&&(e.level=r.level+1,t<e.level&&(t=e.level)),e.children){let t=0;e.children.forEach((r=>{n(r,e),t+=r.colSpan})),e.colSpan=t}else e.colSpan=1};e.forEach((e=>{e.level=1,n(e,void 0)}));const r=[];for(let o=0;o<t;o++)r.push([]);return getAllColumns(e).forEach((e=>{e.children?(e.rowSpan=1,e.children.forEach((e=>e.isSubColumn=!0))):e.rowSpan=t-e.level+1,r[e.level-1].push(e)})),r};function useUtils$1(e){const t=inject(TABLE_INJECTION_KEY),n=computed((()=>convertToRows(e.store.states.originColumns.value)));return{isGroup:computed((()=>{const e=n.value.length>1;return e&&t&&(t.state.isGroup.value=!0),e})),toggleAllSelection:e=>{e.stopPropagation(),null==t||t.store.commit("toggleAllSelection")},columnRows:n}}var TableHeader=defineComponent({name:"ElTableHeader",components:{ElCheckbox:ElCheckbox},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e,{emit:t}){const n=getCurrentInstance(),r=inject(TABLE_INJECTION_KEY),o=useNamespace("table"),i=ref({}),{onColumnsChange:a,onScrollableChange:s}=useLayoutObserver(r);onMounted((async()=>{await nextTick(),await nextTick();const{prop:t,order:n}=e.defaultSort;null==r||r.store.commit("sort",{prop:t,order:n,init:!0})}));const{handleHeaderClick:l,handleHeaderContextMenu:u,handleMouseDown:c,handleMouseMove:d,handleMouseOut:h,handleSortClick:p,handleFilterClick:f}=useEvent(e,t),{getHeaderRowStyle:m,getHeaderRowClass:_,getHeaderCellStyle:g,getHeaderCellClass:v}=useStyle$2(e),{isGroup:y,toggleAllSelection:b,columnRows:E}=useUtils$1(e);return n.state={onColumnsChange:a,onScrollableChange:s},n.filterPanels=i,{ns:o,filterPanels:i,onColumnsChange:a,onScrollableChange:s,columnRows:E,getHeaderRowClass:_,getHeaderRowStyle:m,getHeaderCellClass:v,getHeaderCellStyle:g,handleHeaderClick:l,handleHeaderContextMenu:u,handleMouseDown:c,handleMouseMove:d,handleMouseOut:h,handleSortClick:p,handleFilterClick:f,isGroup:y,toggleAllSelection:b}},render(){const{ns:e,isGroup:t,columnRows:n,getHeaderCellStyle:r,getHeaderCellClass:o,getHeaderRowClass:i,getHeaderRowStyle:a,handleHeaderClick:s,handleHeaderContextMenu:l,handleMouseDown:u,handleMouseMove:c,handleSortClick:d,handleMouseOut:h,store:p,$parent:f}=this;let m=1;return h$1("thead",{class:{[e.is("group")]:t}},n.map(((e,t)=>h$1("tr",{class:i(t),key:t,style:a(t)},e.map(((n,i)=>(n.rowSpan>m&&(m=n.rowSpan),h$1("th",{class:o(t,i,e,n),colspan:n.colSpan,key:`${n.id}-thead`,rowspan:n.rowSpan,style:r(t,i,e,n),onClick:e=>s(e,n),onContextmenu:e=>l(e,n),onMousedown:e=>u(e,n),onMousemove:e=>c(e,n),onMouseout:h},[h$1("div",{class:["cell",n.filteredValue&&n.filteredValue.length>0?"highlight":""]},[n.renderHeader?n.renderHeader({column:n,$index:i,store:p,_self:f}):n.label,n.sortable&&h$1("span",{onClick:e=>d(e,n),class:"caret-wrapper"},[h$1("i",{onClick:e=>d(e,n,"ascending"),class:"sort-caret ascending"}),h$1("i",{onClick:e=>d(e,n,"descending"),class:"sort-caret descending"})]),n.filterable&&h$1(FilterPanel,{store:p,placement:n.filterPlacement||"bottom-start",column:n,upDataColumn:(e,t)=>{n[e]=t}})])]))))))))}});function useEvents(e){const t=inject(TABLE_INJECTION_KEY),n=ref(""),r=ref(h$1("div")),{nextZIndex:o}=useZIndex(),i=(n,r,o)=>{var i;const a=t,s=getCell(n);let l;const u=null==(i=null==a?void 0:a.vnode.el)?void 0:i.dataset.prefix;s&&(l=getColumnByCell({columns:e.store.states.columns.value},s,u),l&&(null==a||a.emit(`cell-${o}`,r,l,s,n))),null==a||a.emit(`row-${o}`,r,l,n)},a=debounce((t=>{e.store.commit("setHoverRow",t)}),30),s=debounce((()=>{e.store.commit("setHoverRow",null)}),30);return{handleDoubleClick:(e,t)=>{i(e,t,"dblclick")},handleClick:(t,n)=>{e.store.commit("setCurrentRow",n),i(t,n,"click")},handleContextMenu:(e,t)=>{i(e,t,"contextmenu")},handleMouseEnter:a,handleMouseLeave:s,handleCellMouseEnter:(n,r,i)=>{var a;const s=t,l=getCell(n),u=null==(a=null==s?void 0:s.vnode.el)?void 0:a.dataset.prefix;if(l){const t=getColumnByCell({columns:e.store.states.columns.value},l,u),o=s.hoverState={cell:l,column:t,row:r};null==s||s.emit("cell-mouse-enter",o.row,o.column,o.cell,n)}if(!i)return;const c=n.target.querySelector(".cell");if(!hasClass(c,`${u}-tooltip`)||!c.childNodes.length)return;const d=document.createRange();d.setStart(c,0),d.setEnd(c,c.childNodes.length);let h=d.getBoundingClientRect().width,p=d.getBoundingClientRect().height;h-Math.floor(h)<.001&&(h=Math.floor(h));p-Math.floor(p)<.001&&(p=Math.floor(p));const{top:f,left:m,right:_,bottom:g}=(e=>{const t=window.getComputedStyle(e,null);return{left:Number.parseInt(t.paddingLeft,10)||0,right:Number.parseInt(t.paddingRight,10)||0,top:Number.parseInt(t.paddingTop,10)||0,bottom:Number.parseInt(t.paddingBottom,10)||0}})(c),v=f+g;(h+(m+_)>c.offsetWidth||p+v>c.offsetHeight||c.scrollWidth>c.offsetWidth)&&createTablePopper(null==t?void 0:t.refs.tableWrapper,l,l.innerText||l.textContent,o,i)},handleCellMouseLeave:e=>{if(!getCell(e))return;const n=null==t?void 0:t.hoverState;null==t||t.emit("cell-mouse-leave",null==n?void 0:n.row,null==n?void 0:n.column,null==n?void 0:n.cell,e)},tooltipContent:n,tooltipTrigger:r}}function useStyles$1(e){const t=inject(TABLE_INJECTION_KEY),n=useNamespace("table");return{getRowStyle:(e,n)=>{const r=null==t?void 0:t.props.rowStyle;return"function"==typeof r?r.call(null,{row:e,rowIndex:n}):r||null},getRowClass:(r,o)=>{const i=[n.e("row")];(null==t?void 0:t.props.highlightCurrentRow)&&r===e.store.states.currentRow.value&&i.push("current-row"),e.stripe&&o%2==1&&i.push(n.em("row","striped"));const a=null==t?void 0:t.props.rowClassName;return"string"==typeof a?i.push(a):"function"==typeof a&&i.push(a.call(null,{row:r,rowIndex:o})),i},getCellStyle:(n,r,o,i)=>{const a=null==t?void 0:t.props.cellStyle;let s=null!=a?a:{};"function"==typeof a&&(s=a.call(null,{rowIndex:n,columnIndex:r,row:o,column:i}));const l=getFixedColumnOffset(r,null==e?void 0:e.fixed,e.store);return ensurePosition(l,"left"),ensurePosition(l,"right"),Object.assign({},s,l)},getCellClass:(r,o,i,a,s)=>{const l=getFixedColumnsClass(n.b(),o,null==e?void 0:e.fixed,e.store,void 0,s),u=[a.id,a.align,a.className,...l],c=null==t?void 0:t.props.cellClassName;return"string"==typeof c?u.push(c):"function"==typeof c&&u.push(c.call(null,{rowIndex:r,columnIndex:o,row:i,column:a})),u.push(n.e("cell")),u.filter((e=>Boolean(e))).join(" ")},getSpan:(e,n,r,o)=>{let i=1,a=1;const s=null==t?void 0:t.props.spanMethod;if("function"==typeof s){const t=s({row:e,column:n,rowIndex:r,columnIndex:o});Array.isArray(t)?(i=t[0],a=t[1]):"object"==typeof t&&(i=t.rowspan,a=t.colspan)}return{rowspan:i,colspan:a}},getColspanRealWidth:(e,t,n)=>{if(t<1)return e[n].realWidth;const r=e.map((({realWidth:e,width:t})=>e||t)).slice(n,n+t);return Number(r.reduce(((e,t)=>Number(e)+Number(t)),-1))}}}function useRender$1(e){const t=inject(TABLE_INJECTION_KEY),n=useNamespace("table"),{handleDoubleClick:r,handleClick:o,handleContextMenu:i,handleMouseEnter:a,handleMouseLeave:s,handleCellMouseEnter:l,handleCellMouseLeave:u,tooltipContent:c,tooltipTrigger:d}=useEvents(e),{getRowStyle:h,getRowClass:p,getCellStyle:f,getCellClass:m,getSpan:_,getColspanRealWidth:g}=useStyles$1(e),v=computed((()=>e.store.states.columns.value.findIndex((({type:e})=>"default"===e)))),y=(e,n)=>{const r=t.props.rowKey;return r?getRowIdentity(e,r):n},b=(c,d,b,C=!1)=>{const{tooltipEffect:x,tooltipOptions:w,store:S}=e,{indent:T,columns:k}=S.states,L=p(c,d);let P=!0;b&&(L.push(n.em("row",`level-${b.level}`)),P=b.display);return h$1("tr",{style:[P?null:{display:"none"},h(c,d)],class:L,key:y(c,d),onDblclick:e=>r(e,c),onClick:e=>o(e,c),onContextmenu:e=>i(e,c),onMouseenter:()=>a(d),onMouseleave:s},k.value.map(((n,r)=>{const{rowspan:o,colspan:i}=_(c,n,d,r);if(!o||!i)return null;const a=Object.assign({},n);a.realWidth=g(k.value,i,r);const s={store:e.store,_self:e.context||t,column:a,row:c,$index:d,cellIndex:r,expanded:C};r===v.value&&b&&(s.treeNode={indent:b.level*T.value,level:b.level},"boolean"==typeof b.expanded&&(s.treeNode.expanded=b.expanded,"loading"in b&&(s.treeNode.loading=b.loading),"noLazyChildren"in b&&(s.treeNode.noLazyChildren=b.noLazyChildren)));const h=`${d},${r}`,p=a.columnKey||a.rawColumnKey||"",y=E(r,n,s),S=n.showOverflowTooltip&&merge$2({effect:x},w,n.showOverflowTooltip);return h$1("td",{style:f(d,r,c,n),class:m(d,r,c,n,i-1),key:`${p}${h}`,rowspan:o,colspan:i,onMouseenter:e=>l(e,c,S),onMouseleave:u},[y])})))},E=(e,t,n)=>t.renderCell(n);return{wrappedRowRender:(r,o)=>{const i=e.store,{isRowExpanded:a,assertRowKey:s}=i,{treeData:l,lazyTreeNodeMap:u,childrenColumnName:c,rowKey:d}=i.states,h=i.states.columns.value;if(h.some((({type:e})=>"expand"===e))){const e=a(r),s=b(r,o,void 0,e),l=t.renderExpanded;return e?l?[[s,h$1("tr",{key:`expanded-row__${s.key}`},[h$1("td",{colspan:h.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[l({row:r,$index:o,store:i,expanded:e})])])]]:s:[[s]]}if(Object.keys(l.value).length){s();const e=getRowIdentity(r,d.value);let t=l.value[e],n=null;t&&(n={expanded:t.expanded,level:t.level,display:!0},"boolean"==typeof t.lazy&&("boolean"==typeof t.loaded&&t.loaded&&(n.noLazyChildren=!(t.children&&t.children.length)),n.loading=t.loading));const i=[b(r,o,n)];if(t){let n=0;const a=(e,r)=>{e&&e.length&&r&&e.forEach((e=>{const s={display:r.display&&r.expanded,level:r.level+1,expanded:!1,noLazyChildren:!1,loading:!1},h=getRowIdentity(e,d.value);if(null==h)throw new Error("For nested data item, row-key is required.");if(t={...l.value[h]},t&&(s.expanded=t.expanded,t.level=t.level||s.level,t.display=!(!t.expanded||!s.display),"boolean"==typeof t.lazy&&("boolean"==typeof t.loaded&&t.loaded&&(s.noLazyChildren=!(t.children&&t.children.length)),s.loading=t.loading)),n++,i.push(b(e,o+n,s)),t){const n=u.value[h]||e[c.value];a(n,t)}}))};t.display=!0;const s=u.value[e]||r[c.value];a(s,t)}return i}return b(r,o,void 0)},tooltipContent:c,tooltipTrigger:d}}const defaultProps$2={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var TableBody=defineComponent({name:"ElTableBody",props:defaultProps$2,setup(e){const t=getCurrentInstance(),n=inject(TABLE_INJECTION_KEY),r=useNamespace("table"),{wrappedRowRender:o,tooltipContent:i,tooltipTrigger:a}=useRender$1(e),{onColumnsChange:s,onScrollableChange:l}=useLayoutObserver(n);return watch(e.store.states.hoverRow,((n,o)=>{e.store.states.isComplex.value&&isClient$1&&rAF((()=>{const e=null==t?void 0:t.vnode.el,i=Array.from((null==e?void 0:e.children)||[]).filter((e=>null==e?void 0:e.classList.contains(`${r.e("row")}`))),a=i[o],s=i[n];a&&removeClass(a,"hover-row"),s&&addClass(s,"hover-row")}))})),onUnmounted((()=>{var e;null==(e=removePopper)||e()})),{ns:r,onColumnsChange:s,onScrollableChange:l,wrappedRowRender:o,tooltipContent:i,tooltipTrigger:a}},render(){const{wrappedRowRender:e,store:t}=this;return h$1("tbody",{tabIndex:-1},[(t.states.data.value||[]).reduce(((t,n)=>t.concat(e(n,t.length))),[])])}});function useMapState(){const e=inject(TABLE_INJECTION_KEY),t=null==e?void 0:e.store;return{leftFixedLeafCount:computed((()=>t.states.fixedLeafColumnsLength.value)),rightFixedLeafCount:computed((()=>t.states.rightFixedColumns.value.length)),columnsCount:computed((()=>t.states.columns.value.length)),leftFixedCount:computed((()=>t.states.fixedColumns.value.length)),rightFixedCount:computed((()=>t.states.rightFixedColumns.value.length)),columns:t.states.columns}}function useStyle$1(e){const{columns:t}=useMapState(),n=useNamespace("table");return{getCellClasses:(t,r)=>{const o=t[r],i=[n.e("cell"),o.id,o.align,o.labelClassName,...getFixedColumnsClass(n.b(),r,o.fixed,e.store)];return o.className&&i.push(o.className),o.children||i.push(n.is("leaf")),i},getCellStyles:(t,n)=>{const r=getFixedColumnOffset(n,t.fixed,e.store);return ensurePosition(r,"left"),ensurePosition(r,"right"),r},columns:t}}var TableFooter=defineComponent({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e){const{getCellClasses:t,getCellStyles:n,columns:r}=useStyle$1(e);return{ns:useNamespace("table"),getCellClasses:t,getCellStyles:n,columns:r}},render(){const{columns:e,getCellStyles:t,getCellClasses:n,summaryMethod:r,sumText:o}=this,i=this.store.states.data.value;let a=[];return r?a=r({columns:e,data:i}):e.forEach(((e,t)=>{if(0===t)return void(a[t]=o);const n=i.map((t=>Number(t[e.property]))),r=[];let s=!0;n.forEach((e=>{if(!Number.isNaN(+e)){s=!1;const t=`${e}`.split(".")[1];r.push(t?t.length:0)}}));const l=Math.max.apply(null,r);a[t]=s?"":n.reduce(((e,t)=>{const n=Number(t);return Number.isNaN(+n)?e:Number.parseFloat((e+t).toFixed(Math.min(l,20)))}),0)})),h$1(h$1("tfoot",[h$1("tr",{},[...e.map(((r,o)=>h$1("td",{key:o,colspan:r.colSpan,rowspan:r.rowSpan,class:n(e,o),style:t(r,o)},[h$1("div",{class:["cell",r.labelClassName]},[a[o]])])))])]))}});function useUtils(e){return{setCurrentRow:t=>{e.commit("setCurrentRow",t)},getSelectionRows:()=>e.getSelectionRows(),toggleRowSelection:(t,n)=>{e.toggleRowSelection(t,n,!1),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:t=>{e.clearFilter(t)},toggleAllSelection:()=>{e.commit("toggleAllSelection")},toggleRowExpansion:(t,n)=>{e.toggleRowExpansionAdapter(t,n)},clearSort:()=>{e.clearSort()},sort:(t,n)=>{e.commit("sort",{prop:t,order:n})}}}function useStyle(e,t,n,r){const o=ref(!1),i=ref(null),a=ref(!1),s=ref({width:null,height:null,headerHeight:null}),l=ref(!1),u=ref(),c=ref(0),d=ref(0),h=ref(0),p=ref(0),f=ref(0);watchEffect((()=>{t.setHeight(e.height)})),watchEffect((()=>{t.setMaxHeight(e.maxHeight)})),watch((()=>[e.currentRowKey,n.states.rowKey]),(([e,t])=>{unref(t)&&unref(e)&&n.setCurrentRowKey(`${e}`)}),{immediate:!0}),watch((()=>e.data),(e=>{r.store.commit("setData",e)}),{immediate:!0,deep:!0}),watchEffect((()=>{e.expandRowKeys&&n.setExpandRowKeysAdapter(e.expandRowKeys)}));const m=computed((()=>e.height||e.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0)),_=computed((()=>({width:t.bodyWidth.value?`${t.bodyWidth.value}px`:""}))),g=()=>{m.value&&t.updateElsHeight(),t.updateColumnsWidth(),requestAnimationFrame(y)};onMounted((async()=>{await nextTick(),n.updateColumns(),b(),requestAnimationFrame(g);const t=r.vnode.el,o=r.refs.headerWrapper;e.flexible&&t&&t.parentElement&&(t.parentElement.style.minWidth="0"),s.value={width:u.value=t.offsetWidth,height:t.offsetHeight,headerHeight:e.showHeader&&o?o.offsetHeight:null},n.states.columns.value.forEach((e=>{e.filteredValue&&e.filteredValue.length&&r.store.commit("filterChange",{column:e,values:e.filteredValue,silent:!0})})),r.$ready=!0}));const v=e=>{const{tableWrapper:n}=r.refs;((e,n)=>{if(!e)return;const r=Array.from(e.classList).filter((e=>!e.startsWith("is-scrolling-")));r.push(t.scrollX.value?n:"is-scrolling-none"),e.className=r.join(" ")})(n,e)},y=function(){if(!r.refs.scrollBarRef)return;if(!t.scrollX.value){const e="is-scrolling-none";return void((e=>{const{tableWrapper:t}=r.refs;return!(!t||!t.classList.contains(e))})(e)||v(e))}const e=r.refs.scrollBarRef.wrapRef;if(!e)return;const{scrollLeft:n,offsetWidth:o,scrollWidth:i}=e,{headerWrapper:a,footerWrapper:s}=r.refs;a&&(a.scrollLeft=n),s&&(s.scrollLeft=n);v(n>=i-o-1?"is-scrolling-right":0===n?"is-scrolling-left":"is-scrolling-middle")},b=()=>{r.refs.scrollBarRef&&(r.refs.scrollBarRef.wrapRef&&useEventListener$1(r.refs.scrollBarRef.wrapRef,"scroll",y,{passive:!0}),e.fit?useResizeObserver(r.vnode.el,E):useEventListener$1(window,"resize",E),useResizeObserver(r.refs.bodyWrapper,(()=>{var e,t;E(),null==(t=null==(e=r.refs)?void 0:e.scrollBarRef)||t.update()})))},E=()=>{var t,n,o,i;const a=r.vnode.el;if(!r.$ready||!a)return;let l=!1;const{width:_,height:v,headerHeight:y}=s.value,b=u.value=a.offsetWidth;_!==b&&(l=!0);const E=a.offsetHeight;(e.height||m.value)&&v!==E&&(l=!0);const C="fixed"===e.tableLayout?r.refs.headerWrapper:null==(t=r.refs.tableHeaderRef)?void 0:t.$el;e.showHeader&&(null==C?void 0:C.offsetHeight)!==y&&(l=!0),c.value=(null==(n=r.refs.tableWrapper)?void 0:n.scrollHeight)||0,h.value=(null==C?void 0:C.scrollHeight)||0,p.value=(null==(o=r.refs.footerWrapper)?void 0:o.offsetHeight)||0,f.value=(null==(i=r.refs.appendWrapper)?void 0:i.offsetHeight)||0,d.value=c.value-h.value-p.value-f.value,l&&(s.value={width:b,height:E,headerHeight:e.showHeader&&(null==C?void 0:C.offsetHeight)||0},g())},C=useFormSize(),x=computed((()=>{const{bodyWidth:e,scrollY:n,gutterWidth:r}=t;return e.value?e.value-(n.value?r:0)+"px":""})),w=computed((()=>e.maxHeight?"fixed":e.tableLayout)),S=computed((()=>{if(e.data&&e.data.length)return null;let t="100%";e.height&&d.value&&(t=`${d.value}px`);const n=u.value;return{width:n?`${n}px`:"",height:t}})),T=computed((()=>e.height?{height:Number.isNaN(Number(e.height))?e.height:`${e.height}px`}:e.maxHeight?{maxHeight:Number.isNaN(Number(e.maxHeight))?e.maxHeight:`${e.maxHeight}px`}:{})),k=computed((()=>e.height?{height:"100%"}:e.maxHeight?Number.isNaN(Number(e.maxHeight))?{maxHeight:`calc(${e.maxHeight} - ${h.value+p.value}px)`}:{maxHeight:e.maxHeight-h.value-p.value+"px"}:{}));return{isHidden:o,renderExpanded:i,setDragVisible:e=>{a.value=e},isGroup:l,handleMouseLeave:()=>{r.store.commit("setHoverRow",null),r.hoverState&&(r.hoverState=null)},handleHeaderFooterMousewheel:(e,t)=>{const{pixelX:n,pixelY:o}=t;Math.abs(n)>=Math.abs(o)&&(r.refs.bodyWrapper.scrollLeft+=t.pixelX/5)},tableSize:C,emptyBlockStyle:S,handleFixedMousewheel:(e,t)=>{const n=r.refs.bodyWrapper;if(Math.abs(t.spinY)>0){const r=n.scrollTop;t.pixelY<0&&0!==r&&e.preventDefault(),t.pixelY>0&&n.scrollHeight-n.clientHeight>r&&e.preventDefault(),n.scrollTop+=Math.ceil(t.pixelY/5)}else n.scrollLeft+=Math.ceil(t.pixelX/5)},resizeProxyVisible:a,bodyWidth:x,resizeState:s,doLayout:g,tableBodyStyles:_,tableLayout:w,scrollbarViewStyle:{display:"inline-block",verticalAlign:"middle"},tableInnerStyle:T,scrollbarStyle:k}}function useKeyRender(e){const t=ref();onMounted((()=>{(()=>{const n=e.vnode.el.querySelector(".hidden-columns"),r=e.store.states.updateOrderFns;t.value=new MutationObserver((()=>{r.forEach((e=>e()))})),t.value.observe(n,{childList:!0,subtree:!0})})()})),onUnmounted((()=>{var e;null==(e=t.value)||e.disconnect()}))}var defaultProps$1={data:{type:Array,default:()=>[]},size:useSizeProp,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:{type:Boolean,default:!1},flexible:Boolean,showOverflowTooltip:[Boolean,Object]};function hColgroup(e){const t="auto"===e.tableLayout;let n=e.columns||[];t&&n.every((e=>void 0===e.width))&&(n=[]);return h$1("colgroup",{},n.map((n=>h$1("col",(n=>{const r={key:`${e.tableLayout}_${n.id}`,style:{},name:void 0};return t?r.style={width:`${n.width}px`}:r.name=n.id,r})(n)))))}hColgroup.props=["columns","tableLayout"];const useScrollbar$1=()=>{const e=ref(),t=(t,n)=>{const r=e.value;r&&isNumber(n)&&["Top","Left"].includes(t)&&r[`setScroll${t}`](n)};return{scrollBarRef:e,scrollTo:(t,n)=>{const r=e.value;r&&r.scrollTo(t,n)},setScrollTop:e=>t("Top",e),setScrollLeft:e=>t("Left",e)}};let tableIdSeed=1;const _sfc_main$1D=defineComponent({name:"ElTable",directives:{Mousewheel:Mousewheel},components:{TableHeader:TableHeader,TableBody:TableBody,TableFooter:TableFooter,ElScrollbar:ElScrollbar,hColgroup:hColgroup},props:defaultProps$1,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(e){const{t:t}=useLocale(),n=useNamespace("table"),r=getCurrentInstance();provide(TABLE_INJECTION_KEY,r);const o=createStore(r,e);r.store=o;const i=new TableLayout({store:r.store,table:r,fit:e.fit,showHeader:e.showHeader});r.layout=i;const a=computed((()=>0===(o.states.data.value||[]).length)),{setCurrentRow:s,getSelectionRows:l,toggleRowSelection:u,clearSelection:c,clearFilter:d,toggleAllSelection:h,toggleRowExpansion:p,clearSort:f,sort:m}=useUtils(o),{isHidden:_,renderExpanded:g,setDragVisible:v,isGroup:y,handleMouseLeave:b,handleHeaderFooterMousewheel:E,tableSize:C,emptyBlockStyle:x,handleFixedMousewheel:w,resizeProxyVisible:S,bodyWidth:T,resizeState:k,doLayout:L,tableBodyStyles:P,tableLayout:M,scrollbarViewStyle:O,tableInnerStyle:N,scrollbarStyle:A}=useStyle(e,i,o,r),{scrollBarRef:I,scrollTo:R,setScrollLeft:$,setScrollTop:B}=useScrollbar$1(),D=debounce(L,50),F=`${n.namespace.value}-table_${tableIdSeed++}`;r.tableId=F,r.state={isGroup:y,resizeState:k,doLayout:L,debouncedUpdateLayout:D};const V=computed((()=>e.sumText||t("el.table.sumText"))),z=computed((()=>e.emptyText||t("el.table.emptyText")));return useKeyRender(r),{ns:n,layout:i,store:o,handleHeaderFooterMousewheel:E,handleMouseLeave:b,tableId:F,tableSize:C,isHidden:_,isEmpty:a,renderExpanded:g,resizeProxyVisible:S,resizeState:k,isGroup:y,bodyWidth:T,tableBodyStyles:P,emptyBlockStyle:x,debouncedUpdateLayout:D,handleFixedMousewheel:w,setCurrentRow:s,getSelectionRows:l,toggleRowSelection:u,clearSelection:c,clearFilter:d,toggleAllSelection:h,toggleRowExpansion:p,clearSort:f,doLayout:L,sort:m,t:t,setDragVisible:v,context:r,computedSumText:V,computedEmptyText:z,tableLayout:M,scrollbarViewStyle:O,tableInnerStyle:N,scrollbarStyle:A,scrollBarRef:I,scrollTo:R,setScrollLeft:$,setScrollTop:B}}}),_hoisted_1$19=["data-prefix"],_hoisted_2$M={ref:"hiddenColumns",class:"hidden-columns"};function _sfc_render$f(e,t,n,r,o,i){const a=resolveComponent("hColgroup"),s=resolveComponent("table-header"),l=resolveComponent("table-body"),u=resolveComponent("table-footer"),c=resolveComponent("el-scrollbar"),d=resolveDirective("mousewheel");return openBlock(),createElementBlock("div",{ref:"tableWrapper",class:normalizeClass([{[e.ns.m("fit")]:e.fit,[e.ns.m("striped")]:e.stripe,[e.ns.m("border")]:e.border||e.isGroup,[e.ns.m("hidden")]:e.isHidden,[e.ns.m("group")]:e.isGroup,[e.ns.m("fluid-height")]:e.maxHeight,[e.ns.m("scrollable-x")]:e.layout.scrollX.value,[e.ns.m("scrollable-y")]:e.layout.scrollY.value,[e.ns.m("enable-row-hover")]:!e.store.states.isComplex.value,[e.ns.m("enable-row-transition")]:0!==(e.store.states.data.value||[]).length&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:normalizeStyle(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:t[0]||(t[0]=(...t)=>e.handleMouseLeave&&e.handleMouseLeave(...t))},[createBaseVNode("div",{class:normalizeClass(e.ns.e("inner-wrapper")),style:normalizeStyle(e.tableInnerStyle)},[createBaseVNode("div",_hoisted_2$M,[renderSlot(e.$slots,"default")],512),e.showHeader&&"fixed"===e.tableLayout?withDirectives((openBlock(),createElementBlock("div",{key:0,ref:"headerWrapper",class:normalizeClass(e.ns.e("header-wrapper"))},[createBaseVNode("table",{ref:"tableHeader",class:normalizeClass(e.ns.e("header")),style:normalizeStyle(e.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[createVNode(a,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),createVNode(s,{ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[d,e.handleHeaderFooterMousewheel]]):createCommentVNode("v-if",!0),createBaseVNode("div",{ref:"bodyWrapper",class:normalizeClass(e.ns.e("body-wrapper"))},[createVNode(c,{ref:"scrollBarRef","view-style":e.scrollbarViewStyle,"wrap-style":e.scrollbarStyle,always:e.scrollbarAlwaysOn},{default:withCtx((()=>[createBaseVNode("table",{ref:"tableBody",class:normalizeClass(e.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:normalizeStyle({width:e.bodyWidth,tableLayout:e.tableLayout})},[createVNode(a,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),e.showHeader&&"auto"===e.tableLayout?(openBlock(),createBlock(s,{key:0,ref:"tableHeaderRef",class:normalizeClass(e.ns.e("body-header")),border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,["class","border","default-sort","store","onSetDragVisible"])):createCommentVNode("v-if",!0),createVNode(l,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"tooltip-options":e.tooltipOptions,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),e.showSummary&&"auto"===e.tableLayout?(openBlock(),createBlock(u,{key:1,class:normalizeClass(e.ns.e("body-footer")),border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):createCommentVNode("v-if",!0)],6),e.isEmpty?(openBlock(),createElementBlock("div",{key:0,ref:"emptyBlock",style:normalizeStyle(e.emptyBlockStyle),class:normalizeClass(e.ns.e("empty-block"))},[createBaseVNode("span",{class:normalizeClass(e.ns.e("empty-text"))},[renderSlot(e.$slots,"empty",{},(()=>[createTextVNode(toDisplayString(e.computedEmptyText),1)]))],2)],6)):createCommentVNode("v-if",!0),e.$slots.append?(openBlock(),createElementBlock("div",{key:1,ref:"appendWrapper",class:normalizeClass(e.ns.e("append-wrapper"))},[renderSlot(e.$slots,"append")],2)):createCommentVNode("v-if",!0)])),_:3},8,["view-style","wrap-style","always"])],2),e.showSummary&&"fixed"===e.tableLayout?withDirectives((openBlock(),createElementBlock("div",{key:1,ref:"footerWrapper",class:normalizeClass(e.ns.e("footer-wrapper"))},[createBaseVNode("table",{class:normalizeClass(e.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:normalizeStyle(e.tableBodyStyles)},[createVNode(a,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),createVNode(u,{border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[vShow,!e.isEmpty],[d,e.handleHeaderFooterMousewheel]]):createCommentVNode("v-if",!0),e.border||e.isGroup?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(e.ns.e("border-left-patch"))},null,2)):createCommentVNode("v-if",!0)],6),withDirectives(createBaseVNode("div",{ref:"resizeProxy",class:normalizeClass(e.ns.e("column-resize-proxy"))},null,2),[[vShow,e.resizeProxyVisible]])],46,_hoisted_1$19)}var Table=_export_sfc(_sfc_main$1D,[["render",_sfc_render$f],["__file","table.vue"]]);const defaultClassNames={selection:"table-column--selection",expand:"table__expand-column"},cellStarts={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},getDefaultClassName=e=>defaultClassNames[e]||"",cellForced={selection:{renderHeader:({store:e,column:t})=>h$1(ElCheckbox,{disabled:e.states.data.value&&0===e.states.data.value.length,size:e.states.tableSize.value,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":e.toggleAllSelection,modelValue:e.states.isAllSelected.value,ariaLabel:t.label}),renderCell:({row:e,column:t,store:n,$index:r})=>h$1(ElCheckbox,{disabled:!!t.selectable&&!t.selectable.call(null,e,r),size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",e)},onClick:e=>e.stopPropagation(),modelValue:n.isSelected(e),ariaLabel:t.label}),sortable:!1,resizable:!1},index:{renderHeader:({column:e})=>e.label||"#",renderCell({column:e,$index:t}){let n=t+1;const r=e.index;return"number"==typeof r?n=t+r:"function"==typeof r&&(n=r(t)),h$1("div",{},[n])},sortable:!1},expand:{renderHeader:({column:e})=>e.label||"",renderCell({row:e,store:t,expanded:n}){const{ns:r}=t,o=[r.e("expand-icon")];n&&o.push(r.em("expand-icon","expanded"));return h$1("div",{class:o,onClick:function(n){n.stopPropagation(),t.toggleRowExpansion(e)}},{default:()=>[h$1(ElIcon,null,{default:()=>[h$1(arrow_right_default)]})]})},sortable:!1,resizable:!1}};function defaultRenderCell({row:e,column:t,$index:n}){var r;const o=t.property,i=o&&getProp(e,o).value;return t&&t.formatter?t.formatter(e,t,i,n):(null==(r=null==i?void 0:i.toString)?void 0:r.call(i))||""}function treeCellPrefix({row:e,treeNode:t,store:n},r=!1){const{ns:o}=n;if(!t)return r?[h$1("span",{class:o.e("placeholder")})]:null;const i=[],a=function(r){r.stopPropagation(),t.loading||n.loadOrToggle(e)};if(t.indent&&i.push(h$1("span",{class:o.e("indent"),style:{"padding-left":`${t.indent}px`}})),"boolean"!=typeof t.expanded||t.noLazyChildren)i.push(h$1("span",{class:o.e("placeholder")}));else{const e=[o.e("expand-icon"),t.expanded?o.em("expand-icon","expanded"):""];let n=arrow_right_default;t.loading&&(n=loading_default),i.push(h$1("div",{class:e,onClick:a},{default:()=>[h$1(ElIcon,{class:{[o.is("loading")]:t.loading}},{default:()=>[h$1(n)]})]}))}return i}function getAllAliases(e,t){return e.reduce(((e,t)=>(e[t]=t,e)),t)}function useWatcher(e,t){const n=getCurrentInstance();return{registerComplexWatchers:()=>{const r={realWidth:"width",realMinWidth:"minWidth"},o=getAllAliases(["fixed"],r);Object.keys(o).forEach((o=>{const i=r[o];hasOwn(t,i)&&watch((()=>t[i]),(t=>{let r=t;"width"===i&&"realWidth"===o&&(r=parseWidth(t)),"minWidth"===i&&"realMinWidth"===o&&(r=parseMinWidth(t)),n.columnConfig.value[i]=r,n.columnConfig.value[o]=r;const a="fixed"===i;e.value.store.scheduleLayout(a)}))}))},registerNormalWatchers:()=>{const e={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},r=getAllAliases(["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","showOverflowTooltip"],e);Object.keys(r).forEach((r=>{const o=e[r];hasOwn(t,o)&&watch((()=>t[o]),(e=>{n.columnConfig.value[r]=e}))}))}}}function useRender(e,t,n){const r=getCurrentInstance(),o=ref(""),i=ref(!1),a=ref(),s=ref(),l=useNamespace("table");watchEffect((()=>{a.value=e.align?`is-${e.align}`:null,a.value})),watchEffect((()=>{s.value=e.headerAlign?`is-${e.headerAlign}`:a.value,s.value}));const u=computed((()=>{let e=r.vnode.vParent||r.parent;for(;e&&!e.tableId&&!e.columnId;)e=e.vnode.vParent||e.parent;return e})),c=computed((()=>{const{store:e}=r.parent;if(!e)return!1;const{treeData:t}=e.states,n=t.value;return n&&Object.keys(n).length>0})),d=ref(parseWidth(e.width)),h=ref(parseMinWidth(e.minWidth));return{columnId:o,realAlign:a,isSubColumn:i,realHeaderAlign:s,columnOrTableParent:u,setColumnWidth:e=>(d.value&&(e.width=d.value),h.value&&(e.minWidth=h.value),!d.value&&h.value&&(e.width=void 0),e.minWidth||(e.minWidth=80),e.realWidth=Number(void 0===e.width?e.minWidth:e.width),e),setColumnForcedProps:e=>{const t=e.type,n=cellForced[t]||{};Object.keys(n).forEach((t=>{const r=n[t];"className"!==t&&void 0!==r&&(e[t]=r)}));const r=getDefaultClassName(t);if(r){const t=`${unref(l.namespace)}-${r}`;e.className=e.className?`${e.className} ${t}`:t}return e},setColumnRenders:o=>{e.renderHeader||"selection"!==o.type&&(o.renderHeader=e=>(r.columnConfig.value.label,renderSlot(t,"header",e,(()=>[o.label]))));let i=o.renderCell;return"expand"===o.type?(o.renderCell=e=>h$1("div",{class:"cell"},[i(e)]),n.value.renderExpanded=e=>t.default?t.default(e):t.default):(i=i||defaultRenderCell,o.renderCell=e=>{let a=null;if(t.default){const n=t.default(e);a=n.some((e=>e.type!==Comment))?n:i(e)}else a=i(e);const{columns:s}=n.value.store.states,u=s.value.findIndex((e=>"default"===e.type)),d=treeCellPrefix(e,c.value&&e.cellIndex===u),h={class:"cell",style:{}};return o.showOverflowTooltip&&(h.class=`${h.class} ${unref(l.namespace)}-tooltip`,h.style={width:(e.column.realWidth||Number(e.column.width))-1+"px"}),(e=>{function t(e){var t;"ElTableColumn"===(null==(t=null==e?void 0:e.type)?void 0:t.name)&&(e.vParent=r)}Array.isArray(e)?e.forEach((e=>t(e))):t(e)})(a),h$1("div",h,[d,a])}),o},getPropsData:(...t)=>t.reduce(((t,n)=>(Array.isArray(n)&&n.forEach((n=>{t[n]=e[n]})),t)),{}),getColumnElIndex:(e,t)=>Array.prototype.indexOf.call(e,t),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",r.columnConfig.value)}}}var defaultProps={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every((e=>["ascending","descending",null].includes(e)))}};let columnIdSeed=1;var ElTableColumn$1=defineComponent({name:"ElTableColumn",components:{ElCheckbox:ElCheckbox},props:defaultProps,setup(e,{slots:t}){const n=getCurrentInstance(),r=ref({}),o=computed((()=>{let e=n.parent;for(;e&&!e.tableId;)e=e.parent;return e})),{registerNormalWatchers:i,registerComplexWatchers:a}=useWatcher(o,e),{columnId:s,isSubColumn:l,realHeaderAlign:u,columnOrTableParent:c,setColumnWidth:d,setColumnForcedProps:h,setColumnRenders:p,getPropsData:f,getColumnElIndex:m,realAlign:_,updateColumnOrder:g}=useRender(e,t,o),v=c.value;s.value=`${v.tableId||v.columnId}_column_${columnIdSeed++}`,onBeforeMount((()=>{l.value=o.value!==v;const t=e.type||"default",c=""===e.sortable||e.sortable,m=isUndefined(e.showOverflowTooltip)?v.props.showOverflowTooltip:e.showOverflowTooltip,g={...cellStarts[t],id:s.value,type:t,property:e.prop||e.property,align:_,headerAlign:u,showOverflowTooltip:m,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:c,index:e.index,rawColumnKey:n.vnode.key};let y=f(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"]);y=mergeOptions(g,y);y=compose(p,d,h)(y),r.value=y,i(),a()})),onMounted((()=>{var e;const t=c.value,i=l.value?t.vnode.el.children:null==(e=t.refs.hiddenColumns)?void 0:e.children,a=()=>m(i||[],n.vnode.el);r.value.getColumnIndex=a;a()>-1&&o.value.store.commit("insertColumn",r.value,l.value?t.columnConfig.value:null,g)})),onBeforeUnmount((()=>{o.value.store.commit("removeColumn",r.value,l.value?v.columnConfig.value:null,g)})),n.columnId=s.value,n.columnConfig=r},render(){var t,n,r;try{const e=null==(n=(t=this.$slots).default)?void 0:n.call(t,{row:{},column:{},$index:-1}),o=[];if(Array.isArray(e))for(const t of e)"ElTableColumn"===(null==(r=t.type)?void 0:r.name)||2&t.shapeFlag?o.push(t):t.type===Fragment&&Array.isArray(t.children)&&t.children.forEach((e=>{1024===(null==e?void 0:e.patchFlag)||isString$1(null==e?void 0:e.children)||o.push(e)}));return h$1("div",o)}catch(e){return h$1("div",[])}}});const ElTable=withInstall(Table,{TableColumn:ElTableColumn$1}),ElTableColumn=withNoopInstall(ElTableColumn$1);var SortOrder=(e=>(e.ASC="asc",e.DESC="desc",e))(SortOrder||{}),Alignment=(e=>(e.CENTER="center",e.RIGHT="right",e))(Alignment||{}),FixedDir=(e=>(e.LEFT="left",e.RIGHT="right",e))(FixedDir||{});const oppositeOrderMap={asc:"desc",desc:"asc"},placeholderSign=Symbol("placeholder"),calcColumnStyle=(e,t,n)=>{var r;const o={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};n||(o.flexShrink=1);const i={...null!=(r=e.style)?r:{},...o,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(i.maxWidth=e.maxWidth),e.minWidth&&(i.minWidth=e.minWidth)),i};function useColumns(e,t,n){const r=computed((()=>unref(t).filter((e=>!e.hidden)))),o=computed((()=>unref(r).filter((e=>"left"===e.fixed||!0===e.fixed)))),i=computed((()=>unref(r).filter((e=>"right"===e.fixed)))),a=computed((()=>unref(r).filter((e=>!e.fixed)))),s=computed((()=>{const e=[];return unref(o).forEach((t=>{e.push({...t,placeholderSign:placeholderSign})})),unref(a).forEach((t=>{e.push(t)})),unref(i).forEach((t=>{e.push({...t,placeholderSign:placeholderSign})})),e})),l=computed((()=>unref(o).length||unref(i).length)),u=computed((()=>unref(t).reduce(((t,r)=>(t[r.key]=calcColumnStyle(r,unref(n),e.fixed),t)),{}))),c=computed((()=>unref(r).reduce(((e,t)=>e+t.width),0))),d=e=>unref(t).find((t=>t.key===e));return{columns:t,columnsStyles:u,columnsTotalWidth:c,fixedColumnsOnLeft:o,fixedColumnsOnRight:i,hasFixedColumns:l,mainColumns:s,normalColumns:a,visibleColumns:r,getColumn:d,getColumnStyle:e=>unref(u)[e],updateColumnWidth:(e,t)=>{e.width=t},onColumnSorted:function(t){var n;const{key:r}=t.currentTarget.dataset;if(!r)return;const{sortState:o,sortBy:i}=e;let a=SortOrder.ASC;a=isObject$2(o)?oppositeOrderMap[o[r]]:oppositeOrderMap[i.order],null==(n=e.onColumnSort)||n.call(e,{column:d(r),key:r,order:a})}}}const useScrollbar=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:o})=>{const i=ref({scrollLeft:0,scrollTop:0});function a(e){var o,i,a;const{scrollTop:s}=e;null==(o=t.value)||o.scrollTo(e),null==(i=n.value)||i.scrollToTop(s),null==(a=r.value)||a.scrollToTop(s)}function s(e){i.value=e,a(e)}function l(e){i.value.scrollTop=e,a(unref(i))}return watch((()=>unref(i).scrollTop),((e,t)=>{e>t&&o()})),{scrollPos:i,scrollTo:s,scrollToLeft:function(e){var n,r;i.value.scrollLeft=e,null==(r=null==(n=t.value)?void 0:n.scrollTo)||r.call(n,unref(i))},scrollToTop:l,scrollToRow:function(e,n="auto"){var r;null==(r=t.value)||r.scrollToRow(e,n)},onScroll:function(t){var n;s(t),null==(n=e.onScroll)||n.call(e,t)},onVerticalScroll:function({scrollTop:e}){const{scrollTop:t}=unref(i);e!==t&&l(e)}}},useRow=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r})=>{const o=getCurrentInstance(),{emit:i}=o,a=shallowRef(!1),s=shallowRef(null),l=ref(e.defaultExpandedRowKeys||[]),u=ref(-1),c=shallowRef(null),d=ref({}),h=ref({}),p=shallowRef({}),f=shallowRef({}),m=shallowRef({}),_=computed((()=>isNumber(e.estimatedRowHeight)));const g=debounce((()=>{var e,i,s,l;a.value=!0,d.value={...unref(d),...unref(h)},v(unref(c),!1),h.value={},c.value=null,null==(e=t.value)||e.forceUpdate(),null==(i=n.value)||i.forceUpdate(),null==(s=r.value)||s.forceUpdate(),null==(l=o.proxy)||l.$forceUpdate(),a.value=!1}),0);function v(e,o=!1){unref(_)&&[t,n,r].forEach((t=>{const n=unref(t);n&&n.resetAfterRowIndex(e,o)}))}return{hoveringRowKey:s,expandedRowKeys:l,lastRenderedRowIndex:u,isDynamic:_,isResetting:a,rowHeights:d,resetAfterIndex:v,onRowExpanded:function({expanded:t,rowData:n,rowIndex:r,rowKey:o}){var a,s;const u=[...unref(l)],c=u.indexOf(o);t?-1===c&&u.push(o):c>-1&&u.splice(c,1),l.value=u,i("update:expandedRowKeys",u),null==(a=e.onRowExpand)||a.call(e,{expanded:t,rowData:n,rowIndex:r,rowKey:o}),null==(s=e.onExpandedRowsChange)||s.call(e,u)},onRowHovered:function({hovered:e,rowKey:t}){s.value=e?t:null},onRowsRendered:function(t){var n;null==(n=e.onRowsRendered)||n.call(e,t),t.rowCacheEnd>unref(u)&&(u.value=t.rowCacheEnd)},onRowHeightChange:function({rowKey:e,height:t,rowIndex:n},r){r?r===FixedDir.RIGHT?m.value[e]=t:p.value[e]=t:f.value[e]=t;const o=Math.max(...[p,m,f].map((t=>t.value[e]||0)));unref(d)[e]!==o&&(!function(e,t,n){const r=unref(c);(null===r||r>n)&&(c.value=n),h.value[e]=t}(e,o,n),g())}}},useData$2=(e,{expandedRowKeys:t,lastRenderedRowIndex:n,resetAfterIndex:r})=>{const o=ref({}),i=computed((()=>{const n={},{data:r,rowKey:i}=e,a=unref(t);if(!a||!a.length)return r;const s=[],l=new Set;a.forEach((e=>l.add(e)));let u=r.slice();for(u.forEach((e=>n[e[i]]=0));u.length>0;){const e=u.shift();s.push(e),l.has(e[i])&&Array.isArray(e.children)&&e.children.length>0&&(u=[...e.children,...u],e.children.forEach((t=>n[t[i]]=n[e[i]]+1)))}return o.value=n,s})),a=computed((()=>{const{data:t,expandColumnKey:n}=e;return n?unref(i):t}));return watch(a,((e,t)=>{e!==t&&(n.value=-1,r(0,!0))})),{data:a,depthMap:o}},sumReducer=(e,t)=>e+t,sum=e=>isArray$1(e)?e.reduce(sumReducer,0):e,tryCall=(e,t,n={})=>isFunction$2(e)?e(t):null!=e?e:n,enforceUnit=e=>(["width","maxWidth","minWidth","height"].forEach((t=>{e[t]=addUnit(e[t])})),e),componentToSlot=e=>isVNode(e)?t=>h$1(e,t):e,useStyles=(e,{columnsTotalWidth:t,data:n,fixedColumnsOnLeft:r,fixedColumnsOnRight:o})=>{const i=computed((()=>{const{fixed:n,width:r,vScrollbarSize:o}=e,i=r-o;return n?Math.max(Math.round(unref(t)),i):i})),a=computed((()=>unref(i)+(e.fixed?e.vScrollbarSize:0))),s=computed((()=>{const{height:t=0,maxHeight:n=0,footerHeight:r,hScrollbarSize:o}=e;if(n>0){const e=unref(f),t=unref(l),i=unref(p)+e+t+o;return Math.min(i,n-r)}return t-r})),l=computed((()=>{const{rowHeight:t,estimatedRowHeight:r}=e,o=unref(n);return isNumber(r)?o.length*r:o.length*t})),u=computed((()=>{const{maxHeight:t}=e,n=unref(s);if(isNumber(t)&&t>0)return n;const r=unref(l)+unref(p)+unref(f);return Math.min(n,r)})),c=e=>e.width,d=computed((()=>sum(unref(r).map(c)))),h=computed((()=>sum(unref(o).map(c)))),p=computed((()=>sum(e.headerHeight))),f=computed((()=>{var t;return((null==(t=e.fixedData)?void 0:t.length)||0)*e.rowHeight})),m=computed((()=>unref(s)-unref(p)-unref(f))),_=computed((()=>{const{style:t={},height:n,width:r}=e;return enforceUnit({...t,height:n,width:r})})),g=computed((()=>enforceUnit({height:e.footerHeight}))),v=computed((()=>({top:addUnit(unref(p)),bottom:addUnit(e.footerHeight),width:addUnit(e.width)})));return{bodyWidth:i,fixedTableHeight:u,mainTableHeight:s,leftTableWidth:d,rightTableWidth:h,headerWidth:a,rowsHeight:l,windowHeight:m,footerHeight:g,emptyStyle:v,rootStyle:_,headerHeight:p}},useAutoResize=e=>{const t=ref(),n=ref(0),r=ref(0);let o;return onMounted((()=>{o=useResizeObserver(t,(([e])=>{const{width:t,height:o}=e.contentRect,{paddingLeft:i,paddingRight:a,paddingTop:s,paddingBottom:l}=getComputedStyle(e.target),u=Number.parseInt(i)||0,c=Number.parseInt(a)||0,d=Number.parseInt(s)||0,h=Number.parseInt(l)||0;n.value=t-u-c,r.value=o-d-h})).stop})),onBeforeUnmount((()=>{null==o||o()})),watch([n,r],(([t,n])=>{var r;null==(r=e.onResize)||r.call(e,{width:t,height:n})})),{sizer:t,width:n,height:r}};function useTable(e){const t=ref(),n=ref(),r=ref(),{columns:o,columnsStyles:i,columnsTotalWidth:a,fixedColumnsOnLeft:s,fixedColumnsOnRight:l,hasFixedColumns:u,mainColumns:c,onColumnSorted:d}=useColumns(e,toRef$1(e,"columns"),toRef$1(e,"fixed")),{scrollTo:h,scrollToLeft:p,scrollToTop:f,scrollToRow:m,onScroll:_,onVerticalScroll:g,scrollPos:v}=useScrollbar(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:function(){const{onEndReached:t}=e;if(!t)return;const{scrollTop:n}=unref(v),r=unref(D),o=unref(F),i=r-(n+o)+e.hScrollbarSize;unref(E)>=0&&r===n+unref(I)-unref(U)&&t(i)}}),{expandedRowKeys:y,hoveringRowKey:b,lastRenderedRowIndex:E,isDynamic:C,isResetting:x,rowHeights:w,resetAfterIndex:S,onRowExpanded:T,onRowHeightChange:k,onRowHovered:L,onRowsRendered:P}=useRow(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r}),{data:M,depthMap:O}=useData$2(e,{expandedRowKeys:y,lastRenderedRowIndex:E,resetAfterIndex:S}),{bodyWidth:N,fixedTableHeight:A,mainTableHeight:I,leftTableWidth:R,rightTableWidth:$,headerWidth:B,rowsHeight:D,windowHeight:F,footerHeight:V,emptyStyle:z,rootStyle:j,headerHeight:U}=useStyles(e,{columnsTotalWidth:a,data:M,fixedColumnsOnLeft:s,fixedColumnsOnRight:l}),G=shallowRef(!1),H=ref(),K=computed((()=>{const t=0===unref(M).length;return isArray$1(e.fixedData)?0===e.fixedData.length&&t:t}));return watch((()=>e.expandedRowKeys),(e=>y.value=e),{deep:!0}),{columns:o,containerRef:H,mainTableRef:t,leftTableRef:n,rightTableRef:r,isDynamic:C,isResetting:x,isScrolling:G,hoveringRowKey:b,hasFixedColumns:u,columnsStyles:i,columnsTotalWidth:a,data:M,expandedRowKeys:y,depthMap:O,fixedColumnsOnLeft:s,fixedColumnsOnRight:l,mainColumns:c,bodyWidth:N,emptyStyle:z,rootStyle:j,headerWidth:B,footerHeight:V,mainTableHeight:I,fixedTableHeight:A,leftTableWidth:R,rightTableWidth:$,showEmpty:K,getRowHeight:function(t){const{estimatedRowHeight:n,rowHeight:r,rowKey:o}=e;return n?unref(w)[unref(M)[t][o]]||n:r},onColumnSorted:d,onRowHovered:L,onRowExpanded:T,onRowsRendered:P,onRowHeightChange:k,scrollTo:h,scrollToLeft:p,scrollToTop:f,scrollToRow:m,onScroll:_,onVerticalScroll:g}}const TableV2InjectionKey=Symbol("tableV2"),classType=String,columns={type:definePropType(Array),required:!0},fixedDataType={type:definePropType(Array)},dataType={...fixedDataType,required:!0},expandColumnKey=String,expandKeys={type:definePropType(Array),default:()=>mutable([])},requiredNumber={type:Number,required:!0},rowKey={type:definePropType([String,Number,Symbol]),default:"id"},styleType={type:definePropType(Object)},tableV2RowProps=buildProps({class:String,columns:columns,columnsStyles:{type:definePropType(Object),required:!0},depth:Number,expandColumnKey:expandColumnKey,estimatedRowHeight:{...virtualizedGridProps.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:definePropType(Function)},onRowHover:{type:definePropType(Function)},onRowHeightChange:{type:definePropType(Function)},rowData:{type:definePropType(Object),required:!0},rowEventHandlers:{type:definePropType(Object)},rowIndex:{type:Number,required:!0},rowKey:rowKey,style:{type:definePropType(Object)}}),requiredNumberType={type:Number,required:!0},tableV2HeaderProps=buildProps({class:String,columns:columns,fixedHeaderData:{type:definePropType(Array)},headerData:{type:definePropType(Array),required:!0},headerHeight:{type:definePropType([Number,Array]),default:50},rowWidth:requiredNumberType,rowHeight:{type:Number,default:50},height:requiredNumberType,width:requiredNumberType}),tableV2GridProps=buildProps({columns:columns,data:dataType,fixedData:fixedDataType,estimatedRowHeight:tableV2RowProps.estimatedRowHeight,width:requiredNumber,height:requiredNumber,headerWidth:requiredNumber,headerHeight:tableV2HeaderProps.headerHeight,bodyWidth:requiredNumber,rowHeight:requiredNumber,cache:virtualizedListProps.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:virtualizedGridProps.scrollbarAlwaysOn,scrollbarStartGap:virtualizedGridProps.scrollbarStartGap,scrollbarEndGap:virtualizedGridProps.scrollbarEndGap,class:classType,style:styleType,containerStyle:styleType,getRowHeight:{type:definePropType(Function),required:!0},rowKey:tableV2RowProps.rowKey,onRowsRendered:{type:definePropType(Function)},onScroll:{type:definePropType(Function)}}),tableV2Props=buildProps({cache:tableV2GridProps.cache,estimatedRowHeight:tableV2RowProps.estimatedRowHeight,rowKey:rowKey,headerClass:{type:definePropType([String,Function])},headerProps:{type:definePropType([Object,Function])},headerCellProps:{type:definePropType([Object,Function])},headerHeight:tableV2HeaderProps.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:definePropType([String,Function])},rowProps:{type:definePropType([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:definePropType([Object,Function])},columns:columns,data:dataType,dataGetter:{type:definePropType(Function)},fixedData:fixedDataType,expandColumnKey:tableV2RowProps.expandColumnKey,expandedRowKeys:expandKeys,defaultExpandedRowKeys:expandKeys,class:classType,fixed:Boolean,style:{type:definePropType(Object)},width:requiredNumber,height:requiredNumber,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:virtualizedGridProps.hScrollbarSize,vScrollbarSize:virtualizedGridProps.vScrollbarSize,scrollbarAlwaysOn:virtualizedScrollbarProps.alwaysOn,sortBy:{type:definePropType(Object),default:()=>({})},sortState:{type:definePropType(Object),default:void 0},onColumnSort:{type:definePropType(Function)},onExpandedRowsChange:{type:definePropType(Function)},onEndReached:{type:definePropType(Function)},onRowExpand:tableV2RowProps.onRowExpand,onScroll:tableV2GridProps.onScroll,onRowsRendered:tableV2GridProps.onRowsRendered,rowEventHandlers:tableV2RowProps.rowEventHandlers}),TableV2Cell=(e,{slots:t})=>{var n;const{cellData:r,style:o}=e,i=(null==(n=null==r?void 0:r.toString)?void 0:n.call(r))||"",a=renderSlot(t,"default",e,(()=>[i]));return createVNode("div",{class:e.class,title:i,style:o},[a])};TableV2Cell.displayName="ElTableV2Cell",TableV2Cell.inheritAttrs=!1;const HeaderCell=(e,{slots:t})=>renderSlot(t,"default",e,(()=>{var t,n;return[createVNode("div",{class:e.class,title:null==(t=e.column)?void 0:t.title},[null==(n=e.column)?void 0:n.title])]}));HeaderCell.displayName="ElTableV2HeaderCell",HeaderCell.inheritAttrs=!1;const tableV2HeaderRowProps=buildProps({class:String,columns:columns,columnsStyles:{type:definePropType(Object),required:!0},headerIndex:Number,style:{type:definePropType(Object)}}),TableV2HeaderRow=defineComponent({name:"ElTableV2HeaderRow",props:tableV2HeaderRowProps,setup:(e,{slots:t})=>()=>{const{columns:n,columnsStyles:r,headerIndex:o,style:i}=e;let a=n.map(((e,i)=>t.cell({columns:n,column:e,columnIndex:i,headerIndex:o,style:r[e.key]})));return t.header&&(a=t.header({cells:a.map((e=>isArray$1(e)&&1===e.length?e[0]:e)),columns:n,headerIndex:o})),createVNode("div",{class:e.class,style:i,role:"row"},[a])}}),COMPONENT_NAME$7="ElTableV2Header",TableV2Header=defineComponent({name:COMPONENT_NAME$7,props:tableV2HeaderProps,setup(e,{slots:t,expose:n}){const r=useNamespace("table-v2"),o=ref(),i=computed((()=>enforceUnit({width:e.width,height:e.height}))),a=computed((()=>enforceUnit({width:e.rowWidth,height:e.height}))),s=computed((()=>castArray$1(unref(e.headerHeight)))),l=()=>{const n=r.e("fixed-header-row"),{columns:o,fixedHeaderData:i,rowHeight:a}=e;return null==i?void 0:i.map(((e,r)=>{var i;const s=enforceUnit({height:a,width:"100%"});return null==(i=t.fixed)?void 0:i.call(t,{class:n,columns:o,rowData:e,rowIndex:-(r+1),style:s})}))},u=()=>{const n=r.e("dynamic-header-row"),{columns:o}=e;return unref(s).map(((e,r)=>{var i;const a=enforceUnit({width:"100%",height:e});return null==(i=t.dynamic)?void 0:i.call(t,{class:n,columns:o,headerIndex:r,style:a})}))};return n({scrollToLeft:e=>{const t=unref(o);nextTick((()=>{(null==t?void 0:t.scroll)&&t.scroll({left:e})}))}}),()=>{if(!(e.height<=0))return createVNode("div",{ref:o,class:e.class,style:unref(i),role:"rowgroup"},[createVNode("div",{style:unref(a),class:r.e("header")},[u(),l()])])}}}),useTableRow=e=>{const{isScrolling:t}=inject(TableV2InjectionKey),n=ref(!1),r=ref(),o=computed((()=>isNumber(e.estimatedRowHeight)&&e.rowIndex>=0)),i=computed((()=>{const{rowData:t,rowIndex:n,rowKey:r,onRowHover:o}=e,i=e.rowEventHandlers||{},a={};return Object.entries(i).forEach((([e,o])=>{isFunction$2(o)&&(a[e]=e=>{o({event:e,rowData:t,rowIndex:n,rowKey:r})})})),o&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach((({name:e,hovered:i})=>{const s=a[e];a[e]=e=>{o({event:e,hovered:i,rowData:t,rowIndex:n,rowKey:r}),null==s||s(e)}})),a}));return onMounted((()=>{unref(o)&&((t=!1)=>{const o=unref(r);if(!o)return;const{columns:i,onRowHeightChange:a,rowKey:s,rowIndex:l,style:u}=e,{height:c}=o.getBoundingClientRect();n.value=!0,nextTick((()=>{if(t||c!==Number.parseInt(u.height)){const e=i[0],t=(null==e?void 0:e.placeholderSign)===placeholderSign;null==a||a({rowKey:s,height:c,rowIndex:l},e&&!t&&e.fixed)}}))})(!0)})),{isScrolling:t,measurable:o,measured:n,rowRef:r,eventHandlers:i,onExpand:t=>{const{onRowExpand:n,rowData:r,rowIndex:o,rowKey:i}=e;null==n||n({expanded:t,rowData:r,rowIndex:o,rowKey:i})}}},COMPONENT_NAME$6="ElTableV2TableRow",TableV2Row=defineComponent({name:COMPONENT_NAME$6,props:tableV2RowProps,setup(e,{expose:t,slots:n,attrs:r}){const{eventHandlers:o,isScrolling:i,measurable:a,measured:s,rowRef:l,onExpand:u}=useTableRow(e);return t({onExpand:u}),()=>{const{columns:t,columnsStyles:c,expandColumnKey:d,depth:h,rowData:p,rowIndex:f,style:m}=e;let _=t.map(((e,r)=>{const o=isArray$1(p.children)&&p.children.length>0&&e.key===d;return n.cell({column:e,columns:t,columnIndex:r,depth:h,style:c[e.key],rowData:p,rowIndex:f,isScrolling:unref(i),expandIconProps:o?{rowData:p,rowIndex:f,onExpand:u}:void 0})}));if(n.row&&(_=n.row({cells:_.map((e=>isArray$1(e)&&1===e.length?e[0]:e)),style:m,columns:t,depth:h,rowData:p,rowIndex:f,isScrolling:unref(i)})),unref(a)){const{height:t,...n}=m||{},i=unref(s);return createVNode("div",mergeProps({ref:l,class:e.class,style:i?m:n,role:"row"},r,unref(o)),[_])}return createVNode("div",mergeProps(r,{ref:l,class:e.class,style:m,role:"row"},unref(o)),[_])}}}),SortIcon=e=>{const{sortOrder:t}=e;return createVNode(ElIcon,{size:14,class:e.class},{default:()=>[t===SortOrder.ASC?createVNode(sort_up_default,null,null):createVNode(sort_down_default,null,null)]})},ExpandIcon=e=>{const{expanded:t,expandable:n,onExpand:r,style:o,size:i}=e,a={onClick:n?()=>r(!t):void 0,class:e.class};return createVNode(ElIcon,mergeProps(a,{size:i,style:o}),{default:()=>[createVNode(arrow_right_default,null,null)]})},COMPONENT_NAME$5="ElTableV2Grid",useTableGrid=e=>{const t=ref(),n=ref(),r=computed((()=>{const{data:t,rowHeight:n,estimatedRowHeight:r}=e;if(!r)return t.length*n})),o=computed((()=>{const{fixedData:t,rowHeight:n}=e;return((null==t?void 0:t.length)||0)*n})),i=computed((()=>sum(e.headerHeight))),a=computed((()=>{const{height:t}=e;return Math.max(0,t-unref(i)-unref(o))})),s=computed((()=>unref(i)+unref(o)>0));return{bodyRef:n,forceUpdate:function(){var e,r;null==(e=unref(n))||e.$forceUpdate(),null==(r=unref(t))||r.$forceUpdate()},fixedRowHeight:o,gridHeight:a,hasHeader:s,headerHeight:i,headerRef:t,totalHeight:r,itemKey:({data:t,rowIndex:n})=>t[n][e.rowKey],onItemRendered:function({rowCacheStart:t,rowCacheEnd:n,rowVisibleStart:r,rowVisibleEnd:o}){var i;null==(i=e.onRowsRendered)||i.call(e,{rowCacheStart:t,rowCacheEnd:n,rowVisibleStart:r,rowVisibleEnd:o})},resetAfterRowIndex:function(e,t){var r;null==(r=n.value)||r.resetAfterRowIndex(e,t)},scrollTo:function(e,r){const o=unref(t),i=unref(n);o&&i&&(isObject$2(e)?(o.scrollToLeft(e.scrollLeft),i.scrollTo(e)):(o.scrollToLeft(e),i.scrollTo({scrollLeft:e,scrollTop:r})))},scrollToTop:function(e){var t;null==(t=unref(n))||t.scrollTo({scrollTop:e})},scrollToRow:function(e,t){var r;null==(r=unref(n))||r.scrollToItem(e,1,t)}}},TableGrid=defineComponent({name:COMPONENT_NAME$5,props:tableV2GridProps,setup(e,{slots:t,expose:n}){const{ns:r}=inject(TableV2InjectionKey),{bodyRef:o,fixedRowHeight:i,gridHeight:a,hasHeader:s,headerRef:l,headerHeight:u,totalHeight:c,forceUpdate:d,itemKey:h,onItemRendered:p,resetAfterRowIndex:f,scrollTo:m,scrollToTop:_,scrollToRow:g}=useTableGrid(e);n({forceUpdate:d,totalHeight:c,scrollTo:m,scrollToTop:_,scrollToRow:g,resetAfterRowIndex:f});const v=()=>e.bodyWidth;return()=>{const{cache:n,columns:c,data:d,fixedData:f,useIsScrolling:m,scrollbarAlwaysOn:_,scrollbarEndGap:g,scrollbarStartGap:y,style:b,rowHeight:E,bodyWidth:C,estimatedRowHeight:x,headerWidth:w,height:S,width:T,getRowHeight:k,onScroll:L}=e,P=isNumber(x),M=P?DynamicSizeGrid:FixedSizeGrid,O=unref(u);return createVNode("div",{role:"table",class:[r.e("table"),e.class],style:b},[createVNode(M,{ref:o,data:d,useIsScrolling:m,itemKey:h,columnCache:0,columnWidth:P?v:C,totalColumn:1,totalRow:d.length,rowCache:n,rowHeight:P?k:E,width:T,height:unref(a),class:r.e("body"),role:"rowgroup",scrollbarStartGap:y,scrollbarEndGap:g,scrollbarAlwaysOn:_,onScroll:L,onItemRendered:p,perfMode:!1},{default:e=>{var n;const r=d[e.rowIndex];return null==(n=t.row)?void 0:n.call(t,{...e,columns:c,rowData:r})}}),unref(s)&&createVNode(TableV2Header,{ref:l,class:r.e("header-wrapper"),columns:c,headerData:d,headerHeight:e.headerHeight,fixedHeaderData:f,rowWidth:w,rowHeight:E,width:T,height:Math.min(O+unref(i),S)},{dynamic:t.header,fixed:t.row})])}}});function _isSlot$5(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!isVNode(e)}const MainTable=(e,{slots:t})=>{const{mainTableRef:n,...r}=e;return createVNode(TableGrid,mergeProps({ref:n},r),_isSlot$5(t)?t:{default:()=>[t]})};function _isSlot$4(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!isVNode(e)}const LeftTable$1=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:n,...r}=e;return createVNode(TableGrid,mergeProps({ref:n},r),_isSlot$4(t)?t:{default:()=>[t]})};function _isSlot$3(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!isVNode(e)}const LeftTable=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:n,...r}=e;return createVNode(TableGrid,mergeProps({ref:n},r),_isSlot$3(t)?t:{default:()=>[t]})};function _isSlot$2(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!isVNode(e)}const RowRenderer=(e,{slots:t})=>{const{columns:n,columnsStyles:r,depthMap:o,expandColumnKey:i,expandedRowKeys:a,estimatedRowHeight:s,hasFixedColumns:l,hoveringRowKey:u,rowData:c,rowIndex:d,style:h,isScrolling:p,rowProps:f,rowClass:m,rowKey:_,rowEventHandlers:g,ns:v,onRowHovered:y,onRowExpanded:b}=e,E=tryCall(m,{columns:n,rowData:c,rowIndex:d},""),C=tryCall(f,{columns:n,rowData:c,rowIndex:d}),x=c[_],w=o[x]||0,S=Boolean(i),T=d<0,k={...C,columns:n,columnsStyles:r,class:[v.e("row"),E,{[v.e(`row-depth-${w}`)]:S&&d>=0,[v.is("expanded")]:S&&a.includes(x),[v.is("hovered")]:!p&&x===u,[v.is("fixed")]:!w&&T,[v.is("customized")]:Boolean(t.row)}],depth:w,expandColumnKey:i,estimatedRowHeight:T?void 0:s,isScrolling:p,rowIndex:d,rowData:c,rowKey:x,rowEventHandlers:g,style:h};return createVNode(TableV2Row,mergeProps(k,{onRowHover:l?y:void 0,onRowExpand:b}),_isSlot$2(t)?t:{default:()=>[t]})},CellRenderer=({columns:e,column:t,columnIndex:n,depth:r,expandIconProps:o,isScrolling:i,rowData:a,rowIndex:s,style:l,expandedRowKeys:u,ns:c,cellProps:d,expandColumnKey:h,indentSize:p,iconSize:f,rowKey:m},{slots:_})=>{const g=enforceUnit(l);if(t.placeholderSign===placeholderSign)return createVNode("div",{class:c.em("row-cell","placeholder"),style:g},null);const{cellRenderer:v,dataKey:y,dataGetter:b}=t,E=isFunction$2(b)?b({columns:e,column:t,columnIndex:n,rowData:a,rowIndex:s}):get$1(a,null!=y?y:""),C=tryCall(d,{cellData:E,columns:e,column:t,columnIndex:n,rowIndex:s,rowData:a}),x={class:c.e("cell-text"),columns:e,column:t,columnIndex:n,cellData:E,isScrolling:i,rowData:a,rowIndex:s},w=componentToSlot(v),S=w?w(x):renderSlot(_,"default",x,(()=>[createVNode(TableV2Cell,x,null)])),T=[c.e("row-cell"),t.class,t.align===Alignment.CENTER&&c.is("align-center"),t.align===Alignment.RIGHT&&c.is("align-right")],k=s>=0&&h&&t.key===h,L=s>=0&&u.includes(a[m]);let P;const M=`margin-inline-start: ${r*p}px;`;return k&&(P=isObject$2(o)?createVNode(ExpandIcon,mergeProps(o,{class:[c.e("expand-icon"),c.is("expanded",L)],size:f,expanded:L,style:M,expandable:!0}),null):createVNode("div",{style:[M,`width: ${f}px; height: ${f}px;`].join(" ")},null)),createVNode("div",mergeProps({class:T,style:g},C,{role:"cell"}),[P,S])};function _isSlot$1(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!isVNode(e)}CellRenderer.inheritAttrs=!1;const HeaderRenderer=({columns:e,columnsStyles:t,headerIndex:n,style:r,headerClass:o,headerProps:i,ns:a},{slots:s})=>{const l={columns:e,headerIndex:n},u=[a.e("header-row"),tryCall(o,l,""),{[a.is("customized")]:Boolean(s.header)}],c={...tryCall(i,l),columnsStyles:t,class:u,columns:e,headerIndex:n,style:r};return createVNode(TableV2HeaderRow,c,_isSlot$1(s)?s:{default:()=>[s]})},HeaderCellRenderer=(e,{slots:t})=>{const{column:n,ns:r,style:o,onColumnSorted:i}=e,a=enforceUnit(o);if(n.placeholderSign===placeholderSign)return createVNode("div",{class:r.em("header-row-cell","placeholder"),style:a},null);const{headerCellRenderer:s,headerClass:l,sortable:u}=n,c={...e,class:r.e("header-cell-text")},d=componentToSlot(s),h=d?d(c):renderSlot(t,"default",c,(()=>[createVNode(HeaderCell,c,null)])),{sortBy:p,sortState:f,headerCellProps:m}=e;let _,g;if(f){const e=f[n.key];_=Boolean(oppositeOrderMap[e]),g=_?e:SortOrder.ASC}else _=n.key===p.key,g=_?p.order:SortOrder.ASC;const v=[r.e("header-cell"),tryCall(l,e,""),n.align===Alignment.CENTER&&r.is("align-center"),n.align===Alignment.RIGHT&&r.is("align-right"),u&&r.is("sortable")],y={...tryCall(m,e),onClick:n.sortable?i:void 0,class:v,style:a,"data-key":n.key};return createVNode("div",mergeProps(y,{role:"columnheader"}),[h,u&&createVNode(SortIcon,{class:[r.e("sort-icon"),_&&r.is("sorting")],sortOrder:g},null)])},Footer$1=(e,{slots:t})=>{var n;return createVNode("div",{class:e.class,style:e.style},[null==(n=t.default)?void 0:n.call(t)])};Footer$1.displayName="ElTableV2Footer";const Footer=(e,{slots:t})=>{const n=renderSlot(t,"default",{},(()=>[createVNode(ElEmpty,null,null)]));return createVNode("div",{class:e.class,style:e.style},[n])};Footer.displayName="ElTableV2Empty";const Overlay=(e,{slots:t})=>{var n;return createVNode("div",{class:e.class,style:e.style},[null==(n=t.default)?void 0:n.call(t)])};function _isSlot(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!isVNode(e)}Overlay.displayName="ElTableV2Overlay";const COMPONENT_NAME$4="ElTableV2",TableV2=defineComponent({name:COMPONENT_NAME$4,props:tableV2Props,setup(e,{slots:t,expose:n}){const r=useNamespace("table-v2"),{columnsStyles:o,fixedColumnsOnLeft:i,fixedColumnsOnRight:a,mainColumns:s,mainTableHeight:l,fixedTableHeight:u,leftTableWidth:c,rightTableWidth:d,data:h,depthMap:p,expandedRowKeys:f,hasFixedColumns:m,hoveringRowKey:_,mainTableRef:g,leftTableRef:v,rightTableRef:y,isDynamic:b,isResetting:E,isScrolling:C,bodyWidth:x,emptyStyle:w,rootStyle:S,headerWidth:T,footerHeight:k,showEmpty:L,scrollTo:P,scrollToLeft:M,scrollToTop:O,scrollToRow:N,getRowHeight:A,onColumnSorted:I,onRowHeightChange:R,onRowHovered:$,onRowExpanded:B,onRowsRendered:D,onScroll:F,onVerticalScroll:V}=useTable(e);return n({scrollTo:P,scrollToLeft:M,scrollToTop:O,scrollToRow:N}),provide(TableV2InjectionKey,{ns:r,isResetting:E,hoveringRowKey:_,isScrolling:C}),()=>{const{cache:n,cellProps:E,estimatedRowHeight:C,expandColumnKey:P,fixedData:M,headerHeight:O,headerClass:N,headerProps:z,headerCellProps:j,sortBy:U,sortState:G,rowHeight:H,rowClass:K,rowEventHandlers:W,rowKey:Y,rowProps:q,scrollbarAlwaysOn:Z,indentSize:X,iconSize:J,useIsScrolling:Q,vScrollbarSize:ee,width:te}=e,ne=unref(h),re={cache:n,class:r.e("main"),columns:unref(s),data:ne,fixedData:M,estimatedRowHeight:C,bodyWidth:unref(x)+ee,headerHeight:O,headerWidth:unref(T),height:unref(l),mainTableRef:g,rowKey:Y,rowHeight:H,scrollbarAlwaysOn:Z,scrollbarStartGap:2,scrollbarEndGap:ee,useIsScrolling:Q,width:te,getRowHeight:A,onRowsRendered:D,onScroll:F},oe=unref(c),ie=unref(u),ae={cache:n,class:r.e("left"),columns:unref(i),data:ne,estimatedRowHeight:C,leftTableRef:v,rowHeight:H,bodyWidth:oe,headerWidth:oe,headerHeight:O,height:ie,rowKey:Y,scrollbarAlwaysOn:Z,scrollbarStartGap:2,scrollbarEndGap:ee,useIsScrolling:Q,width:oe,getRowHeight:A,onScroll:V},se=unref(d)+ee,le={cache:n,class:r.e("right"),columns:unref(a),data:ne,estimatedRowHeight:C,rightTableRef:y,rowHeight:H,bodyWidth:se,headerWidth:se,headerHeight:O,height:ie,rowKey:Y,scrollbarAlwaysOn:Z,scrollbarStartGap:2,scrollbarEndGap:ee,width:se,style:`--${unref(r.namespace)}-table-scrollbar-size: ${ee}px`,useIsScrolling:Q,getRowHeight:A,onScroll:V},ue=unref(o),ce={ns:r,depthMap:unref(p),columnsStyles:ue,expandColumnKey:P,expandedRowKeys:unref(f),estimatedRowHeight:C,hasFixedColumns:unref(m),hoveringRowKey:unref(_),rowProps:q,rowClass:K,rowKey:Y,rowEventHandlers:W,onRowHovered:$,onRowExpanded:B,onRowHeightChange:R},de={cellProps:E,expandColumnKey:P,indentSize:X,iconSize:J,rowKey:Y,expandedRowKeys:unref(f),ns:r},he={ns:r,headerClass:N,headerProps:z,columnsStyles:ue},pe={ns:r,sortBy:U,sortState:G,headerCellProps:j,onColumnSorted:I},fe={row:e=>createVNode(RowRenderer,mergeProps(e,ce),{row:t.row,cell:e=>{let n;return t.cell?createVNode(CellRenderer,mergeProps(e,de,{style:ue[e.column.key]}),_isSlot(n=t.cell(e))?n:{default:()=>[n]}):createVNode(CellRenderer,mergeProps(e,de,{style:ue[e.column.key]}),null)}}),header:e=>createVNode(HeaderRenderer,mergeProps(e,he),{header:t.header,cell:e=>{let n;return t["header-cell"]?createVNode(HeaderCellRenderer,mergeProps(e,pe,{style:ue[e.column.key]}),_isSlot(n=t["header-cell"](e))?n:{default:()=>[n]}):createVNode(HeaderCellRenderer,mergeProps(e,pe,{style:ue[e.column.key]}),null)}})},me=[e.class,r.b(),r.e("root"),{[r.is("dynamic")]:unref(b)}],_e={class:r.e("footer"),style:unref(k)};return createVNode("div",{class:me,style:unref(S)},[createVNode(MainTable,re,_isSlot(fe)?fe:{default:()=>[fe]}),createVNode(LeftTable$1,ae,_isSlot(fe)?fe:{default:()=>[fe]}),createVNode(LeftTable,le,_isSlot(fe)?fe:{default:()=>[fe]}),t.footer&&createVNode(Footer$1,_e,{default:t.footer}),unref(L)&&createVNode(Footer,{class:r.e("empty"),style:unref(w)},{default:t.empty}),t.overlay&&createVNode(Overlay,{class:r.e("overlay")},{default:t.overlay})])}}}),autoResizerProps=buildProps({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:definePropType(Function)}}),AutoResizer=defineComponent({name:"ElAutoResizer",props:autoResizerProps,setup(e,{slots:t}){const n=useNamespace("auto-resizer"),{height:r,width:o,sizer:i}=useAutoResize(e),a={width:"100%",height:"100%"};return()=>{var e;return createVNode("div",{ref:i,class:n.b(),style:a},[null==(e=t.default)?void 0:e.call(t,{height:r.value,width:o.value})])}}}),ElTableV2=withInstall(TableV2),ElAutoResizer=withInstall(AutoResizer),tabsRootContextKey=Symbol("tabsRootContextKey"),tabBarProps=buildProps({tabs:{type:definePropType(Array),default:()=>mutable([])}}),COMPONENT_NAME$3="ElTabBar",__default__$l=defineComponent({name:COMPONENT_NAME$3}),_sfc_main$1C=defineComponent({...__default__$l,props:tabBarProps,setup(e,{expose:t}){const n=e,r=getCurrentInstance(),o=inject(tabsRootContextKey);o||throwError(COMPONENT_NAME$3,"<el-tabs><el-tab-bar /></el-tabs>");const i=useNamespace("tabs"),a=ref(),s=ref(),l=()=>s.value=(()=>{let e=0,t=0;const i=["top","bottom"].includes(o.props.tabPosition)?"width":"height",a="width"===i?"x":"y",s="x"===a?"left":"top";return n.tabs.every((o=>{var a,l;const u=null==(l=null==(a=r.parent)?void 0:a.refs)?void 0:l[`tab-${o.uid}`];if(!u)return!1;if(!o.active)return!0;e=u[`offset${capitalize(s)}`],t=u[`client${capitalize(i)}`];const c=window.getComputedStyle(u);return"width"===i&&(n.tabs.length>1&&(t-=Number.parseFloat(c.paddingLeft)+Number.parseFloat(c.paddingRight)),e+=Number.parseFloat(c.paddingLeft)),!1})),{[i]:`${t}px`,transform:`translate${capitalize(a)}(${e}px)`}})();return watch((()=>n.tabs),(async()=>{await nextTick(),l()}),{immediate:!0}),useResizeObserver(a,(()=>l())),t({ref:a,update:l}),(e,t)=>(openBlock(),createElementBlock("div",{ref_key:"barRef",ref:a,class:normalizeClass([unref(i).e("active-bar"),unref(i).is(unref(o).props.tabPosition)]),style:normalizeStyle(s.value)},null,6))}});var TabBar=_export_sfc(_sfc_main$1C,[["__file","tab-bar.vue"]]);const tabNavProps=buildProps({panes:{type:definePropType(Array),default:()=>mutable([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),tabNavEmits={tabClick:(e,t,n)=>n instanceof Event,tabRemove:(e,t)=>t instanceof Event},COMPONENT_NAME$2="ElTabNav",TabNav=defineComponent({name:COMPONENT_NAME$2,props:tabNavProps,emits:tabNavEmits,setup(e,{expose:t,emit:n}){const r=getCurrentInstance(),o=inject(tabsRootContextKey);o||throwError(COMPONENT_NAME$2,"<el-tabs><tab-nav /></el-tabs>");const i=useNamespace("tabs"),a=useDocumentVisibility(),s=useWindowFocus(),l=ref(),u=ref(),c=ref(),d=ref(),h=ref(!1),p=ref(0),f=ref(!1),m=ref(!0),_=computed((()=>["top","bottom"].includes(o.props.tabPosition)?"width":"height")),g=computed((()=>({transform:`translate${"width"===_.value?"X":"Y"}(-${p.value}px)`}))),v=()=>{if(!l.value)return;const e=l.value[`offset${capitalize(_.value)}`],t=p.value;if(!t)return;const n=t>e?t-e:0;p.value=n},y=()=>{if(!l.value||!u.value)return;const e=u.value[`offset${capitalize(_.value)}`],t=l.value[`offset${capitalize(_.value)}`],n=p.value;if(e-n<=t)return;const r=e-n>2*t?n+t:e-t;p.value=r},b=async()=>{const e=u.value;if(!(h.value&&c.value&&l.value&&e))return;await nextTick();const t=c.value.querySelector(".is-active");if(!t)return;const n=l.value,r=["top","bottom"].includes(o.props.tabPosition),i=t.getBoundingClientRect(),a=n.getBoundingClientRect(),s=r?e.offsetWidth-a.width:e.offsetHeight-a.height,d=p.value;let f=d;r?(i.left<a.left&&(f=d-(a.left-i.left)),i.right>a.right&&(f=d+i.right-a.right)):(i.top<a.top&&(f=d-(a.top-i.top)),i.bottom>a.bottom&&(f=d+(i.bottom-a.bottom))),f=Math.max(f,0),p.value=Math.min(f,s)},E=()=>{var t;if(!u.value||!l.value)return;e.stretch&&(null==(t=d.value)||t.update());const n=u.value[`offset${capitalize(_.value)}`],r=l.value[`offset${capitalize(_.value)}`],o=p.value;r<n?(h.value=h.value||{},h.value.prev=o,h.value.next=o+r<n,n-o<r&&(p.value=n-r)):(h.value=!1,o>0&&(p.value=0))},C=e=>{const t=e.code,{up:n,down:r,left:o,right:i}=EVENT_CODE;if(![n,r,o,i].includes(t))return;const a=Array.from(e.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),s=a.indexOf(e.target);let l;l=t===o||t===n?0===s?a.length-1:s-1:s<a.length-1?s+1:0,a[l].focus({preventScroll:!0}),a[l].click(),x()},x=()=>{m.value&&(f.value=!0)},w=()=>f.value=!1;return watch(a,(e=>{"hidden"===e?m.value=!1:"visible"===e&&setTimeout((()=>m.value=!0),50)})),watch(s,(e=>{e?setTimeout((()=>m.value=!0),50):m.value=!1})),useResizeObserver(c,E),onMounted((()=>setTimeout((()=>b()),0))),onUpdated((()=>E())),t({scrollToActiveTab:b,removeFocus:w}),watch((()=>e.panes),(()=>r.update()),{flush:"post",deep:!0}),()=>{const t=h.value?[createVNode("span",{class:[i.e("nav-prev"),i.is("disabled",!h.value.prev)],onClick:v},[createVNode(ElIcon,null,{default:()=>[createVNode(arrow_left_default,null,null)]})]),createVNode("span",{class:[i.e("nav-next"),i.is("disabled",!h.value.next)],onClick:y},[createVNode(ElIcon,null,{default:()=>[createVNode(arrow_right_default,null,null)]})])]:null,r=e.panes.map(((t,r)=>{var a,s,l,u;const c=t.uid,d=t.props.disabled,h=null!=(s=null!=(a=t.props.name)?a:t.index)?s:`${r}`,p=!d&&(t.isClosable||e.editable);t.index=`${r}`;const m=p?createVNode(ElIcon,{class:"is-icon-close",onClick:e=>n("tabRemove",t,e)},{default:()=>[createVNode(close_default,null,null)]}):null,_=(null==(u=(l=t.slots).label)?void 0:u.call(l))||t.props.label,g=!d&&t.active?0:-1;return createVNode("div",{ref:`tab-${c}`,class:[i.e("item"),i.is(o.props.tabPosition),i.is("active",t.active),i.is("disabled",d),i.is("closable",p),i.is("focus",f.value)],id:`tab-${h}`,key:`tab-${c}`,"aria-controls":`pane-${h}`,role:"tab","aria-selected":t.active,tabindex:g,onFocus:()=>x(),onBlur:()=>w(),onClick:e=>{w(),n("tabClick",t,h,e)},onKeydown:e=>{!p||e.code!==EVENT_CODE.delete&&e.code!==EVENT_CODE.backspace||n("tabRemove",t,e)}},[_,m])}));return createVNode("div",{ref:c,class:[i.e("nav-wrap"),i.is("scrollable",!!h.value),i.is(o.props.tabPosition)]},[t,createVNode("div",{class:i.e("nav-scroll"),ref:l},[createVNode("div",{class:[i.e("nav"),i.is(o.props.tabPosition),i.is("stretch",e.stretch&&["top","bottom"].includes(o.props.tabPosition))],ref:u,style:g.value,role:"tablist",onKeydown:C},[e.type?null:createVNode(TabBar,{ref:d,tabs:[...e.panes]},null),r])])])}}}),tabsProps=buildProps({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:definePropType(Function),default:()=>!0},stretch:Boolean}),isPaneName=e=>isString$1(e)||isNumber(e),tabsEmits={[UPDATE_MODEL_EVENT]:e=>isPaneName(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>isPaneName(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>isPaneName(e),tabAdd:()=>!0},Tabs=defineComponent({name:"ElTabs",props:tabsProps,emits:tabsEmits,setup(t,{emit:n,slots:r,expose:o}){var i,a;const s=useNamespace("tabs"),{children:l,addChild:u,removeChild:c}=useOrderedChildren(getCurrentInstance(),"ElTabPane"),d=ref(),h=ref(null!=(a=null!=(i=t.modelValue)?i:t.activeName)?a:"0"),p=async(r,o=!1)=>{var i,a,s;if(h.value!==r&&!isUndefined(r))try{!1!==await(null==(i=t.beforeLeave)?void 0:i.call(t,r,h.value))&&(h.value=r,o&&(n(UPDATE_MODEL_EVENT,r),n("tabChange",r)),null==(s=null==(a=d.value)?void 0:a.removeFocus)||s.call(a))}catch(e){}},f=(e,t,r)=>{e.props.disabled||(p(t,!0),n("tabClick",e,r))},m=(e,t)=>{e.props.disabled||isUndefined(e.props.name)||(t.stopPropagation(),n("edit",e.props.name,"remove"),n("tabRemove",e.props.name))},_=()=>{n("edit",void 0,"add"),n("tabAdd")};return useDeprecated({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},computed((()=>!!t.activeName))),watch((()=>t.activeName),(e=>p(e))),watch((()=>t.modelValue),(e=>p(e))),watch(h,(async()=>{var e;await nextTick(),null==(e=d.value)||e.scrollToActiveTab()})),provide(tabsRootContextKey,{props:t,currentName:h,registerPane:u,unregisterPane:c}),o({currentName:h}),()=>{const e=r.addIcon,n=t.editable||t.addable?createVNode("span",{class:s.e("new-tab"),tabindex:"0",onClick:_,onKeydown:e=>{e.code===EVENT_CODE.enter&&_()}},[e?renderSlot(r,"addIcon"):createVNode(ElIcon,{class:s.is("icon-plus")},{default:()=>[createVNode(plus_default,null,null)]})]):null,o=createVNode("div",{class:[s.e("header"),s.is(t.tabPosition)]},[n,createVNode(TabNav,{ref:d,currentName:h.value,editable:t.editable,type:t.type,panes:l.value,stretch:t.stretch,onTabClick:f,onTabRemove:m},null)]),i=createVNode("div",{class:s.e("content")},[renderSlot(r,"default")]);return createVNode("div",{class:[s.b(),s.m(t.tabPosition),{[s.m("card")]:"card"===t.type,[s.m("border-card")]:"border-card"===t.type}]},[..."bottom"!==t.tabPosition?[o,i]:[i,o]])}}}),tabPaneProps=buildProps({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),_hoisted_1$18=["id","aria-hidden","aria-labelledby"],COMPONENT_NAME$1="ElTabPane",__default__$k=defineComponent({name:COMPONENT_NAME$1}),_sfc_main$1B=defineComponent({...__default__$k,props:tabPaneProps,setup(e){const t=e,n=getCurrentInstance(),r=useSlots(),o=inject(tabsRootContextKey);o||throwError(COMPONENT_NAME$1,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const i=useNamespace("tab-pane"),a=ref(),s=computed((()=>t.closable||o.props.closable)),l=computedEager((()=>{var e;return o.currentName.value===(null!=(e=t.name)?e:a.value)})),u=ref(l.value),c=computed((()=>{var e;return null!=(e=t.name)?e:a.value})),d=computedEager((()=>!t.lazy||u.value||l.value));watch(l,(e=>{e&&(u.value=!0)}));const h=reactive({uid:n.uid,slots:r,props:t,paneName:c,active:l,index:a,isClosable:s});return onMounted((()=>{o.registerPane(h)})),onUnmounted((()=>{o.unregisterPane(h.uid)})),(e,t)=>unref(d)?withDirectives((openBlock(),createElementBlock("div",{key:0,id:`pane-${unref(c)}`,class:normalizeClass(unref(i).b()),role:"tabpanel","aria-hidden":!unref(l),"aria-labelledby":`tab-${unref(c)}`},[renderSlot(e.$slots,"default")],10,_hoisted_1$18)),[[vShow,unref(l)]]):createCommentVNode("v-if",!0)}});var TabPane=_export_sfc(_sfc_main$1B,[["__file","tab-pane.vue"]]);const ElTabs=withInstall(Tabs,{TabPane:TabPane}),ElTabPane=withNoopInstall(TabPane),textProps=buildProps({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:componentSizes,default:""},truncated:{type:Boolean},lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),__default__$j=defineComponent({name:"ElText"}),_sfc_main$1A=defineComponent({...__default__$j,props:textProps,setup(e){const t=e,n=useFormSize(),r=useNamespace("text"),o=computed((()=>[r.b(),r.m(t.type),r.m(n.value),r.is("truncated",t.truncated),r.is("line-clamp",!isUndefined(t.lineClamp))]));return(e,t)=>(openBlock(),createBlock(resolveDynamicComponent(e.tag),{class:normalizeClass(unref(o)),style:normalizeStyle({"-webkit-line-clamp":e.lineClamp})},{default:withCtx((()=>[renderSlot(e.$slots,"default")])),_:3},8,["class","style"]))}});var Text=_export_sfc(_sfc_main$1A,[["__file","text.vue"]]);const ElText=withInstall(Text),timeSelectProps=buildProps({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:useSizeProp,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:definePropType([String,Object]),default:()=>clock_default},clearIcon:{type:definePropType([String,Object]),default:()=>circle_close_default}}),parseTime=e=>{const t=(e||"").split(":");if(t.length>=2){let n=Number.parseInt(t[0],10);const r=Number.parseInt(t[1],10),o=e.toUpperCase();return o.includes("AM")&&12===n?n=0:o.includes("PM")&&12!==n&&(n+=12),{hours:n,minutes:r}}return null},compareTime=(e,t)=>{const n=parseTime(e);if(!n)return-1;const r=parseTime(t);if(!r)return-1;const o=n.minutes+60*n.hours,i=r.minutes+60*r.hours;return o===i?0:o>i?1:-1},padTime=e=>`${e}`.padStart(2,"0"),formatTime=e=>`${padTime(e.hours)}:${padTime(e.minutes)}`,nextTime=(e,t)=>{const n=parseTime(e);if(!n)return"";const r=parseTime(t);if(!r)return"";const o={hours:n.hours,minutes:n.minutes};return o.minutes+=r.minutes,o.hours+=r.hours,o.hours+=Math.floor(o.minutes/60),o.minutes=o.minutes%60,formatTime(o)},__default__$i=defineComponent({name:"ElTimeSelect"}),_sfc_main$1z=defineComponent({...__default__$i,props:timeSelectProps,emits:["change","blur","focus","update:modelValue"],setup(e,{expose:t}){const n=e;dayjs.extend(customParseFormat);const{Option:r}=ElSelect,o=useNamespace("input"),i=ref(),a=useFormDisabled(),{lang:s}=useLocale(),l=computed((()=>n.modelValue)),u=computed((()=>{const e=parseTime(n.start);return e?formatTime(e):null})),c=computed((()=>{const e=parseTime(n.end);return e?formatTime(e):null})),d=computed((()=>{const e=parseTime(n.step);return e?formatTime(e):null})),h=computed((()=>{const e=parseTime(n.minTime||"");return e?formatTime(e):null})),p=computed((()=>{const e=parseTime(n.maxTime||"");return e?formatTime(e):null})),f=computed((()=>{const e=[];if(n.start&&n.end&&n.step){let t,r=u.value;for(;r&&c.value&&compareTime(r,c.value)<=0;)t=dayjs(r,"HH:mm").locale(s.value).format(n.format),e.push({value:t,disabled:compareTime(r,h.value||"-1:-1")<=0||compareTime(r,p.value||"100:100")>=0}),r=nextTime(r,d.value)}return e}));return t({blur:()=>{var e,t;null==(t=null==(e=i.value)?void 0:e.blur)||t.call(e)},focus:()=>{var e,t;null==(t=null==(e=i.value)?void 0:e.focus)||t.call(e)}}),(e,t)=>(openBlock(),createBlock(unref(ElSelect),{ref_key:"select",ref:i,"model-value":unref(l),disabled:unref(a),clearable:e.clearable,"clear-icon":e.clearIcon,size:e.size,effect:e.effect,placeholder:e.placeholder,"default-first-option":"",filterable:e.editable,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t)),onChange:t[1]||(t[1]=t=>e.$emit("change",t)),onBlur:t[2]||(t[2]=t=>e.$emit("blur",t)),onFocus:t[3]||(t[3]=t=>e.$emit("focus",t))},{prefix:withCtx((()=>[e.prefixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(o).e("prefix-icon"))},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.prefixIcon)))])),_:1},8,["class"])):createCommentVNode("v-if",!0)])),default:withCtx((()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(f),(e=>(openBlock(),createBlock(unref(r),{key:e.value,label:e.value,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"])))),128))])),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable"]))}});var TimeSelect=_export_sfc(_sfc_main$1z,[["__file","time-select.vue"]]);TimeSelect.install=e=>{e.component(TimeSelect.name,TimeSelect)};const _TimeSelect=TimeSelect,ElTimeSelect=_TimeSelect,Timeline=defineComponent({name:"ElTimeline",setup(e,{slots:t}){const n=useNamespace("timeline");return provide("timeline",t),()=>h$1("ul",{class:[n.b()]},[renderSlot(t,"default")])}}),timelineItemProps=buildProps({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:iconPropType},hollow:{type:Boolean,default:!1}}),__default__$h=defineComponent({name:"ElTimelineItem"}),_sfc_main$1y=defineComponent({...__default__$h,props:timelineItemProps,setup(e){const t=e,n=useNamespace("timeline-item"),r=computed((()=>[n.e("node"),n.em("node",t.size||""),n.em("node",t.type||""),n.is("hollow",t.hollow)]));return(e,t)=>(openBlock(),createElementBlock("li",{class:normalizeClass([unref(n).b(),{[unref(n).e("center")]:e.center}])},[createBaseVNode("div",{class:normalizeClass(unref(n).e("tail"))},null,2),e.$slots.dot?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r)),style:normalizeStyle({backgroundColor:e.color})},[e.icon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(n).e("icon"))},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.icon)))])),_:1},8,["class"])):createCommentVNode("v-if",!0)],6)),e.$slots.dot?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(n).e("dot"))},[renderSlot(e.$slots,"dot")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(n).e("wrapper"))},[e.hideTimestamp||"top"!==e.placement?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(n).e("timestamp"),unref(n).is("top")])},toDisplayString(e.timestamp),3)),createBaseVNode("div",{class:normalizeClass(unref(n).e("content"))},[renderSlot(e.$slots,"default")],2),e.hideTimestamp||"bottom"!==e.placement?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([unref(n).e("timestamp"),unref(n).is("bottom")])},toDisplayString(e.timestamp),3))],2)],2))}});var TimelineItem=_export_sfc(_sfc_main$1y,[["__file","timeline-item.vue"]]);const ElTimeline=withInstall(Timeline,{TimelineItem:TimelineItem}),ElTimelineItem=withNoopInstall(TimelineItem),tooltipV2CommonProps=buildProps({nowrap:Boolean});var TooltipV2Sides=(e=>(e.top="top",e.bottom="bottom",e.left="left",e.right="right",e))(TooltipV2Sides||{});const tooltipV2Sides=Object.values(TooltipV2Sides),tooltipV2ArrowProps=buildProps({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:definePropType(Object),default:null}}),tooltipV2ArrowSpecialProps=buildProps({side:{type:definePropType(String),values:tooltipV2Sides,required:!0}}),tooltipV2Strategies=["absolute","fixed"],tooltipV2Placements=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],tooltipV2ContentProps=buildProps({ariaLabel:String,arrowPadding:{type:definePropType(Number),default:5},effect:{type:String,default:""},contentClass:String,placement:{type:definePropType(String),values:tooltipV2Placements,default:"bottom"},reference:{type:definePropType(Object),default:null},offset:{type:Number,default:8},strategy:{type:definePropType(String),values:tooltipV2Strategies,default:"absolute"},showArrow:{type:Boolean,default:!1}}),tooltipV2RootProps=buildProps({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:definePropType(Function)},"onUpdate:open":{type:definePropType(Function)}}),EventHandler={type:definePropType(Function)},tooltipV2TriggerProps=buildProps({onBlur:EventHandler,onClick:EventHandler,onFocus:EventHandler,onMouseDown:EventHandler,onMouseEnter:EventHandler,onMouseLeave:EventHandler}),tooltipV2Props=buildProps({...tooltipV2RootProps,...tooltipV2ArrowProps,...tooltipV2TriggerProps,...tooltipV2ContentProps,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:definePropType(Object),default:null},teleported:Boolean,to:{type:definePropType(String),default:"body"}}),tooltipV2RootKey=Symbol("tooltipV2"),tooltipV2ContentKey=Symbol("tooltipV2Content"),TOOLTIP_V2_OPEN="tooltip_v2.open",__default__$g=defineComponent({name:"ElTooltipV2Root"}),_sfc_main$1x=defineComponent({...__default__$g,props:tooltipV2RootProps,setup(e,{expose:t}){const n=e,r=ref(n.defaultOpen),o=ref(null),i=computed({get:()=>isPropAbsent(n.open)?r.value:n.open,set:e=>{var t;r.value=e,null==(t=n["onUpdate:open"])||t.call(n,e)}}),a=computed((()=>isNumber(n.delayDuration)&&n.delayDuration>0)),{start:s,stop:l}=useTimeoutFn((()=>{i.value=!0}),computed((()=>n.delayDuration)),{immediate:!1}),u=useNamespace("tooltip-v2"),c=useId(),d=()=>{l(),i.value=!0},h=d,p=()=>{l(),i.value=!1};return watch(i,(e=>{var t;e&&(document.dispatchEvent(new CustomEvent(TOOLTIP_V2_OPEN)),h()),null==(t=n.onOpenChange)||t.call(n,e)})),onMounted((()=>{document.addEventListener(TOOLTIP_V2_OPEN,p)})),onBeforeUnmount((()=>{l(),document.removeEventListener(TOOLTIP_V2_OPEN,p)})),provide(tooltipV2RootKey,{contentId:c,triggerRef:o,ns:u,onClose:p,onDelayOpen:()=>{unref(a)?s():d()},onOpen:h}),t({onOpen:h,onClose:p}),(e,t)=>renderSlot(e.$slots,"default",{open:unref(i)})}});var TooltipV2Root=_export_sfc(_sfc_main$1x,[["__file","root.vue"]]);const __default__$f=defineComponent({name:"ElTooltipV2Arrow"}),_sfc_main$1w=defineComponent({...__default__$f,props:{...tooltipV2ArrowProps,...tooltipV2ArrowSpecialProps},setup(e){const t=e,{ns:n}=inject(tooltipV2RootKey),{arrowRef:r}=inject(tooltipV2ContentKey),o=computed((()=>{const{style:e,width:r,height:o}=t,i=n.namespace.value;return{[`--${i}-tooltip-v2-arrow-width`]:`${r}px`,[`--${i}-tooltip-v2-arrow-height`]:`${o}px`,[`--${i}-tooltip-v2-arrow-border-width`]:r/2+"px",[`--${i}-tooltip-v2-arrow-cover-width`]:r/2-1,...e||{}}}));return(e,t)=>(openBlock(),createElementBlock("span",{ref_key:"arrowRef",ref:r,style:normalizeStyle(unref(o)),class:normalizeClass(unref(n).e("arrow"))},null,6))}});var TooltipV2Arrow=_export_sfc(_sfc_main$1w,[["__file","arrow.vue"]]);const visualHiddenProps=buildProps({style:{type:definePropType([String,Object,Array]),default:()=>({})}}),__default__$e=defineComponent({name:"ElVisuallyHidden"}),_sfc_main$1v=defineComponent({...__default__$e,props:visualHiddenProps,setup(e){const t=e,n=computed((()=>[t.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]));return(e,t)=>(openBlock(),createElementBlock("span",mergeProps(e.$attrs,{style:unref(n)}),[renderSlot(e.$slots,"default")],16))}});var ElVisuallyHidden=_export_sfc(_sfc_main$1v,[["__file","visual-hidden.vue"]]);const _hoisted_1$17=["data-side"],__default__$d=defineComponent({name:"ElTooltipV2Content"}),_sfc_main$1u=defineComponent({...__default__$d,props:{...tooltipV2ContentProps,...tooltipV2CommonProps},setup(e){const t=e,{triggerRef:n,contentId:r}=inject(tooltipV2RootKey),o=ref(t.placement),i=ref(t.strategy),a=ref(null),{referenceRef:s,contentRef:l,middlewareData:u,x:c,y:d,update:h}=useFloating({placement:o,strategy:i,middleware:computed((()=>{const e=[offset(t.offset)];return t.showArrow&&e.push(arrowMiddleware({arrowRef:a})),e}))}),p=useZIndex().nextZIndex(),f=useNamespace("tooltip-v2"),m=computed((()=>o.value.split("-")[0])),_=computed((()=>({position:unref(i),top:`${unref(d)||0}px`,left:`${unref(c)||0}px`,zIndex:p}))),g=computed((()=>{if(!t.showArrow)return{};const{arrow:e}=unref(u);return{[`--${f.namespace.value}-tooltip-v2-arrow-x`]:`${null==e?void 0:e.x}px`||"",[`--${f.namespace.value}-tooltip-v2-arrow-y`]:`${null==e?void 0:e.y}px`||""}})),v=computed((()=>[f.e("content"),f.is("dark","dark"===t.effect),f.is(unref(i)),t.contentClass]));return watch(a,(()=>h())),watch((()=>t.placement),(e=>o.value=e)),onMounted((()=>{watch((()=>t.reference||n.value),(e=>{s.value=e||void 0}),{immediate:!0})})),provide(tooltipV2ContentKey,{arrowRef:a}),(e,t)=>(openBlock(),createElementBlock("div",{ref_key:"contentRef",ref:l,style:normalizeStyle(unref(_)),"data-tooltip-v2-root":""},[e.nowrap?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:0,"data-side":unref(m),class:normalizeClass(unref(v))},[renderSlot(e.$slots,"default",{contentStyle:unref(_),contentClass:unref(v)}),createVNode(unref(ElVisuallyHidden),{id:unref(r),role:"tooltip"},{default:withCtx((()=>[e.ariaLabel?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(e.ariaLabel),1)],64)):renderSlot(e.$slots,"default",{key:1})])),_:3},8,["id"]),renderSlot(e.$slots,"arrow",{style:normalizeStyle(unref(g)),side:unref(m)})],10,_hoisted_1$17))],4))}});var TooltipV2Content=_export_sfc(_sfc_main$1u,[["__file","content.vue"]]);const forwardRefProps=buildProps({setRef:{type:definePropType(Function),required:!0},onlyChild:Boolean});var ForwardRef=defineComponent({props:forwardRefProps,setup(e,{slots:t}){const n=ref(),r=composeRefs(n,(t=>{t?e.setRef(t.nextElementSibling):e.setRef(null)}));return()=>{var n;const[o]=(null==(n=t.default)?void 0:n.call(t))||[],i=e.onlyChild?ensureOnlyChild(o.children):o.children;return createVNode(Fragment,{ref:r},[i])}}});const __default__$c=defineComponent({name:"ElTooltipV2Trigger"}),_sfc_main$1t=defineComponent({...__default__$c,props:{...tooltipV2CommonProps,...tooltipV2TriggerProps},setup(e){const t=e,{onClose:n,onOpen:r,onDelayOpen:o,triggerRef:i,contentId:a}=inject(tooltipV2RootKey);let s=!1;const l=e=>{i.value=e},u=()=>{s=!1},c=composeEventHandlers(t.onMouseEnter,o),d=composeEventHandlers(t.onMouseLeave,n),h=composeEventHandlers(t.onMouseDown,(()=>{n(),s=!0,document.addEventListener("mouseup",u,{once:!0})})),p=composeEventHandlers(t.onFocus,(()=>{s||r()})),f=composeEventHandlers(t.onBlur,n),m=composeEventHandlers(t.onClick,(e=>{0===e.detail&&n()})),_={blur:f,click:m,focus:p,mousedown:h,mouseenter:c,mouseleave:d},g=(e,t,n)=>{e&&Object.entries(t).forEach((([t,r])=>{e[n](t,r)}))};return watch(i,((e,t)=>{g(e,_,"addEventListener"),g(t,_,"removeEventListener"),e&&e.setAttribute("aria-describedby",a.value)})),onBeforeUnmount((()=>{g(i.value,_,"removeEventListener"),document.removeEventListener("mouseup",u)})),(e,t)=>e.nowrap?(openBlock(),createBlock(unref(ForwardRef),{key:0,"set-ref":l,"only-child":""},{default:withCtx((()=>[renderSlot(e.$slots,"default")])),_:3})):(openBlock(),createElementBlock("button",mergeProps({key:1,ref_key:"triggerRef",ref:i},e.$attrs),[renderSlot(e.$slots,"default")],16))}});var TooltipV2Trigger=_export_sfc(_sfc_main$1t,[["__file","trigger.vue"]]);const __default__$b=defineComponent({name:"ElTooltipV2"}),_sfc_main$1s=defineComponent({...__default__$b,props:tooltipV2Props,setup(e){const t=toRefs(e),n=reactive(pick(t,Object.keys(tooltipV2ArrowProps))),r=reactive(pick(t,Object.keys(tooltipV2ContentProps))),o=reactive(pick(t,Object.keys(tooltipV2RootProps))),i=reactive(pick(t,Object.keys(tooltipV2TriggerProps)));return(e,t)=>(openBlock(),createBlock(TooltipV2Root,normalizeProps(guardReactiveProps(o)),{default:withCtx((({open:t})=>[createVNode(TooltipV2Trigger,mergeProps(i,{nowrap:""}),{default:withCtx((()=>[renderSlot(e.$slots,"trigger")])),_:3},16),(openBlock(),createBlock(Teleport,{to:e.to,disabled:!e.teleported},[e.fullTransition?(openBlock(),createBlock(Transition,normalizeProps(mergeProps({key:0},e.transitionProps)),{default:withCtx((()=>[e.alwaysOn||t?(openBlock(),createBlock(TooltipV2Content,normalizeProps(mergeProps({key:0},r)),{arrow:withCtx((({style:t,side:r})=>[e.showArrow?(openBlock(),createBlock(TooltipV2Arrow,mergeProps({key:0},n,{style:t,side:r}),null,16,["style","side"])):createCommentVNode("v-if",!0)])),default:withCtx((()=>[renderSlot(e.$slots,"default")])),_:3},16)):createCommentVNode("v-if",!0)])),_:2},1040)):(openBlock(),createElementBlock(Fragment,{key:1},[e.alwaysOn||t?(openBlock(),createBlock(TooltipV2Content,normalizeProps(mergeProps({key:0},r)),{arrow:withCtx((({style:t,side:r})=>[e.showArrow?(openBlock(),createBlock(TooltipV2Arrow,mergeProps({key:0},n,{style:t,side:r}),null,16,["style","side"])):createCommentVNode("v-if",!0)])),default:withCtx((()=>[renderSlot(e.$slots,"default")])),_:3},16)):createCommentVNode("v-if",!0)],64))],8,["to","disabled"]))])),_:3},16))}});var TooltipV2=_export_sfc(_sfc_main$1s,[["__file","tooltip.vue"]]);const ElTooltipV2=withInstall(TooltipV2),LEFT_CHECK_CHANGE_EVENT="left-check-change",RIGHT_CHECK_CHANGE_EVENT="right-check-change",transferProps=buildProps({data:{type:definePropType(Array),default:()=>[]},titles:{type:definePropType(Array),default:()=>[]},buttonTexts:{type:definePropType(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:definePropType(Function)},leftDefaultChecked:{type:definePropType(Array),default:()=>[]},rightDefaultChecked:{type:definePropType(Array),default:()=>[]},renderContent:{type:definePropType(Function)},modelValue:{type:definePropType(Array),default:()=>[]},format:{type:definePropType(Object),default:()=>({})},filterable:Boolean,props:{type:definePropType(Object),default:()=>mutable({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),transferCheckedChangeFn=(e,t)=>[e,t].every(isArray$1)||isArray$1(e)&&isNil(t),transferEmits={[CHANGE_EVENT]:(e,t,n)=>[e,n].every(isArray$1)&&["left","right"].includes(t),[UPDATE_MODEL_EVENT]:e=>isArray$1(e),[LEFT_CHECK_CHANGE_EVENT]:transferCheckedChangeFn,[RIGHT_CHECK_CHANGE_EVENT]:transferCheckedChangeFn},CHECKED_CHANGE_EVENT="checked-change",transferPanelProps=buildProps({data:transferProps.data,optionRender:{type:definePropType(Function)},placeholder:String,title:String,filterable:Boolean,format:transferProps.format,filterMethod:transferProps.filterMethod,defaultChecked:transferProps.leftDefaultChecked,props:transferProps.props}),transferPanelEmits={[CHECKED_CHANGE_EVENT]:transferCheckedChangeFn},usePropsAlias=e=>{const t={label:"label",key:"key",disabled:"disabled"};return computed((()=>({...t,...e.props})))},useCheck$1=(e,t,n)=>{const r=usePropsAlias(e),o=computed((()=>e.data.filter((n=>{if(isFunction$2(e.filterMethod))return e.filterMethod(t.query,n);return String(n[r.value.label]||n[r.value.key]).toLowerCase().includes(t.query.toLowerCase())})))),i=computed((()=>o.value.filter((e=>!e[r.value.disabled])))),a=computed((()=>{const n=t.checked.length,r=e.data.length,{noChecked:o,hasChecked:i}=e.format;return o&&i?n>0?i.replace(/\${checked}/g,n.toString()).replace(/\${total}/g,r.toString()):o.replace(/\${total}/g,r.toString()):`${n}/${r}`})),s=computed((()=>{const e=t.checked.length;return e>0&&e<i.value.length})),l=()=>{const e=i.value.map((e=>e[r.value.key]));t.allChecked=e.length>0&&e.every((e=>t.checked.includes(e)))};return watch((()=>t.checked),((e,r)=>{if(l(),t.checkChangeByUser){const t=e.concat(r).filter((t=>!e.includes(t)||!r.includes(t)));n(CHECKED_CHANGE_EVENT,e,t)}else n(CHECKED_CHANGE_EVENT,e),t.checkChangeByUser=!0})),watch(i,(()=>{l()})),watch((()=>e.data),(()=>{const e=[],n=o.value.map((e=>e[r.value.key]));t.checked.forEach((t=>{n.includes(t)&&e.push(t)})),t.checkChangeByUser=!1,t.checked=e})),watch((()=>e.defaultChecked),((e,n)=>{if(n&&e.length===n.length&&e.every((e=>n.includes(e))))return;const o=[],a=i.value.map((e=>e[r.value.key]));e.forEach((e=>{a.includes(e)&&o.push(e)})),t.checkChangeByUser=!1,t.checked=o}),{immediate:!0}),{filteredData:o,checkableData:i,checkedSummary:a,isIndeterminate:s,updateAllChecked:l,handleAllCheckedChange:e=>{t.checked=e?i.value.map((e=>e[r.value.key])):[]}}},useCheckedChange=(e,t)=>({onSourceCheckedChange:(n,r)=>{e.leftChecked=n,r&&t(LEFT_CHECK_CHANGE_EVENT,n,r)},onTargetCheckedChange:(n,r)=>{e.rightChecked=n,r&&t(RIGHT_CHECK_CHANGE_EVENT,n,r)}}),useComputedData=e=>{const t=usePropsAlias(e),n=computed((()=>e.data.reduce(((e,n)=>(e[n[t.value.key]]=n)&&e),{})));return{sourceData:computed((()=>e.data.filter((n=>!e.modelValue.includes(n[t.value.key]))))),targetData:computed((()=>"original"===e.targetOrder?e.data.filter((n=>e.modelValue.includes(n[t.value.key]))):e.modelValue.reduce(((e,t)=>{const r=n.value[t];return r&&e.push(r),e}),[])))}},useMove=(e,t,n)=>{const r=usePropsAlias(e),o=(e,t,r)=>{n(UPDATE_MODEL_EVENT,e),n(CHANGE_EVENT,e,t,r)};return{addToLeft:()=>{const n=e.modelValue.slice();t.rightChecked.forEach((e=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)})),o(n,"left",t.rightChecked)},addToRight:()=>{let n=e.modelValue.slice();const i=e.data.filter((n=>{const o=n[r.value.key];return t.leftChecked.includes(o)&&!e.modelValue.includes(o)})).map((e=>e[r.value.key]));n="unshift"===e.targetOrder?i.concat(n):n.concat(i),"original"===e.targetOrder&&(n=e.data.filter((e=>n.includes(e[r.value.key]))).map((e=>e[r.value.key]))),o(n,"right",t.leftChecked)}}},__default__$a=defineComponent({name:"ElTransferPanel"}),_sfc_main$1r=defineComponent({...__default__$a,props:transferPanelProps,emits:transferPanelEmits,setup(e,{expose:t,emit:n}){const r=e,o=useSlots(),i=({option:e})=>e,{t:a}=useLocale(),s=useNamespace("transfer"),l=reactive({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),u=usePropsAlias(r),{filteredData:c,checkedSummary:d,isIndeterminate:h,handleAllCheckedChange:p}=useCheck$1(r,l,n),f=computed((()=>!isEmpty(l.query)&&isEmpty(c.value))),m=computed((()=>!isEmpty(o.default()[0].children))),{checked:_,allChecked:g,query:v}=toRefs(l);return t({query:v}),(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(s).b("panel"))},[createBaseVNode("p",{class:normalizeClass(unref(s).be("panel","header"))},[createVNode(unref(ElCheckbox),{modelValue:unref(g),"onUpdate:modelValue":t[0]||(t[0]=e=>isRef(g)?g.value=e:null),indeterminate:unref(h),"validate-event":!1,onChange:unref(p)},{default:withCtx((()=>[createTextVNode(toDisplayString(e.title)+" ",1),createBaseVNode("span",null,toDisplayString(unref(d)),1)])),_:1},8,["modelValue","indeterminate","onChange"])],2),createBaseVNode("div",{class:normalizeClass([unref(s).be("panel","body"),unref(s).is("with-footer",unref(m))])},[e.filterable?(openBlock(),createBlock(unref(ElInput),{key:0,modelValue:unref(v),"onUpdate:modelValue":t[1]||(t[1]=e=>isRef(v)?v.value=e:null),class:normalizeClass(unref(s).be("panel","filter")),size:"default",placeholder:e.placeholder,"prefix-icon":unref(search_default),clearable:"","validate-event":!1},null,8,["modelValue","class","placeholder","prefix-icon"])):createCommentVNode("v-if",!0),withDirectives(createVNode(unref(ElCheckboxGroup$1),{modelValue:unref(_),"onUpdate:modelValue":t[2]||(t[2]=e=>isRef(_)?_.value=e:null),"validate-event":!1,class:normalizeClass([unref(s).is("filterable",e.filterable),unref(s).be("panel","list")])},{default:withCtx((()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(c),(t=>(openBlock(),createBlock(unref(ElCheckbox),{key:t[unref(u).key],class:normalizeClass(unref(s).be("panel","item")),label:t[unref(u).key],disabled:t[unref(u).disabled],"validate-event":!1},{default:withCtx((()=>{var n;return[createVNode(i,{option:null==(n=e.optionRender)?void 0:n.call(e,t)},null,8,["option"])]})),_:2},1032,["class","label","disabled"])))),128))])),_:1},8,["modelValue","class"]),[[vShow,!unref(f)&&!unref(isEmpty)(e.data)]]),withDirectives(createBaseVNode("p",{class:normalizeClass(unref(s).be("panel","empty"))},toDisplayString(unref(f)?unref(a)("el.transfer.noMatch"):unref(a)("el.transfer.noData")),3),[[vShow,unref(f)||unref(isEmpty)(e.data)]])],2),unref(m)?(openBlock(),createElementBlock("p",{key:0,class:normalizeClass(unref(s).be("panel","footer"))},[renderSlot(e.$slots,"default")],2)):createCommentVNode("v-if",!0)],2))}});var TransferPanel=_export_sfc(_sfc_main$1r,[["__file","transfer-panel.vue"]]);const _hoisted_1$16={key:0},_hoisted_2$L={key:0},__default__$9=defineComponent({name:"ElTransfer"}),_sfc_main$1q=defineComponent({...__default__$9,props:transferProps,emits:transferEmits,setup(e,{expose:t,emit:n}){const r=e,o=useSlots(),{t:i}=useLocale(),a=useNamespace("transfer"),{formItem:s}=useFormItem(),l=reactive({leftChecked:[],rightChecked:[]}),u=usePropsAlias(r),{sourceData:c,targetData:d}=useComputedData(r),{onSourceCheckedChange:h,onTargetCheckedChange:p}=useCheckedChange(l,n),{addToLeft:f,addToRight:m}=useMove(r,l,n),_=ref(),g=ref(),v=computed((()=>2===r.buttonTexts.length)),y=computed((()=>r.titles[0]||i("el.transfer.titles.0"))),b=computed((()=>r.titles[1]||i("el.transfer.titles.1"))),E=computed((()=>r.filterPlaceholder||i("el.transfer.filterPlaceholder")));watch((()=>r.modelValue),(()=>{var e;r.validateEvent&&(null==(e=null==s?void 0:s.validate)||e.call(s,"change").catch((e=>debugWarn())))}));const C=computed((()=>e=>r.renderContent?r.renderContent(h$1,e):o.default?o.default({option:e}):h$1("span",e[u.value.label]||e[u.value.key])));return t({clearQuery:e=>{switch(e){case"left":_.value.query="";break;case"right":g.value.query=""}},leftPanel:_,rightPanel:g}),(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(a).b())},[createVNode(TransferPanel,{ref_key:"leftPanel",ref:_,data:unref(c),"option-render":unref(C),placeholder:unref(E),title:unref(y),filterable:e.filterable,format:e.format,"filter-method":e.filterMethod,"default-checked":e.leftDefaultChecked,props:r.props,onCheckedChange:unref(h)},{default:withCtx((()=>[renderSlot(e.$slots,"left-footer")])),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),createBaseVNode("div",{class:normalizeClass(unref(a).e("buttons"))},[createVNode(unref(ElButton),{type:"primary",class:normalizeClass([unref(a).e("button"),unref(a).is("with-texts",unref(v))]),disabled:unref(isEmpty)(l.rightChecked),onClick:unref(f)},{default:withCtx((()=>[createVNode(unref(ElIcon),null,{default:withCtx((()=>[createVNode(unref(arrow_left_default))])),_:1}),unref(isUndefined)(e.buttonTexts[0])?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",_hoisted_1$16,toDisplayString(e.buttonTexts[0]),1))])),_:1},8,["class","disabled","onClick"]),createVNode(unref(ElButton),{type:"primary",class:normalizeClass([unref(a).e("button"),unref(a).is("with-texts",unref(v))]),disabled:unref(isEmpty)(l.leftChecked),onClick:unref(m)},{default:withCtx((()=>[unref(isUndefined)(e.buttonTexts[1])?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",_hoisted_2$L,toDisplayString(e.buttonTexts[1]),1)),createVNode(unref(ElIcon),null,{default:withCtx((()=>[createVNode(unref(arrow_right_default))])),_:1})])),_:1},8,["class","disabled","onClick"])],2),createVNode(TransferPanel,{ref_key:"rightPanel",ref:g,data:unref(d),"option-render":unref(C),placeholder:unref(E),filterable:e.filterable,format:e.format,"filter-method":e.filterMethod,title:unref(b),"default-checked":e.rightDefaultChecked,props:r.props,onCheckedChange:unref(p)},{default:withCtx((()=>[renderSlot(e.$slots,"right-footer")])),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var Transfer=_export_sfc(_sfc_main$1q,[["__file","transfer.vue"]]);const ElTransfer=withInstall(Transfer),NODE_KEY="$treeNodeId",markNodeData=function(e,t){t&&!t[NODE_KEY]&&Object.defineProperty(t,NODE_KEY,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},getNodeKey=function(e,t){return e?t[e]:t[NODE_KEY]},handleCurrentChange=(e,t,n)=>{const r=e.value.currentNode;n();const o=e.value.currentNode;r!==o&&t("current-change",o?o.data:null,o)},getChildState=e=>{let t=!0,n=!0,r=!0;for(let o=0,i=e.length;o<i;o++){const i=e[o];(!0!==i.checked||i.indeterminate)&&(t=!1,i.disabled||(r=!1)),(!1!==i.checked||i.indeterminate)&&(n=!1)}return{all:t,none:n,allWithoutDisable:r,half:!t&&!n}},reInitChecked=function(e){if(0===e.childNodes.length||e.loading)return;const{all:t,none:n,half:r}=getChildState(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):r?(e.checked=!1,e.indeterminate=!0):n&&(e.checked=!1,e.indeterminate=!1);const o=e.parent;o&&0!==o.level&&(e.store.checkStrictly||reInitChecked(o))},getPropertyFromData=function(e,t){const n=e.store.props,r=e.data||{},o=n[t];if("function"==typeof o)return o(r,e);if("string"==typeof o)return r[o];if(void 0===o){const e=r[t];return void 0===e?"":e}};let nodeIdSeed=0,Node$1=class e{constructor(e){this.id=nodeIdSeed++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const t in e)hasOwn(e,t)&&(this[t]=e[t]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const t=e.props;if(t&&void 0!==t.isLeaf){const e=getPropertyFromData(this,"isLeaf");"boolean"==typeof e&&(this.isLeafByUser=e)}if(!0!==e.lazy&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&this.expand(),Array.isArray(this.data)||markNodeData(this,this.data),!this.data)return;const n=e.defaultExpandedKeys,r=e.key;r&&n&&n.includes(this.key)&&this.expand(null,e.autoExpandParent),r&&void 0!==e.currentNodeKey&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),!this.parent||1!==this.level&&!0!==this.parent.expanded||(this.canFocus=!0)}setData(e){let t;Array.isArray(e)||markNodeData(this,e),this.data=e,this.childNodes=[],t=0===this.level&&Array.isArray(this.data)?this.data:getPropertyFromData(this,"children")||[];for(let n=0,r=t.length;n<r;n++)this.insertChild({data:t[n]})}get label(){return getPropertyFromData(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return getPropertyFromData(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return e.childNodes[t+1]}return null}get previousSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return t>0?e.childNodes[t-1]:null}return null}contains(e,t=!0){return(this.childNodes||[]).some((n=>n===e||t&&n.contains(e)))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(t,n,r){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof e)){if(!r){const e=this.getChildren(!0);e.includes(t.data)||(void 0===n||n<0?e.push(t.data):e.splice(n,0,t.data))}Object.assign(t,{parent:this,store:this.store}),(t=reactive(new e(t)))instanceof e&&t.initialize()}t.level=this.level+1,void 0===n||n<0?this.childNodes.push(t):this.childNodes.splice(n,0,t),this.updateLeafState()}insertBefore(e,t){let n;t&&(n=this.childNodes.indexOf(t)),this.insertChild(e,n)}insertAfter(e,t){let n;t&&(n=this.childNodes.indexOf(t),-1!==n&&(n+=1)),this.insertChild(e,n)}removeChild(e){const t=this.getChildren()||[],n=t.indexOf(e.data);n>-1&&t.splice(n,1);const r=this.childNodes.indexOf(e);r>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(r,1)),this.updateLeafState()}removeChildByData(e){let t=null;for(let n=0;n<this.childNodes.length;n++)if(this.childNodes[n].data===e){t=this.childNodes[n];break}t&&this.removeChild(t)}expand(e,t){const n=()=>{if(t){let e=this.parent;for(;e.level>0;)e.expanded=!0,e=e.parent}this.expanded=!0,e&&e(),this.childNodes.forEach((e=>{e.canFocus=!0}))};this.shouldLoadData()?this.loadData((e=>{Array.isArray(e)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||reInitChecked(this),n())})):n()}doCreateChildren(e,t={}){e.forEach((e=>{this.insertChild(Object.assign({data:e},t),void 0,!0)}))}collapse(){this.expanded=!1,this.childNodes.forEach((e=>{e.canFocus=!1}))}shouldLoadData(){return!0===this.store.lazy&&this.store.load&&!this.loaded}updateLeafState(){if(!0===this.store.lazy&&!0!==this.loaded&&void 0!==this.isLeafByUser)return void(this.isLeaf=this.isLeafByUser);const e=this.childNodes;!this.store.lazy||!0===this.store.lazy&&!0===this.loaded?this.isLeaf=!e||0===e.length:this.isLeaf=!1}setChecked(e,t,n,r){if(this.indeterminate="half"===e,this.checked=!0===e,this.store.checkStrictly)return;if(!this.shouldLoadData()||this.store.checkDescendants){const{all:n,allWithoutDisable:o}=getChildState(this.childNodes);this.isLeaf||n||!o||(this.checked=!1,e=!1);const i=()=>{if(t){const n=this.childNodes;for(let a=0,s=n.length;a<s;a++){const o=n[a];r=r||!1!==e;const i=o.disabled?o.checked:r;o.setChecked(i,t,!0,r)}const{half:o,all:i}=getChildState(n);i||(this.checked=i,this.indeterminate=o)}};if(this.shouldLoadData())return void this.loadData((()=>{i(),reInitChecked(this)}),{checked:!1!==e});i()}const o=this.parent;o&&0!==o.level&&(n||reInitChecked(o))}getChildren(e=!1){if(0===this.level)return this.data;const t=this.data;if(!t)return null;const n=this.store.props;let r="children";return n&&(r=n.children||"children"),void 0===t[r]&&(t[r]=null),e&&!t[r]&&(t[r]=[]),t[r]}updateChildren(){const e=this.getChildren()||[],t=this.childNodes.map((e=>e.data)),n={},r=[];e.forEach(((e,o)=>{const i=e[NODE_KEY];!!i&&t.findIndex((e=>e[NODE_KEY]===i))>=0?n[i]={index:o,data:e}:r.push({index:o,data:e})})),this.store.lazy||t.forEach((e=>{n[e[NODE_KEY]]||this.removeChildByData(e)})),r.forEach((({index:e,data:t})=>{this.insertChild({data:t},e)})),this.updateLeafState()}loadData(e,t={}){if(!0!==this.store.lazy||!this.store.load||this.loaded||this.loading&&!Object.keys(t).length)e&&e.call(this);else{this.loading=!0;const n=n=>{this.childNodes=[],this.doCreateChildren(n,t),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,n)};this.store.load(this,n)}}};class TreeStore{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const t in e)hasOwn(e,t)&&(this[t]=e[t]);this.nodesMap={}}initialize(){if(this.root=new Node$1({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){(0,this.load)(this.root,(e=>{this.root.doCreateChildren(e),this._initDefaultCheckedNodes()}))}else this._initDefaultCheckedNodes()}filter(e){const t=this.filterNodeMethod,n=this.lazy,r=function(o){const i=o.root?o.root.childNodes:o.childNodes;if(i.forEach((n=>{n.visible=t.call(n,e,n.data,n),r(n)})),!o.visible&&i.length){let e=!0;e=!i.some((e=>e.visible)),o.root?o.root.visible=!1===e:o.visible=!1===e}e&&(!o.visible||o.isLeaf||n||o.expand())};r(this)}setData(e){e!==this.root.data?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(e){if(e instanceof Node$1)return e;const t=isObject$2(e)?getNodeKey(this.key,e):e;return this.nodesMap[t]||null}insertBefore(e,t){const n=this.getNode(t);n.parent.insertBefore({data:e},n)}insertAfter(e,t){const n=this.getNode(t);n.parent.insertAfter({data:e},n)}remove(e){const t=this.getNode(e);t&&t.parent&&(t===this.currentNode&&(this.currentNode=null),t.parent.removeChild(t))}append(e,t){const n=t?this.getNode(t):this.root;n&&n.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],t=this.nodesMap;e.forEach((e=>{const n=t[e];n&&n.setChecked(!0,!this.checkStrictly)}))}_initDefaultCheckedNode(e){(this.defaultCheckedKeys||[]).includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const t=this.key;if(e&&e.data)if(t){void 0!==e.key&&(this.nodesMap[e.key]=e)}else this.nodesMap[e.id]=e}deregisterNode(e){this.key&&e&&e.data&&(e.childNodes.forEach((e=>{this.deregisterNode(e)})),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,t=!1){const n=[],r=function(o){(o.root?o.root.childNodes:o.childNodes).forEach((o=>{(o.checked||t&&o.indeterminate)&&(!e||e&&o.isLeaf)&&n.push(o.data),r(o)}))};return r(this),n}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map((e=>(e||{})[this.key]))}getHalfCheckedNodes(){const e=[],t=function(n){(n.root?n.root.childNodes:n.childNodes).forEach((n=>{n.indeterminate&&e.push(n.data),t(n)}))};return t(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map((e=>(e||{})[this.key]))}_getAllNodes(){const e=[],t=this.nodesMap;for(const n in t)hasOwn(t,n)&&e.push(t[n]);return e}updateChildren(e,t){const n=this.nodesMap[e];if(!n)return;const r=n.childNodes;for(let o=r.length-1;o>=0;o--){const e=r[o];this.remove(e.data)}for(let o=0,i=t.length;o<i;o++){const e=t[o];this.append(e,n.data)}}_setCheckedKeys(e,t=!1,n){const r=this._getAllNodes().sort(((e,t)=>t.level-e.level)),o=Object.create(null),i=Object.keys(n);r.forEach((e=>e.setChecked(!1,!1)));for(let a=0,s=r.length;a<s;a++){const n=r[a],s=n.data[e].toString();if(!i.includes(s)){n.checked&&!o[s]&&n.setChecked(!1,!1);continue}let l=n.parent;for(;l&&l.level>0;)o[l.data[e]]=!0,l=l.parent;if(n.isLeaf||this.checkStrictly)n.setChecked(!0,!1);else if(n.setChecked(!0,!0),t){n.setChecked(!1,!1);const e=function(t){t.childNodes.forEach((t=>{t.isLeaf||t.setChecked(!1,!1),e(t)}))};e(n)}}}setCheckedNodes(e,t=!1){const n=this.key,r={};e.forEach((e=>{r[(e||{})[n]]=!0})),this._setCheckedKeys(n,t,r)}setCheckedKeys(e,t=!1){this.defaultCheckedKeys=e;const n=this.key,r={};e.forEach((e=>{r[e]=!0})),this._setCheckedKeys(n,t,r)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach((e=>{const t=this.getNode(e);t&&t.expand(null,this.autoExpandParent)}))}setChecked(e,t,n){const r=this.getNode(e);r&&r.setChecked(!!t,n)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,t=!0){const n=e[this.key],r=this.nodesMap[n];this.setCurrentNode(r),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,t=!0){if(null==e)return this.currentNode&&(this.currentNode.isCurrent=!1),void(this.currentNode=null);const n=this.getNode(e);n&&(this.setCurrentNode(n),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const _sfc_main$1p=defineComponent({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=useNamespace("tree"),n=inject("NodeInstance"),r=inject("RootTree");return()=>{const o=e.node,{data:i,store:a}=o;return e.renderContent?e.renderContent(h$1,{_self:n,node:o,data:i,store:a}):renderSlot(r.ctx.slots,"default",{node:o,data:i},(()=>[h$1("span",{class:t.be("node","label")},[o.label])]))}}});var NodeContent=_export_sfc(_sfc_main$1p,[["__file","tree-node-content.vue"]]);function useNodeExpandEventBroadcast(e){const t=inject("TreeNodeMap",null),n={treeNodeExpand:t=>{e.node!==t&&e.node.collapse()},children:[]};return t&&t.children.push(n),provide("TreeNodeMap",n),{broadcastExpanded:t=>{if(e.accordion)for(const e of n.children)e.treeNodeExpand(t)}}}const dragEventsKey=Symbol("dragEvents");function useDragNodeHandler({props:t,ctx:n,el$:r,dropIndicator$:o,store:i}){const a=useNamespace("tree"),s=ref({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return provide(dragEventsKey,{treeNodeDragStart:({event:r,treeNode:o})=>{if("function"==typeof t.allowDrag&&!t.allowDrag(o.node))return r.preventDefault(),!1;r.dataTransfer.effectAllowed="move";try{r.dataTransfer.setData("text/plain","")}catch(e){}s.value.draggingNode=o,n.emit("node-drag-start",o.node,r)},treeNodeDragOver:({event:e,treeNode:i})=>{const l=i,u=s.value.dropNode;u&&u.node.id!==l.node.id&&removeClass(u.$el,a.is("drop-inner"));const c=s.value.draggingNode;if(!c||!l)return;let d=!0,h=!0,p=!0,f=!0;"function"==typeof t.allowDrop&&(d=t.allowDrop(c.node,l.node,"prev"),f=h=t.allowDrop(c.node,l.node,"inner"),p=t.allowDrop(c.node,l.node,"next")),e.dataTransfer.dropEffect=h||d||p?"move":"none",(d||h||p)&&(null==u?void 0:u.node.id)!==l.node.id&&(u&&n.emit("node-drag-leave",c.node,u.node,e),n.emit("node-drag-enter",c.node,l.node,e)),(d||h||p)&&(s.value.dropNode=l),l.node.nextSibling===c.node&&(p=!1),l.node.previousSibling===c.node&&(d=!1),l.node.contains(c.node,!1)&&(h=!1),(c.node===l.node||c.node.contains(l.node))&&(d=!1,h=!1,p=!1);const m=l.$el.querySelector(`.${a.be("node","content")}`).getBoundingClientRect(),_=r.value.getBoundingClientRect();let g;const v=d?h?.25:p?.45:1:-1,y=p?h?.75:d?.55:0:1;let b=-9999;const E=e.clientY-m.top;g=E<m.height*v?"before":E>m.height*y?"after":h?"inner":"none";const C=l.$el.querySelector(`.${a.be("node","expand-icon")}`).getBoundingClientRect(),x=o.value;"before"===g?b=C.top-_.top:"after"===g&&(b=C.bottom-_.top),x.style.top=`${b}px`,x.style.left=C.right-_.left+"px","inner"===g?addClass(l.$el,a.is("drop-inner")):removeClass(l.$el,a.is("drop-inner")),s.value.showDropIndicator="before"===g||"after"===g,s.value.allowDrop=s.value.showDropIndicator||f,s.value.dropType=g,n.emit("node-drag-over",c.node,l.node,e)},treeNodeDragEnd:e=>{const{draggingNode:t,dropType:r,dropNode:o}=s.value;if(e.preventDefault(),e.dataTransfer.dropEffect="move",t&&o){const s={data:t.node.data};"none"!==r&&t.node.remove(),"before"===r?o.node.parent.insertBefore(s,o.node):"after"===r?o.node.parent.insertAfter(s,o.node):"inner"===r&&o.node.insertChild(s),"none"!==r&&i.value.registerNode(s),removeClass(o.$el,a.is("drop-inner")),n.emit("node-drag-end",t.node,o.node,r,e),"none"!==r&&n.emit("node-drop",t.node,o.node,r,e)}t&&!o&&n.emit("node-drag-end",t.node,null,r,e),s.value.showDropIndicator=!1,s.value.draggingNode=null,s.value.dropNode=null,s.value.allowDrop=!0}}),{dragState:s}}const _sfc_main$1o=defineComponent({name:"ElTreeNode",components:{ElCollapseTransition:_CollapseTransition,ElCheckbox:ElCheckbox,NodeContent:NodeContent,ElIcon:ElIcon,Loading:loading_default},props:{node:{type:Node$1,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const n=useNamespace("tree"),{broadcastExpanded:r}=useNodeExpandEventBroadcast(e),o=inject("RootTree"),i=ref(!1),a=ref(!1),s=ref(null),l=ref(null),u=ref(null),c=inject(dragEventsKey),d=getCurrentInstance();provide("NodeInstance",d),e.node.expanded&&(i.value=!0,a.value=!0);const h=o.props.props.children||"children";watch((()=>{const t=e.node.data[h];return t&&[...t]}),(()=>{e.node.updateChildren()})),watch((()=>e.node.indeterminate),(t=>{p(e.node.checked,t)})),watch((()=>e.node.checked),(t=>{p(t,e.node.indeterminate)})),watch((()=>e.node.expanded),(e=>{nextTick((()=>i.value=e)),e&&(a.value=!0)}));const p=(t,n)=>{s.value===t&&l.value===n||o.ctx.emit("check-change",e.node.data,t,n),s.value=t,l.value=n},f=()=>{e.node.isLeaf||(i.value?(o.ctx.emit("node-collapse",e.node.data,e.node,d),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,d)))},m=(t,n)=>{e.node.setChecked(n.target.checked,!o.props.checkStrictly),nextTick((()=>{const t=o.store.value;o.ctx.emit("check",e.node.data,{checkedNodes:t.getCheckedNodes(),checkedKeys:t.getCheckedKeys(),halfCheckedNodes:t.getHalfCheckedNodes(),halfCheckedKeys:t.getHalfCheckedKeys()})}))};return{ns:n,node$:u,tree:o,expanded:i,childNodeRendered:a,oldChecked:s,oldIndeterminate:l,getNodeKey:e=>getNodeKey(o.props.nodeKey,e.data),getNodeClass:t=>{const n=e.props.class;if(!n)return{};let r;if(isFunction$2(n)){const{data:e}=t;r=n(e,t)}else r=n;return isString$1(r)?{[r]:!0}:r},handleSelectChange:p,handleClick:t=>{handleCurrentChange(o.store,o.ctx.emit,(()=>o.store.value.setCurrentNode(e.node))),o.currentNode.value=e.node,o.props.expandOnClickNode&&f(),o.props.checkOnClickNode&&!e.node.disabled&&m(null,{target:{checked:!e.node.checked}}),o.ctx.emit("node-click",e.node.data,e.node,d,t)},handleContextMenu:t=>{o.instance.vnode.props.onNodeContextmenu&&(t.stopPropagation(),t.preventDefault()),o.ctx.emit("node-contextmenu",t,e.node.data,e.node,d)},handleExpandIconClick:f,handleCheckChange:m,handleChildNodeExpand:(e,t,n)=>{r(t),o.ctx.emit("node-expand",e,t,n)},handleDragStart:t=>{o.props.draggable&&c.treeNodeDragStart({event:t,treeNode:e})},handleDragOver:t=>{t.preventDefault(),o.props.draggable&&c.treeNodeDragOver({event:t,treeNode:{$el:u.value,node:e.node}})},handleDrop:e=>{e.preventDefault()},handleDragEnd:e=>{o.props.draggable&&c.treeNodeDragEnd(e)},CaretRight:caret_right_default}}}),_hoisted_1$15=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],_hoisted_2$K=["aria-expanded"];function _sfc_render$e(e,t,n,r,o,i){const a=resolveComponent("el-icon"),s=resolveComponent("el-checkbox"),l=resolveComponent("loading"),u=resolveComponent("node-content"),c=resolveComponent("el-tree-node"),d=resolveComponent("el-collapse-transition");return withDirectives((openBlock(),createElementBlock("div",{ref:"node$",class:normalizeClass([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[1]||(t[1]=withModifiers(((...t)=>e.handleClick&&e.handleClick(...t)),["stop"])),onContextmenu:t[2]||(t[2]=(...t)=>e.handleContextMenu&&e.handleContextMenu(...t)),onDragstart:t[3]||(t[3]=withModifiers(((...t)=>e.handleDragStart&&e.handleDragStart(...t)),["stop"])),onDragover:t[4]||(t[4]=withModifiers(((...t)=>e.handleDragOver&&e.handleDragOver(...t)),["stop"])),onDragend:t[5]||(t[5]=withModifiers(((...t)=>e.handleDragEnd&&e.handleDragEnd(...t)),["stop"])),onDrop:t[6]||(t[6]=withModifiers(((...t)=>e.handleDrop&&e.handleDrop(...t)),["stop"]))},[createBaseVNode("div",{class:normalizeClass(e.ns.be("node","content")),style:normalizeStyle({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(openBlock(),createBlock(a,{key:0,class:normalizeClass([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:withModifiers(e.handleExpandIconClick,["stop"])},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.tree.props.icon||e.CaretRight)))])),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0),e.showCheckbox?(openBlock(),createBlock(s,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=withModifiers((()=>{}),["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):createCommentVNode("v-if",!0),e.node.loading?(openBlock(),createBlock(a,{key:2,class:normalizeClass([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:withCtx((()=>[createVNode(l)])),_:1},8,["class"])):createCommentVNode("v-if",!0),createVNode(u,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),createVNode(d,null,{default:withCtx((()=>[!e.renderAfterExpand||e.childNodeRendered?withDirectives((openBlock(),createElementBlock("div",{key:0,class:normalizeClass(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.node.childNodes,(t=>(openBlock(),createBlock(c,{key:e.getNodeKey(t),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:t,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"])))),128))],10,_hoisted_2$K)),[[vShow,e.expanded]]):createCommentVNode("v-if",!0)])),_:1})],42,_hoisted_1$15)),[[vShow,e.node.visible]])}var ElTreeNode$1=_export_sfc(_sfc_main$1o,[["render",_sfc_render$e],["__file","tree-node.vue"]]);function useKeydown({el$:e},t){const n=useNamespace("tree"),r=shallowRef([]),o=shallowRef([]);onMounted((()=>{i()})),onUpdated((()=>{r.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))})),watch(o,(e=>{e.forEach((e=>{e.setAttribute("tabindex","-1")}))}));useEventListener$1(e,"keydown",(o=>{const i=o.target;if(!i.className.includes(n.b("node")))return;const a=o.code;r.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));const s=r.value.indexOf(i);let l;if([EVENT_CODE.up,EVENT_CODE.down].includes(a)){if(o.preventDefault(),a===EVENT_CODE.up){l=-1===s?0:0!==s?s-1:r.value.length-1;const e=l;for(;!t.value.getNode(r.value[l].dataset.key).canFocus;){if(l--,l===e){l=-1;break}l<0&&(l=r.value.length-1)}}else{l=-1===s?0:s<r.value.length-1?s+1:0;const e=l;for(;!t.value.getNode(r.value[l].dataset.key).canFocus;){if(l++,l===e){l=-1;break}l>=r.value.length&&(l=0)}}-1!==l&&r.value[l].focus()}[EVENT_CODE.left,EVENT_CODE.right].includes(a)&&(o.preventDefault(),i.click());const u=i.querySelector('[type="checkbox"]');[EVENT_CODE.enter,EVENT_CODE.space].includes(a)&&u&&(o.preventDefault(),u.click())}));const i=()=>{var t;r.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const i=e.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);i.length?i[0].setAttribute("tabindex","0"):null==(t=r.value[0])||t.setAttribute("tabindex","0")}}const _sfc_main$1n=defineComponent({name:"ElTree",components:{ElTreeNode:ElTreeNode$1},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:iconPropType}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:n}=useLocale(),r=useNamespace("tree"),o=ref(new TreeStore({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));o.value.initialize();const i=ref(o.value.root),a=ref(null),s=ref(null),l=ref(null),{broadcastExpanded:u}=useNodeExpandEventBroadcast(e),{dragState:c}=useDragNodeHandler({props:e,ctx:t,el$:s,dropIndicator$:l,store:o});useKeydown({el$:s},o);const d=computed((()=>{const{childNodes:e}=i.value;return!e||0===e.length||e.every((({visible:e})=>!e))}));watch((()=>e.currentNodeKey),(e=>{o.value.setCurrentNodeKey(e)})),watch((()=>e.defaultCheckedKeys),(e=>{o.value.setDefaultCheckedKey(e)})),watch((()=>e.defaultExpandedKeys),(e=>{o.value.setDefaultExpandedKeys(e)})),watch((()=>e.data),(e=>{o.value.setData(e)}),{deep:!0}),watch((()=>e.checkStrictly),(e=>{o.value.checkStrictly=e}));const h=()=>{const e=o.value.getCurrentNode();return e?e.data:null};return provide("RootTree",{ctx:t,props:e,store:o,root:i,currentNode:a,instance:getCurrentInstance()}),provide(formItemContextKey,void 0),{ns:r,store:o,root:i,currentNode:a,dragState:c,el$:s,dropIndicator$:l,isEmpty:d,filter:t=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");o.value.filter(t)},getNodeKey:t=>getNodeKey(e.nodeKey,t.data),getNodePath:t=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const n=o.value.getNode(t);if(!n)return[];const r=[n.data];let a=n.parent;for(;a&&a!==i.value;)r.push(a.data),a=a.parent;return r.reverse()},getCheckedNodes:(e,t)=>o.value.getCheckedNodes(e,t),getCheckedKeys:e=>o.value.getCheckedKeys(e),getCurrentNode:h,getCurrentKey:()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const t=h();return t?t[e.nodeKey]:null},setCheckedNodes:(t,n)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");o.value.setCheckedNodes(t,n)},setCheckedKeys:(t,n)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");o.value.setCheckedKeys(t,n)},setChecked:(e,t,n)=>{o.value.setChecked(e,t,n)},getHalfCheckedNodes:()=>o.value.getHalfCheckedNodes(),getHalfCheckedKeys:()=>o.value.getHalfCheckedKeys(),setCurrentNode:(n,r=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");handleCurrentChange(o,t.emit,(()=>o.value.setUserCurrentNode(n,r)))},setCurrentKey:(n,r=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");handleCurrentChange(o,t.emit,(()=>o.value.setCurrentNodeKey(n,r)))},t:n,getNode:e=>o.value.getNode(e),remove:e=>{o.value.remove(e)},append:(e,t)=>{o.value.append(e,t)},insertBefore:(e,t)=>{o.value.insertBefore(e,t)},insertAfter:(e,t)=>{o.value.insertAfter(e,t)},handleNodeExpand:(e,n,r)=>{u(n),t.emit("node-expand",e,n,r)},updateKeyChildren:(t,n)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");o.value.updateChildren(t,n)}}}});function _sfc_render$d(e,t,n,r,o,i){const a=resolveComponent("el-tree-node");return openBlock(),createElementBlock("div",{ref:"el$",class:normalizeClass([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner","inner"===e.dragState.dropType),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.root.childNodes,(t=>(openBlock(),createBlock(a,{key:e.getNodeKey(t),node:t,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"])))),128)),e.isEmpty?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(e.ns.e("empty-block"))},[renderSlot(e.$slots,"empty",{},(()=>{var t;return[createBaseVNode("span",{class:normalizeClass(e.ns.e("empty-text"))},toDisplayString(null!=(t=e.emptyText)?t:e.t("el.tree.emptyText")),3)]}))],2)):createCommentVNode("v-if",!0),withDirectives(createBaseVNode("div",{ref:"dropIndicator$",class:normalizeClass(e.ns.e("drop-indicator"))},null,2),[[vShow,e.dragState.showDropIndicator]])],2)}var Tree=_export_sfc(_sfc_main$1n,[["render",_sfc_render$d],["__file","tree.vue"]]);Tree.install=e=>{e.component(Tree.name,Tree)};const _Tree=Tree,ElTree=_Tree,useSelect=(e,{attrs:t,emit:n},{tree:r,key:o})=>{const i=useNamespace("tree-select"),a={...pick(toRefs(e),Object.keys(ElSelect.props)),...t,"onUpdate:modelValue":e=>n(UPDATE_MODEL_EVENT,e),valueKey:o,popperClass:computed((()=>{const t=[i.e("popper")];return e.popperClass&&t.push(e.popperClass),t.join(" ")})),filterMethod:(t="")=>{e.filterMethod&&e.filterMethod(t),nextTick((()=>{var e;null==(e=r.value)||e.filter(t)}))},onVisibleChange:n=>{var r;null==(r=t.onVisibleChange)||r.call(t,n),e.filterable&&n&&a.filterMethod()}};return a},component=defineComponent({extends:ElOption,setup(e,t){const n=ElOption.setup(e,t);delete n.selectOptionClick;const r=getCurrentInstance().proxy;return nextTick((()=>{n.select.cachedOptions.get(r.value)||n.select.onOptionCreate(r)})),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function isValidValue(e){return e||0===e}function isValidArray(e){return Array.isArray(e)&&e.length}function toValidArray(e){return Array.isArray(e)?e:isValidValue(e)?[e]:[]}function treeFind(e,t,n,r,o){for(let i=0;i<e.length;i++){const a=e[i];if(t(a,i,e,o))return r?r(a,i,e,o):a;{const e=n(a);if(isValidArray(e)){const o=treeFind(e,t,n,r,a);if(o)return o}}}}function treeEach(e,t,n,r){for(let o=0;o<e.length;o++){const i=e[o];t(i,o,e,r);const a=n(i);isValidArray(a)&&treeEach(a,t,n,i)}}const useTree$1=(e,{attrs:t,slots:n,emit:r},{select:o,tree:i,key:a})=>{watch((()=>e.modelValue),(()=>{e.showCheckbox&&nextTick((()=>{const t=i.value;t&&!isEqual$1(t.getCheckedKeys(),toValidArray(e.modelValue))&&t.setCheckedKeys(toValidArray(e.modelValue))}))}),{immediate:!0,deep:!0});const s=computed((()=>({value:a.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...e.props}))),l=(e,t)=>{var n;const r=s.value[e];return isFunction$2(r)?r(t,null==(n=i.value)?void 0:n.getNode(l("value",t))):t[r]},u=toValidArray(e.modelValue).map((t=>treeFind(e.data||[],(e=>l("value",e)===t),(e=>l("children",e)),((e,t,n,r)=>r&&l("value",r))))).filter((e=>isValidValue(e))),c=computed((()=>{if(!e.renderAfterExpand&&!e.lazy)return[];const t=[];return treeEach(e.data.concat(e.cacheData),(e=>{const n=l("value",e);t.push({value:n,currentLabel:l("label",e),isDisabled:l("disabled",e)})}),(e=>l("children",e))),t})),d=computed((()=>c.value.reduce(((e,t)=>({...e,[t.value]:t})),{})));return{...pick(toRefs(e),Object.keys(_Tree.props)),...t,nodeKey:a,expandOnClickNode:computed((()=>!e.checkStrictly&&e.expandOnClickNode)),defaultExpandedKeys:computed((()=>e.defaultExpandedKeys?e.defaultExpandedKeys.concat(u):u)),renderContent:(t,{node:r,data:o,store:i})=>t(component,{value:l("value",o),label:l("label",o),disabled:l("disabled",o)},e.renderContent?()=>e.renderContent(t,{node:r,data:o,store:i}):n.default?()=>n.default({node:r,data:o,store:i}):void 0),filterNodeMethod:(t,n,r)=>{var o;return e.filterNodeMethod?e.filterNodeMethod(t,n,r):!t||(null==(o=l("label",n))?void 0:o.includes(t))},onNodeClick:(n,r,i)=>{var a,s,u;if(null==(a=t.onNodeClick)||a.call(t,n,r,i),!e.showCheckbox||!e.checkOnClickNode)if(e.showCheckbox||!e.checkStrictly&&!r.isLeaf)e.expandOnClickNode&&i.proxy.handleExpandIconClick();else if(!l("disabled",n)){const e=null==(s=o.value)?void 0:s.options.get(l("value",n));null==(u=o.value)||u.handleOptionSelect(e)}},onCheck:(n,o)=>{if(!e.showCheckbox)return;const a=l("value",n),s=o.checkedKeys,u=e.multiple?toValidArray(e.modelValue).filter((e=>e in d.value&&!i.value.getNode(e)&&!s.includes(e))):[],c=s.concat(u);if(e.checkStrictly)r(UPDATE_MODEL_EVENT,e.multiple?c:c.includes(a)?a:void 0);else if(e.multiple)r(UPDATE_MODEL_EVENT,i.value.getCheckedKeys(!0));else{const t=treeFind([n],(e=>!isValidArray(l("children",e))&&!l("disabled",e)),(e=>l("children",e))),o=t?l("value",t):void 0,i=isValidValue(e.modelValue)&&!!treeFind([n],(t=>l("value",t)===e.modelValue),(e=>l("children",e)));r(UPDATE_MODEL_EVENT,o===e.modelValue||i?void 0:o)}nextTick((()=>{var r;const o=toValidArray(e.modelValue);i.value.setCheckedKeys(o),null==(r=t.onCheck)||r.call(t,n,{checkedKeys:i.value.getCheckedKeys(),checkedNodes:i.value.getCheckedNodes(),halfCheckedKeys:i.value.getHalfCheckedKeys(),halfCheckedNodes:i.value.getHalfCheckedNodes()})}))},cacheOptions:c}};var CacheOptions=defineComponent({props:{data:{type:Array,default:()=>[]}},setup(e){const t=inject(selectKey);return watch((()=>e.data),(()=>{var n;e.data.forEach((e=>{t.cachedOptions.has(e.value)||t.cachedOptions.set(e.value,e)}));const r=(null==(n=t.selectWrapper)?void 0:n.querySelectorAll("input"))||[];Array.from(r).includes(document.activeElement)||t.setSelected()}),{flush:"post",immediate:!0}),()=>{}}});const _sfc_main$1m=defineComponent({name:"ElTreeSelect",inheritAttrs:!1,props:{...ElSelect.props,..._Tree.props,cacheData:{type:Array,default:()=>[]}},setup(e,t){const{slots:n,expose:r}=t,o=ref(),i=ref(),a=computed((()=>e.nodeKey||e.valueKey||"value")),s=useSelect(e,t,{select:o,tree:i,key:a}),{cacheOptions:l,...u}=useTree$1(e,t,{select:o,tree:i,key:a}),c=reactive({});return r(c),onMounted((()=>{Object.assign(c,{...pick(i.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...pick(o.value,["focus","blur"])})})),()=>h$1(ElSelect,reactive({...s,ref:e=>o.value=e}),{...n,default:()=>[h$1(CacheOptions,{data:l.value}),h$1(_Tree,reactive({...u,ref:e=>i.value=e}))]})}});var TreeSelect=_export_sfc(_sfc_main$1m,[["__file","tree-select.vue"]]);TreeSelect.install=e=>{e.component(TreeSelect.name,TreeSelect)};const _TreeSelect=TreeSelect,ElTreeSelect=_TreeSelect,ROOT_TREE_INJECTION_KEY=Symbol(),EMPTY_NODE={key:-1,level:-1,data:{}};var TreeOptionsEnum=(e=>(e.KEY="id",e.LABEL="label",e.CHILDREN="children",e.DISABLED="disabled",e))(TreeOptionsEnum||{}),SetOperationEnum=(e=>(e.ADD="add",e.DELETE="delete",e))(SetOperationEnum||{});const itemSize={type:Number,default:26},treeProps=buildProps({data:{type:definePropType(Array),default:()=>mutable([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:definePropType(Object),default:()=>mutable({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:definePropType(Array),default:()=>mutable([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:definePropType(Array),default:()=>mutable([])},indent:{type:Number,default:16},itemSize:itemSize,icon:{type:iconPropType},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:definePropType([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:definePropType(Function)},perfMode:{type:Boolean,default:!0}}),treeNodeProps=buildProps({node:{type:definePropType(Object),default:()=>mutable(EMPTY_NODE)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:itemSize}),treeNodeContentProps=buildProps({node:{type:definePropType(Object),required:!0}}),NODE_CLICK="node-click",NODE_EXPAND="node-expand",NODE_COLLAPSE="node-collapse",CURRENT_CHANGE="current-change",NODE_CHECK="check",NODE_CHECK_CHANGE="check-change",NODE_CONTEXTMENU="node-contextmenu",treeEmits={[NODE_CLICK]:(e,t,n)=>e&&t&&n,[NODE_EXPAND]:(e,t)=>e&&t,[NODE_COLLAPSE]:(e,t)=>e&&t,[CURRENT_CHANGE]:(e,t)=>e&&t,[NODE_CHECK]:(e,t)=>e&&t,[NODE_CHECK_CHANGE]:(e,t)=>e&&"boolean"==typeof t,[NODE_CONTEXTMENU]:(e,t,n)=>e&&t&&n},treeNodeEmits={click:(e,t)=>!(!e||!t),toggle:e=>!!e,check:(e,t)=>e&&"boolean"==typeof t};function useCheck(e,t){const n=ref(new Set),r=ref(new Set),{emit:o}=getCurrentInstance();watch([()=>t.value,()=>e.defaultCheckedKeys],(()=>nextTick((()=>{d(e.defaultCheckedKeys)}))),{immediate:!0});const i=()=>{if(!t.value||!e.showCheckbox||e.checkStrictly)return;const{levelTreeNodeMap:o,maxLevel:i}=t.value,a=n.value,s=new Set;for(let e=i-1;e>=1;--e){const t=o.get(e);t&&t.forEach((e=>{const t=e.children;if(t){let n=!0,r=!1;for(const e of t){const t=e.key;if(a.has(t))r=!0;else{if(s.has(t)){n=!1,r=!0;break}n=!1}}n?a.add(e.key):r?(s.add(e.key),a.delete(e.key)):(a.delete(e.key),s.delete(e.key))}}))}r.value=s},a=e=>n.value.has(e.key),s=(t,r,o=!0)=>{const a=n.value,s=(t,n)=>{a[n?SetOperationEnum.ADD:SetOperationEnum.DELETE](t.key);const r=t.children;!e.checkStrictly&&r&&r.forEach((e=>{e.disabled||s(e,n)}))};s(t,r),i(),o&&l(t,r)},l=(e,t)=>{const{checkedNodes:n,checkedKeys:r}=u(),{halfCheckedNodes:i,halfCheckedKeys:a}=c();o(NODE_CHECK,e.data,{checkedKeys:r,checkedNodes:n,halfCheckedKeys:a,halfCheckedNodes:i}),o(NODE_CHECK_CHANGE,e.data,t)};function u(r=!1){const o=[],i=[];if((null==t?void 0:t.value)&&e.showCheckbox){const{treeNodeMap:e}=t.value;n.value.forEach((t=>{const n=e.get(t);n&&(!r||r&&n.isLeaf)&&(i.push(t),o.push(n.data))}))}return{checkedKeys:i,checkedNodes:o}}function c(){const n=[],o=[];if((null==t?void 0:t.value)&&e.showCheckbox){const{treeNodeMap:e}=t.value;r.value.forEach((t=>{const r=e.get(t);r&&(o.push(t),n.push(r.data))}))}return{halfCheckedNodes:n,halfCheckedKeys:o}}function d(n){if(null==t?void 0:t.value){const{treeNodeMap:r}=t.value;if(e.showCheckbox&&r&&n)for(const e of n){const t=r.get(e);t&&!a(t)&&s(t,!0,!1)}}}return{updateCheckedKeys:i,toggleCheckbox:s,isChecked:a,isIndeterminate:e=>r.value.has(e.key),getCheckedKeys:function(e=!1){return u(e).checkedKeys},getCheckedNodes:function(e=!1){return u(e).checkedNodes},getHalfCheckedKeys:function(){return c().halfCheckedKeys},getHalfCheckedNodes:function(){return c().halfCheckedNodes},setChecked:function(n,r){if((null==t?void 0:t.value)&&e.showCheckbox){const e=t.value.treeNodeMap.get(n);e&&s(e,r,!1)}},setCheckedKeys:function(e){n.value.clear(),r.value.clear(),d(e)}}}function useFilter(e,t){const n=ref(new Set([])),r=ref(new Set([])),o=computed((()=>isFunction$2(e.filterMethod)));return{hiddenExpandIconKeySet:r,hiddenNodeKeySet:n,doFilter:function(i){var a;if(!o.value)return;const s=new Set,l=r.value,u=n.value,c=[],d=(null==(a=t.value)?void 0:a.treeNodes)||[],h=e.filterMethod;return u.clear(),function e(t){t.forEach((t=>{c.push(t),(null==h?void 0:h(i,t.data))?c.forEach((e=>{s.add(e.key)})):t.isLeaf&&u.add(t.key);const n=t.children;if(n&&e(n),!t.isLeaf)if(s.has(t.key)){if(n){let e=!0;for(const t of n)if(!u.has(t.key)){e=!1;break}e?l.add(t.key):l.delete(t.key)}}else u.add(t.key);c.pop()}))}(d),s},isForceHiddenExpandIcon:function(e){return r.value.has(e.key)}}}function useTree(e,t){const n=ref(new Set(e.defaultExpandedKeys)),r=ref(),o=shallowRef();watch((()=>e.currentNodeKey),(e=>{r.value=e}),{immediate:!0}),watch((()=>e.data),(e=>{O(e)}),{immediate:!0});const{isIndeterminate:i,isChecked:a,toggleCheckbox:s,getCheckedKeys:l,getCheckedNodes:u,getHalfCheckedKeys:c,getHalfCheckedNodes:d,setChecked:h,setCheckedKeys:p}=useCheck(e,o),{doFilter:f,hiddenNodeKeySet:m,isForceHiddenExpandIcon:_}=useFilter(e,o),g=computed((()=>{var t;return(null==(t=e.props)?void 0:t.value)||TreeOptionsEnum.KEY})),v=computed((()=>{var t;return(null==(t=e.props)?void 0:t.children)||TreeOptionsEnum.CHILDREN})),y=computed((()=>{var t;return(null==(t=e.props)?void 0:t.disabled)||TreeOptionsEnum.DISABLED})),b=computed((()=>{var t;return(null==(t=e.props)?void 0:t.label)||TreeOptionsEnum.LABEL})),E=computed((()=>{const e=n.value,t=m.value,r=[],i=o.value&&o.value.treeNodes||[];return function(){const n=[];for(let e=i.length-1;e>=0;--e)n.push(i[e]);for(;n.length;){const o=n.pop();if(o&&(t.has(o.key)||r.push(o),e.has(o.key))){const e=o.children;if(e){for(let t=e.length-1;t>=0;--t)n.push(e[t])}}}}(),r})),C=computed((()=>E.value.length>0));function x(e){return e[v.value]}function w(e){return e?e[g.value]:""}function S(e){return e[y.value]}function T(e){return e[b.value]}function k(e){n.value.has(e.key)?P(e):L(e)}function L(r){const i=n.value;if(o.value&&e.accordion){const{treeNodeMap:e}=o.value;i.forEach((t=>{const n=e.get(t);r&&r.level===(null==n?void 0:n.level)&&i.delete(t)}))}i.add(r.key),t(NODE_EXPAND,r.data,r)}function P(e){n.value.delete(e.key),t(NODE_COLLAPSE,e.data,e)}function M(e){const t=r.value;return void 0!==t&&t===e.key}function O(e){nextTick((()=>o.value=function(e){const t=new Map,n=new Map;let r=1;const o=function e(o,i=1,a){var s;const l=[];for(const r of o){const o=w(r),u={level:i,key:o,data:r};u.label=T(r),u.parent=a;const c=x(r);u.disabled=S(r),u.isLeaf=!c||0===c.length,c&&c.length&&(u.children=e(c,i+1,u)),l.push(u),t.set(o,u),n.has(i)||n.set(i,[]),null==(s=n.get(i))||s.push(u)}return i>r&&(r=i),l}(e);return{treeNodeMap:t,levelTreeNodeMap:n,maxLevel:r,treeNodes:o}}(e)))}return{tree:o,flattenTree:E,isNotEmpty:C,getKey:w,getChildren:x,toggleExpand:k,toggleCheckbox:s,isExpanded:function(e){return n.value.has(e.key)},isChecked:a,isIndeterminate:i,isDisabled:function(e){return!!e.disabled},isCurrent:M,isForceHiddenExpandIcon:_,handleNodeClick:function(n,o){t(NODE_CLICK,n.data,n,o),function(e){M(e)||(r.value=e.key,t(CURRENT_CHANGE,e.data,e))}(n),e.expandOnClickNode&&k(n),e.showCheckbox&&e.checkOnClickNode&&!n.disabled&&s(n,!a(n),!0)},handleNodeCheck:function(e,t){s(e,t)},getCurrentNode:function(){var e,t;if(r.value)return null==(t=null==(e=o.value)?void 0:e.treeNodeMap.get(r.value))?void 0:t.data},getCurrentKey:function(){return r.value},setCurrentKey:function(e){r.value=e},getCheckedKeys:l,getCheckedNodes:u,getHalfCheckedKeys:c,getHalfCheckedNodes:d,setChecked:h,setCheckedKeys:p,filter:function(e){const t=f(e);t&&(n.value=t)},setData:O,getNode:function(e){var t;const n=isObject$2(e)?w(e):e;return null==(t=o.value)?void 0:t.treeNodeMap.get(n)},expandNode:L,collapseNode:P,setExpandedKeys:function(e){n.value=new Set(e)}}}var ElNodeContent=defineComponent({name:"ElTreeNodeContent",props:treeNodeContentProps,setup(e){const t=inject(ROOT_TREE_INJECTION_KEY),n=useNamespace("tree");return()=>{const r=e.node,{data:o}=r;return(null==t?void 0:t.ctx.slots.default)?t.ctx.slots.default({node:r,data:o}):h$1("span",{class:n.be("node","label")},[null==r?void 0:r.label])}}});const _hoisted_1$14=["aria-expanded","aria-disabled","aria-checked","data-key","onClick"],__default__$8=defineComponent({name:"ElTreeNode"}),_sfc_main$1l=defineComponent({...__default__$8,props:treeNodeProps,emits:treeNodeEmits,setup(e,{emit:t}){const n=e,r=inject(ROOT_TREE_INJECTION_KEY),o=useNamespace("tree"),i=computed((()=>{var e;return null!=(e=null==r?void 0:r.props.indent)?e:16})),a=computed((()=>{var e;return null!=(e=null==r?void 0:r.props.icon)?e:caret_right_default})),s=e=>{t("click",n.node,e)},l=()=>{t("toggle",n.node)},u=e=>{t("check",n.node,e)},c=e=>{var t,o,i,a;(null==(i=null==(o=null==(t=null==r?void 0:r.instance)?void 0:t.vnode)?void 0:o.props)?void 0:i.onNodeContextmenu)&&(e.stopPropagation(),e.preventDefault()),null==r||r.ctx.emit(NODE_CONTEXTMENU,e,null==(a=n.node)?void 0:a.data,n.node)};return(e,t)=>{var n,r,d;return openBlock(),createElementBlock("div",{ref:"node$",class:normalizeClass([unref(o).b("node"),unref(o).is("expanded",e.expanded),unref(o).is("current",e.current),unref(o).is("focusable",!e.disabled),unref(o).is("checked",!e.disabled&&e.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.disabled,"aria-checked":e.checked,"data-key":null==(n=e.node)?void 0:n.key,onClick:withModifiers(s,["stop"]),onContextmenu:c},[createBaseVNode("div",{class:normalizeClass(unref(o).be("node","content")),style:normalizeStyle({paddingLeft:(e.node.level-1)*unref(i)+"px",height:e.itemSize+"px"})},[unref(a)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(o).is("leaf",!!(null==(r=e.node)?void 0:r.isLeaf)),unref(o).is("hidden",e.hiddenExpandIcon),{expanded:!(null==(d=e.node)?void 0:d.isLeaf)&&e.expanded},unref(o).be("node","expand-icon")]),onClick:withModifiers(l,["stop"])},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(a))))])),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0),e.showCheckbox?(openBlock(),createBlock(unref(ElCheckbox),{key:1,"model-value":e.checked,indeterminate:e.indeterminate,disabled:e.disabled,onChange:u,onClick:t[0]||(t[0]=withModifiers((()=>{}),["stop"]))},null,8,["model-value","indeterminate","disabled"])):createCommentVNode("v-if",!0),createVNode(unref(ElNodeContent),{node:e.node},null,8,["node"])],6)],42,_hoisted_1$14)}}});var ElTreeNode=_export_sfc(_sfc_main$1l,[["__file","tree-node.vue"]]);const __default__$7=defineComponent({name:"ElTreeV2"}),_sfc_main$1k=defineComponent({...__default__$7,props:treeProps,emits:treeEmits,setup(e,{expose:t,emit:n}){const r=e,o=useSlots(),i=computed((()=>r.itemSize));provide(ROOT_TREE_INJECTION_KEY,{ctx:{emit:n,slots:o},props:r,instance:getCurrentInstance()}),provide(formItemContextKey,void 0);const{t:a}=useLocale(),s=useNamespace("tree"),{flattenTree:l,isNotEmpty:u,toggleExpand:c,isExpanded:d,isIndeterminate:h,isChecked:p,isDisabled:f,isCurrent:m,isForceHiddenExpandIcon:_,handleNodeClick:g,handleNodeCheck:v,toggleCheckbox:y,getCurrentNode:b,getCurrentKey:E,setCurrentKey:C,getCheckedKeys:x,getCheckedNodes:w,getHalfCheckedKeys:S,getHalfCheckedNodes:T,setChecked:k,setCheckedKeys:L,filter:P,setData:M,getNode:O,expandNode:N,collapseNode:A,setExpandedKeys:I}=useTree(r,n);return t({toggleCheckbox:y,getCurrentNode:b,getCurrentKey:E,setCurrentKey:C,getCheckedKeys:x,getCheckedNodes:w,getHalfCheckedKeys:S,getHalfCheckedNodes:T,setChecked:k,setCheckedKeys:L,filter:P,setData:M,getNode:O,expandNode:N,collapseNode:A,setExpandedKeys:I}),(e,t)=>{var n;return openBlock(),createElementBlock("div",{class:normalizeClass([unref(s).b(),{[unref(s).m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[unref(u)?(openBlock(),createBlock(unref(FixedSizeList),{key:0,"class-name":unref(s).b("virtual-list"),data:unref(l),total:unref(l).length,height:e.height,"item-size":unref(i),"perf-mode":e.perfMode},{default:withCtx((({data:t,index:n,style:r})=>[(openBlock(),createBlock(ElTreeNode,{key:t[n].key,style:normalizeStyle(r),node:t[n],expanded:unref(d)(t[n]),"show-checkbox":e.showCheckbox,checked:unref(p)(t[n]),indeterminate:unref(h)(t[n]),"item-size":unref(i),disabled:unref(f)(t[n]),current:unref(m)(t[n]),"hidden-expand-icon":unref(_)(t[n]),onClick:unref(g),onToggle:unref(c),onCheck:unref(v)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))])),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(s).e("empty-block"))},[createBaseVNode("span",{class:normalizeClass(unref(s).e("empty-text"))},toDisplayString(null!=(n=e.emptyText)?n:unref(a)("el.tree.emptyText")),3)],2))],2)}}});var TreeV2=_export_sfc(_sfc_main$1k,[["__file","tree.vue"]]);const ElTreeV2=withInstall(TreeV2),uploadContextKey=Symbol("uploadContextKey"),SCOPE$2="ElUpload";class UploadAjaxError extends Error{constructor(e,t,n,r){super(e),this.name="UploadAjaxError",this.status=t,this.method=n,this.url=r}}function getError(e,t,n){let r;return r=n.response?`${n.response.error||n.response}`:n.responseText?`${n.responseText}`:`fail to ${t.method} ${e} ${n.status}`,new UploadAjaxError(r,n.status,t.method,e)}function getBody(t){const n=t.responseText||t.response;if(!n)return n;try{return JSON.parse(n)}catch(e){return n}}const ajaxUpload=e=>{"undefined"==typeof XMLHttpRequest&&throwError(SCOPE$2,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,n=e.action;t.upload&&t.upload.addEventListener("progress",(t=>{const n=t;n.percent=t.total>0?t.loaded/t.total*100:0,e.onProgress(n)}));const r=new FormData;if(e.data)for(const[i,a]of Object.entries(e.data))isArray$1(a)&&a.length?r.append(i,...a):r.append(i,a);r.append(e.filename,e.file,e.file.name),t.addEventListener("error",(()=>{e.onError(getError(n,e,t))})),t.addEventListener("load",(()=>{if(t.status<200||t.status>=300)return e.onError(getError(n,e,t));e.onSuccess(getBody(t))})),t.open(e.method,n,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const o=e.headers||{};if(o instanceof Headers)o.forEach(((e,n)=>t.setRequestHeader(n,e)));else for(const[i,a]of Object.entries(o))isNil(a)||t.setRequestHeader(i,String(a));return t.send(r),t},uploadListTypes=["text","picture","picture-card"];let fileId=1;const genFileId=()=>Date.now()+fileId++,uploadBaseProps=buildProps({action:{type:String,default:"#"},headers:{type:definePropType(Object)},method:{type:String,default:"post"},data:{type:definePropType([Object,Function,Promise]),default:()=>mutable({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:definePropType(Array),default:()=>mutable([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:uploadListTypes,default:"text"},httpRequest:{type:definePropType(Function),default:ajaxUpload},disabled:Boolean,limit:Number}),uploadProps=buildProps({...uploadBaseProps,beforeUpload:{type:definePropType(Function),default:NOOP},beforeRemove:{type:definePropType(Function)},onRemove:{type:definePropType(Function),default:NOOP},onChange:{type:definePropType(Function),default:NOOP},onPreview:{type:definePropType(Function),default:NOOP},onSuccess:{type:definePropType(Function),default:NOOP},onProgress:{type:definePropType(Function),default:NOOP},onError:{type:definePropType(Function),default:NOOP},onExceed:{type:definePropType(Function),default:NOOP}}),uploadListProps=buildProps({files:{type:definePropType(Array),default:()=>mutable([])},disabled:{type:Boolean,default:!1},handlePreview:{type:definePropType(Function),default:NOOP},listType:{type:String,values:uploadListTypes,default:"text"}}),uploadListEmits={remove:e=>!!e},_hoisted_1$13=["onKeydown"],_hoisted_2$J=["src"],_hoisted_3$x=["onClick"],_hoisted_4$i=["title"],_hoisted_5$b=["onClick"],_hoisted_6$9=["onClick"],__default__$6=defineComponent({name:"ElUploadList"}),_sfc_main$1j=defineComponent({...__default__$6,props:uploadListProps,emits:uploadListEmits,setup(e,{emit:t}){const n=e,{t:r}=useLocale(),o=useNamespace("upload"),i=useNamespace("icon"),a=useNamespace("list"),s=useFormDisabled(),l=ref(!1),u=computed((()=>[o.b("list"),o.bm("list",n.listType),o.is("disabled",n.disabled)])),c=e=>{t("remove",e)};return(e,t)=>(openBlock(),createBlock(TransitionGroup,{tag:"ul",class:normalizeClass(unref(u)),name:unref(a).b()},{default:withCtx((()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.files,(n=>(openBlock(),createElementBlock("li",{key:n.uid||n.name,class:normalizeClass([unref(o).be("list","item"),unref(o).is(n.status),{focusing:l.value}]),tabindex:"0",onKeydown:withKeys((e=>!unref(s)&&c(n)),["delete"]),onFocus:t[0]||(t[0]=e=>l.value=!0),onBlur:t[1]||(t[1]=e=>l.value=!1),onClick:t[2]||(t[2]=e=>l.value=!1)},[renderSlot(e.$slots,"default",{file:n},(()=>["picture"===e.listType||"uploading"!==n.status&&"picture-card"===e.listType?(openBlock(),createElementBlock("img",{key:0,class:normalizeClass(unref(o).be("list","item-thumbnail")),src:n.url,alt:""},null,10,_hoisted_2$J)):createCommentVNode("v-if",!0),"uploading"===n.status||"picture-card"!==e.listType?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(o).be("list","item-info"))},[createBaseVNode("a",{class:normalizeClass(unref(o).be("list","item-name")),onClick:withModifiers((t=>e.handlePreview(n)),["prevent"])},[createVNode(unref(ElIcon),{class:normalizeClass(unref(i).m("document"))},{default:withCtx((()=>[createVNode(unref(document_default))])),_:1},8,["class"]),createBaseVNode("span",{class:normalizeClass(unref(o).be("list","item-file-name")),title:n.name},toDisplayString(n.name),11,_hoisted_4$i)],10,_hoisted_3$x),"uploading"===n.status?(openBlock(),createBlock(unref(ElProgress),{key:0,type:"picture-card"===e.listType?"circle":"line","stroke-width":"picture-card"===e.listType?6:2,percentage:Number(n.percentage),style:normalizeStyle("picture-card"===e.listType?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("label",{class:normalizeClass(unref(o).be("list","item-status-label"))},["text"===e.listType?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(i).m("upload-success"),unref(i).m("circle-check")])},{default:withCtx((()=>[createVNode(unref(circle_check_default))])),_:1},8,["class"])):["picture-card","picture"].includes(e.listType)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(i).m("upload-success"),unref(i).m("check")])},{default:withCtx((()=>[createVNode(unref(check_default))])),_:1},8,["class"])):createCommentVNode("v-if",!0)],2),unref(s)?createCommentVNode("v-if",!0):(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass(unref(i).m("close")),onClick:e=>c(n)},{default:withCtx((()=>[createVNode(unref(close_default))])),_:2},1032,["class","onClick"])),createCommentVNode(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),createCommentVNode(" This is a bug which needs to be fixed "),createCommentVNode(" TODO: Fix the incorrect navigation interaction "),unref(s)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("i",{key:3,class:normalizeClass(unref(i).m("close-tip"))},toDisplayString(unref(r)("el.upload.deleteTip")),3)),"picture-card"===e.listType?(openBlock(),createElementBlock("span",{key:4,class:normalizeClass(unref(o).be("list","item-actions"))},[createBaseVNode("span",{class:normalizeClass(unref(o).be("list","item-preview")),onClick:t=>e.handlePreview(n)},[createVNode(unref(ElIcon),{class:normalizeClass(unref(i).m("zoom-in"))},{default:withCtx((()=>[createVNode(unref(zoom_in_default))])),_:1},8,["class"])],10,_hoisted_5$b),unref(s)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(o).be("list","item-delete")),onClick:e=>c(n)},[createVNode(unref(ElIcon),{class:normalizeClass(unref(i).m("delete"))},{default:withCtx((()=>[createVNode(unref(delete_default))])),_:1},8,["class"])],10,_hoisted_6$9))],2)):createCommentVNode("v-if",!0)]))],42,_hoisted_1$13)))),128)),renderSlot(e.$slots,"append")])),_:3},8,["class","name"]))}});var UploadList=_export_sfc(_sfc_main$1j,[["__file","upload-list.vue"]]);const uploadDraggerProps=buildProps({disabled:{type:Boolean,default:!1}}),uploadDraggerEmits={file:e=>isArray$1(e)},_hoisted_1$12=["onDrop","onDragover"],COMPONENT_NAME="ElUploadDrag",__default__$5=defineComponent({name:COMPONENT_NAME}),_sfc_main$1i=defineComponent({...__default__$5,props:uploadDraggerProps,emits:uploadDraggerEmits,setup(e,{emit:t}){const n=inject(uploadContextKey);n||throwError(COMPONENT_NAME,"usage: <el-upload><el-upload-dragger /></el-upload>");const r=useNamespace("upload"),o=ref(!1),i=useFormDisabled(),a=e=>{if(i.value)return;o.value=!1,e.stopPropagation();const r=Array.from(e.dataTransfer.files),a=n.accept.value;if(!a)return void t("file",r);const s=r.filter((e=>{const{type:t,name:n}=e,r=n.includes(".")?`.${n.split(".").pop()}`:"",o=t.replace(/\/.*$/,"");return a.split(",").map((e=>e.trim())).filter((e=>e)).some((e=>e.startsWith(".")?r===e:/\/\*$/.test(e)?o===e.replace(/\/\*$/,""):!!/^[^/]+\/[^/]+$/.test(e)&&t===e))}));t("file",s)},s=()=>{i.value||(o.value=!0)};return(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(r).b("dragger"),unref(r).is("dragover",o.value)]),onDrop:withModifiers(a,["prevent"]),onDragover:withModifiers(s,["prevent"]),onDragleave:t[0]||(t[0]=withModifiers((e=>o.value=!1),["prevent"]))},[renderSlot(e.$slots,"default")],42,_hoisted_1$12))}});var UploadDragger=_export_sfc(_sfc_main$1i,[["__file","upload-dragger.vue"]]);const uploadContentProps=buildProps({...uploadBaseProps,beforeUpload:{type:definePropType(Function),default:NOOP},onRemove:{type:definePropType(Function),default:NOOP},onStart:{type:definePropType(Function),default:NOOP},onSuccess:{type:definePropType(Function),default:NOOP},onProgress:{type:definePropType(Function),default:NOOP},onError:{type:definePropType(Function),default:NOOP},onExceed:{type:definePropType(Function),default:NOOP}}),_hoisted_1$11=["onKeydown"],_hoisted_2$I=["name","multiple","accept"],__default__$4=defineComponent({name:"ElUploadContent",inheritAttrs:!1}),_sfc_main$1h=defineComponent({...__default__$4,props:uploadContentProps,setup(t,{expose:n}){const r=t,o=useNamespace("upload"),i=useFormDisabled(),a=shallowRef({}),s=shallowRef(),l=e=>{if(0===e.length)return;const{autoUpload:t,limit:n,fileList:o,multiple:i,onStart:a,onExceed:s}=r;if(n&&o.length+e.length>n)s(e,o);else{i||(e=e.slice(0,1));for(const n of e){const e=n;e.uid=genFileId(),a(e),t&&u(e)}}},u=async t=>{if(s.value.value="",!r.beforeUpload)return c(t);let n,o={};try{const e=r.data,i=r.beforeUpload(t);o=isPlainObject$1(r.data)?cloneDeep(r.data):r.data,n=await i,isPlainObject$1(r.data)&&isEqual$1(e,o)&&(o=cloneDeep(r.data))}catch(e){n=!1}if(!1===n)return void r.onRemove(t);let i=t;n instanceof Blob&&(i=n instanceof File?n:new File([n],t.name,{type:t.type})),c(Object.assign(i,{uid:t.uid}),o)},c=async(t,n)=>{const{headers:o,data:i,method:s,withCredentials:l,name:u,action:c,onProgress:d,onSuccess:h,onError:p,httpRequest:f}=r;try{n=await(async(e,t)=>isFunction$2(e)?e(t):e)(null!=n?n:i,t)}catch(e){return void r.onRemove(t)}const{uid:m}=t,_={headers:o||{},withCredentials:l,file:t,data:n,method:s,filename:u,action:c,onProgress:e=>{d(e,t)},onSuccess:e=>{h(e,t),delete a.value[m]},onError:e=>{p(e,t),delete a.value[m]}},g=f(_);a.value[m]=g,g instanceof Promise&&g.then(_.onSuccess,_.onError)},d=e=>{const t=e.target.files;t&&l(Array.from(t))},h=()=>{i.value||(s.value.value="",s.value.click())},p=()=>{h()};return n({abort:e=>{const t=entriesOf(a.value).filter(e?([t])=>String(e.uid)===t:()=>!0);t.forEach((([e,t])=>{t instanceof XMLHttpRequest&&t.abort(),delete a.value[e]}))},upload:u}),(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(o).b(),unref(o).m(e.listType),unref(o).is("drag",e.drag)]),tabindex:"0",onClick:h,onKeydown:withKeys(withModifiers(p,["self"]),["enter","space"])},[e.drag?(openBlock(),createBlock(UploadDragger,{key:0,disabled:unref(i),onFile:l},{default:withCtx((()=>[renderSlot(e.$slots,"default")])),_:3},8,["disabled"])):renderSlot(e.$slots,"default",{key:1}),createBaseVNode("input",{ref_key:"inputRef",ref:s,class:normalizeClass(unref(o).e("input")),name:e.name,multiple:e.multiple,accept:e.accept,type:"file",onChange:d,onClick:t[0]||(t[0]=withModifiers((()=>{}),["stop"]))},null,42,_hoisted_2$I)],42,_hoisted_1$11))}});var UploadContent=_export_sfc(_sfc_main$1h,[["__file","upload-content.vue"]]);const SCOPE$1="ElUpload",revokeFileObjectURL=e=>{var t;(null==(t=e.url)?void 0:t.startsWith("blob:"))&&URL.revokeObjectURL(e.url)},useHandlers=(e,t)=>{const n=useVModel(e,"fileList",void 0,{passive:!0}),r=e=>n.value.find((t=>t.uid===e.uid));function o(e){var n;null==(n=t.value)||n.abort(e)}return watch((()=>e.listType),(t=>{"picture-card"!==t&&"picture"!==t||(n.value=n.value.map((t=>{const{raw:r,url:o}=t;if(!o&&r)try{t.url=URL.createObjectURL(r)}catch(i){e.onError(i,t,n.value)}return t})))})),watch(n,(e=>{for(const t of e)t.uid||(t.uid=genFileId()),t.status||(t.status="success")}),{immediate:!0,deep:!0}),{uploadFiles:n,abort:o,clearFiles:function(e=["ready","uploading","success","fail"]){n.value=n.value.filter((t=>!e.includes(t.status)))},handleError:(t,o)=>{const i=r(o);i&&(i.status="fail",n.value.splice(n.value.indexOf(i),1),e.onError(t,i,n.value),e.onChange(i,n.value))},handleProgress:(t,o)=>{const i=r(o);i&&(e.onProgress(t,i,n.value),i.status="uploading",i.percentage=Math.round(t.percent))},handleStart:t=>{isNil(t.uid)&&(t.uid=genFileId());const r={name:t.name,percentage:0,status:"ready",size:t.size,raw:t,uid:t.uid};if("picture-card"===e.listType||"picture"===e.listType)try{r.url=URL.createObjectURL(t)}catch(o){debugWarn(SCOPE$1,o.message),e.onError(o,r,n.value)}n.value=[...n.value,r],e.onChange(r,n.value)},handleSuccess:(t,o)=>{const i=r(o);i&&(i.status="success",i.response=t,e.onSuccess(t,i,n.value),e.onChange(i,n.value))},handleRemove:async t=>{const i=t instanceof File?r(t):t;i||throwError(SCOPE$1,"file to be removed not found");const a=t=>{o(t);const r=n.value;r.splice(r.indexOf(t),1),e.onRemove(t,r),revokeFileObjectURL(t)};if(e.beforeRemove){!1!==await e.beforeRemove(i,n.value)&&a(i)}else a(i)},submit:function(){n.value.filter((({status:e})=>"ready"===e)).forEach((({raw:e})=>{var n;return e&&(null==(n=t.value)?void 0:n.upload(e))}))},revokeFileObjectURL:revokeFileObjectURL}},__default__$3=defineComponent({name:"ElUpload"}),_sfc_main$1g=defineComponent({...__default__$3,props:uploadProps,setup(e,{expose:t}){const n=e,r=useFormDisabled(),o=shallowRef(),{abort:i,submit:a,clearFiles:s,uploadFiles:l,handleStart:u,handleError:c,handleRemove:d,handleSuccess:h,handleProgress:p,revokeFileObjectURL:f}=useHandlers(n,o),m=computed((()=>"picture-card"===n.listType)),_=computed((()=>({...n,fileList:l.value,onStart:u,onProgress:p,onSuccess:h,onError:c,onRemove:d})));return onBeforeUnmount((()=>{l.value.forEach(f)})),provide(uploadContextKey,{accept:toRef$1(n,"accept")}),t({abort:i,submit:a,clearFiles:s,handleStart:u,handleRemove:d}),(e,t)=>(openBlock(),createElementBlock("div",null,[unref(m)&&e.showFileList?(openBlock(),createBlock(UploadList,{key:0,disabled:unref(r),"list-type":e.listType,files:unref(l),"handle-preview":e.onPreview,onRemove:unref(d)},createSlots({append:withCtx((()=>[createVNode(UploadContent,mergeProps({ref_key:"uploadRef",ref:o},unref(_)),{default:withCtx((()=>[e.$slots.trigger?renderSlot(e.$slots,"trigger",{key:0}):createCommentVNode("v-if",!0),!e.$slots.trigger&&e.$slots.default?renderSlot(e.$slots,"default",{key:1}):createCommentVNode("v-if",!0)])),_:3},16)])),_:2},[e.$slots.file?{name:"default",fn:withCtx((({file:t})=>[renderSlot(e.$slots,"file",{file:t})]))}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):createCommentVNode("v-if",!0),!unref(m)||unref(m)&&!e.showFileList?(openBlock(),createBlock(UploadContent,mergeProps({key:1,ref_key:"uploadRef",ref:o},unref(_)),{default:withCtx((()=>[e.$slots.trigger?renderSlot(e.$slots,"trigger",{key:0}):createCommentVNode("v-if",!0),!e.$slots.trigger&&e.$slots.default?renderSlot(e.$slots,"default",{key:1}):createCommentVNode("v-if",!0)])),_:3},16)):createCommentVNode("v-if",!0),e.$slots.trigger?renderSlot(e.$slots,"default",{key:2}):createCommentVNode("v-if",!0),renderSlot(e.$slots,"tip"),!unref(m)&&e.showFileList?(openBlock(),createBlock(UploadList,{key:3,disabled:unref(r),"list-type":e.listType,files:unref(l),"handle-preview":e.onPreview,onRemove:unref(d)},createSlots({_:2},[e.$slots.file?{name:"default",fn:withCtx((({file:t})=>[renderSlot(e.$slots,"file",{file:t})]))}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):createCommentVNode("v-if",!0)]))}});var Upload=_export_sfc(_sfc_main$1g,[["__file","upload.vue"]]);const ElUpload=withInstall(Upload),watermarkProps=buildProps({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:definePropType([String,Array]),default:"Element Plus"},font:{type:definePropType(Object)},gap:{type:definePropType(Array),default:()=>[100,100]},offset:{type:definePropType(Array)}});function toLowercaseSeparator(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function getStyleStr(e){return Object.keys(e).map((t=>`${toLowercaseSeparator(t)}: ${e[t]};`)).join(" ")}function getPixelRatio(){return window.devicePixelRatio||1}const reRendering=(e,t)=>{let n=!1;return e.removedNodes.length&&t&&(n=Array.from(e.removedNodes).includes(t)),"attributes"===e.type&&e.target===t&&(n=!0),n},FontGap=3;function prepareCanvas(e,t,n=1){const r=document.createElement("canvas"),o=r.getContext("2d"),i=e*n,a=t*n;return r.setAttribute("width",`${i}px`),r.setAttribute("height",`${a}px`),o.save(),[o,r,i,a]}function useClips(){return function(e,t,n,r,o,i,a,s){const[l,u,c,d]=prepareCanvas(r,o,n);if(e instanceof HTMLImageElement)l.drawImage(e,0,0,c,d);else{const{color:t,fontSize:r,fontStyle:a,fontWeight:s,fontFamily:u,textAlign:d,textBaseline:h}=i,p=Number(r)*n;l.font=`${a} normal ${s} ${p}px/${o}px ${u}`,l.fillStyle=t,l.textAlign=d,l.textBaseline=h;const f=Array.isArray(e)?e:[e];null==f||f.forEach(((e,t)=>{l.fillText(null!=e?e:"",c/2,t*(p+FontGap*n))}))}const h=Math.PI/180*Number(t),p=Math.max(r,o),[f,m,_]=prepareCanvas(p,p,n);f.translate(_/2,_/2),f.rotate(h),c>0&&d>0&&f.drawImage(u,-c/2,-d/2);let g=0,v=0,y=0,b=0;const E=c/2,C=d/2;[[0-E,0-C],[0+E,0-C],[0+E,0+C],[0-E,0+C]].forEach((([e,t])=>{const[n,r]=function(e,t){return[e*Math.cos(h)-t*Math.sin(h),e*Math.sin(h)+t*Math.cos(h)]}(e,t);g=Math.min(g,n),v=Math.max(v,n),y=Math.min(y,r),b=Math.max(b,r)}));const x=g+_/2,w=y+_/2,S=v-g,T=b-y,k=a*n,L=s*n,P=2*(S+k),M=T+L,[O,N]=prepareCanvas(P,M);function A(e=0,t=0){O.drawImage(m,x,w,S,T,e,t,S,T)}return A(),A(S+k,-T/2-L/2),A(S+k,+T/2+L/2),[N.toDataURL(),P/n,M/n]}}const __default__$2=defineComponent({name:"ElWatermark"}),_sfc_main$1f=defineComponent({...__default__$2,props:watermarkProps,setup(e){const t=e,n={position:"relative"},r=computed((()=>{var e,n;return null!=(n=null==(e=t.font)?void 0:e.color)?n:"rgba(0,0,0,.15)"})),o=computed((()=>{var e,n;return null!=(n=null==(e=t.font)?void 0:e.fontSize)?n:16})),i=computed((()=>{var e,n;return null!=(n=null==(e=t.font)?void 0:e.fontWeight)?n:"normal"})),a=computed((()=>{var e,n;return null!=(n=null==(e=t.font)?void 0:e.fontStyle)?n:"normal"})),s=computed((()=>{var e,n;return null!=(n=null==(e=t.font)?void 0:e.fontFamily)?n:"sans-serif"})),l=computed((()=>{var e,n;return null!=(n=null==(e=t.font)?void 0:e.textAlign)?n:"center"})),u=computed((()=>{var e,n;return null!=(n=null==(e=t.font)?void 0:e.textBaseline)?n:"top"})),c=computed((()=>t.gap[0])),d=computed((()=>t.gap[1])),h=computed((()=>c.value/2)),p=computed((()=>d.value/2)),f=computed((()=>{var e,n;return null!=(n=null==(e=t.offset)?void 0:e[0])?n:h.value})),m=computed((()=>{var e,n;return null!=(n=null==(e=t.offset)?void 0:e[1])?n:p.value})),_=()=>{const e={zIndex:t.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let n=f.value-h.value,r=m.value-p.value;return n>0&&(e.left=`${n}px`,e.width=`calc(100% - ${n}px)`,n=0),r>0&&(e.top=`${r}px`,e.height=`calc(100% - ${r}px)`,r=0),e.backgroundPosition=`${n}px ${r}px`,e},g=shallowRef(null),v=shallowRef(),y=ref(!1),b=()=>{v.value&&(v.value.remove(),v.value=void 0)},E=useClips(),C=()=>{const e=document.createElement("canvas").getContext("2d"),n=t.image,h=t.content,p=t.rotate;if(e){v.value||(v.value=document.createElement("div"));const f=getPixelRatio(),[m,b]=(e=>{let n=120,r=64;const i=t.image,a=t.content,l=t.width,u=t.height;if(!i&&e.measureText){e.font=`${Number(o.value)}px ${s.value}`;const t=Array.isArray(a)?a:[a],i=t.map((t=>{const n=e.measureText(t);return[n.width,void 0!==n.fontBoundingBoxAscent?n.fontBoundingBoxAscent+n.fontBoundingBoxDescent:n.actualBoundingBoxAscent+n.actualBoundingBoxDescent]}));n=Math.ceil(Math.max(...i.map((e=>e[0])))),r=Math.ceil(Math.max(...i.map((e=>e[1]))))*t.length+(t.length-1)*FontGap}return[null!=l?l:n,null!=u?u:r]})(e),C=e=>{const[t,n]=E(e||"",p,f,m,b,{color:r.value,fontSize:o.value,fontStyle:a.value,fontWeight:i.value,fontFamily:s.value,textAlign:l.value,textBaseline:u.value},c.value,d.value);((e,t)=>{var n;g.value&&v.value&&(y.value=!0,v.value.setAttribute("style",getStyleStr({..._(),backgroundImage:`url('${e}')`,backgroundSize:`${Math.floor(t)}px`})),null==(n=g.value)||n.append(v.value),setTimeout((()=>{y.value=!1})))})(t,n)};if(n){const e=new Image;e.onload=()=>{C(e)},e.onerror=()=>{C(h)},e.crossOrigin="anonymous",e.referrerPolicy="no-referrer",e.src=n}else C(h)}};onMounted((()=>{C()})),watch((()=>t),(()=>{C()}),{deep:!0,flush:"post"}),onBeforeUnmount((()=>{b()}));return useMutationObserver(g,(e=>{y.value||e.forEach((e=>{reRendering(e,v.value)&&(b(),C())}))}),{attributes:!0,subtree:!0,childList:!0}),(e,t)=>(openBlock(),createElementBlock("div",{ref_key:"containerRef",ref:g,style:normalizeStyle([n])},[renderSlot(e.$slots,"default")],4))}});var Watermark=_export_sfc(_sfc_main$1f,[["__file","watermark.vue"]]);const ElWatermark=withInstall(Watermark);var Components=[ElAffix,ElAlert,ElAutocomplete,ElAutoResizer,ElAvatar,ElBacktop,ElBadge,ElBreadcrumb,ElBreadcrumbItem,ElButton,ElButtonGroup$1,ElCalendar,ElCard,ElCarousel,ElCarouselItem,ElCascader,ElCascaderPanel,ElCheckTag,ElCheckbox,ElCheckboxButton,ElCheckboxGroup$1,ElCol,ElCollapse,ElCollapseItem,ElCollapseTransition,ElColorPicker,ElConfigProvider,ElContainer,ElAside,ElFooter,ElHeader,ElMain,ElDatePicker,ElDescriptions,ElDescriptionsItem,ElDialog,ElDivider,ElDrawer,ElDropdown,ElDropdownItem,ElDropdownMenu,ElEmpty,ElForm,ElFormItem,ElIcon,ElImage,ElImageViewer,ElInput,ElInputNumber,ElLink,ElMenu,ElMenuItem,ElMenuItemGroup,ElSubMenu,ElPageHeader,ElPagination,ElPopconfirm,ElPopover,ElPopper,ElProgress,ElRadio,ElRadioButton,ElRadioGroup,ElRate,ElResult,ElRow,ElScrollbar,ElSelect,ElOption,ElOptionGroup,ElSelectV2,ElSkeleton,ElSkeletonItem,ElSlider,ElSpace,ElStatistic,ElCountdown,ElSteps,ElStep,ElSwitch,ElTable,ElTableColumn,ElTableV2,ElTabs,ElTabPane,ElTag,ElText,ElTimePicker,ElTimeSelect,ElTimeline,ElTimelineItem,ElTooltip,ElTooltipV2,ElTransfer,ElTree,ElTreeSelect,ElTreeV2,ElUpload,ElWatermark];const SCOPE="ElInfiniteScroll",CHECK_INTERVAL=50,DEFAULT_DELAY=200,DEFAULT_DISTANCE=0,attributes={delay:{type:Number,default:DEFAULT_DELAY},distance:{type:Number,default:DEFAULT_DISTANCE},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},getScrollOptions=(e,t)=>Object.entries(attributes).reduce(((n,[r,o])=>{var i,a;const{type:s,default:l}=o,u=e.getAttribute(`infinite-scroll-${r}`);let c=null!=(a=null!=(i=t[u])?i:u)?a:l;return c="false"!==c&&c,c=s(c),n[r]=Number.isNaN(c)?l:c,n}),{}),destroyObserver=e=>{const{observer:t}=e[SCOPE];t&&(t.disconnect(),delete e[SCOPE].observer)},handleScroll=(e,t)=>{const{container:n,containerEl:r,instance:o,observer:i,lastScrollTop:a}=e[SCOPE],{disabled:s,distance:l}=getScrollOptions(e,o),{clientHeight:u,scrollHeight:c,scrollTop:d}=r,h=d-a;if(e[SCOPE].lastScrollTop=d,i||s||h<0)return;let p=!1;if(n===e)p=c-(u+d)<=l;else{const{clientTop:t,scrollHeight:n}=e;p=d+u>=getOffsetTopDistance(e,r)+t+n-l}p&&t.call(o)};function checkFull(e,t){const{containerEl:n,instance:r}=e[SCOPE],{disabled:o}=getScrollOptions(e,r);o||0===n.clientHeight||(n.scrollHeight<=n.clientHeight?t.call(r):destroyObserver(e))}const InfiniteScroll={async mounted(e,t){const{instance:n,value:r}=t;isFunction$2(r)||throwError(SCOPE,"'v-infinite-scroll' binding value must be a function"),await nextTick();const{delay:o,immediate:i}=getScrollOptions(e,n),a=getScrollContainer(e,!0),s=a===window?document.documentElement:a,l=throttle(handleScroll.bind(null,e,r),o);if(a){if(e[SCOPE]={instance:n,container:a,containerEl:s,delay:o,cb:r,onScroll:l,lastScrollTop:s.scrollTop},i){const t=new MutationObserver(throttle(checkFull.bind(null,e,r),CHECK_INTERVAL));e[SCOPE].observer=t,t.observe(e,{childList:!0,subtree:!0}),checkFull(e,r)}a.addEventListener("scroll",l)}},unmounted(e){const{container:t,onScroll:n}=e[SCOPE];null==t||t.removeEventListener("scroll",n),destroyObserver(e)},async updated(e){if(e[SCOPE]){const{containerEl:t,cb:n,observer:r}=e[SCOPE];t.clientHeight&&r&&checkFull(e,n)}else await nextTick()}},_InfiniteScroll=InfiniteScroll;_InfiniteScroll.install=e=>{e.directive("InfiniteScroll",_InfiniteScroll)};const ElInfiniteScroll=_InfiniteScroll;function createLoadingComponent(e){let t;const n=ref(!1),r=reactive({...e,originalPosition:"",originalOverflow:"",visible:!1});function o(){var e,t;null==(t=null==(e=s.$el)?void 0:e.parentNode)||t.removeChild(s.$el)}function i(){if(!n.value)return;const e=r.parent;n.value=!1,e.vLoadingAddClassList=void 0,function(){const e=r.parent,t=s.ns;if(!e.vLoadingAddClassList){let n=e.getAttribute("loading-number");n=Number.parseInt(n)-1,n?e.setAttribute("loading-number",n.toString()):(removeClass(e,t.bm("parent","relative")),e.removeAttribute("loading-number")),removeClass(e,t.bm("parent","hidden"))}o(),a.unmount()}()}const a=createApp$1(defineComponent({name:"ElLoading",setup(e,{expose:t}){const{ns:n,zIndex:o}=useGlobalComponentSettings("loading");return t({ns:n,zIndex:o}),()=>{const e=r.spinner||r.svg,t=h$1("svg",{class:"circular",viewBox:r.svgViewBox?r.svgViewBox:"0 0 50 50",...e?{innerHTML:e}:{}},[h$1("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),o=r.text?h$1("p",{class:n.b("text")},[r.text]):void 0;return h$1(Transition,{name:n.b("fade"),onAfterLeave:i},{default:withCtx((()=>[withDirectives(createVNode("div",{style:{backgroundColor:r.background||""},class:[n.b("mask"),r.customClass,r.fullscreen?"is-fullscreen":""]},[h$1("div",{class:n.b("spinner")},[t,o])]),[[vShow,r.visible]])]))})}}})),s=a.mount(document.createElement("div"));return{...toRefs(r),setText:function(e){r.text=e},removeElLoadingChild:o,close:function(){var o;e.beforeClose&&!e.beforeClose()||(n.value=!0,clearTimeout(t),t=window.setTimeout(i,400),r.visible=!1,null==(o=e.closed)||o.call(e))},handleAfterLeave:i,vm:s,get $el(){return s.$el}}}let fullscreenInstance;const Loading=function(e={}){if(!isClient$1)return;const t=resolveOptions(e);if(t.fullscreen&&fullscreenInstance)return fullscreenInstance;const n=createLoadingComponent({...t,closed:()=>{var e;null==(e=t.closed)||e.call(t),t.fullscreen&&(fullscreenInstance=void 0)}});addStyle(t,t.parent,n),addClassList(t,t.parent,n),t.parent.vLoadingAddClassList=()=>addClassList(t,t.parent,n);let r=t.parent.getAttribute("loading-number");return r=r?`${Number.parseInt(r)+1}`:"1",t.parent.setAttribute("loading-number",r),t.parent.appendChild(n.$el),nextTick((()=>n.visible.value=t.visible)),t.fullscreen&&(fullscreenInstance=n),n},resolveOptions=e=>{var t,n,r,o;let i;return i=isString$1(e.target)?null!=(t=document.querySelector(e.target))?t:document.body:e.target||document.body,{parent:i===document.body||e.body?document.body:i,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:i===document.body&&(null==(n=e.fullscreen)||n),lock:null!=(r=e.lock)&&r,customClass:e.customClass||"",visible:null==(o=e.visible)||o,target:i}},addStyle=async(e,t,n)=>{const{nextZIndex:r}=n.vm.zIndex||n.vm._.exposed.zIndex,o={};if(e.fullscreen)n.originalPosition.value=getStyle(document.body,"position"),n.originalOverflow.value=getStyle(document.body,"overflow"),o.zIndex=r();else if(e.parent===document.body){n.originalPosition.value=getStyle(document.body,"position"),await nextTick();for(const t of["top","left"]){const n="top"===t?"scrollTop":"scrollLeft";o[t]=e.target.getBoundingClientRect()[t]+document.body[n]+document.documentElement[n]-Number.parseInt(getStyle(document.body,`margin-${t}`),10)+"px"}for(const t of["height","width"])o[t]=`${e.target.getBoundingClientRect()[t]}px`}else n.originalPosition.value=getStyle(t,"position");for(const[i,a]of Object.entries(o))n.$el.style[i]=a},addClassList=(e,t,n)=>{const r=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?removeClass(t,r.bm("parent","relative")):addClass(t,r.bm("parent","relative")),e.fullscreen&&e.lock?addClass(t,r.bm("parent","hidden")):removeClass(t,r.bm("parent","hidden"))},INSTANCE_KEY=Symbol("ElLoading"),createInstance=(e,t)=>{var n,r,o,i;const a=t.instance,s=e=>isObject$2(t.value)?t.value[e]:void 0,l=t=>(e=>{const t=isString$1(e)&&(null==a?void 0:a[e])||e;return t?ref(t):t})(s(t)||e.getAttribute(`element-loading-${hyphenate(t)}`)),u=null!=(n=s("fullscreen"))?n:t.modifiers.fullscreen,c={text:l("text"),svg:l("svg"),svgViewBox:l("svgViewBox"),spinner:l("spinner"),background:l("background"),customClass:l("customClass"),fullscreen:u,target:null!=(r=s("target"))?r:u?void 0:e,body:null!=(o=s("body"))?o:t.modifiers.body,lock:null!=(i=s("lock"))?i:t.modifiers.lock};e[INSTANCE_KEY]={options:c,instance:Loading(c)}},updateOptions=(e,t)=>{for(const n of Object.keys(t))isRef(t[n])&&(t[n].value=e[n])},vLoading={mounted(e,t){t.value&&createInstance(e,t)},updated(e,t){const n=e[INSTANCE_KEY];t.oldValue!==t.value&&(t.value&&!t.oldValue?createInstance(e,t):t.value&&t.oldValue?isObject$2(t.value)&&updateOptions(t.value,n.options):null==n||n.instance.close())},unmounted(e){var t;null==(t=e[INSTANCE_KEY])||t.instance.close()}},ElLoading={install(e){e.directive("loading",vLoading),e.config.globalProperties.$loading=Loading},directive:vLoading,service:Loading},messageTypes=["success","info","warning","error"],messageDefaults=mutable({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:isClient$1?document.body:void 0}),messageProps=buildProps({customClass:{type:String,default:messageDefaults.customClass},center:{type:Boolean,default:messageDefaults.center},dangerouslyUseHTMLString:{type:Boolean,default:messageDefaults.dangerouslyUseHTMLString},duration:{type:Number,default:messageDefaults.duration},icon:{type:iconPropType,default:messageDefaults.icon},id:{type:String,default:messageDefaults.id},message:{type:definePropType([String,Object,Function]),default:messageDefaults.message},onClose:{type:definePropType(Function),required:!1},showClose:{type:Boolean,default:messageDefaults.showClose},type:{type:String,values:messageTypes,default:messageDefaults.type},offset:{type:Number,default:messageDefaults.offset},zIndex:{type:Number,default:messageDefaults.zIndex},grouping:{type:Boolean,default:messageDefaults.grouping},repeatNum:{type:Number,default:messageDefaults.repeatNum}}),messageEmits={destroy:()=>!0},instances=shallowReactive([]),getInstance=e=>{const t=instances.findIndex((t=>t.id===e)),n=instances[t];let r;return t>0&&(r=instances[t-1]),{current:n,prev:r}},getLastOffset=e=>{const{prev:t}=getInstance(e);return t?t.vm.exposed.bottom.value:0},getOffsetOrSpace=(e,t)=>instances.findIndex((t=>t.id===e))>0?20:t,_hoisted_1$10=["id"],_hoisted_2$H=["innerHTML"],__default__$1=defineComponent({name:"ElMessage"}),_sfc_main$1e=defineComponent({...__default__$1,props:messageProps,emits:messageEmits,setup(e,{expose:t}){const n=e,{Close:r}=TypeComponents,{ns:o,zIndex:i}=useGlobalComponentSettings("message"),{currentZIndex:a,nextZIndex:s}=i,l=ref(),u=ref(!1),c=ref(0);let d;const h=computed((()=>n.type?"error"===n.type?"danger":n.type:"info")),p=computed((()=>{const e=n.type;return{[o.bm("icon",e)]:e&&TypeComponentsMap[e]}})),f=computed((()=>n.icon||TypeComponentsMap[n.type]||"")),m=computed((()=>getLastOffset(n.id))),_=computed((()=>getOffsetOrSpace(n.id,n.offset)+m.value)),g=computed((()=>c.value+_.value)),v=computed((()=>({top:`${_.value}px`,zIndex:a.value})));function y(){0!==n.duration&&({stop:d}=useTimeoutFn((()=>{E()}),n.duration))}function b(){null==d||d()}function E(){u.value=!1}return onMounted((()=>{y(),s(),u.value=!0})),watch((()=>n.repeatNum),(()=>{b(),y()})),useEventListener$1(document,"keydown",(function({code:e}){e===EVENT_CODE.esc&&E()})),useResizeObserver(l,(()=>{c.value=l.value.getBoundingClientRect().height})),t({visible:u,bottom:g,close:E}),(e,t)=>(openBlock(),createBlock(Transition,{name:unref(o).b("fade"),onBeforeLeave:e.onClose,onAfterLeave:t[0]||(t[0]=t=>e.$emit("destroy")),persisted:""},{default:withCtx((()=>[withDirectives(createBaseVNode("div",{id:e.id,ref_key:"messageRef",ref:l,class:normalizeClass([unref(o).b(),{[unref(o).m(e.type)]:e.type&&!e.icon},unref(o).is("center",e.center),unref(o).is("closable",e.showClose),e.customClass]),style:normalizeStyle(unref(v)),role:"alert",onMouseenter:b,onMouseleave:y},[e.repeatNum>1?(openBlock(),createBlock(unref(ElBadge),{key:0,value:e.repeatNum,type:unref(h),class:normalizeClass(unref(o).e("badge"))},null,8,["value","type","class"])):createCommentVNode("v-if",!0),unref(f)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(o).e("icon"),unref(p)])},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(f))))])),_:1},8,["class"])):createCommentVNode("v-if",!0),renderSlot(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" Caution here, message could've been compromised, never use user's input as message "),createBaseVNode("p",{class:normalizeClass(unref(o).e("content")),innerHTML:e.message},null,10,_hoisted_2$H)],2112)):(openBlock(),createElementBlock("p",{key:0,class:normalizeClass(unref(o).e("content"))},toDisplayString(e.message),3))])),e.showClose?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass(unref(o).e("closeBtn")),onClick:withModifiers(E,["stop"])},{default:withCtx((()=>[createVNode(unref(r))])),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],46,_hoisted_1$10),[[vShow,u.value]])])),_:3},8,["name","onBeforeLeave"]))}});var MessageConstructor=_export_sfc(_sfc_main$1e,[["__file","message.vue"]]);let seed$1=1;const normalizeOptions=e=>{const t=!e||isString$1(e)||isVNode(e)||isFunction$2(e)?{message:e}:e,n={...messageDefaults,...t};if(n.appendTo){if(isString$1(n.appendTo)){let e=document.querySelector(n.appendTo);isElement$1(e)||(e=document.body),n.appendTo=e}}else n.appendTo=document.body;return n},closeMessage=e=>{const t=instances.indexOf(e);if(-1===t)return;instances.splice(t,1);const{handler:n}=e;n.close()},createMessage=({appendTo:e,...t},n)=>{const r="message_"+seed$1++,o=t.onClose,i=document.createElement("div"),a={...t,id:r,onClose:()=>{null==o||o(),closeMessage(c)},onDestroy:()=>{render$1(null,i)}},s=createVNode(MessageConstructor,a,isFunction$2(a.message)||isVNode(a.message)?{default:isFunction$2(a.message)?a.message:()=>a.message}:null);s.appContext=n||message._context,render$1(s,i),e.appendChild(i.firstElementChild);const l=s.component,u={close:()=>{l.exposed.visible.value=!1}},c={id:r,vnode:s,vm:l,handler:u,props:s.component.props};return c},message=(e={},t)=>{if(!isClient$1)return{close:()=>{}};if(isNumber(messageConfig.max)&&instances.length>=messageConfig.max)return{close:()=>{}};const n=normalizeOptions(e);if(n.grouping&&instances.length){const e=instances.find((({vnode:e})=>{var t;return(null==(t=e.props)?void 0:t.message)===n.message}));if(e)return e.props.repeatNum+=1,e.props.type=n.type,e.handler}const r=createMessage(n,t);return instances.push(r),r.handler};function closeAll$1(e){for(const t of instances)e&&e!==t.props.type||t.handler.close()}messageTypes.forEach((e=>{message[e]=(t={},n)=>{const r=normalizeOptions(t);return message({...r,type:e},n)}})),message.closeAll=closeAll$1,message._context=null;const ElMessage=withInstallFunction(message,"$message"),_sfc_main$1d=defineComponent({name:"ElMessageBox",directives:{TrapFocus:TrapFocus},components:{ElButton:ElButton,ElFocusTrap:ElFocusTrap,ElInput:ElInput,ElOverlay:ElOverlay,ElIcon:ElIcon,...TypeComponents},inheritAttrs:!1,props:{buttonSize:{type:String,validator:isValidComponentSize},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:n,zIndex:r,ns:o,size:i}=useGlobalComponentSettings("message-box",computed((()=>e.buttonSize))),{t:a}=n,{nextZIndex:s}=r,l=ref(!1),u=reactive({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:s()}),c=computed((()=>{const e=u.type;return{[o.bm("icon",e)]:e&&TypeComponentsMap[e]}})),d=useId(),h=useId(),p=computed((()=>u.icon||TypeComponentsMap[u.type]||"")),f=computed((()=>!!u.message)),m=ref(),_=ref(),g=ref(),v=ref(),y=ref(),b=computed((()=>u.confirmButtonClass));watch((()=>u.inputValue),(async t=>{await nextTick(),"prompt"===e.boxType&&null!==t&&T()}),{immediate:!0}),watch((()=>l.value),(t=>{var n,r;t&&("prompt"!==e.boxType&&(u.autofocus?g.value=null!=(r=null==(n=y.value)?void 0:n.$el)?r:m.value:g.value=m.value),u.zIndex=s()),"prompt"===e.boxType&&(t?nextTick().then((()=>{var e;v.value&&v.value.$el&&(u.autofocus?g.value=null!=(e=k())?e:m.value:g.value=m.value)})):(u.editorErrorMessage="",u.validateError=!1))}));const E=computed((()=>e.draggable));function C(){l.value&&(l.value=!1,nextTick((()=>{u.action&&t("action",u.action)})))}useDraggable(m,_,E),onMounted((async()=>{await nextTick(),e.closeOnHashChange&&window.addEventListener("hashchange",C)})),onBeforeUnmount((()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",C)}));const x=()=>{e.closeOnClickModal&&S(u.distinguishCancelAndClose?"close":"cancel")},w=useSameTarget(x),S=t=>{var n;("prompt"!==e.boxType||"confirm"!==t||T())&&(u.action=t,u.beforeClose?null==(n=u.beforeClose)||n.call(u,t,u,C):C())},T=()=>{if("prompt"===e.boxType){const e=u.inputPattern;if(e&&!e.test(u.inputValue||""))return u.editorErrorMessage=u.inputErrorMessage||a("el.messagebox.error"),u.validateError=!0,!1;const t=u.inputValidator;if("function"==typeof t){const e=t(u.inputValue);if(!1===e)return u.editorErrorMessage=u.inputErrorMessage||a("el.messagebox.error"),u.validateError=!0,!1;if("string"==typeof e)return u.editorErrorMessage=e,u.validateError=!0,!1}}return u.editorErrorMessage="",u.validateError=!1,!0},k=()=>{const e=v.value.$refs;return e.input||e.textarea},L=()=>{S("close")};return e.lockScroll&&useLockscreen(l),{...toRefs(u),ns:o,overlayEvent:w,visible:l,hasMessage:f,typeClass:c,contentId:d,inputId:h,btnSize:i,iconComponent:p,confirmButtonClasses:b,rootRef:m,focusStartRef:g,headerRef:_,inputRef:v,confirmRef:y,doClose:C,handleClose:L,onCloseRequested:()=>{e.closeOnPressEscape&&L()},handleWrapperClick:x,handleInputEnter:e=>{if("textarea"!==u.inputType)return e.preventDefault(),S("confirm")},handleAction:S,t:a}}}),_hoisted_1$$=["aria-label","aria-describedby"],_hoisted_2$G=["aria-label"],_hoisted_3$w=["id"];function _sfc_render$c(e,t,n,r,o,i){const a=resolveComponent("el-icon"),s=resolveComponent("close"),l=resolveComponent("el-input"),u=resolveComponent("el-button"),c=resolveComponent("el-focus-trap"),d=resolveComponent("el-overlay");return openBlock(),createBlock(Transition,{name:"fade-in-linear",onAfterLeave:t[11]||(t[11]=t=>e.$emit("vanish")),persisted:""},{default:withCtx((()=>[withDirectives(createVNode(d,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:withCtx((()=>[createBaseVNode("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:normalizeClass(`${e.ns.namespace.value}-overlay-message-box`),onClick:t[8]||(t[8]=(...t)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...t)),onMousedown:t[9]||(t[9]=(...t)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...t)),onMouseup:t[10]||(t[10]=(...t)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...t))},[createVNode(c,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:withCtx((()=>[createBaseVNode("div",{ref:"rootRef",class:normalizeClass([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:normalizeStyle(e.customStyle),tabindex:"-1",onClick:t[7]||(t[7]=withModifiers((()=>{}),["stop"]))},[null!==e.title&&void 0!==e.title?(openBlock(),createElementBlock("div",{key:0,ref:"headerRef",class:normalizeClass(e.ns.e("header"))},[createBaseVNode("div",{class:normalizeClass(e.ns.e("title"))},[e.iconComponent&&e.center?(openBlock(),createBlock(a,{key:0,class:normalizeClass([e.ns.e("status"),e.typeClass])},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.iconComponent)))])),_:1},8,["class"])):createCommentVNode("v-if",!0),createBaseVNode("span",null,toDisplayString(e.title),1)],2),e.showClose?(openBlock(),createElementBlock("button",{key:0,type:"button",class:normalizeClass(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:t[0]||(t[0]=t=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:t[1]||(t[1]=withKeys(withModifiers((t=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),["prevent"]),["enter"]))},[createVNode(a,{class:normalizeClass(e.ns.e("close"))},{default:withCtx((()=>[createVNode(s)])),_:1},8,["class"])],42,_hoisted_2$G)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{id:e.contentId,class:normalizeClass(e.ns.e("content"))},[createBaseVNode("div",{class:normalizeClass(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(openBlock(),createBlock(a,{key:0,class:normalizeClass([e.ns.e("status"),e.typeClass])},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(e.iconComponent)))])),_:1},8,["class"])):createCommentVNode("v-if",!0),e.hasMessage?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(e.ns.e("message"))},[renderSlot(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(openBlock(),createBlock(resolveDynamicComponent(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(openBlock(),createBlock(resolveDynamicComponent(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:withCtx((()=>[createTextVNode(toDisplayString(e.dangerouslyUseHTMLString?"":e.message),1)])),_:1},8,["for"]))]))],2)):createCommentVNode("v-if",!0)],2),withDirectives(createBaseVNode("div",{class:normalizeClass(e.ns.e("input"))},[createVNode(l,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":t[2]||(t[2]=t=>e.inputValue=t),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:normalizeClass({invalid:e.validateError}),onKeydown:withKeys(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),createBaseVNode("div",{class:normalizeClass(e.ns.e("errormsg")),style:normalizeStyle({visibility:e.editorErrorMessage?"visible":"hidden"})},toDisplayString(e.editorErrorMessage),7)],2),[[vShow,e.showInput]])],10,_hoisted_3$w),createBaseVNode("div",{class:normalizeClass(e.ns.e("btns"))},[e.showCancelButton?(openBlock(),createBlock(u,{key:0,loading:e.cancelButtonLoading,class:normalizeClass([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:t[3]||(t[3]=t=>e.handleAction("cancel")),onKeydown:t[4]||(t[4]=withKeys(withModifiers((t=>e.handleAction("cancel")),["prevent"]),["enter"]))},{default:withCtx((()=>[createTextVNode(toDisplayString(e.cancelButtonText||e.t("el.messagebox.cancel")),1)])),_:1},8,["loading","class","round","size"])):createCommentVNode("v-if",!0),withDirectives(createVNode(u,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,class:normalizeClass([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:t[5]||(t[5]=t=>e.handleAction("confirm")),onKeydown:t[6]||(t[6]=withKeys(withModifiers((t=>e.handleAction("confirm")),["prevent"]),["enter"]))},{default:withCtx((()=>[createTextVNode(toDisplayString(e.confirmButtonText||e.t("el.messagebox.confirm")),1)])),_:1},8,["loading","class","round","disabled","size"]),[[vShow,e.showConfirmButton]])],2)],6)])),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,_hoisted_1$$)])),_:3},8,["z-index","overlay-class","mask"]),[[vShow,e.visible]])])),_:3})}var MessageBoxConstructor=_export_sfc(_sfc_main$1d,[["render",_sfc_render$c],["__file","index.vue"]]);const messageInstance=new Map,getAppendToElement=e=>{let t=document.body;return e.appendTo&&(isString$1(e.appendTo)&&(t=document.querySelector(e.appendTo)),isElement$1(e.appendTo)&&(t=e.appendTo),isElement$1(t)||(t=document.body)),t},initInstance=(e,t,n=null)=>{const r=createVNode(MessageBoxConstructor,e,isFunction$2(e.message)||isVNode(e.message)?{default:isFunction$2(e.message)?e.message:()=>e.message}:null);return r.appContext=n,render$1(r,t),getAppendToElement(e).appendChild(t.firstElementChild),r.component},genContainer=()=>document.createElement("div"),showMessage=(e,t)=>{const n=genContainer();e.onVanish=()=>{render$1(null,n),messageInstance.delete(o)},e.onAction=t=>{const n=messageInstance.get(o);let i;i=e.showInput?{value:o.inputValue,action:t}:t,e.callback?e.callback(i,r.proxy):"cancel"===t||"close"===t?e.distinguishCancelAndClose&&"cancel"!==t?n.reject("close"):n.reject("cancel"):n.resolve(i)};const r=initInstance(e,n,t),o=r.proxy;for(const i in e)hasOwn(e,i)&&!hasOwn(o.$props,i)&&(o[i]=e[i]);return o.visible=!0,o};function MessageBox(e,t=null){if(!isClient$1)return Promise.reject();let n;return isString$1(e)||isVNode(e)?e={message:e}:n=e.callback,new Promise(((r,o)=>{const i=showMessage(e,null!=t?t:MessageBox._context);messageInstance.set(i,{options:e,callback:n,resolve:r,reject:o})}))}const MESSAGE_BOX_VARIANTS=["alert","confirm","prompt"],MESSAGE_BOX_DEFAULT_OPTS={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};function messageBoxFactory(e){return(t,n,r,o)=>{let i="";return isObject$2(n)?(r=n,i=""):i=isUndefined(n)?"":n,MessageBox(Object.assign({title:i,message:t,type:"",...MESSAGE_BOX_DEFAULT_OPTS[e]},r,{boxType:e}),o)}}MESSAGE_BOX_VARIANTS.forEach((e=>{MessageBox[e]=messageBoxFactory(e)})),MessageBox.close=()=>{messageInstance.forEach(((e,t)=>{t.doClose()})),messageInstance.clear()},MessageBox._context=null;const _MessageBox=MessageBox;_MessageBox.install=e=>{_MessageBox._context=e._context,e.config.globalProperties.$msgbox=_MessageBox,e.config.globalProperties.$messageBox=_MessageBox,e.config.globalProperties.$alert=_MessageBox.alert,e.config.globalProperties.$confirm=_MessageBox.confirm,e.config.globalProperties.$prompt=_MessageBox.prompt};const ElMessageBox=_MessageBox,notificationTypes=["success","info","warning","error"],notificationProps=buildProps({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:iconPropType},id:{type:String,default:""},message:{type:definePropType([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:definePropType(Function),default:()=>{}},onClose:{type:definePropType(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...notificationTypes,""],default:""},zIndex:Number}),notificationEmits={destroy:()=>!0},_hoisted_1$_=["id"],_hoisted_2$F=["textContent"],_hoisted_3$v={key:0},_hoisted_4$h=["innerHTML"],__default__=defineComponent({name:"ElNotification"}),_sfc_main$1c=defineComponent({...__default__,props:notificationProps,emits:notificationEmits,setup(e,{expose:t}){const n=e,{ns:r,zIndex:o}=useGlobalComponentSettings("notification"),{nextZIndex:i,currentZIndex:a}=o,{Close:s}=CloseComponents,l=ref(!1);let u;const c=computed((()=>{const e=n.type;return e&&TypeComponentsMap[n.type]?r.m(e):""})),d=computed((()=>n.type&&TypeComponentsMap[n.type]||n.icon)),h=computed((()=>n.position.endsWith("right")?"right":"left")),p=computed((()=>n.position.startsWith("top")?"top":"bottom")),f=computed((()=>{var e;return{[p.value]:`${n.offset}px`,zIndex:null!=(e=n.zIndex)?e:a.value}}));function m(){n.duration>0&&({stop:u}=useTimeoutFn((()=>{l.value&&g()}),n.duration))}function _(){null==u||u()}function g(){l.value=!1}return onMounted((()=>{m(),i(),l.value=!0})),useEventListener$1(document,"keydown",(function({code:e}){e===EVENT_CODE.delete||e===EVENT_CODE.backspace?_():e===EVENT_CODE.esc?l.value&&g():m()})),t({visible:l,close:g}),(e,t)=>(openBlock(),createBlock(Transition,{name:unref(r).b("fade"),onBeforeLeave:e.onClose,onAfterLeave:t[1]||(t[1]=t=>e.$emit("destroy")),persisted:""},{default:withCtx((()=>[withDirectives(createBaseVNode("div",{id:e.id,class:normalizeClass([unref(r).b(),e.customClass,unref(h)]),style:normalizeStyle(unref(f)),role:"alert",onMouseenter:_,onMouseleave:m,onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},[unref(d)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(r).e("icon"),unref(c)])},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(d))))])),_:1},8,["class"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(r).e("group"))},[createBaseVNode("h2",{class:normalizeClass(unref(r).e("title")),textContent:toDisplayString(e.title)},null,10,_hoisted_2$F),withDirectives(createBaseVNode("div",{class:normalizeClass(unref(r).e("content")),style:normalizeStyle(e.title?void 0:{margin:0})},[renderSlot(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" Caution here, message could've been compromised, never use user's input as message "),createBaseVNode("p",{innerHTML:e.message},null,8,_hoisted_4$h)],2112)):(openBlock(),createElementBlock("p",_hoisted_3$v,toDisplayString(e.message),1))]))],6),[[vShow,e.message]]),e.showClose?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(r).e("closeBtn")),onClick:withModifiers(g,["stop"])},{default:withCtx((()=>[createVNode(unref(s))])),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],2)],46,_hoisted_1$_),[[vShow,l.value]])])),_:3},8,["name","onBeforeLeave"]))}});var NotificationConstructor=_export_sfc(_sfc_main$1c,[["__file","notification.vue"]]);const notifications={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},GAP_SIZE=16;let seed=1;const notify=function(e={},t=null){if(!isClient$1)return{close:()=>{}};("string"==typeof e||isVNode(e))&&(e={message:e});const n=e.position||"top-right";let r=e.offset||0;notifications[n].forEach((({vm:e})=>{var t;r+=((null==(t=e.el)?void 0:t.offsetHeight)||0)+GAP_SIZE})),r+=GAP_SIZE;const o="notification_"+seed++,i=e.onClose,a={...e,offset:r,id:o,onClose:()=>{close(o,n,i)}};let s=document.body;isElement$1(e.appendTo)?s=e.appendTo:isString$1(e.appendTo)&&(s=document.querySelector(e.appendTo)),isElement$1(s)||(s=document.body);const l=document.createElement("div"),u=createVNode(NotificationConstructor,a,isVNode(a.message)?{default:()=>a.message}:null);return u.appContext=null!=t?t:notify._context,u.props.onDestroy=()=>{render$1(null,l)},render$1(u,l),notifications[n].push({vm:u}),s.appendChild(l.firstElementChild),{close:()=>{u.component.exposed.visible.value=!1}}};function close(e,t,n){const r=notifications[t],o=r.findIndex((({vm:t})=>{var n;return(null==(n=t.component)?void 0:n.props.id)===e}));if(-1===o)return;const{vm:i}=r[o];if(!i)return;null==n||n(i);const a=i.el.offsetHeight,s=t.split("-")[0];r.splice(o,1);const l=r.length;if(!(l<1))for(let u=o;u<l;u++){const{el:e,component:t}=r[u].vm,n=Number.parseInt(e.style[s],10)-a-GAP_SIZE;t.props.offset=n}}function closeAll(){for(const e of Object.values(notifications))e.forEach((({vm:e})=>{e.component.exposed.visible.value=!1}))}notificationTypes.forEach((e=>{notify[e]=(t={})=>(("string"==typeof t||isVNode(t))&&(t={message:t}),notify({...t,type:e}))})),notify.closeAll=closeAll,notify._context=null;const ElNotification=withInstallFunction(notify,"$notify");var Plugins=[ElInfiniteScroll,ElLoading,ElMessage,ElMessageBox,ElNotification,ElPopoverDirective],installer=makeInstaller([...Components,...Plugins]);const install=installer.install,version=installer.version,index=Object.freeze(Object.defineProperty({__proto__:null,BAR_MAP:BAR_MAP,CASCADER_PANEL_INJECTION_KEY:CASCADER_PANEL_INJECTION_KEY,CHANGE_EVENT:CHANGE_EVENT,ClickOutside:ClickOutside,CommonPicker:CommonPicker,CommonProps:CommonProps,DEFAULT_FORMATS_DATE:DEFAULT_FORMATS_DATE,DEFAULT_FORMATS_DATEPICKER:DEFAULT_FORMATS_DATEPICKER,DEFAULT_FORMATS_TIME:DEFAULT_FORMATS_TIME,DROPDOWN_COLLECTION_INJECTION_KEY:COLLECTION_INJECTION_KEY,DROPDOWN_COLLECTION_ITEM_INJECTION_KEY:COLLECTION_ITEM_INJECTION_KEY,DROPDOWN_INJECTION_KEY:DROPDOWN_INJECTION_KEY,DefaultProps:DefaultProps,DynamicSizeGrid:DynamicSizeGrid,DynamicSizeList:DynamicSizeList,EVENT_CODE:EVENT_CODE,Effect:Effect,ElAffix:ElAffix,ElAlert:ElAlert,ElAside:ElAside,ElAutoResizer:ElAutoResizer,ElAutocomplete:ElAutocomplete,ElAvatar:ElAvatar,ElBacktop:ElBacktop,ElBadge:ElBadge,ElBreadcrumb:ElBreadcrumb,ElBreadcrumbItem:ElBreadcrumbItem,ElButton:ElButton,ElButtonGroup:ElButtonGroup$1,ElCalendar:ElCalendar,ElCard:ElCard,ElCarousel:ElCarousel,ElCarouselItem:ElCarouselItem,ElCascader:ElCascader,ElCascaderPanel:ElCascaderPanel,ElCheckTag:ElCheckTag,ElCheckbox:ElCheckbox,ElCheckboxButton:ElCheckboxButton,ElCheckboxGroup:ElCheckboxGroup$1,ElCol:ElCol,ElCollapse:ElCollapse,ElCollapseItem:ElCollapseItem,ElCollapseTransition:ElCollapseTransition,ElCollection:ElCollection,ElCollectionItem:ElCollectionItem,ElColorPicker:ElColorPicker,ElConfigProvider:ElConfigProvider,ElContainer:ElContainer,ElCountdown:ElCountdown,ElDatePicker:ElDatePicker,ElDescriptions:ElDescriptions,ElDescriptionsItem:ElDescriptionsItem,ElDialog:ElDialog,ElDivider:ElDivider,ElDrawer:ElDrawer,ElDropdown:ElDropdown,ElDropdownItem:ElDropdownItem,ElDropdownMenu:ElDropdownMenu,ElEmpty:ElEmpty,ElFooter:ElFooter,ElForm:ElForm,ElFormItem:ElFormItem,ElHeader:ElHeader,ElIcon:ElIcon,ElImage:ElImage,ElImageViewer:ElImageViewer,ElInfiniteScroll:ElInfiniteScroll,ElInput:ElInput,ElInputNumber:ElInputNumber,ElLink:ElLink,ElLoading:ElLoading,ElLoadingDirective:vLoading,ElLoadingService:Loading,ElMain:ElMain,ElMenu:ElMenu,ElMenuItem:ElMenuItem,ElMenuItemGroup:ElMenuItemGroup,ElMessage:ElMessage,ElMessageBox:ElMessageBox,ElNotification:ElNotification,ElOption:ElOption,ElOptionGroup:ElOptionGroup,ElOverlay:ElOverlay,ElPageHeader:ElPageHeader,ElPagination:ElPagination,ElPopconfirm:ElPopconfirm,ElPopover:ElPopover,ElPopoverDirective:ElPopoverDirective,ElPopper:ElPopper,ElPopperArrow:ElPopperArrow,ElPopperContent:ElPopperContent,ElPopperTrigger:ElPopperTrigger,ElProgress:ElProgress,ElRadio:ElRadio,ElRadioButton:ElRadioButton,ElRadioGroup:ElRadioGroup,ElRate:ElRate,ElResult:ElResult,ElRow:ElRow,ElScrollbar:ElScrollbar,ElSelect:ElSelect,ElSelectV2:ElSelectV2,ElSkeleton:ElSkeleton,ElSkeletonItem:ElSkeletonItem,ElSlider:ElSlider,ElSpace:ElSpace,ElStatistic:ElStatistic,ElStep:ElStep,ElSteps:ElSteps,ElSubMenu:ElSubMenu,ElSwitch:ElSwitch,ElTabPane:ElTabPane,ElTable:ElTable,ElTableColumn:ElTableColumn,ElTableV2:ElTableV2,ElTabs:ElTabs,ElTag:ElTag,ElText:ElText,ElTimePicker:ElTimePicker,ElTimeSelect:ElTimeSelect,ElTimeline:ElTimeline,ElTimelineItem:ElTimelineItem,ElTooltip:ElTooltip,ElTransfer:ElTransfer,ElTree:ElTree,ElTreeSelect:ElTreeSelect,ElTreeV2:ElTreeV2,ElUpload:ElUpload,ElWatermark:ElWatermark,FIRST_KEYS:FIRST_KEYS,FIRST_LAST_KEYS:FIRST_LAST_KEYS,FORWARD_REF_INJECTION_KEY:FORWARD_REF_INJECTION_KEY,FixedSizeGrid:FixedSizeGrid,FixedSizeList:FixedSizeList,GAP:GAP,ID_INJECTION_KEY:ID_INJECTION_KEY,INPUT_EVENT:INPUT_EVENT,INSTALLED_KEY:INSTALLED_KEY,IconComponentMap:IconComponentMap,IconMap:IconMap,LAST_KEYS:LAST_KEYS,LEFT_CHECK_CHANGE_EVENT:LEFT_CHECK_CHANGE_EVENT,Mousewheel:Mousewheel,POPPER_CONTENT_INJECTION_KEY:POPPER_CONTENT_INJECTION_KEY,POPPER_INJECTION_KEY:POPPER_INJECTION_KEY,RIGHT_CHECK_CHANGE_EVENT:RIGHT_CHECK_CHANGE_EVENT,ROOT_PICKER_INJECTION_KEY:ROOT_PICKER_INJECTION_KEY,RowAlign:RowAlign,RowJustify:RowJustify,SIZE_INJECTION_KEY:SIZE_INJECTION_KEY,TOOLTIP_INJECTION_KEY:TOOLTIP_INJECTION_KEY,TableV2:TableV2,TableV2Alignment:Alignment,TableV2FixedDir:FixedDir,TableV2Placeholder:placeholderSign,TableV2SortOrder:SortOrder,TimePickPanel:TimePickPanel,TrapFocus:TrapFocus,UPDATE_MODEL_EVENT:UPDATE_MODEL_EVENT,WEEK_DAYS:WEEK_DAYS,affixEmits:affixEmits,affixProps:affixProps,alertEffects:alertEffects,alertEmits:alertEmits,alertProps:alertProps,arrowMiddleware:arrowMiddleware,autoResizerProps:autoResizerProps,autocompleteEmits:autocompleteEmits,autocompleteProps:autocompleteProps,avatarEmits:avatarEmits,avatarProps:avatarProps,backtopEmits:backtopEmits,backtopProps:backtopProps,badgeProps:badgeProps,breadcrumbItemProps:breadcrumbItemProps,breadcrumbKey:breadcrumbKey,breadcrumbProps:breadcrumbProps,buildLocaleContext:buildLocaleContext,buildTimeList:buildTimeList,buildTranslator:buildTranslator,buttonEmits:buttonEmits,buttonGroupContextKey:buttonGroupContextKey,buttonNativeTypes:buttonNativeTypes,buttonProps:buttonProps,buttonTypes:buttonTypes,calendarEmits:calendarEmits,calendarProps:calendarProps,cardProps:cardProps,carouselContextKey:carouselContextKey,carouselEmits:carouselEmits,carouselItemProps:carouselItemProps,carouselProps:carouselProps,cascaderEmits:cascaderEmits,cascaderProps:cascaderProps,checkTagEmits:checkTagEmits,checkTagProps:checkTagProps,checkboxEmits:checkboxEmits,checkboxGroupContextKey:checkboxGroupContextKey,checkboxGroupEmits:checkboxGroupEmits,checkboxGroupProps:checkboxGroupProps,checkboxProps:checkboxProps,colProps:colProps,collapseContextKey:collapseContextKey,collapseEmits:collapseEmits,collapseItemProps:collapseItemProps,collapseProps:collapseProps,colorPickerContextKey:colorPickerContextKey,colorPickerEmits:colorPickerEmits,colorPickerProps:colorPickerProps,componentSizeMap:componentSizeMap,componentSizes:componentSizes,configProviderContextKey:configProviderContextKey,configProviderProps:configProviderProps,countdownEmits:countdownEmits,countdownProps:countdownProps,createModelToggleComposable:createModelToggleComposable,dateEquals:dateEquals,datePickTypes:datePickTypes,datePickerProps:datePickerProps,dayjs:dayjs,default:installer,defaultInitialZIndex:defaultInitialZIndex,defaultNamespace:defaultNamespace,descriptionProps:descriptionProps,dialogEmits:dialogEmits,dialogInjectionKey:dialogInjectionKey,dialogProps:dialogProps,dividerProps:dividerProps,drawerEmits:drawerEmits,drawerProps:drawerProps,dropdownItemProps:dropdownItemProps,dropdownMenuProps:dropdownMenuProps,dropdownProps:dropdownProps,elPaginationKey:elPaginationKey,emitChangeFn:emitChangeFn,emptyProps:emptyProps,extractDateFormat:extractDateFormat,extractTimeFormat:extractTimeFormat,formContextKey:formContextKey,formEmits:formEmits,formItemContextKey:formItemContextKey,formItemProps:formItemProps,formItemValidateStates:formItemValidateStates,formProps:formProps,formatter:formatter,genFileId:genFileId,getPositionDataWithUnit:getPositionDataWithUnit,iconProps:iconProps,imageEmits:imageEmits,imageProps:imageProps,imageViewerEmits:imageViewerEmits,imageViewerProps:imageViewerProps,inputEmits:inputEmits,inputNumberEmits:inputNumberEmits,inputNumberProps:inputNumberProps,inputProps:inputProps,install:install,linkEmits:linkEmits,linkProps:linkProps,localeContextKey:localeContextKey,makeInstaller:makeInstaller,makeList:makeList,menuEmits:menuEmits,menuItemEmits:menuItemEmits,menuItemGroupProps:menuItemGroupProps,menuItemProps:menuItemProps,menuProps:menuProps,messageConfig:messageConfig,messageDefaults:messageDefaults,messageEmits:messageEmits,messageProps:messageProps,messageTypes:messageTypes,namespaceContextKey:namespaceContextKey,notificationEmits:notificationEmits,notificationProps:notificationProps,notificationTypes:notificationTypes,overlayEmits:overlayEmits,overlayProps:overlayProps,pageHeaderEmits:pageHeaderEmits,pageHeaderProps:pageHeaderProps,paginationEmits:paginationEmits,paginationProps:paginationProps,parseDate:parseDate,popconfirmEmits:popconfirmEmits,popconfirmProps:popconfirmProps,popoverEmits:popoverEmits,popoverProps:popoverProps,popperArrowProps:popperArrowProps,popperContentEmits:popperContentEmits,popperContentProps:popperContentProps,popperCoreConfigProps:popperCoreConfigProps,popperProps:popperProps,popperTriggerProps:popperTriggerProps,progressProps:progressProps,provideGlobalConfig:provideGlobalConfig,radioButtonProps:radioButtonProps,radioEmits:radioEmits,radioGroupEmits:radioGroupEmits,radioGroupKey:radioGroupKey,radioGroupProps:radioGroupProps,radioProps:radioProps,radioPropsBase:radioPropsBase,rangeArr:rangeArr,rateEmits:rateEmits,rateProps:rateProps,renderThumbStyle:renderThumbStyle$1,resultProps:resultProps,roleTypes:roleTypes,rowContextKey:rowContextKey,rowProps:rowProps,scrollbarContextKey:scrollbarContextKey,scrollbarEmits:scrollbarEmits,scrollbarProps:scrollbarProps,selectGroupKey:selectGroupKey,selectKey:selectKey,selectV2InjectionKey:selectV2InjectionKey,skeletonItemProps:skeletonItemProps,skeletonProps:skeletonProps,sliderContextKey:sliderContextKey,sliderEmits:sliderEmits,sliderProps:sliderProps,spaceProps:spaceProps,statisticProps:statisticProps,stepProps:stepProps,stepsEmits:stepsEmits,stepsProps:stepsProps,subMenuProps:subMenuProps,switchEmits:switchEmits,switchProps:switchProps,tabBarProps:tabBarProps,tabNavEmits:tabNavEmits,tabNavProps:tabNavProps,tabPaneProps:tabPaneProps,tableV2Props:tableV2Props,tableV2RowProps:tableV2RowProps,tabsEmits:tabsEmits,tabsProps:tabsProps,tabsRootContextKey:tabsRootContextKey,tagEmits:tagEmits,tagProps:tagProps,textProps:textProps,thumbProps:thumbProps,timePickerDefaultProps:timePickerDefaultProps,timeUnits:timeUnits$1,timelineItemProps:timelineItemProps,tooltipEmits:tooltipEmits,transferCheckedChangeFn:transferCheckedChangeFn,transferEmits:transferEmits,transferProps:transferProps,translate:translate,uploadBaseProps:uploadBaseProps,uploadContentProps:uploadContentProps,uploadContextKey:uploadContextKey,uploadDraggerEmits:uploadDraggerEmits,uploadDraggerProps:uploadDraggerProps,uploadListEmits:uploadListEmits,uploadListProps:uploadListProps,uploadListTypes:uploadListTypes,uploadProps:uploadProps,useAttrs:useAttrs,useCascaderConfig:useCascaderConfig,useCursor:useCursor,useDelayedRender:useDelayedRender,useDelayedToggle:useDelayedToggle,useDelayedToggleProps:useDelayedToggleProps,useDeprecated:useDeprecated,useDialog:useDialog,useDisabled:useDisabled,useDraggable:useDraggable,useEscapeKeydown:useEscapeKeydown,useFloating:useFloating,useFloatingProps:useFloatingProps,useFocus:useFocus,useFocusController:useFocusController,useFormDisabled:useFormDisabled,useFormItem:useFormItem,useFormItemInputId:useFormItemInputId,useFormSize:useFormSize,useForwardRef:useForwardRef,useForwardRefDirective:useForwardRefDirective,useGetDerivedNamespace:useGetDerivedNamespace,useGlobalComponentSettings:useGlobalComponentSettings,useGlobalConfig:useGlobalConfig,useGlobalSize:useGlobalSize,useId:useId,useIdInjection:useIdInjection,useLocale:useLocale,useLockscreen:useLockscreen,useModal:useModal,useModelToggle:useModelToggle,useModelToggleEmits:useModelToggleEmits,useModelToggleProps:useModelToggleProps,useNamespace:useNamespace,useOrderedChildren:useOrderedChildren,usePopper:usePopper,usePopperArrowProps:usePopperArrowProps,usePopperContainer:usePopperContainer,usePopperContainerId:usePopperContainerId,usePopperContentEmits:usePopperContentEmits,usePopperContentProps:usePopperContentProps,usePopperCoreConfigProps:usePopperCoreConfigProps,usePopperProps:usePopperProps,usePopperTriggerProps:usePopperTriggerProps,usePreventGlobal:usePreventGlobal,useProp:useProp,useSameTarget:useSameTarget,useSize:useSize,useSizeProp:useSizeProp,useSizeProps:useSizeProps,useSpace:useSpace,useTeleport:useTeleport,useThrottleRender:useThrottleRender,useTimeout:useTimeout,useTooltipContentProps:useTooltipContentProps,useTooltipModelToggle:useTooltipModelToggle,useTooltipModelToggleEmits:useTooltipModelToggleEmits,useTooltipModelToggleProps:useTooltipModelToggleProps,useTooltipProps:useTooltipProps,useTooltipTriggerProps:useTooltipTriggerProps,useTransitionFallthrough:useTransitionFallthrough,useTransitionFallthroughEmits:useTransitionFallthroughEmits,useZIndex:useZIndex,vLoading:vLoading,vRepeatClick:vRepeatClick,valueEquals:valueEquals,version:version,virtualizedGridProps:virtualizedGridProps,virtualizedListProps:virtualizedListProps,virtualizedProps:virtualizedProps,virtualizedScrollbarProps:virtualizedScrollbarProps,watermarkProps:watermarkProps,zIndexContextKey:zIndexContextKey},Symbol.toStringTag,{value:"Module"}));var XML_SCHEMA_INSTANCE_URI="http://www.w3.org/2001/XMLSchema-instance";function createElementNS(e,t){return getDocument().createElementNS(e,t)}function getAllTextContent(e,t){return getAllTextContent_(e,t,[]).join("")}function getAllTextContent_(e,t,n){if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE)t?n.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(e.nodeValue);else{var r=void 0;for(r=e.firstChild;r;r=r.nextSibling)getAllTextContent_(r,t,n)}return n}function isDocument(e){return"documentElement"in e}function parse$1(e){return(new DOMParser).parseFromString(e,"application/xml")}function makeArrayExtender(e,t){return function(n,r){var o=e.call(void 0!==t?t:this,n,r);void 0!==o&&extend$3(r[r.length-1],o)}}function makeArrayPusher(e,t){return function(n,r){var o=e.call(void 0!==t?t:this,n,r);void 0!==o&&r[r.length-1].push(o)}}function makeReplacer(e,t){return function(n,r){var o=e.call(void 0!==t?t:this,n,r);void 0!==o&&(r[r.length-1]=o)}}function makeObjectPropertySetter(e,t,n){return function(r,o){var i=e.call(void 0!==n?n:this,r,o);void 0!==i&&(o[o.length-1][void 0!==t?t:r.localName]=i)}}function makeChildAppender(e,t){return function(n,r,o){e.call(void 0!==t?t:this,n,r,o),o[o.length-1].node.appendChild(n)}}function makeArraySerializer(e,t){var n,r;return function(t,o,i){if(void 0===n){n={};var a={};a[t.localName]=e,n[t.namespaceURI]=a,r=makeSimpleNodeFactory(t.localName)}serialize(n,r,o,i)}}function makeSimpleNodeFactory(e,t){var n=e;return function(e,r,o){var i=r[r.length-1].node,a=n;return void 0===a&&(a=o),createElementNS(void 0!==t?t:i.namespaceURI,a)}}var OBJECT_PROPERTY_NODE_FACTORY=makeSimpleNodeFactory();function makeSequence(e,t){for(var n=t.length,r=new Array(n),o=0;o<n;++o)r[o]=e[t[o]];return r}function makeStructureNS(e,t,n){var r,o,i=void 0!==n?n:{};for(r=0,o=e.length;r<o;++r)i[e[r]]=t;return i}function parseNode(e,t,n,r){var o;for(o=t.firstElementChild;o;o=o.nextElementSibling){var i=e[o.namespaceURI];if(void 0!==i){var a=i[o.localName];void 0!==a&&a.call(r,o,n)}}}function pushParseAndPop(e,t,n,r,o){return r.push(e),parseNode(t,n,r,o),r.pop()}function serialize(e,t,n,r,o,i){for(var a,s,l=(void 0!==o?o:n).length,u=0;u<l;++u)void 0!==(a=n[u])&&void 0!==(s=t.call(void 0!==i?i:this,a,r,void 0!==o?o[u]:void 0))&&e[s.namespaceURI][s.localName].call(i,s,a,r)}function pushSerializeAndPop(e,t,n,r,o,i,a){return o.push(e),serialize(t,n,r,o,i,a),o.pop()}var xmlSerializer_=void 0;function getXMLSerializer(){return void 0===xmlSerializer_&&"undefined"!=typeof XMLSerializer&&(xmlSerializer_=new XMLSerializer),xmlSerializer_}var document_=void 0;function getDocument(){return void 0===document_&&"undefined"!=typeof document&&(document_=document.implementation.createDocument("","",null)),document_}var __extends$4=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),XMLFeature=function(e){function t(){var t=e.call(this)||this;return t.xmlSerializer_=getXMLSerializer(),t}return __extends$4(t,e),t.prototype.getType=function(){return"xml"},t.prototype.readFeature=function(e,t){if(e){if("string"==typeof e){var n=parse$1(e);return this.readFeatureFromDocument(n,t)}return isDocument(e)?this.readFeatureFromDocument(e,t):this.readFeatureFromNode(e,t)}return null},t.prototype.readFeatureFromDocument=function(e,t){var n=this.readFeaturesFromDocument(e,t);return n.length>0?n[0]:null},t.prototype.readFeatureFromNode=function(e,t){return null},t.prototype.readFeatures=function(e,t){if(e){if("string"==typeof e){var n=parse$1(e);return this.readFeaturesFromDocument(n,t)}return isDocument(e)?this.readFeaturesFromDocument(e,t):this.readFeaturesFromNode(e,t)}return[]},t.prototype.readFeaturesFromDocument=function(e,t){for(var n=[],r=e.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&extend$3(n,this.readFeaturesFromNode(r,t));return n},t.prototype.readFeaturesFromNode=function(e,t){return abstract()},t.prototype.readGeometry=function(e,t){if(e){if("string"==typeof e){var n=parse$1(e);return this.readGeometryFromDocument(n,t)}return isDocument(e)?this.readGeometryFromDocument(e,t):this.readGeometryFromNode(e,t)}return null},t.prototype.readGeometryFromDocument=function(e,t){return null},t.prototype.readGeometryFromNode=function(e,t){return null},t.prototype.readProjection=function(e){if(e){if("string"==typeof e){var t=parse$1(e);return this.readProjectionFromDocument(t)}return isDocument(e)?this.readProjectionFromDocument(e):this.readProjectionFromNode(e)}return null},t.prototype.readProjectionFromDocument=function(e){return this.dataProjection},t.prototype.readProjectionFromNode=function(e){return this.dataProjection},t.prototype.writeFeature=function(e,t){var n=this.writeFeatureNode(e,t);return this.xmlSerializer_.serializeToString(n)},t.prototype.writeFeatureNode=function(e,t){return null},t.prototype.writeFeatures=function(e,t){var n=this.writeFeaturesNode(e,t);return this.xmlSerializer_.serializeToString(n)},t.prototype.writeFeaturesNode=function(e,t){return null},t.prototype.writeGeometry=function(e,t){var n=this.writeGeometryNode(e,t);return this.xmlSerializer_.serializeToString(n)},t.prototype.writeGeometryNode=function(e,t){return null},t}(FeatureFormat);const XMLFeature$1=XMLFeature;function readBoolean(e){return readBooleanString(getAllTextContent(e,!1))}function readBooleanString(e){var t=/^\s*(true|1)|(false|0)\s*$/.exec(e);return t?void 0!==t[1]||!1:void 0}function readDateTime(e){var t=getAllTextContent(e,!1),n=Date.parse(t);return isNaN(n)?void 0:n/1e3}function readDecimal(e){return readDecimalString(getAllTextContent(e,!1))}function readDecimalString(e){var t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);return t?parseFloat(t[1]):void 0}function readPositiveInteger(e){return readNonNegativeIntegerString(getAllTextContent(e,!1))}function readNonNegativeIntegerString(e){var t=/^\s*(\d+)\s*$/.exec(e);return t?parseInt(t[1],10):void 0}function readString(e){return getAllTextContent(e,!1).trim()}function writeBooleanTextNode(e,t){writeStringTextNode(e,t?"1":"0")}function writeCDATASection(e,t){e.appendChild(getDocument().createCDATASection(t))}function writeDateTimeTextNode(e,t){var n=new Date(1e3*t),r=n.getUTCFullYear()+"-"+padNumber(n.getUTCMonth()+1,2)+"-"+padNumber(n.getUTCDate(),2)+"T"+padNumber(n.getUTCHours(),2)+":"+padNumber(n.getUTCMinutes(),2)+":"+padNumber(n.getUTCSeconds(),2)+"Z";e.appendChild(getDocument().createTextNode(r))}function writeDecimalTextNode(e,t){var n=t.toPrecision();e.appendChild(getDocument().createTextNode(n))}function writeNonNegativeIntegerTextNode(e,t){var n=t.toString();e.appendChild(getDocument().createTextNode(n))}function writeStringTextNode(e,t){e.appendChild(getDocument().createTextNode(t))}var __extends$3=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),NAMESPACE_URIS$1=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],SCHEMA_LOCATION$1="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd",FEATURE_READER={rte:readRte,trk:readTrk,wpt:readWpt},GPX_PARSERS=makeStructureNS(NAMESPACE_URIS$1,{rte:makeArrayPusher(readRte),trk:makeArrayPusher(readTrk),wpt:makeArrayPusher(readWpt)}),LINK_PARSERS$1=makeStructureNS(NAMESPACE_URIS$1,{text:makeObjectPropertySetter(readString,"linkText"),type:makeObjectPropertySetter(readString,"linkType")}),GPX_SERIALIZERS=makeStructureNS(NAMESPACE_URIS$1,{rte:makeChildAppender(writeRte),trk:makeChildAppender(writeTrk),wpt:makeChildAppender(writeWpt)}),GPX=function(e){function t(t){var n=e.call(this)||this,r=t||{};return n.dataProjection=get$3("EPSG:4326"),n.readExtensions_=r.readExtensions,n}return __extends$3(t,e),t.prototype.handleReadExtensions_=function(e){e||(e=[]);for(var t=0,n=e.length;t<n;++t){var r=e[t];if(this.readExtensions_){var o=r.get("extensionsNode_")||null;this.readExtensions_(r,o)}r.set("extensionsNode_",void 0)}},t.prototype.readFeatureFromNode=function(e,t){if(!includes(NAMESPACE_URIS$1,e.namespaceURI))return null;var n=FEATURE_READER[e.localName];if(!n)return null;var r=n(e,[this.getReadOptions(e,t)]);return r?(this.handleReadExtensions_([r]),r):null},t.prototype.readFeaturesFromNode=function(e,t){if(!includes(NAMESPACE_URIS$1,e.namespaceURI))return[];if("gpx"==e.localName){var n=pushParseAndPop([],GPX_PARSERS,e,[this.getReadOptions(e,t)]);return n?(this.handleReadExtensions_(n),n):[]}return[]},t.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);var n=createElementNS("http://www.topografix.com/GPX/1/1","gpx");return n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi",XML_SCHEMA_INSTANCE_URI),n.setAttributeNS(XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation",SCHEMA_LOCATION$1),n.setAttribute("version","1.1"),n.setAttribute("creator","OpenLayers"),pushSerializeAndPop({node:n},GPX_SERIALIZERS,GPX_NODE_FACTORY,e,[t]),n},t}(XMLFeature$1),RTE_PARSERS=makeStructureNS(NAMESPACE_URIS$1,{name:makeObjectPropertySetter(readString),cmt:makeObjectPropertySetter(readString),desc:makeObjectPropertySetter(readString),src:makeObjectPropertySetter(readString),link:parseLink,number:makeObjectPropertySetter(readPositiveInteger),extensions:parseExtensions,type:makeObjectPropertySetter(readString),rtept:parseRtePt}),RTEPT_PARSERS=makeStructureNS(NAMESPACE_URIS$1,{ele:makeObjectPropertySetter(readDecimal),time:makeObjectPropertySetter(readDateTime)}),TRK_PARSERS=makeStructureNS(NAMESPACE_URIS$1,{name:makeObjectPropertySetter(readString),cmt:makeObjectPropertySetter(readString),desc:makeObjectPropertySetter(readString),src:makeObjectPropertySetter(readString),link:parseLink,number:makeObjectPropertySetter(readPositiveInteger),type:makeObjectPropertySetter(readString),extensions:parseExtensions,trkseg:parseTrkSeg}),TRKSEG_PARSERS=makeStructureNS(NAMESPACE_URIS$1,{trkpt:parseTrkPt}),TRKPT_PARSERS=makeStructureNS(NAMESPACE_URIS$1,{ele:makeObjectPropertySetter(readDecimal),time:makeObjectPropertySetter(readDateTime)}),WPT_PARSERS=makeStructureNS(NAMESPACE_URIS$1,{ele:makeObjectPropertySetter(readDecimal),time:makeObjectPropertySetter(readDateTime),magvar:makeObjectPropertySetter(readDecimal),geoidheight:makeObjectPropertySetter(readDecimal),name:makeObjectPropertySetter(readString),cmt:makeObjectPropertySetter(readString),desc:makeObjectPropertySetter(readString),src:makeObjectPropertySetter(readString),link:parseLink,sym:makeObjectPropertySetter(readString),type:makeObjectPropertySetter(readString),fix:makeObjectPropertySetter(readString),sat:makeObjectPropertySetter(readPositiveInteger),hdop:makeObjectPropertySetter(readDecimal),vdop:makeObjectPropertySetter(readDecimal),pdop:makeObjectPropertySetter(readDecimal),ageofdgpsdata:makeObjectPropertySetter(readDecimal),dgpsid:makeObjectPropertySetter(readPositiveInteger),extensions:parseExtensions}),LINK_SEQUENCE=["text","type"],LINK_SERIALIZERS=makeStructureNS(NAMESPACE_URIS$1,{text:makeChildAppender(writeStringTextNode),type:makeChildAppender(writeStringTextNode)}),RTE_SEQUENCE=makeStructureNS(NAMESPACE_URIS$1,["name","cmt","desc","src","link","number","type","rtept"]),RTE_SERIALIZERS=makeStructureNS(NAMESPACE_URIS$1,{name:makeChildAppender(writeStringTextNode),cmt:makeChildAppender(writeStringTextNode),desc:makeChildAppender(writeStringTextNode),src:makeChildAppender(writeStringTextNode),link:makeChildAppender(writeLink),number:makeChildAppender(writeNonNegativeIntegerTextNode),type:makeChildAppender(writeStringTextNode),rtept:makeArraySerializer(makeChildAppender(writeWptType))}),RTEPT_TYPE_SEQUENCE=makeStructureNS(NAMESPACE_URIS$1,["ele","time"]),TRK_SEQUENCE=makeStructureNS(NAMESPACE_URIS$1,["name","cmt","desc","src","link","number","type","trkseg"]),TRK_SERIALIZERS=makeStructureNS(NAMESPACE_URIS$1,{name:makeChildAppender(writeStringTextNode),cmt:makeChildAppender(writeStringTextNode),desc:makeChildAppender(writeStringTextNode),src:makeChildAppender(writeStringTextNode),link:makeChildAppender(writeLink),number:makeChildAppender(writeNonNegativeIntegerTextNode),type:makeChildAppender(writeStringTextNode),trkseg:makeArraySerializer(makeChildAppender(writeTrkSeg))}),TRKSEG_NODE_FACTORY=makeSimpleNodeFactory("trkpt"),TRKSEG_SERIALIZERS=makeStructureNS(NAMESPACE_URIS$1,{trkpt:makeChildAppender(writeWptType)}),WPT_TYPE_SEQUENCE=makeStructureNS(NAMESPACE_URIS$1,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),WPT_TYPE_SERIALIZERS=makeStructureNS(NAMESPACE_URIS$1,{ele:makeChildAppender(writeDecimalTextNode),time:makeChildAppender(writeDateTimeTextNode),magvar:makeChildAppender(writeDecimalTextNode),geoidheight:makeChildAppender(writeDecimalTextNode),name:makeChildAppender(writeStringTextNode),cmt:makeChildAppender(writeStringTextNode),desc:makeChildAppender(writeStringTextNode),src:makeChildAppender(writeStringTextNode),link:makeChildAppender(writeLink),sym:makeChildAppender(writeStringTextNode),type:makeChildAppender(writeStringTextNode),fix:makeChildAppender(writeStringTextNode),sat:makeChildAppender(writeNonNegativeIntegerTextNode),hdop:makeChildAppender(writeDecimalTextNode),vdop:makeChildAppender(writeDecimalTextNode),pdop:makeChildAppender(writeDecimalTextNode),ageofdgpsdata:makeChildAppender(writeDecimalTextNode),dgpsid:makeChildAppender(writeNonNegativeIntegerTextNode)}),GEOMETRY_TYPE_TO_NODENAME$1={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function GPX_NODE_FACTORY(e,t,n){var r=e.getGeometry();if(r){var o=GEOMETRY_TYPE_TO_NODENAME$1[r.getType()];if(o)return createElementNS(t[t.length-1].node.namespaceURI,o)}}function appendCoordinate(e,t,n,r){return e.push(parseFloat(n.getAttribute("lon")),parseFloat(n.getAttribute("lat"))),"ele"in r?(e.push(r.ele),delete r.ele,t.hasZ=!0):e.push(0),"time"in r?(e.push(r.time),delete r.time,t.hasM=!0):e.push(0),e}function applyLayoutOptions(e,t,n){var r=GeometryLayout.XY,o=2;if(e.hasZ&&e.hasM?(r=GeometryLayout.XYZM,o=4):e.hasZ?(r=GeometryLayout.XYZ,o=3):e.hasM&&(r=GeometryLayout.XYM,o=3),4!==o){for(var i=0,a=t.length/4;i<a;i++)t[i*o]=t[4*i],t[i*o+1]=t[4*i+1],e.hasZ&&(t[i*o+2]=t[4*i+2]),e.hasM&&(t[i*o+2]=t[4*i+3]);if(t.length=t.length/4*o,n)for(i=0,a=n.length;i<a;i++)n[i]=n[i]/4*o}return r}function parseLink(e,t){var n=t[t.length-1],r=e.getAttribute("href");null!==r&&(n.link=r),parseNode(LINK_PARSERS$1,e,t)}function parseExtensions(e,t){t[t.length-1].extensionsNode_=e}function parseRtePt(e,t){var n=pushParseAndPop({},RTEPT_PARSERS,e,t);if(n){var r=t[t.length-1];appendCoordinate(r.flatCoordinates,r.layoutOptions,e,n)}}function parseTrkPt(e,t){var n=pushParseAndPop({},TRKPT_PARSERS,e,t);if(n){var r=t[t.length-1];appendCoordinate(r.flatCoordinates,r.layoutOptions,e,n)}}function parseTrkSeg(e,t){var n=t[t.length-1];parseNode(TRKSEG_PARSERS,e,t);var r=n.flatCoordinates;n.ends.push(r.length)}function readRte(e,t){var n=t[0],r=pushParseAndPop({flatCoordinates:[],layoutOptions:{}},RTE_PARSERS,e,t);if(r){var o=r.flatCoordinates;delete r.flatCoordinates;var i=r.layoutOptions;delete r.layoutOptions;var a=applyLayoutOptions(i,o),s=new LineString(o,a);transformGeometryWithOptions(s,!1,n);var l=new Feature$1(s);return l.setProperties(r,!0),l}}function readTrk(e,t){var n=t[0],r=pushParseAndPop({flatCoordinates:[],ends:[],layoutOptions:{}},TRK_PARSERS,e,t);if(r){var o=r.flatCoordinates;delete r.flatCoordinates;var i=r.ends;delete r.ends;var a=r.layoutOptions;delete r.layoutOptions;var s=applyLayoutOptions(a,o,i),l=new MultiLineString$1(o,s,i);transformGeometryWithOptions(l,!1,n);var u=new Feature$1(l);return u.setProperties(r,!0),u}}function readWpt(e,t){var n=t[0],r=pushParseAndPop({},WPT_PARSERS,e,t);if(r){var o={},i=appendCoordinate([],o,e,r),a=applyLayoutOptions(o,i),s=new Point$1(i,a);transformGeometryWithOptions(s,!1,n);var l=new Feature$1(s);return l.setProperties(r,!0),l}}function writeLink(e,t,n){e.setAttribute("href",t);var r=n[n.length-1].properties,o=[r.linkText,r.linkType];pushSerializeAndPop({node:e},LINK_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,o,n,LINK_SEQUENCE)}function writeWptType(e,t,n){var r=n[n.length-1],o=r.node.namespaceURI,i=r.properties;switch(e.setAttributeNS(null,"lat",String(t[1])),e.setAttributeNS(null,"lon",String(t[0])),r.geometryLayout){case GeometryLayout.XYZM:0!==t[3]&&(i.time=t[3]);case GeometryLayout.XYZ:0!==t[2]&&(i.ele=t[2]);break;case GeometryLayout.XYM:0!==t[2]&&(i.time=t[2])}var a="rtept"==e.nodeName?RTEPT_TYPE_SEQUENCE[o]:WPT_TYPE_SEQUENCE[o],s=makeSequence(i,a);pushSerializeAndPop({node:e,properties:i},WPT_TYPE_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,s,n,a)}function writeRte(e,t,n){var r=n[0],o=t.getProperties(),i={node:e};i.properties=o;var a=t.getGeometry();if("LineString"==a.getType()){var s=transformGeometryWithOptions(a,!0,r);i.geometryLayout=s.getLayout(),o.rtept=s.getCoordinates()}var l=n[n.length-1].node,u=RTE_SEQUENCE[l.namespaceURI],c=makeSequence(o,u);pushSerializeAndPop(i,RTE_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,c,n,u)}function writeTrk(e,t,n){var r=n[0],o=t.getProperties(),i={node:e};i.properties=o;var a=t.getGeometry();if("MultiLineString"==a.getType()){var s=transformGeometryWithOptions(a,!0,r);o.trkseg=s.getLineStrings()}var l=n[n.length-1].node,u=TRK_SEQUENCE[l.namespaceURI],c=makeSequence(o,u);pushSerializeAndPop(i,TRK_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,c,n,u)}function writeTrkSeg(e,t,n){var r={node:e};r.geometryLayout=t.getLayout(),r.properties={},pushSerializeAndPop(r,TRKSEG_SERIALIZERS,TRKSEG_NODE_FACTORY,t.getCoordinates(),n)}function writeWpt(e,t,n){var r=n[0],o=n[n.length-1];o.properties=t.getProperties();var i=t.getGeometry();if("Point"==i.getType()){var a=transformGeometryWithOptions(i,!0,r);o.geometryLayout=a.getLayout(),writeWptType(e,a.getCoordinates(),n)}}var __extends$2=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),TextFeature=function(e){function t(){return e.call(this)||this}return __extends$2(t,e),t.prototype.getType=function(){return"text"},t.prototype.readFeature=function(e,t){return this.readFeatureFromText(getText(e),this.adaptOptions(t))},t.prototype.readFeatureFromText=function(e,t){return abstract()},t.prototype.readFeatures=function(e,t){return this.readFeaturesFromText(getText(e),this.adaptOptions(t))},t.prototype.readFeaturesFromText=function(e,t){return abstract()},t.prototype.readGeometry=function(e,t){return this.readGeometryFromText(getText(e),this.adaptOptions(t))},t.prototype.readGeometryFromText=function(e,t){return abstract()},t.prototype.readProjection=function(e){return this.readProjectionFromText(getText(e))},t.prototype.readProjectionFromText=function(e){return this.dataProjection},t.prototype.writeFeature=function(e,t){return this.writeFeatureText(e,this.adaptOptions(t))},t.prototype.writeFeatureText=function(e,t){return abstract()},t.prototype.writeFeatures=function(e,t){return this.writeFeaturesText(e,this.adaptOptions(t))},t.prototype.writeFeaturesText=function(e,t){return abstract()},t.prototype.writeGeometry=function(e,t){return this.writeGeometryText(e,this.adaptOptions(t))},t.prototype.writeGeometryText=function(e,t){return abstract()},t}(FeatureFormat);function getText(e){return"string"==typeof e?e:""}const TextFeature$1=TextFeature;var __extends$1=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),GX_NAMESPACE_URIS=["http://www.google.com/kml/ext/2.2"],NAMESPACE_URIS=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],SCHEMA_LOCATION="http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd",ICON_ANCHOR_UNITS_MAP={fraction:IconAnchorUnits.FRACTION,pixels:IconAnchorUnits.PIXELS,insetPixels:IconAnchorUnits.PIXELS},PLACEMARK_PARSERS=makeStructureNS(NAMESPACE_URIS,{ExtendedData:extendedDataParser,Region:regionParser,MultiGeometry:makeObjectPropertySetter(readMultiGeometry,"geometry"),LineString:makeObjectPropertySetter(readLineString,"geometry"),LinearRing:makeObjectPropertySetter(readLinearRing,"geometry"),Point:makeObjectPropertySetter(readPoint,"geometry"),Polygon:makeObjectPropertySetter(readPolygon,"geometry"),Style:makeObjectPropertySetter(readStyle),StyleMap:placemarkStyleMapParser,address:makeObjectPropertySetter(readString),description:makeObjectPropertySetter(readString),name:makeObjectPropertySetter(readString),open:makeObjectPropertySetter(readBoolean),phoneNumber:makeObjectPropertySetter(readString),styleUrl:makeObjectPropertySetter(readStyleURL),visibility:makeObjectPropertySetter(readBoolean)},makeStructureNS(GX_NAMESPACE_URIS,{MultiTrack:makeObjectPropertySetter(readGxMultiTrack,"geometry"),Track:makeObjectPropertySetter(readGxTrack,"geometry")})),NETWORK_LINK_PARSERS=makeStructureNS(NAMESPACE_URIS,{ExtendedData:extendedDataParser,Region:regionParser,Link:linkParser,address:makeObjectPropertySetter(readString),description:makeObjectPropertySetter(readString),name:makeObjectPropertySetter(readString),open:makeObjectPropertySetter(readBoolean),phoneNumber:makeObjectPropertySetter(readString),visibility:makeObjectPropertySetter(readBoolean)}),LINK_PARSERS=makeStructureNS(NAMESPACE_URIS,{href:makeObjectPropertySetter(readURI)}),REGION_PARSERS=makeStructureNS(NAMESPACE_URIS,{LatLonAltBox:latLonAltBoxParser,Lod:lodParser}),KML_SEQUENCE=makeStructureNS(NAMESPACE_URIS,["Document","Placemark"]),KML_SERIALIZERS=makeStructureNS(NAMESPACE_URIS,{Document:makeChildAppender(writeDocument),Placemark:makeChildAppender(writePlacemark)}),DEFAULT_COLOR,DEFAULT_FILL_STYLE=null,DEFAULT_IMAGE_STYLE_ANCHOR,DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS,DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS,DEFAULT_IMAGE_STYLE_SIZE,DEFAULT_IMAGE_STYLE_SRC,DEFAULT_IMAGE_STYLE=null,DEFAULT_NO_IMAGE_STYLE,DEFAULT_STROKE_STYLE=null,DEFAULT_TEXT_STROKE_STYLE,DEFAULT_TEXT_STYLE=null,DEFAULT_STYLE=null,DEFAULT_STYLE_ARRAY=null,TEXTAREA;function scaleForSize(e){return 32/Math.min(e[0],e[1])}function createStyleDefaults(){DEFAULT_FILL_STYLE=new Fill$1({color:DEFAULT_COLOR=[255,255,255,1]}),DEFAULT_IMAGE_STYLE_ANCHOR=[20,2],DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS=IconAnchorUnits.PIXELS,DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS=IconAnchorUnits.PIXELS,DEFAULT_IMAGE_STYLE_SIZE=[64,64],DEFAULT_IMAGE_STYLE_SRC="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",DEFAULT_IMAGE_STYLE=new Icon$2({anchor:DEFAULT_IMAGE_STYLE_ANCHOR,anchorOrigin:IconOrigin.BOTTOM_LEFT,anchorXUnits:DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS,anchorYUnits:DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS,crossOrigin:"anonymous",rotation:0,scale:scaleForSize(DEFAULT_IMAGE_STYLE_SIZE),size:DEFAULT_IMAGE_STYLE_SIZE,src:DEFAULT_IMAGE_STYLE_SRC}),DEFAULT_NO_IMAGE_STYLE="NO_IMAGE",DEFAULT_STROKE_STYLE=new Stroke$1({color:DEFAULT_COLOR,width:1}),DEFAULT_TEXT_STROKE_STYLE=new Stroke$1({color:[51,51,51,1],width:2}),DEFAULT_TEXT_STYLE=new Text$2({font:"bold 16px Helvetica",fill:DEFAULT_FILL_STYLE,stroke:DEFAULT_TEXT_STROKE_STYLE,scale:.8}),DEFAULT_STYLE=new Style$1({fill:DEFAULT_FILL_STYLE,image:DEFAULT_IMAGE_STYLE,text:DEFAULT_TEXT_STYLE,stroke:DEFAULT_STROKE_STYLE,zIndex:0}),DEFAULT_STYLE_ARRAY=[DEFAULT_STYLE]}function defaultIconUrlFunction(e){return e}var KML=function(e){function t(t){var n=e.call(this)||this,r=t||{};return DEFAULT_STYLE_ARRAY||createStyleDefaults(),n.dataProjection=get$3("EPSG:4326"),n.defaultStyle_=r.defaultStyle?r.defaultStyle:DEFAULT_STYLE_ARRAY,n.extractStyles_=void 0===r.extractStyles||r.extractStyles,n.writeStyles_=void 0===r.writeStyles||r.writeStyles,n.sharedStyles_={},n.showPointNames_=void 0===r.showPointNames||r.showPointNames,n.crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:"anonymous",n.iconUrlFunction_=r.iconUrlFunction?r.iconUrlFunction:defaultIconUrlFunction,n.supportedMediaTypes=["application/vnd.google-earth.kml+xml"],n}return __extends$1(t,e),t.prototype.readDocumentOrFolder_=function(e,t){var n=pushParseAndPop([],makeStructureNS(NAMESPACE_URIS,{Document:makeArrayExtender(this.readDocumentOrFolder_,this),Folder:makeArrayExtender(this.readDocumentOrFolder_,this),Placemark:makeArrayPusher(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),e,t,this);return n||void 0},t.prototype.readPlacemark_=function(e,t){var n=pushParseAndPop({geometry:null},PLACEMARK_PARSERS,e,t,this);if(n){var r=new Feature$1,o=e.getAttribute("id");null!==o&&r.setId(o);var i=t[0],a=n.geometry;if(a&&transformGeometryWithOptions(a,!1,i),r.setGeometry(a),delete n.geometry,this.extractStyles_){var s=createFeatureStyleFunction(n.Style,n.styleUrl,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);r.setStyle(s)}return delete n.Style,r.setProperties(n,!0),r}},t.prototype.readSharedStyle_=function(e,t){var n=e.getAttribute("id");if(null!==n){var r=readStyle.call(this,e,t);if(r){var o=void 0,i=e.baseURI;if(i&&"about:blank"!=i||(i=window.location.href),i)o=new URL("#"+n,i).href;else o="#"+n;this.sharedStyles_[o]=r}}},t.prototype.readSharedStyleMap_=function(e,t){var n=e.getAttribute("id");if(null!==n){var r=readStyleMapValue.call(this,e,t);if(r){var o,i=e.baseURI;if(i&&"about:blank"!=i||(i=window.location.href),i)o=new URL("#"+n,i).href;else o="#"+n;this.sharedStyles_[o]=r}}},t.prototype.readFeatureFromNode=function(e,t){if(!includes(NAMESPACE_URIS,e.namespaceURI))return null;var n=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return n||null},t.prototype.readFeaturesFromNode=function(e,t){if(!includes(NAMESPACE_URIS,e.namespaceURI))return[];var n,r=e.localName;if("Document"==r||"Folder"==r)return(n=this.readDocumentOrFolder_(e,[this.getReadOptions(e,t)]))||[];if("Placemark"==r){var o=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return o?[o]:[]}if("kml"==r){n=[];for(var i=e.firstElementChild;i;i=i.nextElementSibling){var a=this.readFeaturesFromNode(i,t);a&&extend$3(n,a)}return n}return[]},t.prototype.readName=function(e){if(e){if("string"==typeof e){var t=parse$1(e);return this.readNameFromDocument(t)}return isDocument(e)?this.readNameFromDocument(e):this.readNameFromNode(e)}},t.prototype.readNameFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE){var n=this.readNameFromNode(t);if(n)return n}},t.prototype.readNameFromNode=function(e){for(var t=e.firstElementChild;t;t=t.nextElementSibling)if(includes(NAMESPACE_URIS,t.namespaceURI)&&"name"==t.localName)return readString(t);for(t=e.firstElementChild;t;t=t.nextElementSibling){var n=t.localName;if(includes(NAMESPACE_URIS,t.namespaceURI)&&("Document"==n||"Folder"==n||"Placemark"==n||"kml"==n)){var r=this.readNameFromNode(t);if(r)return r}}},t.prototype.readNetworkLinks=function(e){var t=[];if("string"==typeof e){var n=parse$1(e);extend$3(t,this.readNetworkLinksFromDocument(n))}else isDocument(e)?extend$3(t,this.readNetworkLinksFromDocument(e)):extend$3(t,this.readNetworkLinksFromNode(e));return t},t.prototype.readNetworkLinksFromDocument=function(e){for(var t=[],n=e.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&extend$3(t,this.readNetworkLinksFromNode(n));return t},t.prototype.readNetworkLinksFromNode=function(e){for(var t=[],n=e.firstElementChild;n;n=n.nextElementSibling)if(includes(NAMESPACE_URIS,n.namespaceURI)&&"NetworkLink"==n.localName){var r=pushParseAndPop({},NETWORK_LINK_PARSERS,n,[]);t.push(r)}for(n=e.firstElementChild;n;n=n.nextElementSibling){var o=n.localName;!includes(NAMESPACE_URIS,n.namespaceURI)||"Document"!=o&&"Folder"!=o&&"kml"!=o||extend$3(t,this.readNetworkLinksFromNode(n))}return t},t.prototype.readRegion=function(e){var t=[];if("string"==typeof e){var n=parse$1(e);extend$3(t,this.readRegionFromDocument(n))}else isDocument(e)?extend$3(t,this.readRegionFromDocument(e)):extend$3(t,this.readRegionFromNode(e));return t},t.prototype.readRegionFromDocument=function(e){for(var t=[],n=e.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&extend$3(t,this.readRegionFromNode(n));return t},t.prototype.readRegionFromNode=function(e){for(var t=[],n=e.firstElementChild;n;n=n.nextElementSibling)if(includes(NAMESPACE_URIS,n.namespaceURI)&&"Region"==n.localName){var r=pushParseAndPop({},REGION_PARSERS,n,[]);t.push(r)}for(n=e.firstElementChild;n;n=n.nextElementSibling){var o=n.localName;!includes(NAMESPACE_URIS,n.namespaceURI)||"Document"!=o&&"Folder"!=o&&"kml"!=o||extend$3(t,this.readRegionFromNode(n))}return t},t.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);var n=createElementNS(NAMESPACE_URIS[4],"kml"),r="http://www.w3.org/2000/xmlns/";n.setAttributeNS(r,"xmlns:gx",GX_NAMESPACE_URIS[0]),n.setAttributeNS(r,"xmlns:xsi",XML_SCHEMA_INSTANCE_URI),n.setAttributeNS(XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation",SCHEMA_LOCATION);var o={node:n},i={};e.length>1?i.Document=e:1==e.length&&(i.Placemark=e[0]);var a=KML_SEQUENCE[n.namespaceURI],s=makeSequence(i,a);return pushSerializeAndPop(o,KML_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,s,[t],a,this),n},t}(XMLFeature$1);function createNameStyleFunction(e,t){var n=[0,0],r="start",o=e.getImage();if(o){var i=o.getSize();if(i&&2==i.length){var a=o.getScaleArray(),s=o.getAnchor();n[0]=a[0]*(i[0]-s[0]),n[1]=a[1]*(i[1]/2-s[1]),r="left"}}var l=e.getText();return l?((l=l.clone()).setFont(l.getFont()||DEFAULT_TEXT_STYLE.getFont()),l.setScale(l.getScale()||DEFAULT_TEXT_STYLE.getScale()),l.setFill(l.getFill()||DEFAULT_TEXT_STYLE.getFill()),l.setStroke(l.getStroke()||DEFAULT_TEXT_STROKE_STYLE)):l=DEFAULT_TEXT_STYLE.clone(),l.setText(t),l.setOffsetX(n[0]),l.setOffsetY(n[1]),l.setTextAlign(r),new Style$1({image:o,text:l})}function createFeatureStyleFunction(e,t,n,r,o){return function(i,a){var s=o,l="",u=[];if(s){var c=i.getGeometry();if(c)if(c instanceof GeometryCollection$1)s=(u=c.getGeometriesArrayRecursive().filter((function(e){var t=e.getType();return"Point"===t||"MultiPoint"===t}))).length>0;else{var d=c.getType();s="Point"===d||"MultiPoint"===d}}s&&(l=i.get("name"),(s=s&&!!l)&&l.search(/&[^&]+;/)>-1&&(TEXTAREA||(TEXTAREA=document.createElement("textarea")),TEXTAREA.innerHTML=l,l=TEXTAREA.value));var h=n;if(e?h=e:t&&(h=findStyle(t,n,r)),s){var p=createNameStyleFunction(h[0],l);return u.length>0?(p.setGeometry(new GeometryCollection$1(u)),[p,new Style$1({geometry:h[0].getGeometry(),image:null,fill:h[0].getFill(),stroke:h[0].getStroke(),text:null})].concat(h.slice(1))):p}return h}}function findStyle(e,t,n){return Array.isArray(e)?e:"string"==typeof e?findStyle(n[e],t,n):t}function readColor(e){var t=getAllTextContent(e,!1),n=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t);if(n){var r=n[1];return[parseInt(r.substr(6,2),16),parseInt(r.substr(4,2),16),parseInt(r.substr(2,2),16),parseInt(r.substr(0,2),16)/255]}}function readFlatCoordinates(e){var t=getAllTextContent(e,!1),n=[];t=t.replace(/\s*,\s*/g,",");for(var r,o=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i;r=o.exec(t);){var i=parseFloat(r[1]),a=parseFloat(r[2]),s=r[3]?parseFloat(r[3]):0;n.push(i,a,s),t=t.substr(r[0].length)}if(""===t)return n}function readURI(e){var t=getAllTextContent(e,!1).trim(),n=e.baseURI;return n&&"about:blank"!=n||(n=window.location.href),n?new URL(t,n).href:t}function readStyleURL(e){var t=getAllTextContent(e,!1).trim().replace(/^(?!.*#)/,"#"),n=e.baseURI;return n&&"about:blank"!=n||(n=window.location.href),n?new URL(t,n).href:t}function readVec2(e){var t,n=e.getAttribute("xunits"),r=e.getAttribute("yunits");return t="insetPixels"!==n?"insetPixels"!==r?IconOrigin.BOTTOM_LEFT:IconOrigin.TOP_LEFT:"insetPixels"!==r?IconOrigin.BOTTOM_RIGHT:IconOrigin.TOP_RIGHT,{x:parseFloat(e.getAttribute("x")),xunits:ICON_ANCHOR_UNITS_MAP[n],y:parseFloat(e.getAttribute("y")),yunits:ICON_ANCHOR_UNITS_MAP[r],origin:t}}function readScale(e){return readDecimal(e)}var STYLE_MAP_PARSERS=makeStructureNS(NAMESPACE_URIS,{Pair:pairDataParser});function readStyleMapValue(e,t){return pushParseAndPop(void 0,STYLE_MAP_PARSERS,e,t,this)}var ICON_STYLE_PARSERS=makeStructureNS(NAMESPACE_URIS,{Icon:makeObjectPropertySetter(readIcon),color:makeObjectPropertySetter(readColor),heading:makeObjectPropertySetter(readDecimal),hotSpot:makeObjectPropertySetter(readVec2),scale:makeObjectPropertySetter(readScale)});function iconStyleParser(e,t){var n=pushParseAndPop({},ICON_STYLE_PARSERS,e,t);if(n){var r,o,i,a,s=t[t.length-1],l="Icon"in n?n.Icon:{},u=!("Icon"in n)||Object.keys(l).length>0,c=l.href;c?r=c:u&&(r=DEFAULT_IMAGE_STYLE_SRC);var d,h=IconOrigin.BOTTOM_LEFT,p=n.hotSpot;p?(o=[p.x,p.y],i=p.xunits,a=p.yunits,h=p.origin):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(r)&&(/pushpin/.test(r)?(o=DEFAULT_IMAGE_STYLE_ANCHOR,i=DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS,a=DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS):/arrow-reverse/.test(r)?(o=[54,42],i=DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS,a=DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS):/paddle/.test(r)&&(o=[32,1],i=DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS,a=DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS));var f,m=l.x,_=l.y;void 0!==m&&void 0!==_&&(d=[m,_]);var g,v=l.w,y=l.h;void 0!==v&&void 0!==y&&(f=[v,y]);var b=n.heading;void 0!==b&&(g=toRadians(b));var E=n.scale,C=n.color;if(u){r==DEFAULT_IMAGE_STYLE_SRC&&(f=DEFAULT_IMAGE_STYLE_SIZE);var x=new Icon$2({anchor:o,anchorOrigin:h,anchorXUnits:i,anchorYUnits:a,crossOrigin:this.crossOrigin_,offset:d,offsetOrigin:IconOrigin.BOTTOM_LEFT,rotation:g,scale:E,size:f,src:this.iconUrlFunction_(r),color:C}),w=x.getScaleArray()[0],S=x.getSize();if(null===S){var T=x.getImageState();if(T===ImageState.IDLE||T===ImageState.LOADING){var k=function(){var e=x.getImageState();if(e!==ImageState.IDLE&&e!==ImageState.LOADING){var t=x.getSize();if(t&&2==t.length){var n=scaleForSize(t);x.setScale(w*n)}x.unlistenImageChange(k)}};x.listenImageChange(k),T===ImageState.IDLE&&x.load()}}else if(2==S.length){var L=scaleForSize(S);x.setScale(w*L)}s.imageStyle=x}else s.imageStyle=DEFAULT_NO_IMAGE_STYLE}}var LABEL_STYLE_PARSERS=makeStructureNS(NAMESPACE_URIS,{color:makeObjectPropertySetter(readColor),scale:makeObjectPropertySetter(readScale)});function labelStyleParser(e,t){var n=pushParseAndPop({},LABEL_STYLE_PARSERS,e,t);if(n){var r=t[t.length-1],o=new Text$2({fill:new Fill$1({color:"color"in n?n.color:DEFAULT_COLOR}),scale:n.scale});r.textStyle=o}}var LINE_STYLE_PARSERS=makeStructureNS(NAMESPACE_URIS,{color:makeObjectPropertySetter(readColor),width:makeObjectPropertySetter(readDecimal)});function lineStyleParser(e,t){var n=pushParseAndPop({},LINE_STYLE_PARSERS,e,t);if(n){var r=t[t.length-1],o=new Stroke$1({color:"color"in n?n.color:DEFAULT_COLOR,width:"width"in n?n.width:1});r.strokeStyle=o}}var POLY_STYLE_PARSERS=makeStructureNS(NAMESPACE_URIS,{color:makeObjectPropertySetter(readColor),fill:makeObjectPropertySetter(readBoolean),outline:makeObjectPropertySetter(readBoolean)});function polyStyleParser(e,t){var n=pushParseAndPop({},POLY_STYLE_PARSERS,e,t);if(n){var r=t[t.length-1],o=new Fill$1({color:"color"in n?n.color:DEFAULT_COLOR});r.fillStyle=o;var i=n.fill;void 0!==i&&(r.fill=i);var a=n.outline;void 0!==a&&(r.outline=a)}}var FLAT_LINEAR_RING_PARSERS=makeStructureNS(NAMESPACE_URIS,{coordinates:makeReplacer(readFlatCoordinates)});function readFlatLinearRing(e,t){return pushParseAndPop(null,FLAT_LINEAR_RING_PARSERS,e,t)}function gxCoordParser(e,t){var n=t[t.length-1].coordinates,r=getAllTextContent(e,!1),o=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(r);if(o){var i=parseFloat(o[1]),a=parseFloat(o[2]),s=parseFloat(o[3]);n.push([i,a,s])}else n.push([])}var GX_MULTITRACK_GEOMETRY_PARSERS=makeStructureNS(GX_NAMESPACE_URIS,{Track:makeArrayPusher(readGxTrack)});function readGxMultiTrack(e,t){var n=pushParseAndPop([],GX_MULTITRACK_GEOMETRY_PARSERS,e,t);if(n)return new MultiLineString$1(n)}var GX_TRACK_PARSERS=makeStructureNS(NAMESPACE_URIS,{when:whenParser},makeStructureNS(GX_NAMESPACE_URIS,{coord:gxCoordParser}));function readGxTrack(e,t){var n=pushParseAndPop({coordinates:[],whens:[]},GX_TRACK_PARSERS,e,t);if(n){for(var r=[],o=n.coordinates,i=n.whens,a=0,s=Math.min(o.length,i.length);a<s;++a)3==o[a].length&&r.push(o[a][0],o[a][1],o[a][2],i[a]);return new LineString(r,GeometryLayout.XYZM)}}var ICON_PARSERS=makeStructureNS(NAMESPACE_URIS,{href:makeObjectPropertySetter(readURI)},makeStructureNS(GX_NAMESPACE_URIS,{x:makeObjectPropertySetter(readDecimal),y:makeObjectPropertySetter(readDecimal),w:makeObjectPropertySetter(readDecimal),h:makeObjectPropertySetter(readDecimal)}));function readIcon(e,t){var n=pushParseAndPop({},ICON_PARSERS,e,t);return n||null}var GEOMETRY_FLAT_COORDINATES_PARSERS=makeStructureNS(NAMESPACE_URIS,{coordinates:makeReplacer(readFlatCoordinates)});function readFlatCoordinatesFromNode(e,t){return pushParseAndPop(null,GEOMETRY_FLAT_COORDINATES_PARSERS,e,t)}var EXTRUDE_AND_ALTITUDE_MODE_PARSERS=makeStructureNS(NAMESPACE_URIS,{extrude:makeObjectPropertySetter(readBoolean),tessellate:makeObjectPropertySetter(readBoolean),altitudeMode:makeObjectPropertySetter(readString)});function readLineString(e,t){var n=pushParseAndPop({},EXTRUDE_AND_ALTITUDE_MODE_PARSERS,e,t),r=readFlatCoordinatesFromNode(e,t);if(r){var o=new LineString(r,GeometryLayout.XYZ);return o.setProperties(n,!0),o}}function readLinearRing(e,t){var n=pushParseAndPop({},EXTRUDE_AND_ALTITUDE_MODE_PARSERS,e,t),r=readFlatCoordinatesFromNode(e,t);if(r){var o=new Polygon(r,GeometryLayout.XYZ,[r.length]);return o.setProperties(n,!0),o}}var MULTI_GEOMETRY_PARSERS=makeStructureNS(NAMESPACE_URIS,{LineString:makeArrayPusher(readLineString),LinearRing:makeArrayPusher(readLinearRing),MultiGeometry:makeArrayPusher(readMultiGeometry),Point:makeArrayPusher(readPoint),Polygon:makeArrayPusher(readPolygon)});function readMultiGeometry(e,t){var n,r=pushParseAndPop([],MULTI_GEOMETRY_PARSERS,e,t);if(!r)return null;if(0===r.length)return new GeometryCollection$1(r);for(var o=!0,i=r[0].getType(),a=1,s=r.length;a<s;++a)if(r[a].getType()!=i){o=!1;break}if(o){var l=void 0,u=void 0;if("Point"==i){var c=r[0];l=c.getLayout(),u=c.getFlatCoordinates();for(a=1,s=r.length;a<s;++a)extend$3(u,r[a].getFlatCoordinates());setCommonGeometryProperties(n=new MultiPoint$1(u,l),r)}else"LineString"==i?setCommonGeometryProperties(n=new MultiLineString$1(r),r):"Polygon"==i?setCommonGeometryProperties(n=new MultiPolygon$1(r),r):"GeometryCollection"==i?n=new GeometryCollection$1(r):assert(!1,37)}else n=new GeometryCollection$1(r);return n}function readPoint(e,t){var n=pushParseAndPop({},EXTRUDE_AND_ALTITUDE_MODE_PARSERS,e,t),r=readFlatCoordinatesFromNode(e,t);if(r){var o=new Point$1(r,GeometryLayout.XYZ);return o.setProperties(n,!0),o}}var FLAT_LINEAR_RINGS_PARSERS=makeStructureNS(NAMESPACE_URIS,{innerBoundaryIs:innerBoundaryIsParser,outerBoundaryIs:outerBoundaryIsParser});function readPolygon(e,t){var n=pushParseAndPop({},EXTRUDE_AND_ALTITUDE_MODE_PARSERS,e,t),r=pushParseAndPop([null],FLAT_LINEAR_RINGS_PARSERS,e,t);if(r&&r[0]){for(var o=r[0],i=[o.length],a=1,s=r.length;a<s;++a)extend$3(o,r[a]),i.push(o.length);var l=new Polygon(o,GeometryLayout.XYZ,i);return l.setProperties(n,!0),l}}var STYLE_PARSERS=makeStructureNS(NAMESPACE_URIS,{IconStyle:iconStyleParser,LabelStyle:labelStyleParser,LineStyle:lineStyleParser,PolyStyle:polyStyleParser});function readStyle(e,t){var n=pushParseAndPop({},STYLE_PARSERS,e,t,this);if(!n)return null;var r,o="fillStyle"in n?n.fillStyle:DEFAULT_FILL_STYLE,i=n.fill;void 0===i||i||(o=null),"imageStyle"in n?n.imageStyle!=DEFAULT_NO_IMAGE_STYLE&&(r=n.imageStyle):r=DEFAULT_IMAGE_STYLE;var a="textStyle"in n?n.textStyle:DEFAULT_TEXT_STYLE,s="strokeStyle"in n?n.strokeStyle:DEFAULT_STROKE_STYLE,l=n.outline;return void 0===l||l?[new Style$1({fill:o,image:r,stroke:s,text:a,zIndex:void 0})]:[new Style$1({geometry:function(e){var t=e.getGeometry(),n=t.getType();return"GeometryCollection"===n?new GeometryCollection$1(t.getGeometriesArrayRecursive().filter((function(e){var t=e.getType();return"Polygon"!==t&&"MultiPolygon"!==t}))):"Polygon"!==n&&"MultiPolygon"!==n?t:void 0},fill:o,image:r,stroke:s,text:a,zIndex:void 0}),new Style$1({geometry:function(e){var t=e.getGeometry(),n=t.getType();return"GeometryCollection"===n?new GeometryCollection$1(t.getGeometriesArrayRecursive().filter((function(e){var t=e.getType();return"Polygon"===t||"MultiPolygon"===t}))):"Polygon"===n||"MultiPolygon"===n?t:void 0},fill:o,stroke:null,zIndex:void 0})]}function setCommonGeometryProperties(e,t){var n,r,o,i=t.length,a=new Array(t.length),s=new Array(t.length),l=new Array(t.length);n=!1,r=!1,o=!1;for(var u=0;u<i;++u){var c=t[u];a[u]=c.get("extrude"),s[u]=c.get("tessellate"),l[u]=c.get("altitudeMode"),n=n||void 0!==a[u],r=r||void 0!==s[u],o=o||l[u]}n&&e.set("extrude",a),r&&e.set("tessellate",s),o&&e.set("altitudeMode",l)}var DATA_PARSERS=makeStructureNS(NAMESPACE_URIS,{displayName:makeObjectPropertySetter(readString),value:makeObjectPropertySetter(readString)});function dataParser(e,t){var n=e.getAttribute("name");parseNode(DATA_PARSERS,e,t);var r=t[t.length-1];n&&r.displayName?r[n]={value:r.value,displayName:r.displayName,toString:function(){return r.value}}:null!==n?r[n]=r.value:null!==r.displayName&&(r[r.displayName]=r.value),delete r.value}var EXTENDED_DATA_PARSERS=makeStructureNS(NAMESPACE_URIS,{Data:dataParser,SchemaData:schemaDataParser});function extendedDataParser(e,t){parseNode(EXTENDED_DATA_PARSERS,e,t)}function regionParser(e,t){parseNode(REGION_PARSERS,e,t)}var PAIR_PARSERS=makeStructureNS(NAMESPACE_URIS,{Style:makeObjectPropertySetter(readStyle),key:makeObjectPropertySetter(readString),styleUrl:makeObjectPropertySetter(readStyleURL)});function pairDataParser(e,t){var n=pushParseAndPop({},PAIR_PARSERS,e,t,this);if(n){var r=n.key;if(r&&"normal"==r){var o=n.styleUrl;o&&(t[t.length-1]=o);var i=n.Style;i&&(t[t.length-1]=i)}}}function placemarkStyleMapParser(e,t){var n=readStyleMapValue.call(this,e,t);if(n){var r=t[t.length-1];Array.isArray(n)?r.Style=n:"string"==typeof n?r.styleUrl=n:assert(!1,38)}}var SCHEMA_DATA_PARSERS=makeStructureNS(NAMESPACE_URIS,{SimpleData:simpleDataParser});function schemaDataParser(e,t){parseNode(SCHEMA_DATA_PARSERS,e,t)}function simpleDataParser(e,t){var n=e.getAttribute("name");if(null!==n){var r=readString(e);t[t.length-1][n]=r}}var LAT_LON_ALT_BOX_PARSERS=makeStructureNS(NAMESPACE_URIS,{altitudeMode:makeObjectPropertySetter(readString),minAltitude:makeObjectPropertySetter(readDecimal),maxAltitude:makeObjectPropertySetter(readDecimal),north:makeObjectPropertySetter(readDecimal),south:makeObjectPropertySetter(readDecimal),east:makeObjectPropertySetter(readDecimal),west:makeObjectPropertySetter(readDecimal)});function latLonAltBoxParser(e,t){var n=pushParseAndPop({},LAT_LON_ALT_BOX_PARSERS,e,t);if(n){var r=t[t.length-1],o=[parseFloat(n.west),parseFloat(n.south),parseFloat(n.east),parseFloat(n.north)];r.extent=o,r.altitudeMode=n.altitudeMode,r.minAltitude=parseFloat(n.minAltitude),r.maxAltitude=parseFloat(n.maxAltitude)}}var LOD_PARSERS=makeStructureNS(NAMESPACE_URIS,{minLodPixels:makeObjectPropertySetter(readDecimal),maxLodPixels:makeObjectPropertySetter(readDecimal),minFadeExtent:makeObjectPropertySetter(readDecimal),maxFadeExtent:makeObjectPropertySetter(readDecimal)});function lodParser(e,t){var n=pushParseAndPop({},LOD_PARSERS,e,t);if(n){var r=t[t.length-1];r.minLodPixels=parseFloat(n.minLodPixels),r.maxLodPixels=parseFloat(n.maxLodPixels),r.minFadeExtent=parseFloat(n.minFadeExtent),r.maxFadeExtent=parseFloat(n.maxFadeExtent)}}var INNER_BOUNDARY_IS_PARSERS=makeStructureNS(NAMESPACE_URIS,{LinearRing:makeArrayPusher(readFlatLinearRing)});function innerBoundaryIsParser(e,t){var n=pushParseAndPop([],INNER_BOUNDARY_IS_PARSERS,e,t);if(n.length>0){var r=t[t.length-1];r.push.apply(r,n)}}var OUTER_BOUNDARY_IS_PARSERS=makeStructureNS(NAMESPACE_URIS,{LinearRing:makeReplacer(readFlatLinearRing)});function outerBoundaryIsParser(e,t){var n=pushParseAndPop(void 0,OUTER_BOUNDARY_IS_PARSERS,e,t);n&&(t[t.length-1][0]=n)}function linkParser(e,t){parseNode(LINK_PARSERS,e,t)}function whenParser(e,t){var n=t[t.length-1].whens,r=getAllTextContent(e,!1),o=Date.parse(r);n.push(isNaN(o)?0:o)}function writeColorTextNode(e,t){for(var n=asArray(t),r=[255*(4==n.length?n[3]:1),n[2],n[1],n[0]],o=0;o<4;++o){var i=Math.floor(r[o]).toString(16);r[o]=1==i.length?"0"+i:i}writeStringTextNode(e,r.join(""))}function writeCoordinatesTextNode(e,t,n){var r,o=n[n.length-1],i=o.layout,a=o.stride;i==GeometryLayout.XY||i==GeometryLayout.XYM?r=2:i==GeometryLayout.XYZ||i==GeometryLayout.XYZM?r=3:assert(!1,34);var s=t.length,l="";if(s>0){l+=t[0];for(var u=1;u<r;++u)l+=","+t[u];for(var c=a;c<s;c+=a){l+=" "+t[c];for(u=1;u<r;++u)l+=","+t[c+u]}}writeStringTextNode(e,l)}var EXTENDEDDATA_NODE_SERIALIZERS=makeStructureNS(NAMESPACE_URIS,{Data:makeChildAppender(writeDataNode),value:makeChildAppender(writeDataNodeValue),displayName:makeChildAppender(writeDataNodeName)});function writeDataNode(e,t,n){e.setAttribute("name",t.name);var r={node:e},o=t.value;"object"==typeof o?(null!==o&&o.displayName&&pushSerializeAndPop(r,EXTENDEDDATA_NODE_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,[o.displayName],n,["displayName"]),null!==o&&o.value&&pushSerializeAndPop(r,EXTENDEDDATA_NODE_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,[o.value],n,["value"])):pushSerializeAndPop(r,EXTENDEDDATA_NODE_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,[o],n,["value"])}function writeDataNodeName(e,t){writeCDATASection(e,t)}function writeDataNodeValue(e,t){writeStringTextNode(e,t)}var DOCUMENT_SERIALIZERS=makeStructureNS(NAMESPACE_URIS,{Placemark:makeChildAppender(writePlacemark)}),DOCUMENT_NODE_FACTORY=function(e,t,n){return createElementNS(t[t.length-1].node.namespaceURI,"Placemark")};function writeDocument(e,t,n){pushSerializeAndPop({node:e},DOCUMENT_SERIALIZERS,DOCUMENT_NODE_FACTORY,t,n,void 0,this)}var DATA_NODE_FACTORY=makeSimpleNodeFactory("Data");function writeExtendedData(e,t,n){for(var r={node:e},o=t.names,i=t.values,a=o.length,s=0;s<a;s++)pushSerializeAndPop(r,EXTENDEDDATA_NODE_SERIALIZERS,DATA_NODE_FACTORY,[{name:o[s],value:i[s]}],n)}var ICON_SEQUENCE=makeStructureNS(NAMESPACE_URIS,["href"],makeStructureNS(GX_NAMESPACE_URIS,["x","y","w","h"])),ICON_SERIALIZERS=makeStructureNS(NAMESPACE_URIS,{href:makeChildAppender(writeStringTextNode)},makeStructureNS(GX_NAMESPACE_URIS,{x:makeChildAppender(writeDecimalTextNode),y:makeChildAppender(writeDecimalTextNode),w:makeChildAppender(writeDecimalTextNode),h:makeChildAppender(writeDecimalTextNode)})),GX_NODE_FACTORY=function(e,t,n){return createElementNS(GX_NAMESPACE_URIS[0],"gx:"+n)};function writeIcon(e,t,n){var r={node:e},o=n[n.length-1].node,i=ICON_SEQUENCE[o.namespaceURI],a=makeSequence(t,i);pushSerializeAndPop(r,ICON_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,a,n,i),a=makeSequence(t,i=ICON_SEQUENCE[GX_NAMESPACE_URIS[0]]),pushSerializeAndPop(r,ICON_SERIALIZERS,GX_NODE_FACTORY,a,n,i)}var ICON_STYLE_SEQUENCE=makeStructureNS(NAMESPACE_URIS,["scale","heading","Icon","color","hotSpot"]),ICON_STYLE_SERIALIZERS=makeStructureNS(NAMESPACE_URIS,{Icon:makeChildAppender(writeIcon),color:makeChildAppender(writeColorTextNode),heading:makeChildAppender(writeDecimalTextNode),hotSpot:makeChildAppender(writeVec2),scale:makeChildAppender(writeScaleTextNode)});function writeIconStyle(e,t,n){var r={node:e},o={},i=t.getSrc(),a=t.getSize(),s=t.getImageSize(),l={href:i};if(a){l.w=a[0],l.h=a[1];var u=t.getAnchor(),c=t.getOrigin();if(c&&s&&0!==c[0]&&c[1]!==a[1]&&(l.x=c[0],l.y=s[1]-(c[1]+a[1])),u&&(u[0]!==a[0]/2||u[1]!==a[1]/2)){var d={x:u[0],xunits:IconAnchorUnits.PIXELS,y:a[1]-u[1],yunits:IconAnchorUnits.PIXELS};o.hotSpot=d}}o.Icon=l;var h=t.getScaleArray()[0],p=a;(null===p&&(p=DEFAULT_IMAGE_STYLE_SIZE),2==p.length)&&(h/=scaleForSize(p));1!==h&&(o.scale=h);var f=t.getRotation();0!==f&&(o.heading=f);var m=t.getColor();m&&(o.color=m);var _=n[n.length-1].node,g=ICON_STYLE_SEQUENCE[_.namespaceURI],v=makeSequence(o,g);pushSerializeAndPop(r,ICON_STYLE_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,v,n,g)}var LABEL_STYLE_SEQUENCE=makeStructureNS(NAMESPACE_URIS,["color","scale"]),LABEL_STYLE_SERIALIZERS=makeStructureNS(NAMESPACE_URIS,{color:makeChildAppender(writeColorTextNode),scale:makeChildAppender(writeScaleTextNode)});function writeLabelStyle(e,t,n){var r={node:e},o={},i=t.getFill();i&&(o.color=i.getColor());var a=t.getScale();a&&1!==a&&(o.scale=a);var s=n[n.length-1].node,l=LABEL_STYLE_SEQUENCE[s.namespaceURI],u=makeSequence(o,l);pushSerializeAndPop(r,LABEL_STYLE_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,u,n,l)}var LINE_STYLE_SEQUENCE=makeStructureNS(NAMESPACE_URIS,["color","width"]),LINE_STYLE_SERIALIZERS=makeStructureNS(NAMESPACE_URIS,{color:makeChildAppender(writeColorTextNode),width:makeChildAppender(writeDecimalTextNode)});function writeLineStyle(e,t,n){var r={node:e},o={color:t.getColor(),width:Number(t.getWidth())||1},i=n[n.length-1].node,a=LINE_STYLE_SEQUENCE[i.namespaceURI],s=makeSequence(o,a);pushSerializeAndPop(r,LINE_STYLE_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,s,n,a)}var GEOMETRY_TYPE_TO_NODENAME={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},GEOMETRY_NODE_FACTORY=function(e,t,n){if(e)return createElementNS(t[t.length-1].node.namespaceURI,GEOMETRY_TYPE_TO_NODENAME[e.getType()])},POINT_NODE_FACTORY=makeSimpleNodeFactory("Point"),LINE_STRING_NODE_FACTORY=makeSimpleNodeFactory("LineString"),LINEAR_RING_NODE_FACTORY=makeSimpleNodeFactory("LinearRing"),POLYGON_NODE_FACTORY=makeSimpleNodeFactory("Polygon"),MULTI_GEOMETRY_SERIALIZERS=makeStructureNS(NAMESPACE_URIS,{LineString:makeChildAppender(writePrimitiveGeometry),Point:makeChildAppender(writePrimitiveGeometry),Polygon:makeChildAppender(writePolygon),GeometryCollection:makeChildAppender(writeMultiGeometry)});function writeMultiGeometry(e,t,n){var r,o={node:e},i=t.getType(),a=[];"GeometryCollection"===i?(t.getGeometriesArrayRecursive().forEach((function(e){var t=e.getType();"MultiPoint"===t?a=a.concat(e.getPoints()):"MultiLineString"===t?a=a.concat(e.getLineStrings()):"MultiPolygon"===t?a=a.concat(e.getPolygons()):"Point"===t||"LineString"===t||"Polygon"===t?a.push(e):assert(!1,39)})),r=GEOMETRY_NODE_FACTORY):"MultiPoint"===i?(a=t.getPoints(),r=POINT_NODE_FACTORY):"MultiLineString"===i?(a=t.getLineStrings(),r=LINE_STRING_NODE_FACTORY):"MultiPolygon"===i?(a=t.getPolygons(),r=POLYGON_NODE_FACTORY):assert(!1,39),pushSerializeAndPop(o,MULTI_GEOMETRY_SERIALIZERS,r,a,n)}var BOUNDARY_IS_SERIALIZERS=makeStructureNS(NAMESPACE_URIS,{LinearRing:makeChildAppender(writePrimitiveGeometry)});function writeBoundaryIs(e,t,n){pushSerializeAndPop({node:e},BOUNDARY_IS_SERIALIZERS,LINEAR_RING_NODE_FACTORY,[t],n)}var PLACEMARK_SERIALIZERS=makeStructureNS(NAMESPACE_URIS,{ExtendedData:makeChildAppender(writeExtendedData),MultiGeometry:makeChildAppender(writeMultiGeometry),LineString:makeChildAppender(writePrimitiveGeometry),LinearRing:makeChildAppender(writePrimitiveGeometry),Point:makeChildAppender(writePrimitiveGeometry),Polygon:makeChildAppender(writePolygon),Style:makeChildAppender(writeStyle),address:makeChildAppender(writeStringTextNode),description:makeChildAppender(writeStringTextNode),name:makeChildAppender(writeStringTextNode),open:makeChildAppender(writeBooleanTextNode),phoneNumber:makeChildAppender(writeStringTextNode),styleUrl:makeChildAppender(writeStringTextNode),visibility:makeChildAppender(writeBooleanTextNode)}),PLACEMARK_SEQUENCE=makeStructureNS(NAMESPACE_URIS,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),EXTENDEDDATA_NODE_FACTORY=makeSimpleNodeFactory("ExtendedData");function writePlacemark(e,t,n){var r={node:e};t.getId()&&e.setAttribute("id",t.getId());var o=t.getProperties(),i={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};i[t.getGeometryName()]=1;var a=Object.keys(o||{}).sort().filter((function(e){return!i[e]})),s=t.getStyleFunction();if(s){var l=s(t,0);if(l){var u=Array.isArray(l)?l:[l],c=u;if(t.getGeometry()&&(c=u.filter((function(e){var n=e.getGeometryFunction()(t);if(n){var r=n.getType();return"GeometryCollection"===r?n.getGeometriesArrayRecursive().filter((function(e){var t=e.getType();return"Point"===t||"MultiPoint"===t})).length:"Point"===r||"MultiPoint"===r}}))),this.writeStyles_){var d=u,h=u;t.getGeometry()&&(d=u.filter((function(e){var n=e.getGeometryFunction()(t);if(n){var r=n.getType();return"GeometryCollection"===r?n.getGeometriesArrayRecursive().filter((function(e){var t=e.getType();return"LineString"===t||"MultiLineString"===t})).length:"LineString"===r||"MultiLineString"===r}})),h=u.filter((function(e){var n=e.getGeometryFunction()(t);if(n){var r=n.getType();return"GeometryCollection"===r?n.getGeometriesArrayRecursive().filter((function(e){var t=e.getType();return"Polygon"===t||"MultiPolygon"===t})).length:"Polygon"===r||"MultiPolygon"===r}}))),o.Style={pointStyles:c,lineStyles:d,polyStyles:h}}if(c.length&&void 0===o.name){var p=c[0].getText();p&&(o.name=p.getText())}}}var f=n[n.length-1].node,m=PLACEMARK_SEQUENCE[f.namespaceURI],_=makeSequence(o,m);if(pushSerializeAndPop(r,PLACEMARK_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,_,n,m),a.length>0){var g=makeSequence(o,a);pushSerializeAndPop(r,PLACEMARK_SERIALIZERS,EXTENDEDDATA_NODE_FACTORY,[{names:a,values:g}],n)}var v=n[0],y=t.getGeometry();y&&(y=transformGeometryWithOptions(y,!0,v)),pushSerializeAndPop(r,PLACEMARK_SERIALIZERS,GEOMETRY_NODE_FACTORY,[y],n)}var PRIMITIVE_GEOMETRY_SEQUENCE=makeStructureNS(NAMESPACE_URIS,["extrude","tessellate","altitudeMode","coordinates"]),PRIMITIVE_GEOMETRY_SERIALIZERS=makeStructureNS(NAMESPACE_URIS,{extrude:makeChildAppender(writeBooleanTextNode),tessellate:makeChildAppender(writeBooleanTextNode),altitudeMode:makeChildAppender(writeStringTextNode),coordinates:makeChildAppender(writeCoordinatesTextNode)});function writePrimitiveGeometry(e,t,n){var r=t.getFlatCoordinates(),o={node:e};o.layout=t.getLayout(),o.stride=t.getStride();var i=t.getProperties();i.coordinates=r;var a=n[n.length-1].node,s=PRIMITIVE_GEOMETRY_SEQUENCE[a.namespaceURI],l=makeSequence(i,s);pushSerializeAndPop(o,PRIMITIVE_GEOMETRY_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,l,n,s)}var POLY_STYLE_SEQUENCE=makeStructureNS(NAMESPACE_URIS,["color","fill","outline"]),POLYGON_SERIALIZERS=makeStructureNS(NAMESPACE_URIS,{outerBoundaryIs:makeChildAppender(writeBoundaryIs),innerBoundaryIs:makeChildAppender(writeBoundaryIs)}),INNER_BOUNDARY_NODE_FACTORY=makeSimpleNodeFactory("innerBoundaryIs"),OUTER_BOUNDARY_NODE_FACTORY=makeSimpleNodeFactory("outerBoundaryIs");function writePolygon(e,t,n){var r=t.getLinearRings(),o=r.shift(),i={node:e};pushSerializeAndPop(i,POLYGON_SERIALIZERS,INNER_BOUNDARY_NODE_FACTORY,r,n),pushSerializeAndPop(i,POLYGON_SERIALIZERS,OUTER_BOUNDARY_NODE_FACTORY,[o],n)}var POLY_STYLE_SERIALIZERS=makeStructureNS(NAMESPACE_URIS,{color:makeChildAppender(writeColorTextNode),fill:makeChildAppender(writeBooleanTextNode),outline:makeChildAppender(writeBooleanTextNode)});function writePolyStyle(e,t,n){var r={node:e},o=t.getFill(),i=t.getStroke(),a={color:o?o.getColor():void 0,fill:!!o&&void 0,outline:!!i&&void 0},s=n[n.length-1].node,l=POLY_STYLE_SEQUENCE[s.namespaceURI],u=makeSequence(a,l);pushSerializeAndPop(r,POLY_STYLE_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,u,n,l)}function writeScaleTextNode(e,t){writeDecimalTextNode(e,Math.round(1e6*t)/1e6)}var STYLE_SEQUENCE=makeStructureNS(NAMESPACE_URIS,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),STYLE_SERIALIZERS=makeStructureNS(NAMESPACE_URIS,{IconStyle:makeChildAppender(writeIconStyle),LabelStyle:makeChildAppender(writeLabelStyle),LineStyle:makeChildAppender(writeLineStyle),PolyStyle:makeChildAppender(writePolyStyle)});function writeStyle(e,t,n){var r,o={node:e},i={};if(t.pointStyles.length){var a=t.pointStyles[0].getText();a&&(i.LabelStyle=a);var s=t.pointStyles[0].getImage();s&&"function"==typeof s.getSrc&&(i.IconStyle=s)}t.lineStyles.length&&((r=t.lineStyles[0].getStroke())&&(i.LineStyle=r));t.polyStyles.length&&((r=t.polyStyles[0].getStroke())&&!i.LineStyle&&(i.LineStyle=r),i.PolyStyle=t.polyStyles[0]);var l=n[n.length-1].node,u=STYLE_SEQUENCE[l.namespaceURI],c=makeSequence(i,u);pushSerializeAndPop(o,STYLE_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,c,n,u)}function writeVec2(e,t){e.setAttribute("x",String(t.x)),e.setAttribute("y",String(t.y)),e.setAttribute("xunits",t.xunits),e.setAttribute("yunits",t.yunits)}function flipXY(e,t,n,r,o,i){var a,s;void 0!==o?(a=o,s=void 0!==i?i:0):(a=[],s=0);for(var l=t;l<n;){var u=e[l++];a[s++]=e[l++],a[s++]=u;for(var c=2;c<r;++c)a[s++]=e[l++]}return a.length=s,a}var __extends=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Polyline=function(e){function t(t){var n=e.call(this)||this,r=t||{};return n.dataProjection=get$3("EPSG:4326"),n.factor_=r.factor?r.factor:1e5,n.geometryLayout_=r.geometryLayout?r.geometryLayout:GeometryLayout.XY,n}return __extends(t,e),t.prototype.readFeatureFromText=function(e,t){var n=this.readGeometryFromText(e,t);return new Feature$1(n)},t.prototype.readFeaturesFromText=function(e,t){return[this.readFeatureFromText(e,t)]},t.prototype.readGeometryFromText=function(e,t){var n=getStrideForLayout(this.geometryLayout_),r=decodeDeltas(e,n,this.factor_);flipXY(r,0,r.length,n,r);var o=inflateCoordinates(r,0,r.length,n);return transformGeometryWithOptions(new LineString(o,this.geometryLayout_),!1,this.adaptOptions(t))},t.prototype.writeFeatureText=function(e,t){var n=e.getGeometry();return n?this.writeGeometryText(n,t):(assert(!1,40),"")},t.prototype.writeFeaturesText=function(e,t){return this.writeFeatureText(e[0],t)},t.prototype.writeGeometryText=function(e,t){var n=(e=transformGeometryWithOptions(e,!0,this.adaptOptions(t))).getFlatCoordinates(),r=e.getStride();return flipXY(n,0,n.length,r,n),encodeDeltas(n,r,this.factor_)},t}(TextFeature$1);function encodeDeltas(e,t,n){var r,o=n||1e5,i=new Array(t);for(r=0;r<t;++r)i[r]=0;for(var a=0,s=e.length;a<s;)for(r=0;r<t;++r,++a){var l=e[a],u=l-i[r];i[r]=l,e[a]=u}return encodeFloats(e,o)}function decodeDeltas(e,t,n){var r,o=n||1e5,i=new Array(t);for(r=0;r<t;++r)i[r]=0;for(var a=decodeFloats(e,o),s=0,l=a.length;s<l;)for(r=0;r<t;++r,++s)i[r]+=a[s],a[s]=i[r];return a}function encodeFloats(e,t){for(var n=t||1e5,r=0,o=e.length;r<o;++r)e[r]=Math.round(e[r]*n);return encodeSignedIntegers(e)}function decodeFloats(e,t){for(var n=t||1e5,r=decodeSignedIntegers(e),o=0,i=r.length;o<i;++o)r[o]/=n;return r}function encodeSignedIntegers(e){for(var t=0,n=e.length;t<n;++t){var r=e[t];e[t]=r<0?~(r<<1):r<<1}return encodeUnsignedIntegers(e)}function decodeSignedIntegers(e){for(var t=decodeUnsignedIntegers(e),n=0,r=t.length;n<r;++n){var o=t[n];t[n]=1&o?~(o>>1):o>>1}return t}function encodeUnsignedIntegers(e){for(var t="",n=0,r=e.length;n<r;++n)t+=encodeUnsignedInteger(e[n]);return t}function decodeUnsignedIntegers(e){for(var t=[],n=0,r=0,o=0,i=e.length;o<i;++o){var a=e.charCodeAt(o)-63;n|=(31&a)<<r,a<32?(t.push(n),n=0,r=0):r+=5}return t}function encodeUnsignedInteger(e){for(var t,n="";e>=32;)t=63+(32|31&e),n+=String.fromCharCode(t),e>>=5;return t=e+63,n+=String.fromCharCode(t)}function register(e){var t,n,r=Object.keys(e.defs),o=r.length;for(t=0;t<o;++t){var i=r[t];if(!get$3(i)){var a=e.defs(i),s=a.units;s||"longlat"!==a.projName||(s=Units$2.DEGREES),addProjection(new Projection$1({code:i,axisOrientation:a.axis,metersPerUnit:a.to_meter,units:s}))}}for(t=0;t<o;++t){var l=r[t],u=get$3(l);for(n=0;n<o;++n){var c=r[n],d=get$3(c);if(!get$4(l,c))if(e.defs[l]===e.defs[c])addEquivalentProjections([u,d]);else{var h=e(l,c);addCoordinateTransforms(u,d,createSafeCoordinateTransform(u,d,h.forward),createSafeCoordinateTransform(d,u,h.inverse))}}}}function globals(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}var PJD_3PARAM=1,PJD_7PARAM=2,PJD_GRIDSHIFT=3,PJD_WGS84=4,PJD_NODATUM=5,SRS_WGS84_SEMIMAJOR=6378137,SRS_WGS84_SEMIMINOR=6356752.314,SRS_WGS84_ESQUARED=.0066943799901413165,SEC_TO_RAD=484813681109536e-20,HALF_PI=Math.PI/2,SIXTH=.16666666666666666,RA4=.04722222222222222,RA6=.022156084656084655,EPSLN=1e-10,D2R$1=.017453292519943295,R2D=57.29577951308232,FORTPI=Math.PI/4,TWO_PI=2*Math.PI,SPI=3.14159265359,exports$3={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667};const units={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var ignoredChar=/[\s_\-\/\(\)]/g;function match(e,t){if(e[t])return e[t];for(var n,r=Object.keys(e),o=t.toLowerCase().replace(ignoredChar,""),i=-1;++i<r.length;)if((n=r[i]).toLowerCase().replace(ignoredChar,"")===o)return e[n]}function projStr(e){var t,n,r,o={},i=e.split("+").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n=t.split("=");return n.push(!0),e[n[0].toLowerCase()]=n[1],e}),{}),a={proj:"projName",datum:"datumCode",rf:function(e){o.rf=parseFloat(e)},lat_0:function(e){o.lat0=e*D2R$1},lat_1:function(e){o.lat1=e*D2R$1},lat_2:function(e){o.lat2=e*D2R$1},lat_ts:function(e){o.lat_ts=e*D2R$1},lon_0:function(e){o.long0=e*D2R$1},lon_1:function(e){o.long1=e*D2R$1},lon_2:function(e){o.long2=e*D2R$1},alpha:function(e){o.alpha=parseFloat(e)*D2R$1},gamma:function(e){o.rectified_grid_angle=parseFloat(e)},lonc:function(e){o.longc=e*D2R$1},x_0:function(e){o.x0=parseFloat(e)},y_0:function(e){o.y0=parseFloat(e)},k_0:function(e){o.k0=parseFloat(e)},k:function(e){o.k0=parseFloat(e)},a:function(e){o.a=parseFloat(e)},b:function(e){o.b=parseFloat(e)},r_a:function(){o.R_A=!0},zone:function(e){o.zone=parseInt(e,10)},south:function(){o.utmSouth=!0},towgs84:function(e){o.datum_params=e.split(",").map((function(e){return parseFloat(e)}))},to_meter:function(e){o.to_meter=parseFloat(e)},units:function(e){o.units=e;var t=match(units,e);t&&(o.to_meter=t.to_meter)},from_greenwich:function(e){o.from_greenwich=e*D2R$1},pm:function(e){var t=match(exports$3,e);o.from_greenwich=(t||parseFloat(e))*D2R$1},nadgrids:function(e){"@null"===e?o.datumCode="none":o.nadgrids=e},axis:function(e){var t="ewnsud";3===e.length&&-1!==t.indexOf(e.substr(0,1))&&-1!==t.indexOf(e.substr(1,1))&&-1!==t.indexOf(e.substr(2,1))&&(o.axis=e)},approx:function(){o.approx=!0}};for(t in i)n=i[t],t in a?"function"==typeof(r=a[t])?r(n):o[r]=n:o[t]=n;return"string"==typeof o.datumCode&&"WGS84"!==o.datumCode&&(o.datumCode=o.datumCode.toLowerCase()),o}var NEUTRAL=1,KEYWORD=2,NUMBER=3,QUOTED=4,AFTERQUOTE=5,ENDED=-1,whitespace=/\s/,latin=/[A-Za-z]/,keyword=/[A-Za-z84_]/,endThings=/[,\]]/,digets=/[\d\.E\-\+]/;function Parser(e){if("string"!=typeof e)throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=NEUTRAL}function parseString(e){return new Parser(e).output()}function mapit(e,t,n){Array.isArray(t)&&(n.unshift(t),t=null);var r=t?{}:e,o=n.reduce((function(e,t){return sExpr(t,e),e}),r);t&&(e[t]=o)}function sExpr(e,t){if(Array.isArray(e)){var n=e.shift();if("PARAMETER"===n&&(n=e.shift()),1===e.length)return Array.isArray(e[0])?(t[n]={},void sExpr(e[0],t[n])):void(t[n]=e[0]);if(e.length)if("TOWGS84"!==n){if("AXIS"===n)return n in t||(t[n]=[]),void t[n].push(e);var r;switch(Array.isArray(n)||(t[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return t[n]={name:e[0].toLowerCase(),convert:e[1]},void(3===e.length&&sExpr(e[2],t[n]));case"SPHEROID":case"ELLIPSOID":return t[n]={name:e[0],a:e[1],rf:e[2]},void(4===e.length&&sExpr(e[3],t[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return e[0]=["name",e[0]],void mapit(t,n,e);default:for(r=-1;++r<e.length;)if(!Array.isArray(e[r]))return sExpr(e,t[n]);return mapit(t,n,e)}}else t[n]=e;else t[n]=!0}else t[e]=!0}Parser.prototype.readCharicter=function(){var e=this.text[this.place++];if(this.state!==QUOTED)for(;whitespace.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case NEUTRAL:return this.neutral(e);case KEYWORD:return this.keyword(e);case QUOTED:return this.quoted(e);case AFTERQUOTE:return this.afterquote(e);case NUMBER:return this.number(e);case ENDED:return}},Parser.prototype.afterquote=function(e){if('"'===e)return this.word+='"',void(this.state=QUOTED);if(endThings.test(e))return this.word=this.word.trim(),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in afterquote yet, index '+this.place)},Parser.prototype.afterItem=function(e){return","===e?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=NEUTRAL)):"]"===e?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=NEUTRAL,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=ENDED))):void 0},Parser.prototype.number=function(e){if(!digets.test(e)){if(endThings.test(e))return this.word=parseFloat(this.word),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in number yet, index '+this.place)}this.word+=e},Parser.prototype.quoted=function(e){'"'!==e?this.word+=e:this.state=AFTERQUOTE},Parser.prototype.keyword=function(e){if(keyword.test(e))this.word+=e;else{if("["===e){var t=[];return t.push(this.word),this.level++,null===this.root?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,void(this.state=NEUTRAL)}if(!endThings.test(e))throw new Error("havn't handled \""+e+'" in keyword yet, index '+this.place);this.afterItem(e)}},Parser.prototype.neutral=function(e){if(latin.test(e))return this.word=e,void(this.state=KEYWORD);if('"'===e)return this.word="",void(this.state=QUOTED);if(digets.test(e))return this.word=e,void(this.state=NUMBER);if(!endThings.test(e))throw new Error("havn't handled \""+e+'" in neutral yet, index '+this.place);this.afterItem(e)},Parser.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===ENDED)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var D2R=.017453292519943295;function rename(e,t){var n=t[0],r=t[1];!(n in e)&&r in e&&(e[n]=e[r],3===t.length&&(e[n]=t[2](e[n])))}function d2r(e){return e*D2R}function cleanWKT(e){if("GEOGCS"===e.type?e.projName="longlat":"LOCAL_CS"===e.type?(e.projName="identity",e.local=!0):"object"==typeof e.PROJECTION?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var t="",n=0,r=e.AXIS.length;n<r;++n){var o=[e.AXIS[n][0].toLowerCase(),e.AXIS[n][1].toLowerCase()];-1!==o[0].indexOf("north")||("y"===o[0]||"lat"===o[0])&&"north"===o[1]?t+="n":-1!==o[0].indexOf("south")||("y"===o[0]||"lat"===o[0])&&"south"===o[1]?t+="s":-1!==o[0].indexOf("east")||("x"===o[0]||"lon"===o[0])&&"east"===o[1]?t+="e":-1===o[0].indexOf("west")&&("x"!==o[0]&&"lon"!==o[0]||"west"!==o[1])||(t+="w")}2===t.length&&(t+="u"),3===t.length&&(e.axis=t)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),"metre"===e.units&&(e.units="meter"),e.UNIT.convert&&("GEOGCS"===e.type?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var i=e.GEOGCS;function a(t){return t*(e.to_meter||1)}"GEOGCS"===e.type&&(i=e),i&&(i.DATUM?e.datumCode=i.DATUM.name.toLowerCase():e.datumCode=i.name.toLowerCase(),"d_"===e.datumCode.slice(0,2)&&(e.datumCode=e.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==e.datumCode&&"new_zealand_1949"!==e.datumCode||(e.datumCode="nzgd49"),"wgs_1984"!==e.datumCode&&"world_geodetic_system_1984"!==e.datumCode||("Mercator_Auxiliary_Sphere"===e.PROJECTION&&(e.sphere=!0),e.datumCode="wgs84"),"_ferro"===e.datumCode.slice(-6)&&(e.datumCode=e.datumCode.slice(0,-6)),"_jakarta"===e.datumCode.slice(-8)&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),i.DATUM&&i.DATUM.SPHEROID&&(e.ellps=i.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===e.ellps.toLowerCase().slice(0,13)&&(e.ellps="intl"),e.a=i.DATUM.SPHEROID.a,e.rf=parseFloat(i.DATUM.SPHEROID.rf,10)),i.DATUM&&i.DATUM.TOWGS84&&(e.datum_params=i.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),"ch1903+"===e.datumCode&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a);[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",d2r],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",d2r],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",d2r],["lat0","latitude_of_origin",d2r],["lat0","standard_parallel_1",d2r],["lat1","standard_parallel_1",d2r],["lat2","standard_parallel_2",d2r],["azimuth","Azimuth"],["alpha","azimuth",d2r],["srsCode","name"]].forEach((function(t){return rename(e,t)})),e.long0||!e.longc||"Albers_Conic_Equal_Area"!==e.projName&&"Lambert_Azimuthal_Equal_Area"!==e.projName||(e.long0=e.longc),e.lat_ts||!e.lat1||"Stereographic_South_Pole"!==e.projName&&"Polar Stereographic (variant B)"!==e.projName?!e.lat_ts&&e.lat0&&"Polar_Stereographic"===e.projName&&(e.lat_ts=e.lat0,e.lat0=d2r(e.lat0>0?90:-90)):(e.lat0=d2r(e.lat1>0?90:-90),e.lat_ts=e.lat1)}function wkt(e){var t=parseString(e),n=t.shift(),r=t.shift();t.unshift(["name",r]),t.unshift(["type",n]);var o={};return sExpr(t,o),cleanWKT(o),o}function defs(e){var t=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?defs[e]=projStr(arguments[1]):defs[e]=wkt(arguments[1]):defs[e]=n}else if(1===arguments.length){if(Array.isArray(e))return e.map((function(e){Array.isArray(e)?defs.apply(t,e):defs(e)}));if("string"==typeof e){if(e in defs)return defs[e]}else"EPSG"in e?defs["EPSG:"+e.EPSG]=e:"ESRI"in e?defs["ESRI:"+e.ESRI]=e:"IAU2000"in e&&(defs["IAU2000:"+e.IAU2000]=e);return}}function testObj(e){return"string"==typeof e}function testDef(e){return e in defs}globals(defs);var codeWords=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function testWKT(e){return codeWords.some((function(t){return e.indexOf(t)>-1}))}var codes=["3857","900913","3785","102113"];function checkMercator(e){var t=match(e,"authority");if(t){var n=match(t,"epsg");return n&&codes.indexOf(n)>-1}}function checkProjStr(e){var t=match(e,"extension");if(t)return match(t,"proj4")}function testProj(e){return"+"===e[0]}function parse(e){if(!testObj(e))return e;if(testDef(e))return defs[e];if(testWKT(e)){var t=wkt(e);if(checkMercator(t))return defs["EPSG:3857"];var n=checkProjStr(t);return n?projStr(n):t}return testProj(e)?projStr(e):void 0}function extend(e,t){var n,r;if(e=e||{},!t)return e;for(r in t)void 0!==(n=t[r])&&(e[r]=n);return e}function msfnz(e,t,n){var r=e*t;return n/Math.sqrt(1-r*r)}function sign(e){return e<0?-1:1}function adjust_lon(e){return Math.abs(e)<=SPI?e:e-sign(e)*TWO_PI}function tsfnz(e,t,n){var r=e*n,o=.5*e;return r=Math.pow((1-r)/(1+r),o),Math.tan(.5*(HALF_PI-t))/r}function phi2z(e,t){for(var n,r,o=.5*e,i=HALF_PI-2*Math.atan(t),a=0;a<=15;a++)if(n=e*Math.sin(i),i+=r=HALF_PI-2*Math.atan(t*Math.pow((1-n)/(1+n),o))-i,Math.abs(r)<=1e-10)return i;return-9999}function init$v(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=msfnz(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function forward$u(e){var t,n,r=e.x,o=e.y;if(o*R2D>90&&o*R2D<-90&&r*R2D>180&&r*R2D<-180)return null;if(Math.abs(Math.abs(o)-HALF_PI)<=EPSLN)return null;if(this.sphere)t=this.x0+this.a*this.k0*adjust_lon(r-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(FORTPI+.5*o));else{var i=Math.sin(o),a=tsfnz(this.e,o,i);t=this.x0+this.a*this.k0*adjust_lon(r-this.long0),n=this.y0-this.a*this.k0*Math.log(a)}return e.x=t,e.y=n,e}function inverse$u(e){var t,n,r=e.x-this.x0,o=e.y-this.y0;if(this.sphere)n=HALF_PI-2*Math.atan(Math.exp(-o/(this.a*this.k0)));else{var i=Math.exp(-o/(this.a*this.k0));if(-9999===(n=phi2z(this.e,i)))return null}return t=adjust_lon(this.long0+r/(this.a*this.k0)),e.x=t,e.y=n,e}var names$w=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const merc={init:init$v,forward:forward$u,inverse:inverse$u,names:names$w};function init$u(){}function identity(e){return e}var names$v=["longlat","identity"];const longlat={init:init$u,forward:identity,inverse:identity,names:names$v};var projs=[merc,longlat],names$u={},projStore=[];function add(e,t){var n=projStore.length;return!e.names||(projStore[n]=e,e.names.forEach((function(e){names$u[e.toLowerCase()]=n})),this)}function get(e){if(!e)return!1;var t=e.toLowerCase();return void 0!==names$u[t]&&projStore[names$u[t]]?projStore[names$u[t]]:void 0}function start(){projs.forEach(add)}const projections={start:start,add:add,get:get};var exports$2={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:6378249.2,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},WGS84=exports$2.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};function eccentricity(e,t,n,r){var o=e*e,i=t*t,a=(o-i)/o,s=0;return r?(o=(e*=1-a*(SIXTH+a*(RA4+a*RA6)))*e,a=0):s=Math.sqrt(a),{es:a,e:s,ep2:(o-i)/i}}function sphere(e,t,n,r,o){if(!e){var i=match(exports$2,r);i||(i=WGS84),e=i.a,t=i.b,n=i.rf}return n&&!t&&(t=(1-1/n)*e),(0===n||Math.abs(e-t)<EPSLN)&&(o=!0,t=e),{a:e,b:t,rf:n,sphere:o}}exports$2.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var exports$1={};function datum(e,t,n,r,o,i,a){var s={};return s.datum_type=void 0===e||"none"===e?PJD_NODATUM:PJD_WGS84,t&&(s.datum_params=t.map(parseFloat),0===s.datum_params[0]&&0===s.datum_params[1]&&0===s.datum_params[2]||(s.datum_type=PJD_3PARAM),s.datum_params.length>3&&(0===s.datum_params[3]&&0===s.datum_params[4]&&0===s.datum_params[5]&&0===s.datum_params[6]||(s.datum_type=PJD_7PARAM,s.datum_params[3]*=SEC_TO_RAD,s.datum_params[4]*=SEC_TO_RAD,s.datum_params[5]*=SEC_TO_RAD,s.datum_params[6]=s.datum_params[6]/1e6+1))),a&&(s.datum_type=PJD_GRIDSHIFT,s.grids=a),s.a=n,s.b=r,s.es=o,s.ep2=i,s}exports$1.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},exports$1.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},exports$1.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},exports$1.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},exports$1.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},exports$1.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},exports$1.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},exports$1.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},exports$1.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},exports$1.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},exports$1.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},exports$1.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},exports$1.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},exports$1.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},exports$1.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},exports$1.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},exports$1.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var loadedNadgrids={};function nadgrid(e,t){var n=new DataView(t),r=detectLittleEndian(n),o=readHeader(n,r),i={header:o,subgrids:readSubgrids(n,o,r)};return loadedNadgrids[e]=i,i}function getNadgrids(e){return void 0===e?null:e.split(",").map(parseNadgridString)}function parseNadgridString(e){if(0===e.length)return null;var t="@"===e[0];return t&&(e=e.slice(1)),"null"===e?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:loadedNadgrids[e]||null,isNull:!1}}function secondsToRadians(e){return e/3600*Math.PI/180}function detectLittleEndian(e){var t=e.getInt32(8,!1);return 11!==t&&(t=e.getInt32(8,!0),!0)}function readHeader(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:decodeString(e,56,64).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}function decodeString(e,t,n){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,n)))}function readSubgrids(e,t,n){for(var r=176,o=[],i=0;i<t.nSubgrids;i++){var a=readGridHeader(e,r,n),s=readGridNodes(e,r,a,n),l=Math.round(1+(a.upperLongitude-a.lowerLongitude)/a.longitudeInterval),u=Math.round(1+(a.upperLatitude-a.lowerLatitude)/a.latitudeInterval);o.push({ll:[secondsToRadians(a.lowerLongitude),secondsToRadians(a.lowerLatitude)],del:[secondsToRadians(a.longitudeInterval),secondsToRadians(a.latitudeInterval)],lim:[l,u],count:a.gridNodeCount,cvs:mapNodes(s)}),r+=176+16*a.gridNodeCount}return o}function mapNodes(e){return e.map((function(e){return[secondsToRadians(e.longitudeShift),secondsToRadians(e.latitudeShift)]}))}function readGridHeader(e,t,n){return{name:decodeString(e,t+8,t+16).trim(),parent:decodeString(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,n),upperLatitude:e.getFloat64(t+88,n),lowerLongitude:e.getFloat64(t+104,n),upperLongitude:e.getFloat64(t+120,n),latitudeInterval:e.getFloat64(t+136,n),longitudeInterval:e.getFloat64(t+152,n),gridNodeCount:e.getInt32(t+168,n)}}function readGridNodes(e,t,n,r){for(var o=t+176,i=[],a=0;a<n.gridNodeCount;a++){var s={latitudeShift:e.getFloat32(o+16*a,r),longitudeShift:e.getFloat32(o+16*a+4,r),latitudeAccuracy:e.getFloat32(o+16*a+8,r),longitudeAccuracy:e.getFloat32(o+16*a+12,r)};i.push(s)}return i}function Projection(e,t){if(!(this instanceof Projection))return new Projection(e);t=t||function(e){if(e)throw e};var n=parse(e);if("object"==typeof n){var r=Projection.projections.get(n.projName);if(r){if(n.datumCode&&"none"!==n.datumCode){var o=match(exports$1,n.datumCode);o&&(n.datum_params=n.datum_params||(o.towgs84?o.towgs84.split(","):null),n.ellps=o.ellipse,n.datumName=o.datumName?o.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var i=sphere(n.a,n.b,n.rf,n.ellps,n.sphere),a=eccentricity(i.a,i.b,i.rf,n.R_A),s=getNadgrids(n.nadgrids),l=n.datum||datum(n.datumCode,n.datum_params,i.a,i.b,a.es,a.ep2,s);extend(this,n),extend(this,r),this.a=i.a,this.b=i.b,this.rf=i.rf,this.sphere=i.sphere,this.es=a.es,this.e=a.e,this.ep2=a.ep2,this.datum=l,this.init(),t(null,this)}else t(e)}else t(e)}function compareDatums(e,t){return e.datum_type===t.datum_type&&(!(e.a!==t.a||Math.abs(e.es-t.es)>5e-11)&&(e.datum_type===PJD_3PARAM?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type!==PJD_7PARAM||e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6]))}function geodeticToGeocentric(e,t,n){var r,o,i,a,s=e.x,l=e.y,u=e.z?e.z:0;if(l<-HALF_PI&&l>-1.001*HALF_PI)l=-HALF_PI;else if(l>HALF_PI&&l<1.001*HALF_PI)l=HALF_PI;else{if(l<-HALF_PI)return{x:-1/0,y:-1/0,z:e.z};if(l>HALF_PI)return{x:1/0,y:1/0,z:e.z}}return s>Math.PI&&(s-=2*Math.PI),o=Math.sin(l),a=Math.cos(l),i=o*o,{x:((r=n/Math.sqrt(1-t*i))+u)*a*Math.cos(s),y:(r+u)*a*Math.sin(s),z:(r*(1-t)+u)*o}}function geocentricToGeodetic(e,t,n,r){var o,i,a,s,l,u,c,d,h,p,f,m,_,g,v,y=1e-12,b=e.x,E=e.y,C=e.z?e.z:0;if(o=Math.sqrt(b*b+E*E),i=Math.sqrt(b*b+E*E+C*C),o/n<y){if(g=0,i/n<y)return HALF_PI,v=-r,{x:e.x,y:e.y,z:e.z}}else g=Math.atan2(E,b);a=C/i,d=(s=o/i)*(1-t)*(l=1/Math.sqrt(1-t*(2-t)*s*s)),h=a*l,_=0;do{_++,u=t*(c=n/Math.sqrt(1-t*h*h))/(c+(v=o*d+C*h-c*(1-t*h*h))),m=(f=a*(l=1/Math.sqrt(1-u*(2-u)*s*s)))*d-(p=s*(1-u)*l)*h,d=p,h=f}while(m*m>1e-24&&_<30);return{x:g,y:Math.atan(f/Math.abs(p)),z:v}}function geocentricToWgs84(e,t,n){if(t===PJD_3PARAM)return{x:e.x+n[0],y:e.y+n[1],z:e.z+n[2]};if(t===PJD_7PARAM){var r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],l=n[5],u=n[6];return{x:u*(e.x-l*e.y+s*e.z)+r,y:u*(l*e.x+e.y-a*e.z)+o,z:u*(-s*e.x+a*e.y+e.z)+i}}}function geocentricFromWgs84(e,t,n){if(t===PJD_3PARAM)return{x:e.x-n[0],y:e.y-n[1],z:e.z-n[2]};if(t===PJD_7PARAM){var r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],l=n[5],u=n[6],c=(e.x-r)/u,d=(e.y-o)/u,h=(e.z-i)/u;return{x:c+l*d-s*h,y:-l*c+d+a*h,z:s*c-a*d+h}}}function checkParams(e){return e===PJD_3PARAM||e===PJD_7PARAM}function datum_transform(e,t,n){if(compareDatums(e,t))return n;if(e.datum_type===PJD_NODATUM||t.datum_type===PJD_NODATUM)return n;var r=e.a,o=e.es;if(e.datum_type===PJD_GRIDSHIFT){if(0!==applyGridShift(e,!1,n))return;r=SRS_WGS84_SEMIMAJOR,o=SRS_WGS84_ESQUARED}var i=t.a,a=t.b,s=t.es;if(t.datum_type===PJD_GRIDSHIFT&&(i=SRS_WGS84_SEMIMAJOR,a=SRS_WGS84_SEMIMINOR,s=SRS_WGS84_ESQUARED),o===s&&r===i&&!checkParams(e.datum_type)&&!checkParams(t.datum_type))return n;if((n=geodeticToGeocentric(n,o,r),checkParams(e.datum_type)&&(n=geocentricToWgs84(n,e.datum_type,e.datum_params)),checkParams(t.datum_type)&&(n=geocentricFromWgs84(n,t.datum_type,t.datum_params)),n=geocentricToGeodetic(n,s,i,a),t.datum_type===PJD_GRIDSHIFT)&&0!==applyGridShift(t,!0,n))return;return n}function applyGridShift(e,t,n){if(null===e.grids||0===e.grids.length)return-1;var r={x:-n.x,y:n.y},o={x:Number.NaN,y:Number.NaN},i=[];e:for(var a=0;a<e.grids.length;a++){var s=e.grids[a];if(i.push(s.name),s.isNull){o=r;break}if(s.mandatory,null!==s.grid)for(var l=s.grid.subgrids,u=0,c=l.length;u<c;u++){var d=l[u],h=(Math.abs(d.del[1])+Math.abs(d.del[0]))/1e4,p=d.ll[0]-h,f=d.ll[1]-h,m=d.ll[0]+(d.lim[0]-1)*d.del[0]+h,_=d.ll[1]+(d.lim[1]-1)*d.del[1]+h;if(!(f>r.y||p>r.x||_<r.y||m<r.x)&&(o=applySubgridShift(r,t,d),!isNaN(o.x)))break e}else if(s.mandatory)return-1}return isNaN(o.x)?-1:(n.x=-o.x,n.y=o.y,0)}function applySubgridShift(e,t,n){var r={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return r;var o={x:e.x,y:e.y};o.x-=n.ll[0],o.y-=n.ll[1],o.x=adjust_lon(o.x-Math.PI)+Math.PI;var i=nadInterpolate(o,n);if(t){if(isNaN(i.x))return r;i.x=o.x-i.x,i.y=o.y-i.y;var a,s,l=9;do{if(s=nadInterpolate(i,n),isNaN(s.x))break;a={x:o.x-(s.x+i.x),y:o.y-(s.y+i.y)},i.x+=a.x,i.y+=a.y}while(l--&&Math.abs(a.x)>1e-12&&Math.abs(a.y)>1e-12);if(l<0)return r;r.x=adjust_lon(i.x+n.ll[0]),r.y=i.y+n.ll[1]}else isNaN(i.x)||(r.x=e.x+i.x,r.y=e.y+i.y);return r}function nadInterpolate(e,t){var n,r={x:e.x/t.del[0],y:e.y/t.del[1]},o=Math.floor(r.x),i=Math.floor(r.y),a=r.x-1*o,s=r.y-1*i,l={x:Number.NaN,y:Number.NaN};if(o<0||o>=t.lim[0])return l;if(i<0||i>=t.lim[1])return l;n=i*t.lim[0]+o;var u=t.cvs[n][0],c=t.cvs[n][1];n++;var d=t.cvs[n][0],h=t.cvs[n][1];n+=t.lim[0];var p=t.cvs[n][0],f=t.cvs[n][1];n--;var m=t.cvs[n][0],_=t.cvs[n][1],g=a*s,v=a*(1-s),y=(1-a)*(1-s),b=(1-a)*s;return l.x=y*u+v*d+b*m+g*p,l.y=y*c+v*h+b*_+g*f,l}function adjust_axis(e,t,n){var r,o,i,a=n.x,s=n.y,l=n.z||0,u={};for(i=0;i<3;i++)if(!t||2!==i||void 0!==n.z)switch(0===i?(r=a,o=-1!=="ew".indexOf(e.axis[i])?"x":"y"):1===i?(r=s,o=-1!=="ns".indexOf(e.axis[i])?"y":"x"):(r=l,o="z"),e.axis[i]){case"e":case"n":u[o]=r;break;case"w":case"s":u[o]=-r;break;case"u":void 0!==n[o]&&(u.z=r);break;case"d":void 0!==n[o]&&(u.z=-r);break;default:return null}return u}function common(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}function checkSanity(e){checkCoord(e.x),checkCoord(e.y)}function checkCoord(e){if("function"==typeof Number.isFinite){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof e||e!=e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function checkNotWGS(e,t){return(e.datum.datum_type===PJD_3PARAM||e.datum.datum_type===PJD_7PARAM||e.datum.datum_type===PJD_GRIDSHIFT)&&"WGS84"!==t.datumCode||(t.datum.datum_type===PJD_3PARAM||t.datum.datum_type===PJD_7PARAM||t.datum.datum_type===PJD_GRIDSHIFT)&&"WGS84"!==e.datumCode}function transform(e,t,n,r){var o,i=void 0!==(n=Array.isArray(n)?common(n):{x:n.x,y:n.y,z:n.z,m:n.m}).z;if(checkSanity(n),e.datum&&t.datum&&checkNotWGS(e,t)&&(n=transform(e,o=new Projection("WGS84"),n,r),e=o),r&&"enu"!==e.axis&&(n=adjust_axis(e,!1,n)),"longlat"===e.projName)n={x:n.x*D2R$1,y:n.y*D2R$1,z:n.z||0};else if(e.to_meter&&(n={x:n.x*e.to_meter,y:n.y*e.to_meter,z:n.z||0}),!(n=e.inverse(n)))return;if(e.from_greenwich&&(n.x+=e.from_greenwich),n=datum_transform(e.datum,t.datum,n))return t.from_greenwich&&(n={x:n.x-t.from_greenwich,y:n.y,z:n.z||0}),"longlat"===t.projName?n={x:n.x*R2D,y:n.y*R2D,z:n.z||0}:(n=t.forward(n),t.to_meter&&(n={x:n.x/t.to_meter,y:n.y/t.to_meter,z:n.z||0})),r&&"enu"!==t.axis?adjust_axis(t,!0,n):(n&&!i&&delete n.z,n)}Projection.projections=projections,Projection.projections.start();var wgs84=Projection("WGS84");function transformer(e,t,n,r){var o,i,a;return Array.isArray(n)?(o=transform(e,t,n,r)||{x:NaN,y:NaN},n.length>2?void 0!==e.name&&"geocent"===e.name||void 0!==t.name&&"geocent"===t.name?"number"==typeof o.z?[o.x,o.y,o.z].concat(n.splice(3)):[o.x,o.y,n[2]].concat(n.splice(3)):[o.x,o.y].concat(n.splice(2)):[o.x,o.y]):(i=transform(e,t,n,r),2===(a=Object.keys(n)).length||a.forEach((function(r){if(void 0!==e.name&&"geocent"===e.name||void 0!==t.name&&"geocent"===t.name){if("x"===r||"y"===r||"z"===r)return}else if("x"===r||"y"===r)return;i[r]=n[r]})),i)}function checkProj(e){return e instanceof Projection?e:e.oProj?e.oProj:Projection(e)}function proj4(e,t,n){e=checkProj(e);var r,o=!1;return void 0===t?(t=e,e=wgs84,o=!0):(void 0!==t.x||Array.isArray(t))&&(n=t,t=e,e=wgs84,o=!0),t=checkProj(t),n?transformer(e,t,n):(r={forward:function(n,r){return transformer(e,t,n,r)},inverse:function(n,r){return transformer(t,e,n,r)}},o&&(r.oProj=t),r)}var NUM_100K_SETS=6,SET_ORIGIN_COLUMN_LETTERS="AJSAJS",SET_ORIGIN_ROW_LETTERS="AFAFAF",A$1=65,I$1=73,O$1=79,V$1=86,Z$1=90;const mgrs={forward:forward$t,inverse:inverse$t,toPoint:toPoint};function forward$t(e,t){return t=t||5,encode(LLtoUTM({lat:e[1],lon:e[0]}),t)}function inverse$t(e){var t=UTMtoLL(decode(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function toPoint(e){var t=UTMtoLL(decode(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function degToRad(e){return e*(Math.PI/180)}function radToDeg(e){return e/Math.PI*180}function LLtoUTM(e){var t,n,r,o,i,a,s,l=e.lat,u=e.lon,c=6378137,d=.00669438,h=.9996,p=degToRad(l),f=degToRad(u);s=Math.floor((u+180)/6)+1,180===u&&(s=60),l>=56&&l<64&&u>=3&&u<12&&(s=32),l>=72&&l<84&&(u>=0&&u<9?s=31:u>=9&&u<21?s=33:u>=21&&u<33?s=35:u>=33&&u<42&&(s=37)),a=degToRad(6*(s-1)-180+3),t=.006739496752268451,n=c/Math.sqrt(1-d*Math.sin(p)*Math.sin(p)),r=Math.tan(p)*Math.tan(p),o=t*Math.cos(p)*Math.cos(p);var m=h*n*((i=Math.cos(p)*(f-a))+(1-r+o)*i*i*i/6+(5-18*r+r*r+72*o-58*t)*i*i*i*i*i/120)+5e5,_=h*(c*(.9983242984503243*p-.002514607064228144*Math.sin(2*p)+2639046602129982e-21*Math.sin(4*p)-3.418046101696858e-9*Math.sin(6*p))+n*Math.tan(p)*(i*i/2+(5-r+9*o+4*o*o)*i*i*i*i/24+(61-58*r+r*r+600*o-2.2240339282485886)*i*i*i*i*i*i/720));return l<0&&(_+=1e7),{northing:Math.round(_),easting:Math.round(m),zoneNumber:s,zoneLetter:getLetterDesignator(l)}}function UTMtoLL(e){var t=e.northing,n=e.easting,r=e.zoneLetter,o=e.zoneNumber;if(o<0||o>60)return null;var i,a,s,l,u,c,d,h,p,f=.9996,m=6378137,_=.00669438,g=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),v=n-5e5,y=t;r<"N"&&(y-=1e7),d=6*(o-1)-180+3,i=.006739496752268451,p=(h=y/f/6367449.145945056)+(3*g/2-27*g*g*g/32)*Math.sin(2*h)+(21*g*g/16-55*g*g*g*g/32)*Math.sin(4*h)+151*g*g*g/96*Math.sin(6*h),a=m/Math.sqrt(1-_*Math.sin(p)*Math.sin(p)),s=Math.tan(p)*Math.tan(p),l=i*Math.cos(p)*Math.cos(p),u=.99330562*m/Math.pow(1-_*Math.sin(p)*Math.sin(p),1.5),c=v/(a*f);var b=p-a*Math.tan(p)/u*(c*c/2-(5+3*s+10*l-4*l*l-9*i)*c*c*c*c/24+(61+90*s+298*l+45*s*s-1.6983531815716497-3*l*l)*c*c*c*c*c*c/720);b=radToDeg(b);var E,C=(c-(1+2*s+l)*c*c*c/6+(5-2*l+28*s-3*l*l+8*i+24*s*s)*c*c*c*c*c/120)/Math.cos(p);if(C=d+radToDeg(C),e.accuracy){var x=UTMtoLL({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});E={top:x.lat,right:x.lon,bottom:b,left:C}}else E={lat:b,lon:C};return E}function getLetterDesignator(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function encode(e,t){var n="00000"+e.easting,r="00000"+e.northing;return e.zoneNumber+e.zoneLetter+get100kID(e.easting,e.northing,e.zoneNumber)+n.substr(n.length-5,t)+r.substr(r.length-5,t)}function get100kID(e,t,n){var r=get100kSetForZone(n);return getLetter100kID(Math.floor(e/1e5),Math.floor(t/1e5)%20,r)}function get100kSetForZone(e){var t=e%NUM_100K_SETS;return 0===t&&(t=NUM_100K_SETS),t}function getLetter100kID(e,t,n){var r=n-1,o=SET_ORIGIN_COLUMN_LETTERS.charCodeAt(r),i=SET_ORIGIN_ROW_LETTERS.charCodeAt(r),a=o+e-1,s=i+t,l=!1;return a>Z$1&&(a=a-Z$1+A$1-1,l=!0),(a===I$1||o<I$1&&a>I$1||(a>I$1||o<I$1)&&l)&&a++,(a===O$1||o<O$1&&a>O$1||(a>O$1||o<O$1)&&l)&&++a===I$1&&a++,a>Z$1&&(a=a-Z$1+A$1-1),s>V$1?(s=s-V$1+A$1-1,l=!0):l=!1,(s===I$1||i<I$1&&s>I$1||(s>I$1||i<I$1)&&l)&&s++,(s===O$1||i<O$1&&s>O$1||(s>O$1||i<O$1)&&l)&&++s===I$1&&s++,s>V$1&&(s=s-V$1+A$1-1),String.fromCharCode(a)+String.fromCharCode(s)}function decode(e){if(e&&0===e.length)throw"MGRSPoint coverting from nothing";for(var t,n=e.length,r=null,o="",i=0;!/[A-Z]/.test(t=e.charAt(i));){if(i>=2)throw"MGRSPoint bad conversion from: "+e;o+=t,i++}var a=parseInt(o,10);if(0===i||i+3>n)throw"MGRSPoint bad conversion from: "+e;var s=e.charAt(i++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+e;r=e.substring(i,i+=2);for(var l=get100kSetForZone(a),u=getEastingFromChar(r.charAt(0),l),c=getNorthingFromChar(r.charAt(1),l);c<getMinNorthing(s);)c+=2e6;var d=n-i;if(d%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+e;var h,p,f,m=d/2,_=0,g=0;return m>0&&(h=1e5/Math.pow(10,m),p=e.substring(i,i+m),_=parseFloat(p)*h,f=e.substring(i+m),g=parseFloat(f)*h),{easting:_+u,northing:g+c,zoneLetter:s,zoneNumber:a,accuracy:h}}function getEastingFromChar(e,t){for(var n=SET_ORIGIN_COLUMN_LETTERS.charCodeAt(t-1),r=1e5,o=!1;n!==e.charCodeAt(0);){if(++n===I$1&&n++,n===O$1&&n++,n>Z$1){if(o)throw"Bad character: "+e;n=A$1,o=!0}r+=1e5}return r}function getNorthingFromChar(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var n=SET_ORIGIN_ROW_LETTERS.charCodeAt(t-1),r=0,o=!1;n!==e.charCodeAt(0);){if(++n===I$1&&n++,n===O$1&&n++,n>V$1){if(o)throw"Bad character: "+e;n=A$1,o=!0}r+=1e5}return r}function getMinNorthing(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function Point(e,t,n){if(!(this instanceof Point))return new Point(e,t,n);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if("object"==typeof e)this.x=e.x,this.y=e.y,this.z=e.z||0;else if("string"==typeof e&&void 0===t){var r=e.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=e,this.y=t,this.z=n||0}Point.fromMGRS=function(e){return new Point(toPoint(e))},Point.prototype.toMGRS=function(e){return forward$t([this.x,this.y],e)};var C00=1,C02=.25,C04=.046875,C06=.01953125,C08=.01068115234375,C22=.75,C44=.46875,C46=.013020833333333334,C48=.007120768229166667,C66=.3645833333333333,C68=.005696614583333333,C88=.3076171875;function pj_enfn(e){var t=[];t[0]=C00-e*(C02+e*(C04+e*(C06+e*C08))),t[1]=e*(C22-e*(C04+e*(C06+e*C08)));var n=e*e;return t[2]=n*(C44-e*(C46+e*C48)),n*=e,t[3]=n*(C66-e*C68),t[4]=n*e*C88,t}function pj_mlfn(e,t,n,r){return n*=t,t*=t,r[0]*e-n*(r[1]+t*(r[2]+t*(r[3]+t*r[4])))}var MAX_ITER$3=20;function pj_inv_mlfn(e,t,n){for(var r=1/(1-t),o=e,i=MAX_ITER$3;i;--i){var a=Math.sin(o),s=1-t*a*a;if(o-=s=(pj_mlfn(o,a,Math.cos(o),n)-e)*(s*Math.sqrt(s))*r,Math.abs(s)<EPSLN)return o}return o}function init$t(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=pj_enfn(this.es),this.ml0=pj_mlfn(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function forward$s(e){var t,n,r,o=e.x,i=e.y,a=adjust_lon(o-this.long0),s=Math.sin(i),l=Math.cos(i);if(this.es){var u=l*a,c=Math.pow(u,2),d=this.ep2*Math.pow(l,2),h=Math.pow(d,2),p=Math.abs(l)>EPSLN?Math.tan(i):0,f=Math.pow(p,2),m=Math.pow(f,2);t=1-this.es*Math.pow(s,2),u/=Math.sqrt(t);var _=pj_mlfn(i,s,l,this.en);n=this.a*(this.k0*u*(1+c/6*(1-f+d+c/20*(5-18*f+m+14*d-58*f*d+c/42*(61+179*m-m*f-479*f)))))+this.x0,r=this.a*(this.k0*(_-this.ml0+s*a*u/2*(1+c/12*(5-f+9*d+4*h+c/30*(61+m-58*f+270*d-330*f*d+c/56*(1385+543*m-m*f-3111*f))))))+this.y0}else{var g=l*Math.sin(a);if(Math.abs(Math.abs(g)-1)<EPSLN)return 93;if(n=.5*this.a*this.k0*Math.log((1+g)/(1-g))+this.x0,r=l*Math.cos(a)/Math.sqrt(1-Math.pow(g,2)),(g=Math.abs(r))>=1){if(g-1>EPSLN)return 93;r=0}else r=Math.acos(r);i<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return e.x=n,e.y=r,e}function inverse$s(e){var t,n,r,o,i=(e.x-this.x0)*(1/this.a),a=(e.y-this.y0)*(1/this.a);if(this.es)if(n=pj_inv_mlfn(t=this.ml0+a/this.k0,this.es,this.en),Math.abs(n)<HALF_PI){var s=Math.sin(n),l=Math.cos(n),u=Math.abs(l)>EPSLN?Math.tan(n):0,c=this.ep2*Math.pow(l,2),d=Math.pow(c,2),h=Math.pow(u,2),p=Math.pow(h,2);t=1-this.es*Math.pow(s,2);var f=i*Math.sqrt(t)/this.k0,m=Math.pow(f,2);r=n-(t*=u)*m/(1-this.es)*.5*(1-m/12*(5+3*h-9*c*h+c-4*d-m/30*(61+90*h-252*c*h+45*p+46*c-m/56*(1385+3633*h+4095*p+1574*p*h)))),o=adjust_lon(this.long0+f*(1-m/6*(1+2*h+c-m/20*(5+28*h+24*p+8*c*h+6*c-m/42*(61+662*h+1320*p+720*p*h))))/l)}else r=HALF_PI*sign(a),o=0;else{var _=Math.exp(i/this.k0),g=.5*(_-1/_),v=this.lat0+a/this.k0,y=Math.cos(v);t=Math.sqrt((1-Math.pow(y,2))/(1+Math.pow(g,2))),r=Math.asin(t),a<0&&(r=-r),o=0===g&&0===y?0:adjust_lon(Math.atan2(g,y)+this.long0)}return e.x=o,e.y=r,e}var names$t=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const tmerc={init:init$t,forward:forward$s,inverse:inverse$s,names:names$t};function sinh(e){var t=Math.exp(e);return t=(t-1/t)/2}function hypot(e,t){e=Math.abs(e),t=Math.abs(t);var n=Math.max(e,t),r=Math.min(e,t)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))}function log1py(e){var t=1+e,n=t-1;return 0===n?e:e*Math.log(t)/n}function asinhy(e){var t=Math.abs(e);return t=log1py(t*(1+t/(hypot(1,t)+1))),e<0?-t:t}function gatg(e,t){for(var n,r=2*Math.cos(2*t),o=e.length-1,i=e[o],a=0;--o>=0;)n=r*i-a+e[o],a=i,i=n;return t+n*Math.sin(2*t)}function clens(e,t){for(var n,r=2*Math.cos(t),o=e.length-1,i=e[o],a=0;--o>=0;)n=r*i-a+e[o],a=i,i=n;return Math.sin(t)*n}function cosh(e){var t=Math.exp(e);return t=(t+1/t)/2}function clens_cmplx(e,t,n){for(var r,o,i=Math.sin(t),a=Math.cos(t),s=sinh(n),l=cosh(n),u=2*a*l,c=-2*i*s,d=e.length-1,h=e[d],p=0,f=0,m=0;--d>=0;)r=f,o=p,h=u*(f=h)-r-c*(p=m)+e[d],m=c*f-o+u*p;return[(u=i*l)*h-(c=a*s)*m,u*m+c*h]}function init$s(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(tmerc.init.apply(this),this.forward=tmerc.forward,this.inverse=tmerc.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),n=t;this.cgb[0]=t*(2+t*(-2/3+t*(t*(116/45+t*(26/45+t*(-2854/675)))-2))),this.cbg[0]=t*(t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))-2),n*=t,this.cgb[1]=n*(7/3+t*(t*(-227/45+t*(2704/315+t*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),n*=t,this.cgb[2]=n*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=n*(-26/15+t*(34/21+t*(1.6+t*(-12686/2835)))),n*=t,this.cgb[3]=n*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=n*(1237/630+t*(t*(-24832/14175)-2.4)),n*=t,this.cgb[4]=n*(4174/315+t*(-144838/6237)),this.cbg[4]=n*(-734/315+t*(109598/31185)),n*=t,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=t*(t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))-.5),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=n*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=n*(13/48+t*(t*(557/1440+t*(281/630+t*(-1983433/1935360)))-.6)),n*=t,this.utg[2]=n*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=n*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),n*=t,this.utg[3]=n*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=n*(49561/161280+t*(-179/168+t*(6601661/7257600))),n*=t,this.utg[4]=n*(-4583/161280+t*(108847/3991680)),this.gtu[4]=n*(34729/80640+t*(-3418889/1995840)),n*=t,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=.6650675310896665*n;var r=gatg(this.cbg,this.lat0);this.Zb=-this.Qn*(r+clens(this.gtu,2*r))}function forward$r(e){var t=adjust_lon(e.x-this.long0),n=e.y;n=gatg(this.cbg,n);var r=Math.sin(n),o=Math.cos(n),i=Math.sin(t),a=Math.cos(t);n=Math.atan2(r,a*o),t=Math.atan2(i*o,hypot(r,o*a)),t=asinhy(Math.tan(t));var s,l,u=clens_cmplx(this.gtu,2*n,2*t);return n+=u[0],t+=u[1],Math.abs(t)<=2.623395162778?(s=this.a*(this.Qn*t)+this.x0,l=this.a*(this.Qn*n+this.Zb)+this.y0):(s=1/0,l=1/0),e.x=s,e.y=l,e}function inverse$r(e){var t,n,r=(e.x-this.x0)*(1/this.a),o=(e.y-this.y0)*(1/this.a);if(o=(o-this.Zb)/this.Qn,r/=this.Qn,Math.abs(r)<=2.623395162778){var i=clens_cmplx(this.utg,2*o,2*r);o+=i[0],r+=i[1],r=Math.atan(sinh(r));var a=Math.sin(o),s=Math.cos(o),l=Math.sin(r),u=Math.cos(r);o=Math.atan2(a*u,hypot(l,u*s)),t=adjust_lon((r=Math.atan2(l,u*s))+this.long0),n=gatg(this.cgb,o)}else t=1/0,n=1/0;return e.x=t,e.y=n,e}var names$s=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"];const etmerc={init:init$s,forward:forward$r,inverse:inverse$r,names:names$s};function adjust_zone(e,t){if(void 0===e){if((e=Math.floor(30*(adjust_lon(t)+Math.PI)/Math.PI)+1)<0)return 0;if(e>60)return 60}return e}var dependsOn="etmerc";function init$r(){var e=adjust_zone(this.zone,this.long0);if(void 0===e)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*D2R$1,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,etmerc.init.apply(this),this.forward=etmerc.forward,this.inverse=etmerc.inverse}var names$r=["Universal Transverse Mercator System","utm"];const utm={init:init$r,names:names$r,dependsOn:dependsOn};function srat(e,t){return Math.pow((1-e)/(1+e),t)}var MAX_ITER$2=20;function init$q(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+FORTPI)/(Math.pow(Math.tan(.5*this.lat0+FORTPI),this.C)*srat(this.e*e,this.ratexp))}function forward$q(e){var t=e.x,n=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+FORTPI),this.C)*srat(this.e*Math.sin(n),this.ratexp))-HALF_PI,e.x=this.C*t,e}function inverse$q(e){for(var t=e.x/this.C,n=e.y,r=Math.pow(Math.tan(.5*n+FORTPI)/this.K,1/this.C),o=MAX_ITER$2;o>0&&(n=2*Math.atan(r*srat(this.e*Math.sin(e.y),-.5*this.e))-HALF_PI,!(Math.abs(n-e.y)<1e-14));--o)e.y=n;return o?(e.x=t,e.y=n,e):null}var names$q=["gauss"];const gauss={init:init$q,forward:forward$q,inverse:inverse$q,names:names$q};function init$p(){gauss.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function forward$p(e){var t,n,r,o;return e.x=adjust_lon(e.x-this.long0),gauss.forward.apply(this,[e]),t=Math.sin(e.y),n=Math.cos(e.y),r=Math.cos(e.x),o=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*n*r),e.x=o*n*Math.sin(e.x),e.y=o*(this.cosc0*t-this.sinc0*n*r),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function inverse$p(e){var t,n,r,o,i;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,i=Math.sqrt(e.x*e.x+e.y*e.y)){var a=2*Math.atan2(i,this.R2);t=Math.sin(a),n=Math.cos(a),o=Math.asin(n*this.sinc0+e.y*t*this.cosc0/i),r=Math.atan2(e.x*t,i*this.cosc0*n-e.y*this.sinc0*t)}else o=this.phic0,r=0;return e.x=r,e.y=o,gauss.inverse.apply(this,[e]),e.x=adjust_lon(e.x+this.long0),e}var names$p=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const sterea={init:init$p,forward:forward$p,inverse:inverse$p,names:names$p};function ssfn_(e,t,n){return t*=n,Math.tan(.5*(HALF_PI+e))*Math.pow((1-t)/(1+t),.5*n)}function init$o(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=EPSLN&&(this.k0=.5*(1+sign(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=EPSLN&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=EPSLN&&Math.abs(Math.cos(this.lat_ts))>EPSLN&&(this.k0=.5*this.cons*msfnz(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/tsfnz(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=msfnz(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-HALF_PI,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function forward$o(e){var t,n,r,o,i,a,s=e.x,l=e.y,u=Math.sin(l),c=Math.cos(l),d=adjust_lon(s-this.long0);return Math.abs(Math.abs(s-this.long0)-Math.PI)<=EPSLN&&Math.abs(l+this.lat0)<=EPSLN?(e.x=NaN,e.y=NaN,e):this.sphere?(t=2*this.k0/(1+this.sinlat0*u+this.coslat0*c*Math.cos(d)),e.x=this.a*t*c*Math.sin(d)+this.x0,e.y=this.a*t*(this.coslat0*u-this.sinlat0*c*Math.cos(d))+this.y0,e):(n=2*Math.atan(this.ssfn_(l,u,this.e))-HALF_PI,o=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=EPSLN?(i=tsfnz(this.e,l*this.con,this.con*u),a=2*this.a*this.k0*i/this.cons,e.x=this.x0+a*Math.sin(s-this.long0),e.y=this.y0-this.con*a*Math.cos(s-this.long0),e):(Math.abs(this.sinlat0)<EPSLN?(t=2*this.a*this.k0/(1+o*Math.cos(d)),e.y=t*r):(t=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*o*Math.cos(d))),e.y=t*(this.cosX0*r-this.sinX0*o*Math.cos(d))+this.y0),e.x=t*o*Math.sin(d)+this.x0,e))}function inverse$o(e){var t,n,r,o,i;e.x-=this.x0,e.y-=this.y0;var a=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var s=2*Math.atan(a/(2*this.a*this.k0));return t=this.long0,n=this.lat0,a<=EPSLN?(e.x=t,e.y=n,e):(n=Math.asin(Math.cos(s)*this.sinlat0+e.y*Math.sin(s)*this.coslat0/a),t=Math.abs(this.coslat0)<EPSLN?this.lat0>0?adjust_lon(this.long0+Math.atan2(e.x,-1*e.y)):adjust_lon(this.long0+Math.atan2(e.x,e.y)):adjust_lon(this.long0+Math.atan2(e.x*Math.sin(s),a*this.coslat0*Math.cos(s)-e.y*this.sinlat0*Math.sin(s))),e.x=t,e.y=n,e)}if(Math.abs(this.coslat0)<=EPSLN){if(a<=EPSLN)return n=this.lat0,t=this.long0,e.x=t,e.y=n,e;e.x*=this.con,e.y*=this.con,r=a*this.cons/(2*this.a*this.k0),n=this.con*phi2z(this.e,r),t=this.con*adjust_lon(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else o=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,a<=EPSLN?i=this.X0:(i=Math.asin(Math.cos(o)*this.sinX0+e.y*Math.sin(o)*this.cosX0/a),t=adjust_lon(this.long0+Math.atan2(e.x*Math.sin(o),a*this.cosX0*Math.cos(o)-e.y*this.sinX0*Math.sin(o)))),n=-1*phi2z(this.e,Math.tan(.5*(HALF_PI+i)));return e.x=t,e.y=n,e}var names$o=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const stere={init:init$o,forward:forward$o,inverse:inverse$o,names:names$o,ssfn_:ssfn_};function init$n(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),n=this.a,r=1/this.rf,o=2*r-Math.pow(r,2),i=this.e=Math.sqrt(o);this.R=this.k0*n*Math.sqrt(1-o)/(1-o*Math.pow(t,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),s=Math.log(Math.tan(Math.PI/4+e/2)),l=Math.log((1+i*t)/(1-i*t));this.K=a-this.alpha*s+this.alpha*i/2*l}function forward$n(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),r=-this.alpha*(t+n)+this.K,o=2*(Math.atan(Math.exp(r))-Math.PI/4),i=this.alpha*(e.x-this.lambda0),a=Math.atan(Math.sin(i)/(Math.sin(this.b0)*Math.tan(o)+Math.cos(this.b0)*Math.cos(i))),s=Math.asin(Math.cos(this.b0)*Math.sin(o)-Math.sin(this.b0)*Math.cos(o)*Math.cos(i));return e.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,e.x=this.R*a+this.x0,e}function inverse$n(e){for(var t=e.x-this.x0,n=e.y-this.y0,r=t/this.R,o=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),i=Math.asin(Math.cos(this.b0)*Math.sin(o)+Math.sin(this.b0)*Math.cos(o)*Math.cos(r)),a=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(o))),s=this.lambda0+a/this.alpha,l=0,u=i,c=-1e3,d=0;Math.abs(u-c)>1e-7;){if(++d>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+i/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),c=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=s,e.y=u,e}var names$n=["somerc"];const somerc={init:init$n,forward:forward$n,inverse:inverse$n,names:names$n};var TOL=1e-7;function isTypeA(e){var t="object"==typeof e.PROJECTION?Object.keys(e.PROJECTION)[0]:e.PROJECTION;return"no_uoff"in e||"no_off"in e||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(t)}function init$m(){var e,t,n,r,o,i,a,s,l,u,c,d=0,h=0,p=0,f=0,m=0,_=0,g=0;this.no_off=isTypeA(this),this.no_rot="no_rot"in this;var v=!1;"alpha"in this&&(v=!0);var y=!1;if("rectified_grid_angle"in this&&(y=!0),v&&(g=this.alpha),y&&(d=this.rectified_grid_angle*D2R$1),v||y)h=this.longc;else if(p=this.long1,m=this.lat1,f=this.long2,_=this.lat2,Math.abs(m-_)<=TOL||(e=Math.abs(m))<=TOL||Math.abs(e-HALF_PI)<=TOL||Math.abs(Math.abs(this.lat0)-HALF_PI)<=TOL||Math.abs(Math.abs(_)-HALF_PI)<=TOL)throw new Error;var b=1-this.es;t=Math.sqrt(b),Math.abs(this.lat0)>EPSLN?(s=Math.sin(this.lat0),n=Math.cos(this.lat0),e=1-this.es*s*s,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/b),this.A=this.B*this.k0*t/e,(o=(r=this.B*t/(n*Math.sqrt(e)))*r-1)<=0?o=0:(o=Math.sqrt(o),this.lat0<0&&(o=-o)),this.E=o+=r,this.E*=Math.pow(tsfnz(this.e,this.lat0,s),this.B)):(this.B=1/t,this.A=this.k0,this.E=r=o=1),v||y?(v?(c=Math.asin(Math.sin(g)/r),y||(d=g)):(c=d,g=Math.asin(r*Math.sin(c))),this.lam0=h-Math.asin(.5*(o-1/o)*Math.tan(c))/this.B):(i=Math.pow(tsfnz(this.e,m,Math.sin(m)),this.B),a=Math.pow(tsfnz(this.e,_,Math.sin(_)),this.B),o=this.E/i,l=(a-i)/(a+i),u=((u=this.E*this.E)-a*i)/(u+a*i),(e=p-f)<-Math.pi?f-=TWO_PI:e>Math.pi&&(f+=TWO_PI),this.lam0=adjust_lon(.5*(p+f)-Math.atan(u*Math.tan(.5*this.B*(p-f))/l)/this.B),c=Math.atan(2*Math.sin(this.B*adjust_lon(p-this.lam0))/(o-1/o)),d=g=Math.asin(r*Math.sin(c))),this.singam=Math.sin(c),this.cosgam=Math.cos(c),this.sinrot=Math.sin(d),this.cosrot=Math.cos(d),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(g))),this.lat0<0&&(this.u_0=-this.u_0)),o=.5*c,this.v_pole_n=this.ArB*Math.log(Math.tan(FORTPI-o)),this.v_pole_s=this.ArB*Math.log(Math.tan(FORTPI+o))}function forward$m(e){var t,n,r,o,i,a,s,l,u={};if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-HALF_PI)>EPSLN){if(t=.5*((i=this.E/Math.pow(tsfnz(this.e,e.y,Math.sin(e.y)),this.B))-(a=1/i)),n=.5*(i+a),o=Math.sin(this.B*e.x),r=(t*this.singam-o*this.cosgam)/n,Math.abs(Math.abs(r)-1)<EPSLN)throw new Error;l=.5*this.ArB*Math.log((1-r)/(1+r)),a=Math.cos(this.B*e.x),s=Math.abs(a)<TOL?this.A*e.x:this.ArB*Math.atan2(t*this.cosgam+o*this.singam,a)}else l=e.y>0?this.v_pole_n:this.v_pole_s,s=this.ArB*e.y;return this.no_rot?(u.x=s,u.y=l):(s-=this.u_0,u.x=l*this.cosrot+s*this.sinrot,u.y=s*this.cosrot-l*this.sinrot),u.x=this.a*u.x+this.x0,u.y=this.a*u.y+this.y0,u}function inverse$m(e){var t,n,r,o,i,a,s,l={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(n=e.y,t=e.x):(n=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),o=.5*((r=Math.exp(-this.BrA*n))-1/r),i=.5*(r+1/r),s=((a=Math.sin(this.BrA*t))*this.cosgam+o*this.singam)/i,Math.abs(Math.abs(s)-1)<EPSLN)l.x=0,l.y=s<0?-HALF_PI:HALF_PI;else{if(l.y=this.E/Math.sqrt((1+s)/(1-s)),l.y=phi2z(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(o*this.cosgam-a*this.singam,Math.cos(this.BrA*t))}return l.x+=this.lam0,l}var names$m=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const omerc={init:init$m,forward:forward$m,inverse:inverse$m,names:names$m};function init$l(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<EPSLN)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),n=Math.cos(this.lat1),r=msfnz(this.e,t,n),o=tsfnz(this.e,this.lat1,t),i=Math.sin(this.lat2),a=Math.cos(this.lat2),s=msfnz(this.e,i,a),l=tsfnz(this.e,this.lat2,i),u=tsfnz(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>EPSLN?this.ns=Math.log(r/s)/Math.log(o/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=r/(this.ns*Math.pow(o,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function forward$l(e){var t=e.x,n=e.y;Math.abs(2*Math.abs(n)-Math.PI)<=EPSLN&&(n=sign(n)*(HALF_PI-2*EPSLN));var r,o,i=Math.abs(Math.abs(n)-HALF_PI);if(i>EPSLN)r=tsfnz(this.e,n,Math.sin(n)),o=this.a*this.f0*Math.pow(r,this.ns);else{if((i=n*this.ns)<=0)return null;o=0}var a=this.ns*adjust_lon(t-this.long0);return e.x=this.k0*(o*Math.sin(a))+this.x0,e.y=this.k0*(this.rh-o*Math.cos(a))+this.y0,e}function inverse$l(e){var t,n,r,o,i,a=(e.x-this.x0)/this.k0,s=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(a*a+s*s),n=1):(t=-Math.sqrt(a*a+s*s),n=-1);var l=0;if(0!==t&&(l=Math.atan2(n*a,n*s)),0!==t||this.ns>0){if(n=1/this.ns,r=Math.pow(t/(this.a*this.f0),n),-9999===(o=phi2z(this.e,r)))return null}else o=-HALF_PI;return i=adjust_lon(l/this.ns+this.long0),e.x=i,e.y=o,e}var names$l=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const lcc={init:init$l,forward:forward$l,inverse:inverse$l,names:names$l};function init$k(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function forward$k(e){var t,n,r,o,i,a,s,l=e.x,u=e.y,c=adjust_lon(l-this.long0);return t=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/t)-this.s45),r=-c*this.alfa,o=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),i=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(o)),a=this.n*i,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(o/2+this.s45),this.n),e.y=s*Math.cos(a)/1,e.x=s*Math.sin(a)/1,this.czech||(e.y*=-1,e.x*=-1),e}function inverse$k(e){var t,n,r,o,i,a,s,l=e.x;e.x=e.y,e.y=l,this.czech||(e.y*=-1,e.x*=-1),i=Math.sqrt(e.x*e.x+e.y*e.y),o=Math.atan2(e.y,e.x)/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/i,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(o)),n=Math.asin(Math.cos(r)*Math.sin(o)/Math.cos(t)),e.x=this.long0-n/this.alfa,a=t,s=0;var u=0;do{e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-e.y)<1e-10&&(s=1),a=e.y,u+=1}while(0===s&&u<15);return u>=15?null:e}var names$k=["Krovak","krovak"];const krovak={init:init$k,forward:forward$k,inverse:inverse$k,names:names$k};function mlfn(e,t,n,r,o){return e*o-t*Math.sin(2*o)+n*Math.sin(4*o)-r*Math.sin(6*o)}function e0fn(e){return 1-.25*e*(1+e/16*(3+1.25*e))}function e1fn(e){return.375*e*(1+.25*e*(1+.46875*e))}function e2fn(e){return.05859375*e*e*(1+.75*e)}function e3fn(e){return e*e*e*(35/3072)}function gN(e,t,n){var r=t*n;return e/Math.sqrt(1-r*r)}function adjust_lat(e){return Math.abs(e)<HALF_PI?e:e-sign(e)*Math.PI}function imlfn(e,t,n,r,o){var i,a;i=e/t;for(var s=0;s<15;s++)if(i+=a=(e-(t*i-n*Math.sin(2*i)+r*Math.sin(4*i)-o*Math.sin(6*i)))/(t-2*n*Math.cos(2*i)+4*r*Math.cos(4*i)-6*o*Math.cos(6*i)),Math.abs(a)<=1e-10)return i;return NaN}function init$j(){this.sphere||(this.e0=e0fn(this.es),this.e1=e1fn(this.es),this.e2=e2fn(this.es),this.e3=e3fn(this.es),this.ml0=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0))}function forward$j(e){var t,n,r=e.x,o=e.y;if(r=adjust_lon(r-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(o)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(o),Math.cos(r))-this.lat0);else{var i=Math.sin(o),a=Math.cos(o),s=gN(this.a,this.e,i),l=Math.tan(o)*Math.tan(o),u=r*Math.cos(o),c=u*u,d=this.es*a*a/(1-this.es);t=s*u*(1-c*l*(1/6-(8-l+8*d)*c/120)),n=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+s*i/a*c*(.5+(5-l+6*d)*c/24)}return e.x=t+this.x0,e.y=n+this.y0,e}function inverse$j(e){e.x-=this.x0,e.y-=this.y0;var t,n,r=e.x/this.a,o=e.y/this.a;if(this.sphere){var i=o+this.lat0;t=Math.asin(Math.sin(i)*Math.cos(r)),n=Math.atan2(Math.tan(r),Math.cos(i))}else{var a=imlfn(this.ml0/this.a+o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-HALF_PI)<=EPSLN)return e.x=this.long0,e.y=HALF_PI,o<0&&(e.y*=-1),e;var s=gN(this.a,this.e,Math.sin(a)),l=s*s*s/this.a/this.a*(1-this.es),u=Math.pow(Math.tan(a),2),c=r*this.a/s,d=c*c;t=a-s*Math.tan(a)/l*c*c*(.5-(1+3*u)*c*c/24),n=c*(1-d*(u/3+(1+3*u)*u*d/15))/Math.cos(a)}return e.x=adjust_lon(n+this.long0),e.y=adjust_lat(t),e}var names$j=["Cassini","Cassini_Soldner","cass"];const cass={init:init$j,forward:forward$j,inverse:inverse$j,names:names$j};function qsfnz(e,t){var n;return e>1e-7?(1-e*e)*(t/(1-(n=e*t)*n)-.5/e*Math.log((1-n)/(1+n))):2*t}var S_POLE=1,N_POLE=2,EQUIT=3,OBLIQ=4;function init$i(){var e,t=Math.abs(this.lat0);if(Math.abs(t-HALF_PI)<EPSLN?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<EPSLN?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=qsfnz(this.e,1),this.mmf=.5/(1-this.es),this.apa=authset(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=qsfnz(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function forward$i(e){var t,n,r,o,i,a,s,l,u,c,d=e.x,h=e.y;if(d=adjust_lon(d-this.long0),this.sphere){if(i=Math.sin(h),c=Math.cos(h),r=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+c*r:1+this.sinph0*i+this.cosph0*c*r)<=EPSLN)return null;t=(n=Math.sqrt(2/n))*c*Math.sin(d),n*=this.mode===this.EQUIT?i:this.cosph0*i-this.sinph0*c*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(h+this.lat0)<EPSLN)return null;n=FORTPI-.5*h,t=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(d),n*=r}}else{switch(s=0,l=0,u=0,r=Math.cos(d),o=Math.sin(d),i=Math.sin(h),a=qsfnz(this.e,i),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(s=a/this.qp,l=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:u=1+this.sinb1*s+this.cosb1*l*r;break;case this.EQUIT:u=1+l*r;break;case this.N_POLE:u=HALF_PI+h,a=this.qp-a;break;case this.S_POLE:u=h-HALF_PI,a=this.qp+a}if(Math.abs(u)<EPSLN)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),n=this.mode===this.OBLIQ?this.ymf*u*(this.cosb1*s-this.sinb1*l*r):(u=Math.sqrt(2/(1+l*r)))*s*this.ymf,t=this.xmf*u*l*o;break;case this.N_POLE:case this.S_POLE:a>=0?(t=(u=Math.sqrt(a))*o,n=r*(this.mode===this.S_POLE?u:-u)):t=n=0}}return e.x=this.a*t+this.x0,e.y=this.a*n+this.y0,e}function inverse$i(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,o,i,a,s,l=e.x/this.a,u=e.y/this.a;if(this.sphere){var c,d=0,h=0;if((n=.5*(c=Math.sqrt(l*l+u*u)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(h=Math.sin(n),d=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(c)<=EPSLN?0:Math.asin(u*h/c),l*=h,u=d*c;break;case this.OBLIQ:n=Math.abs(c)<=EPSLN?this.lat0:Math.asin(d*this.sinph0+u*h*this.cosph0/c),l*=h*this.cosph0,u=(d-Math.sin(n)*this.sinph0)*c;break;case this.N_POLE:u=-u,n=HALF_PI-n;break;case this.S_POLE:n-=HALF_PI}t=0!==u||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(l,u):0}else{if(s=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(l/=this.dd,u*=this.dd,(a=Math.sqrt(l*l+u*u))<EPSLN)return e.x=this.long0,e.y=this.lat0,e;o=2*Math.asin(.5*a/this.rq),r=Math.cos(o),l*=o=Math.sin(o),this.mode===this.OBLIQ?(s=r*this.sinb1+u*o*this.cosb1/a,i=this.qp*s,u=a*this.cosb1*r-u*this.sinb1*o):(s=u*o/a,i=this.qp*s,u=a*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(u=-u),!(i=l*l+u*u))return e.x=this.long0,e.y=this.lat0,e;s=1-i/this.qp,this.mode===this.S_POLE&&(s=-s)}t=Math.atan2(l,u),n=authlat(Math.asin(s),this.apa)}return e.x=adjust_lon(this.long0+t),e.y=n,e}var P00=.3333333333333333,P01=.17222222222222222,P02=.10257936507936508,P10=.06388888888888888,P11=.0664021164021164,P20=.016415012942191543;function authset(e){var t,n=[];return n[0]=e*P00,t=e*e,n[0]+=t*P01,n[1]=t*P10,t*=e,n[0]+=t*P02,n[1]+=t*P11,n[2]=t*P20,n}function authlat(e,t){var n=e+e;return e+t[0]*Math.sin(n)+t[1]*Math.sin(n+n)+t[2]*Math.sin(n+n+n)}var names$i=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const laea={init:init$i,forward:forward$i,inverse:inverse$i,names:names$i,S_POLE:S_POLE,N_POLE:N_POLE,EQUIT:EQUIT,OBLIQ:OBLIQ};function asinz(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}function init$h(){Math.abs(this.lat1+this.lat2)<EPSLN||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=msfnz(this.e3,this.sin_po,this.cos_po),this.qs1=qsfnz(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=msfnz(this.e3,this.sin_po,this.cos_po),this.qs2=qsfnz(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=qsfnz(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>EPSLN?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function forward$h(e){var t=e.x,n=e.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=qsfnz(this.e3,this.sin_phi),o=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,i=this.ns0*adjust_lon(t-this.long0),a=o*Math.sin(i)+this.x0,s=this.rh-o*Math.cos(i)+this.y0;return e.x=a,e.y=s,e}function inverse$h(e){var t,n,r,o,i,a;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),r=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),r=-1),o=0,0!==t&&(o=Math.atan2(r*e.x,r*e.y)),r=t*this.ns0/this.a,this.sphere?a=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,a=this.phi1z(this.e3,n)),i=adjust_lon(o/this.ns0+this.long0),e.x=i,e.y=a,e}function phi1z(e,t){var n,r,o,i,a=asinz(.5*t);if(e<EPSLN)return a;for(var s=e*e,l=1;l<=25;l++)if(a+=i=.5*(o=1-(r=e*(n=Math.sin(a)))*r)*o/Math.cos(a)*(t/(1-s)-n/o+.5/e*Math.log((1-r)/(1+r))),Math.abs(i)<=1e-7)return a;return null}var names$h=["Albers_Conic_Equal_Area","Albers","aea"];const aea={init:init$h,forward:forward$h,inverse:inverse$h,names:names$h,phi1z:phi1z};function init$g(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function forward$g(e){var t,n,r,o,i,a,s,l=e.x,u=e.y;return r=adjust_lon(l-this.long0),t=Math.sin(u),n=Math.cos(u),o=Math.cos(r),1,(i=this.sin_p14*t+this.cos_p14*n*o)>0||Math.abs(i)<=EPSLN?(a=this.x0+1*this.a*n*Math.sin(r)/i,s=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*n*o)/i):(a=this.x0+this.infinity_dist*n*Math.sin(r),s=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*n*o)),e.x=a,e.y=s,e}function inverse$g(e){var t,n,r,o,i,a;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(o=Math.atan2(t,this.rc),n=Math.sin(o),a=asinz((r=Math.cos(o))*this.sin_p14+e.y*n*this.cos_p14/t),i=Math.atan2(e.x*n,t*this.cos_p14*r-e.y*this.sin_p14*n),i=adjust_lon(this.long0+i)):(a=this.phic0,i=0),e.x=i,e.y=a,e}var names$g=["gnom"];const gnom={init:init$g,forward:forward$g,inverse:inverse$g,names:names$g};function iqsfnz(e,t){var n=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-n)<1e-6)return t<0?-1*HALF_PI:HALF_PI;for(var r,o,i,a,s=Math.asin(.5*t),l=0;l<30;l++)if(o=Math.sin(s),i=Math.cos(s),a=e*o,s+=r=Math.pow(1-a*a,2)/(2*i)*(t/(1-e*e)-o/(1-a*a)+.5/e*Math.log((1-a)/(1+a))),Math.abs(r)<=1e-10)return s;return NaN}function init$f(){this.sphere||(this.k0=msfnz(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function forward$f(e){var t,n,r=e.x,o=e.y,i=adjust_lon(r-this.long0);if(this.sphere)t=this.x0+this.a*i*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(o)/Math.cos(this.lat_ts);else{var a=qsfnz(this.e,Math.sin(o));t=this.x0+this.a*this.k0*i,n=this.y0+this.a*a*.5/this.k0}return e.x=t,e.y=n,e}function inverse$f(e){var t,n;return e.x-=this.x0,e.y-=this.y0,this.sphere?(t=adjust_lon(this.long0+e.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(n=iqsfnz(this.e,2*e.y*this.k0/this.a),t=adjust_lon(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=n,e}var names$f=["cea"];const cea={init:init$f,forward:forward$f,inverse:inverse$f,names:names$f};function init$e(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function forward$e(e){var t=e.x,n=e.y,r=adjust_lon(t-this.long0),o=adjust_lat(n-this.lat0);return e.x=this.x0+this.a*r*this.rc,e.y=this.y0+this.a*o,e}function inverse$e(e){var t=e.x,n=e.y;return e.x=adjust_lon(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=adjust_lat(this.lat0+(n-this.y0)/this.a),e}var names$e=["Equirectangular","Equidistant_Cylindrical","eqc"];const eqc={init:init$e,forward:forward$e,inverse:inverse$e,names:names$e};var MAX_ITER$1=20;function init$d(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=e0fn(this.es),this.e1=e1fn(this.es),this.e2=e2fn(this.es),this.e3=e3fn(this.es),this.ml0=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0)}function forward$d(e){var t,n,r,o=e.x,i=e.y,a=adjust_lon(o-this.long0);if(r=a*Math.sin(i),this.sphere)Math.abs(i)<=EPSLN?(t=this.a*a,n=-1*this.a*this.lat0):(t=this.a*Math.sin(r)/Math.tan(i),n=this.a*(adjust_lat(i-this.lat0)+(1-Math.cos(r))/Math.tan(i)));else if(Math.abs(i)<=EPSLN)t=this.a*a,n=-1*this.ml0;else{var s=gN(this.a,this.e,Math.sin(i))/Math.tan(i);t=s*Math.sin(r),n=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+s*(1-Math.cos(r))}return e.x=t+this.x0,e.y=n+this.y0,e}function inverse$d(e){var t,n,r,o,i,a,s,l,u;if(r=e.x-this.x0,o=e.y-this.y0,this.sphere)if(Math.abs(o+this.a*this.lat0)<=EPSLN)t=adjust_lon(r/this.a+this.long0),n=0;else{var c;for(a=this.lat0+o/this.a,s=r*r/this.a/this.a+a*a,l=a,i=MAX_ITER$1;i;--i)if(l+=u=-1*(a*(l*(c=Math.tan(l))+1)-l-.5*(l*l+s)*c)/((l-a)/c-1),Math.abs(u)<=EPSLN){n=l;break}t=adjust_lon(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(o+this.ml0)<=EPSLN)n=0,t=adjust_lon(this.long0+r/this.a);else{var d,h,p,f,m;for(a=(this.ml0+o)/this.a,s=r*r/this.a/this.a+a*a,l=a,i=MAX_ITER$1;i;--i)if(m=this.e*Math.sin(l),d=Math.sqrt(1-m*m)*Math.tan(l),h=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,l),p=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),l-=u=(a*(d*(f=h/this.a)+1)-f-.5*d*(f*f+s))/(this.es*Math.sin(2*l)*(f*f+s-2*a*f)/(4*d)+(a-f)*(d*p-2/Math.sin(2*l))-p),Math.abs(u)<=EPSLN){n=l;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),t=adjust_lon(this.long0+Math.asin(r*d/this.a)/Math.sin(n))}return e.x=t,e.y=n,e}var names$d=["Polyconic","poly"];const poly={init:init$d,forward:forward$d,inverse:inverse$d,names:names$d};function init$c(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function forward$c(e){var t,n=e.x,r=e.y-this.lat0,o=n-this.long0,i=r/SEC_TO_RAD*1e-5,a=o,s=1,l=0;for(t=1;t<=10;t++)s*=i,l+=this.A[t]*s;var u,c=l,d=a,h=1,p=0,f=0,m=0;for(t=1;t<=6;t++)u=p*c+h*d,h=h*c-p*d,p=u,f=f+this.B_re[t]*h-this.B_im[t]*p,m=m+this.B_im[t]*h+this.B_re[t]*p;return e.x=m*this.a+this.x0,e.y=f*this.a+this.y0,e}function inverse$c(e){var t,n,r=e.x,o=e.y,i=r-this.x0,a=(o-this.y0)/this.a,s=i/this.a,l=1,u=0,c=0,d=0;for(t=1;t<=6;t++)n=u*a+l*s,l=l*a-u*s,u=n,c=c+this.C_re[t]*l-this.C_im[t]*u,d=d+this.C_im[t]*l+this.C_re[t]*u;for(var h=0;h<this.iterations;h++){var p,f=c,m=d,_=a,g=s;for(t=2;t<=6;t++)p=m*c+f*d,f=f*c-m*d,m=p,_+=(t-1)*(this.B_re[t]*f-this.B_im[t]*m),g+=(t-1)*(this.B_im[t]*f+this.B_re[t]*m);f=1,m=0;var v=this.B_re[1],y=this.B_im[1];for(t=2;t<=6;t++)p=m*c+f*d,f=f*c-m*d,m=p,v+=t*(this.B_re[t]*f-this.B_im[t]*m),y+=t*(this.B_im[t]*f+this.B_re[t]*m);var b=v*v+y*y;c=(_*v+g*y)/b,d=(g*v-_*y)/b}var E=c,C=d,x=1,w=0;for(t=1;t<=9;t++)x*=E,w+=this.D[t]*x;var S=this.lat0+w*SEC_TO_RAD*1e5,T=this.long0+C;return e.x=T,e.y=S,e}var names$c=["New_Zealand_Map_Grid","nzmg"];const nzmg={init:init$c,forward:forward$c,inverse:inverse$c,names:names$c};function init$b(){}function forward$b(e){var t=e.x,n=e.y,r=adjust_lon(t-this.long0),o=this.x0+this.a*r,i=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return e.x=o,e.y=i,e}function inverse$b(e){e.x-=this.x0,e.y-=this.y0;var t=adjust_lon(this.long0+e.x/this.a),n=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=n,e}var names$b=["Miller_Cylindrical","mill"];const mill={init:init$b,forward:forward$b,inverse:inverse$b,names:names$b};var MAX_ITER=20;function init$a(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=pj_enfn(this.es)}function forward$a(e){var t,n,r=e.x,o=e.y;if(r=adjust_lon(r-this.long0),this.sphere){if(this.m)for(var i=this.n*Math.sin(o),a=MAX_ITER;a;--a){var s=(this.m*o+Math.sin(o)-i)/(this.m+Math.cos(o));if(o-=s,Math.abs(s)<EPSLN)break}else o=1!==this.n?Math.asin(this.n*Math.sin(o)):o;t=this.a*this.C_x*r*(this.m+Math.cos(o)),n=this.a*this.C_y*o}else{var l=Math.sin(o),u=Math.cos(o);n=this.a*pj_mlfn(o,l,u,this.en),t=this.a*r*u/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=n,e}function inverse$a(e){var t,n,r;return e.x-=this.x0,n=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,n/=this.C_x*(this.m+Math.cos(t)),this.m?t=asinz((this.m*t+Math.sin(t))/this.n):1!==this.n&&(t=asinz(Math.sin(t)/this.n)),n=adjust_lon(n+this.long0),t=adjust_lat(t)):(t=pj_inv_mlfn(e.y/this.a,this.es,this.en),(r=Math.abs(t))<HALF_PI?(r=Math.sin(t),n=adjust_lon(this.long0+e.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(t)))):r-EPSLN<HALF_PI&&(n=this.long0)),e.x=n,e.y=t,e}var names$a=["Sinusoidal","sinu"];const sinu={init:init$a,forward:forward$a,inverse:inverse$a,names:names$a};function init$9(){}function forward$9(e){for(var t=e.x,n=e.y,r=adjust_lon(t-this.long0),o=n,i=Math.PI*Math.sin(n);;){var a=-(o+Math.sin(o)-i)/(1+Math.cos(o));if(o+=a,Math.abs(a)<EPSLN)break}o/=2,Math.PI/2-Math.abs(n)<EPSLN&&(r=0);var s=.900316316158*this.a*r*Math.cos(o)+this.x0,l=1.4142135623731*this.a*Math.sin(o)+this.y0;return e.x=s,e.y=l,e}function inverse$9(e){var t,n;e.x-=this.x0,e.y-=this.y0,n=e.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),t=Math.asin(n);var r=adjust_lon(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*t+Math.sin(2*t))/Math.PI,Math.abs(n)>1&&(n=1);var o=Math.asin(n);return e.x=r,e.y=o,e}var names$9=["Mollweide","moll"];const moll={init:init$9,forward:forward$9,inverse:inverse$9,names:names$9};function init$8(){Math.abs(this.lat1+this.lat2)<EPSLN||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=e0fn(this.es),this.e1=e1fn(this.es),this.e2=e2fn(this.es),this.e3=e3fn(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=msfnz(this.e,this.sinphi,this.cosphi),this.ml1=mlfn(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<EPSLN?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=msfnz(this.e,this.sinphi,this.cosphi),this.ml2=mlfn(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function forward$8(e){var t,n=e.x,r=e.y;if(this.sphere)t=this.a*(this.g-r);else{var o=mlfn(this.e0,this.e1,this.e2,this.e3,r);t=this.a*(this.g-o)}var i=this.ns*adjust_lon(n-this.long0),a=this.x0+t*Math.sin(i),s=this.y0+this.rh-t*Math.cos(i);return e.x=a,e.y=s,e}function inverse$8(e){var t,n,r,o;e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns>=0?(n=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(n=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var i=0;return 0!==n&&(i=Math.atan2(t*e.x,t*e.y)),this.sphere?(o=adjust_lon(this.long0+i/this.ns),r=adjust_lat(this.g-n/this.a),e.x=o,e.y=r,e):(r=imlfn(this.g-n/this.a,this.e0,this.e1,this.e2,this.e3),o=adjust_lon(this.long0+i/this.ns),e.x=o,e.y=r,e)}var names$8=["Equidistant_Conic","eqdc"];const eqdc={init:init$8,forward:forward$8,inverse:inverse$8,names:names$8};function init$7(){this.R=this.a}function forward$7(e){var t,n,r=e.x,o=e.y,i=adjust_lon(r-this.long0);Math.abs(o)<=EPSLN&&(t=this.x0+this.R*i,n=this.y0);var a=asinz(2*Math.abs(o/Math.PI));(Math.abs(i)<=EPSLN||Math.abs(Math.abs(o)-HALF_PI)<=EPSLN)&&(t=this.x0,n=o>=0?this.y0+Math.PI*this.R*Math.tan(.5*a):this.y0+Math.PI*this.R*-Math.tan(.5*a));var s=.5*Math.abs(Math.PI/i-i/Math.PI),l=s*s,u=Math.sin(a),c=Math.cos(a),d=c/(u+c-1),h=d*d,p=d*(2/u-1),f=p*p,m=Math.PI*this.R*(s*(d-f)+Math.sqrt(l*(d-f)*(d-f)-(f+l)*(h-f)))/(f+l);i<0&&(m=-m),t=this.x0+m;var _=l+d;return m=Math.PI*this.R*(p*_-s*Math.sqrt((f+l)*(l+1)-_*_))/(f+l),n=o>=0?this.y0+m:this.y0-m,e.x=t,e.y=n,e}function inverse$7(e){var t,n,r,o,i,a,s,l,u,c,d,h;return e.x-=this.x0,e.y-=this.y0,d=Math.PI*this.R,i=(r=e.x/d)*r+(o=e.y/d)*o,d=3*(o*o/(l=-2*(a=-Math.abs(o)*(1+i))+1+2*o*o+i*i)+(2*(s=a-2*o*o+r*r)*s*s/l/l/l-9*a*s/l/l)/27)/(u=(a-s*s/3/l)/l)/(c=2*Math.sqrt(-u/3)),Math.abs(d)>1&&(d=d>=0?1:-1),h=Math.acos(d)/3,n=e.y>=0?(-c*Math.cos(h+Math.PI/3)-s/3/l)*Math.PI:-(-c*Math.cos(h+Math.PI/3)-s/3/l)*Math.PI,t=Math.abs(r)<EPSLN?this.long0:adjust_lon(this.long0+Math.PI*(i-1+Math.sqrt(1+2*(r*r-o*o)+i*i))/2/r),e.x=t,e.y=n,e}var names$7=["Van_der_Grinten_I","VanDerGrinten","vandg"];const vandg={init:init$7,forward:forward$7,inverse:inverse$7,names:names$7};function init$6(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function forward$6(e){var t,n,r,o,i,a,s,l,u,c,d,h,p,f,m,_,g,v,y,b,E,C,x=e.x,w=e.y,S=Math.sin(e.y),T=Math.cos(e.y),k=adjust_lon(x-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=EPSLN?(e.x=this.x0+this.a*(HALF_PI-w)*Math.sin(k),e.y=this.y0-this.a*(HALF_PI-w)*Math.cos(k),e):Math.abs(this.sin_p12+1)<=EPSLN?(e.x=this.x0+this.a*(HALF_PI+w)*Math.sin(k),e.y=this.y0+this.a*(HALF_PI+w)*Math.cos(k),e):(v=this.sin_p12*S+this.cos_p12*T*Math.cos(k),g=(_=Math.acos(v))?_/Math.sin(_):1,e.x=this.x0+this.a*g*T*Math.sin(k),e.y=this.y0+this.a*g*(this.cos_p12*S-this.sin_p12*T*Math.cos(k)),e):(t=e0fn(this.es),n=e1fn(this.es),r=e2fn(this.es),o=e3fn(this.es),Math.abs(this.sin_p12-1)<=EPSLN?(i=this.a*mlfn(t,n,r,o,HALF_PI),a=this.a*mlfn(t,n,r,o,w),e.x=this.x0+(i-a)*Math.sin(k),e.y=this.y0-(i-a)*Math.cos(k),e):Math.abs(this.sin_p12+1)<=EPSLN?(i=this.a*mlfn(t,n,r,o,HALF_PI),a=this.a*mlfn(t,n,r,o,w),e.x=this.x0+(i+a)*Math.sin(k),e.y=this.y0+(i+a)*Math.cos(k),e):(s=S/T,l=gN(this.a,this.e,this.sin_p12),u=gN(this.a,this.e,S),c=Math.atan((1-this.es)*s+this.es*l*this.sin_p12/(u*T)),y=0===(d=Math.atan2(Math.sin(k),this.cos_p12*Math.tan(c)-this.sin_p12*Math.cos(k)))?Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.abs(Math.abs(d)-Math.PI)<=EPSLN?-Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.asin(Math.sin(k)*Math.cos(c)/Math.sin(d)),h=this.e*this.sin_p12/Math.sqrt(1-this.es),_=l*y*(1-(b=y*y)*(m=(p=this.e*this.cos_p12*Math.cos(d)/Math.sqrt(1-this.es))*p)*(1-m)/6+(E=b*y)/8*(f=h*p)*(1-2*m)+(C=E*y)/120*(m*(4-7*m)-3*h*h*(1-7*m))-C*y/48*f),e.x=this.x0+_*Math.sin(d),e.y=this.y0+_*Math.cos(d),e))}function inverse$6(e){var t,n,r,o,i,a,s,l,u,c,d,h,p,f,m,_,g,v,y,b,E,C,x;if(e.x-=this.x0,e.y-=this.y0,this.sphere){if((t=Math.sqrt(e.x*e.x+e.y*e.y))>2*HALF_PI*this.a)return;return n=t/this.a,r=Math.sin(n),o=Math.cos(n),i=this.long0,Math.abs(t)<=EPSLN?a=this.lat0:(a=asinz(o*this.sin_p12+e.y*r*this.cos_p12/t),s=Math.abs(this.lat0)-HALF_PI,i=Math.abs(s)<=EPSLN?this.lat0>=0?adjust_lon(this.long0+Math.atan2(e.x,-e.y)):adjust_lon(this.long0-Math.atan2(-e.x,e.y)):adjust_lon(this.long0+Math.atan2(e.x*r,t*this.cos_p12*o-e.y*this.sin_p12*r))),e.x=i,e.y=a,e}return l=e0fn(this.es),u=e1fn(this.es),c=e2fn(this.es),d=e3fn(this.es),Math.abs(this.sin_p12-1)<=EPSLN?(a=imlfn(((h=this.a*mlfn(l,u,c,d,HALF_PI))-(t=Math.sqrt(e.x*e.x+e.y*e.y)))/this.a,l,u,c,d),i=adjust_lon(this.long0+Math.atan2(e.x,-1*e.y)),e.x=i,e.y=a,e):Math.abs(this.sin_p12+1)<=EPSLN?(h=this.a*mlfn(l,u,c,d,HALF_PI),a=imlfn(((t=Math.sqrt(e.x*e.x+e.y*e.y))-h)/this.a,l,u,c,d),i=adjust_lon(this.long0+Math.atan2(e.x,e.y)),e.x=i,e.y=a,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),m=Math.atan2(e.x,e.y),p=gN(this.a,this.e,this.sin_p12),_=Math.cos(m),v=-(g=this.e*this.cos_p12*_)*g/(1-this.es),y=3*this.es*(1-v)*this.sin_p12*this.cos_p12*_/(1-this.es),C=1-v*(E=(b=t/p)-v*(1+v)*Math.pow(b,3)/6-y*(1+3*v)*Math.pow(b,4)/24)*E/2-b*E*E*E/6,f=Math.asin(this.sin_p12*Math.cos(E)+this.cos_p12*Math.sin(E)*_),i=adjust_lon(this.long0+Math.asin(Math.sin(m)*Math.sin(E)/Math.cos(f))),x=Math.sin(f),a=Math.atan2((x-this.es*C*this.sin_p12)*Math.tan(f),x*(1-this.es)),e.x=i,e.y=a,e)}var names$6=["Azimuthal_Equidistant","aeqd"];const aeqd={init:init$6,forward:forward$6,inverse:inverse$6,names:names$6};function init$5(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function forward$5(e){var t,n,r,o,i,a,s,l=e.x,u=e.y;return r=adjust_lon(l-this.long0),t=Math.sin(u),n=Math.cos(u),o=Math.cos(r),1,((i=this.sin_p14*t+this.cos_p14*n*o)>0||Math.abs(i)<=EPSLN)&&(a=1*this.a*n*Math.sin(r),s=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*n*o)),e.x=a,e.y=s,e}function inverse$5(e){var t,n,r,o,i,a,s;return e.x-=this.x0,e.y-=this.y0,n=asinz((t=Math.sqrt(e.x*e.x+e.y*e.y))/this.a),r=Math.sin(n),o=Math.cos(n),a=this.long0,Math.abs(t)<=EPSLN?(s=this.lat0,e.x=a,e.y=s,e):(s=asinz(o*this.sin_p14+e.y*r*this.cos_p14/t),i=Math.abs(this.lat0)-HALF_PI,Math.abs(i)<=EPSLN?(a=this.lat0>=0?adjust_lon(this.long0+Math.atan2(e.x,-e.y)):adjust_lon(this.long0-Math.atan2(-e.x,e.y)),e.x=a,e.y=s,e):(a=adjust_lon(this.long0+Math.atan2(e.x*r,t*this.cos_p14*o-e.y*this.sin_p14*r)),e.x=a,e.y=s,e))}var names$5=["ortho"];const ortho={init:init$5,forward:forward$5,inverse:inverse$5,names:names$5};var FACE_ENUM={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},AREA_ENUM={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function init$4(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=HALF_PI-FORTPI/2?this.face=FACE_ENUM.TOP:this.lat0<=-(HALF_PI-FORTPI/2)?this.face=FACE_ENUM.BOTTOM:Math.abs(this.long0)<=FORTPI?this.face=FACE_ENUM.FRONT:Math.abs(this.long0)<=HALF_PI+FORTPI?this.face=this.long0>0?FACE_ENUM.RIGHT:FACE_ENUM.LEFT:this.face=FACE_ENUM.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function forward$4(e){var t,n,r,o,i,a,s={x:0,y:0},l={value:0};if(e.x-=this.long0,t=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(e.y)):e.y,n=e.x,this.face===FACE_ENUM.TOP)o=HALF_PI-t,n>=FORTPI&&n<=HALF_PI+FORTPI?(l.value=AREA_ENUM.AREA_0,r=n-HALF_PI):n>HALF_PI+FORTPI||n<=-(HALF_PI+FORTPI)?(l.value=AREA_ENUM.AREA_1,r=n>0?n-SPI:n+SPI):n>-(HALF_PI+FORTPI)&&n<=-FORTPI?(l.value=AREA_ENUM.AREA_2,r=n+HALF_PI):(l.value=AREA_ENUM.AREA_3,r=n);else if(this.face===FACE_ENUM.BOTTOM)o=HALF_PI+t,n>=FORTPI&&n<=HALF_PI+FORTPI?(l.value=AREA_ENUM.AREA_0,r=-n+HALF_PI):n<FORTPI&&n>=-FORTPI?(l.value=AREA_ENUM.AREA_1,r=-n):n<-FORTPI&&n>=-(HALF_PI+FORTPI)?(l.value=AREA_ENUM.AREA_2,r=-n-HALF_PI):(l.value=AREA_ENUM.AREA_3,r=n>0?-n+SPI:-n-SPI);else{var u,c,d,h,p,f;this.face===FACE_ENUM.RIGHT?n=qsc_shift_lon_origin(n,+HALF_PI):this.face===FACE_ENUM.BACK?n=qsc_shift_lon_origin(n,+SPI):this.face===FACE_ENUM.LEFT&&(n=qsc_shift_lon_origin(n,-HALF_PI)),h=Math.sin(t),p=Math.cos(t),f=Math.sin(n),u=p*Math.cos(n),c=p*f,d=h,this.face===FACE_ENUM.FRONT?r=qsc_fwd_equat_face_theta(o=Math.acos(u),d,c,l):this.face===FACE_ENUM.RIGHT?r=qsc_fwd_equat_face_theta(o=Math.acos(c),d,-u,l):this.face===FACE_ENUM.BACK?r=qsc_fwd_equat_face_theta(o=Math.acos(-u),d,-c,l):this.face===FACE_ENUM.LEFT?r=qsc_fwd_equat_face_theta(o=Math.acos(-c),d,u,l):(o=r=0,l.value=AREA_ENUM.AREA_0)}return a=Math.atan(12/SPI*(r+Math.acos(Math.sin(r)*Math.cos(FORTPI))-HALF_PI)),i=Math.sqrt((1-Math.cos(o))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(r))))),l.value===AREA_ENUM.AREA_1?a+=HALF_PI:l.value===AREA_ENUM.AREA_2?a+=SPI:l.value===AREA_ENUM.AREA_3&&(a+=1.5*SPI),s.x=i*Math.cos(a),s.y=i*Math.sin(a),s.x=s.x*this.a+this.x0,s.y=s.y*this.a+this.y0,e.x=s.x,e.y=s.y,e}function inverse$4(e){var t,n,r,o,i,a,s,l,u,c,d,h,p={lam:0,phi:0},f={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,n=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),t=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?f.value=AREA_ENUM.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(f.value=AREA_ENUM.AREA_1,t-=HALF_PI):e.x<0&&-e.x>=Math.abs(e.y)?(f.value=AREA_ENUM.AREA_2,t=t<0?t+SPI:t-SPI):(f.value=AREA_ENUM.AREA_3,t+=HALF_PI),u=SPI/12*Math.tan(t),i=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),a=Math.atan(i),(s=1-(r=Math.cos(t))*r*(o=Math.tan(n))*o*(1-Math.cos(Math.atan(1/Math.cos(a)))))<-1?s=-1:s>1&&(s=1),this.face===FACE_ENUM.TOP)l=Math.acos(s),p.phi=HALF_PI-l,f.value===AREA_ENUM.AREA_0?p.lam=a+HALF_PI:f.value===AREA_ENUM.AREA_1?p.lam=a<0?a+SPI:a-SPI:f.value===AREA_ENUM.AREA_2?p.lam=a-HALF_PI:p.lam=a;else if(this.face===FACE_ENUM.BOTTOM)l=Math.acos(s),p.phi=l-HALF_PI,f.value===AREA_ENUM.AREA_0?p.lam=-a+HALF_PI:f.value===AREA_ENUM.AREA_1?p.lam=-a:f.value===AREA_ENUM.AREA_2?p.lam=-a-HALF_PI:p.lam=a<0?-a-SPI:-a+SPI;else{var m,_,g;u=(m=s)*m,_=(u+=(g=u>=1?0:Math.sqrt(1-u)*Math.sin(a))*g)>=1?0:Math.sqrt(1-u),f.value===AREA_ENUM.AREA_1?(u=_,_=-g,g=u):f.value===AREA_ENUM.AREA_2?(_=-_,g=-g):f.value===AREA_ENUM.AREA_3&&(u=_,_=g,g=-u),this.face===FACE_ENUM.RIGHT?(u=m,m=-_,_=u):this.face===FACE_ENUM.BACK?(m=-m,_=-_):this.face===FACE_ENUM.LEFT&&(u=m,m=_,_=-u),p.phi=Math.acos(-g)-HALF_PI,p.lam=Math.atan2(_,m),this.face===FACE_ENUM.RIGHT?p.lam=qsc_shift_lon_origin(p.lam,-HALF_PI):this.face===FACE_ENUM.BACK?p.lam=qsc_shift_lon_origin(p.lam,-SPI):this.face===FACE_ENUM.LEFT&&(p.lam=qsc_shift_lon_origin(p.lam,+HALF_PI))}0!==this.es&&(c=p.phi<0?1:0,d=Math.tan(p.phi),h=this.b/Math.sqrt(d*d+this.one_minus_f_squared),p.phi=Math.atan(Math.sqrt(this.a*this.a-h*h)/(this.one_minus_f*h)),c&&(p.phi=-p.phi));return p.lam+=this.long0,e.x=p.lam,e.y=p.phi,e}function qsc_fwd_equat_face_theta(e,t,n,r){var o;return e<EPSLN?(r.value=AREA_ENUM.AREA_0,o=0):(o=Math.atan2(t,n),Math.abs(o)<=FORTPI?r.value=AREA_ENUM.AREA_0:o>FORTPI&&o<=HALF_PI+FORTPI?(r.value=AREA_ENUM.AREA_1,o-=HALF_PI):o>HALF_PI+FORTPI||o<=-(HALF_PI+FORTPI)?(r.value=AREA_ENUM.AREA_2,o=o>=0?o-SPI:o+SPI):(r.value=AREA_ENUM.AREA_3,o+=HALF_PI)),o}function qsc_shift_lon_origin(e,t){var n=e+t;return n<-SPI?n+=TWO_PI:n>+SPI&&(n-=TWO_PI),n}var names$4=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const qsc={init:init$4,forward:forward$4,inverse:inverse$4,names:names$4};var COEFS_X=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],COEFS_Y=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],FXC=.8487,FYC=1.3523,C1=R2D/5,RC1=1/C1,NODES=18,poly3_val=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},poly3_der=function(e,t){return e[1]+t*(2*e[2]+3*t*e[3])};function newton_rapshon(e,t,n,r){for(var o=t;r;--r){var i=e(o);if(o-=i,Math.abs(i)<n)break}return o}function init$3(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function forward$3(e){var t=adjust_lon(e.x-this.long0),n=Math.abs(e.y),r=Math.floor(n*C1);r<0?r=0:r>=NODES&&(r=NODES-1),n=R2D*(n-RC1*r);var o={x:poly3_val(COEFS_X[r],n)*t,y:poly3_val(COEFS_Y[r],n)};return e.y<0&&(o.y=-o.y),o.x=o.x*this.a*FXC+this.x0,o.y=o.y*this.a*FYC+this.y0,o}function inverse$3(e){var t={x:(e.x-this.x0)/(this.a*FXC),y:Math.abs(e.y-this.y0)/(this.a*FYC)};if(t.y>=1)t.x/=COEFS_X[NODES][0],t.y=e.y<0?-HALF_PI:HALF_PI;else{var n=Math.floor(t.y*NODES);for(n<0?n=0:n>=NODES&&(n=NODES-1);;)if(COEFS_Y[n][0]>t.y)--n;else{if(!(COEFS_Y[n+1][0]<=t.y))break;++n}var r=COEFS_Y[n],o=5*(t.y-r[0])/(COEFS_Y[n+1][0]-r[0]);o=newton_rapshon((function(e){return(poly3_val(r,e)-t.y)/poly3_der(r,e)}),o,EPSLN,100),t.x/=poly3_val(COEFS_X[n],o),t.y=(5*n+o)*D2R$1,e.y<0&&(t.y=-t.y)}return t.x=adjust_lon(t.x+this.long0),t}var names$3=["Robinson","robin"];const robin={init:init$3,forward:forward$3,inverse:inverse$3,names:names$3};function init$2(){this.name="geocent"}function forward$2(e){return geodeticToGeocentric(e,this.es,this.a)}function inverse$2(e){return geocentricToGeodetic(e,this.es,this.a,this.b)}var names$2=["Geocentric","geocentric","geocent","Geocent"];const geocent={init:init$2,forward:forward$2,inverse:inverse$2,names:names$2};var mode={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},params={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function init$1(){if(Object.keys(params).forEach(function(e){if(void 0===this[e])this[e]=params[e].def;else{if(params[e].num&&isNaN(this[e]))throw new Error("Invalid parameter value, must be numeric "+e+" = "+this[e]);params[e].num&&(this[e]=parseFloat(this[e]))}params[e].degrees&&(this[e]=this[e]*D2R$1)}.bind(this)),Math.abs(Math.abs(this.lat0)-HALF_PI)<EPSLN?this.mode=this.lat0<0?mode.S_POLE:mode.N_POLE:Math.abs(this.lat0)<EPSLN?this.mode=mode.EQUIT:(this.mode=mode.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)}function forward$1(e){e.x-=this.long0;var t,n,r,o,i=Math.sin(e.y),a=Math.cos(e.y),s=Math.cos(e.x);switch(this.mode){case mode.OBLIQ:n=this.sinph0*i+this.cosph0*a*s;break;case mode.EQUIT:n=a*s;break;case mode.S_POLE:n=-i;break;case mode.N_POLE:n=i}switch(t=(n=this.pn1/(this.p-n))*a*Math.sin(e.x),this.mode){case mode.OBLIQ:n*=this.cosph0*i-this.sinph0*a*s;break;case mode.EQUIT:n*=i;break;case mode.N_POLE:n*=-a*s;break;case mode.S_POLE:n*=a*s}return o=1/((r=n*this.cg+t*this.sg)*this.sw*this.h1+this.cw),t=(t*this.cg-n*this.sg)*this.cw*o,n=r*o,e.x=t*this.a,e.y=n*this.a,e}function inverse$1(e){e.x/=this.a,e.y/=this.a;var t,n,r,o={x:e.x,y:e.y};r=1/(this.pn1-e.y*this.sw),t=this.pn1*e.x*r,n=this.pn1*e.y*this.cw*r,e.x=t*this.cg+n*this.sg,e.y=n*this.cg-t*this.sg;var i=hypot(e.x,e.y);if(Math.abs(i)<EPSLN)o.x=0,o.y=e.y;else{var a,s;switch(s=1-i*i*this.pfact,s=(this.p-Math.sqrt(s))/(this.pn1/i+i/this.pn1),a=Math.sqrt(1-s*s),this.mode){case mode.OBLIQ:o.y=Math.asin(a*this.sinph0+e.y*s*this.cosph0/i),e.y=(a-this.sinph0*Math.sin(o.y))*i,e.x*=s*this.cosph0;break;case mode.EQUIT:o.y=Math.asin(e.y*s/i),e.y=a*i,e.x*=s;break;case mode.N_POLE:o.y=Math.asin(a),e.y=-e.y;break;case mode.S_POLE:o.y=-Math.asin(a)}o.x=Math.atan2(e.x,e.y)}return e.x=o.x+this.long0,e.y=o.y,e}var names$1=["Tilted_Perspective","tpers"];const tpers={init:init$1,forward:forward$1,inverse:inverse$1,names:names$1};function init(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var e=1-this.es,t=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function forward(e){var t,n,r,o,i=e.x,a=e.y;if(i-=this.long0,"ellipse"===this.shape){a=Math.atan(this.radius_p2*Math.tan(a));var s=this.radius_p/hypot(this.radius_p*Math.cos(a),Math.sin(a));if(n=s*Math.cos(i)*Math.cos(a),r=s*Math.sin(i)*Math.cos(a),o=s*Math.sin(a),(this.radius_g-n)*n-r*r-o*o*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;t=this.radius_g-n,this.flip_axis?(e.x=this.radius_g_1*Math.atan(r/hypot(o,t)),e.y=this.radius_g_1*Math.atan(o/t)):(e.x=this.radius_g_1*Math.atan(r/t),e.y=this.radius_g_1*Math.atan(o/hypot(r,t)))}else"sphere"===this.shape&&(t=Math.cos(a),n=Math.cos(i)*t,r=Math.sin(i)*t,o=Math.sin(a),t=this.radius_g-n,this.flip_axis?(e.x=this.radius_g_1*Math.atan(r/hypot(o,t)),e.y=this.radius_g_1*Math.atan(o/t)):(e.x=this.radius_g_1*Math.atan(r/t),e.y=this.radius_g_1*Math.atan(o/hypot(r,t))));return e.x=e.x*this.a,e.y=e.y*this.a,e}function inverse(e){var t,n,r,o,i=-1,a=0,s=0;if(e.x=e.x/this.a,e.y=e.y/this.a,"ellipse"===this.shape){this.flip_axis?(s=Math.tan(e.y/this.radius_g_1),a=Math.tan(e.x/this.radius_g_1)*hypot(1,s)):(a=Math.tan(e.x/this.radius_g_1),s=Math.tan(e.y/this.radius_g_1)*hypot(1,a));var l=s/this.radius_p;if(t=a*a+l*l+i*i,(r=(n=2*this.radius_g*i)*n-4*t*this.C)<0)return e.x=Number.NaN,e.y=Number.NaN,e;o=(-n-Math.sqrt(r))/(2*t),i=this.radius_g+o*i,a*=o,s*=o,e.x=Math.atan2(a,i),e.y=Math.atan(s*Math.cos(e.x)/i),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if("sphere"===this.shape){if(this.flip_axis?(s=Math.tan(e.y/this.radius_g_1),a=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+s*s)):(a=Math.tan(e.x/this.radius_g_1),s=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+a*a)),t=a*a+s*s+i*i,(r=(n=2*this.radius_g*i)*n-4*t*this.C)<0)return e.x=Number.NaN,e.y=Number.NaN,e;o=(-n-Math.sqrt(r))/(2*t),i=this.radius_g+o*i,a*=o,s*=o,e.x=Math.atan2(a,i),e.y=Math.atan(s*Math.cos(e.x)/i)}return e.x=e.x+this.long0,e}var names=["Geostationary Satellite View","Geostationary_Satellite","geos"];const geos={init:init,forward:forward,inverse:inverse,names:names};function includedProjections(e){e.Proj.projections.add(tmerc),e.Proj.projections.add(etmerc),e.Proj.projections.add(utm),e.Proj.projections.add(sterea),e.Proj.projections.add(stere),e.Proj.projections.add(somerc),e.Proj.projections.add(omerc),e.Proj.projections.add(lcc),e.Proj.projections.add(krovak),e.Proj.projections.add(cass),e.Proj.projections.add(laea),e.Proj.projections.add(aea),e.Proj.projections.add(gnom),e.Proj.projections.add(cea),e.Proj.projections.add(eqc),e.Proj.projections.add(poly),e.Proj.projections.add(nzmg),e.Proj.projections.add(mill),e.Proj.projections.add(sinu),e.Proj.projections.add(moll),e.Proj.projections.add(eqdc),e.Proj.projections.add(vandg),e.Proj.projections.add(aeqd),e.Proj.projections.add(ortho),e.Proj.projections.add(qsc),e.Proj.projections.add(robin),e.Proj.projections.add(geocent),e.Proj.projections.add(tpers),e.Proj.projections.add(geos)}proj4.defaultDatum="WGS84",proj4.Proj=Projection,proj4.WGS84=new proj4.Proj("WGS84"),proj4.Point=Point,proj4.toPoint=common,proj4.defs=defs,proj4.nadgrid=nadgrid,proj4.transform=transform,proj4.mgrs=mgrs,proj4.version="__VERSION__",includedProjections(proj4);const lib=Object.freeze(Object.defineProperty({__proto__:null,default:proj4},Symbol.toStringTag,{value:"Module"})),siteData=window.__VP_SITE_DATA__;function tryOnScopeDispose(e){return!!getCurrentScope()&&(onScopeDispose(e),!0)}function toValue(e){return"function"==typeof e?e():unref(e)}const isClient="undefined"!=typeof window&&"undefined"!=typeof document;"undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope);const toString=Object.prototype.toString,isObject=e=>"[object Object]"===toString.call(e),noop=()=>{},isIOS=getIsIOS();function getIsIOS(){var e,t;return isClient&&(null==(e=null==window?void 0:window.navigator)?void 0:e.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||(null==(t=null==window?void 0:window.navigator)?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(null==window?void 0:window.navigator.userAgent))}function createFilterWrapper(e,t){return function(...n){return new Promise(((r,o)=>{Promise.resolve(e((()=>t.apply(this,n)),{fn:t,thisArg:this,args:n})).then(r).catch(o)}))}}const bypassFilter=e=>e();function debounceFilter(e,t={}){let n,r,o=noop;const i=e=>{clearTimeout(e),o(),o=noop};return a=>{const s=toValue(e),l=toValue(t.maxWait);return n&&i(n),s<=0||void 0!==l&&l<=0?(r&&(i(r),r=null),Promise.resolve(a())):new Promise(((e,u)=>{o=t.rejectOnCancel?u:e,l&&!r&&(r=setTimeout((()=>{n&&i(n),r=null,e(a())}),l)),n=setTimeout((()=>{r&&i(r),r=null,e(a())}),s)}))}}function pausableFilter(e=bypassFilter){const t=ref(!0);return{isActive:readonly(t),pause:function(){t.value=!1},resume:function(){t.value=!0},eventFilter:(...n)=>{t.value&&e(...n)}}}function getLifeCycleTarget(e){return e||getCurrentInstance()}function toRef(...e){if(1!==e.length)return toRef$1(...e);const t=e[0];return"function"==typeof t?readonly(customRef((()=>({get:t,set:noop})))):ref(t)}function watchWithFilter(e,t,n={}){const{eventFilter:r=bypassFilter,...o}=n;return watch(e,createFilterWrapper(r,t),o)}function watchPausable(e,t,n={}){const{eventFilter:r,...o}=n,{eventFilter:i,pause:a,resume:s,isActive:l}=pausableFilter(r);return{stop:watchWithFilter(e,t,{...o,eventFilter:i}),pause:a,resume:s,isActive:l}}function tryOnMounted(e,t=!0,n){getLifeCycleTarget()?onMounted(e,n):t?e():nextTick(e)}function watchDebounced(e,t,n={}){const{debounce:r=0,maxWait:o,...i}=n;return watchWithFilter(e,t,{...i,eventFilter:debounceFilter(r,{maxWait:o})})}function computedAsync(t,n,r){let o;o=isRef(r)?{evaluating:r}:r||{};const{lazy:i=!1,evaluating:a,shallow:s=!0,onError:l=noop}=o,u=ref(!i),c=s?shallowRef(n):ref(n);let d=0;return watchEffect((async n=>{if(!u.value)return;d++;const r=d;let o=!1;a&&Promise.resolve().then((()=>{a.value=!0}));try{const e=await t((e=>{n((()=>{a&&(a.value=!1),o||e()}))}));r===d&&(c.value=e)}catch(e){l(e)}finally{a&&r===d&&(a.value=!1),o=!0}})),i?computed((()=>(u.value=!0,c.value))):c}function unrefElement(e){var t;const n=toValue(e);return null!=(t=null==n?void 0:n.$el)?t:n}const defaultWindow=isClient?window:void 0;function useEventListener(...e){let t,n,r,o;if("string"==typeof e[0]||Array.isArray(e[0])?([n,r,o]=e,t=defaultWindow):[t,n,r,o]=e,!t)return noop;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],a=()=>{i.forEach((e=>e())),i.length=0},s=watch((()=>[unrefElement(t),toValue(o)]),(([e,t])=>{if(a(),!e)return;const o=isObject(t)?{...t}:t;i.push(...n.flatMap((t=>r.map((n=>((e,t,n,r)=>(e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)))(e,t,n,o))))))}),{immediate:!0,flush:"post"}),l=()=>{s(),a()};return tryOnScopeDispose(l),l}let _iOSWorkaround=!1;function onClickOutside(e,t,n={}){const{window:r=defaultWindow,ignore:o=[],capture:i=!0,detectIframe:a=!1}=n;if(!r)return noop;isIOS&&!_iOSWorkaround&&(_iOSWorkaround=!0,Array.from(r.document.body.children).forEach((e=>e.addEventListener("click",noop))),r.document.documentElement.addEventListener("click",noop));let s=!0;const l=e=>o.some((t=>{if("string"==typeof t)return Array.from(r.document.querySelectorAll(t)).some((t=>t===e.target||e.composedPath().includes(t)));{const n=unrefElement(t);return n&&(e.target===n||e.composedPath().includes(n))}})),u=[useEventListener(r,"click",(n=>{const r=unrefElement(e);r&&r!==n.target&&!n.composedPath().includes(r)&&(0===n.detail&&(s=!l(n)),s?t(n):s=!0)}),{passive:!0,capture:i}),useEventListener(r,"pointerdown",(t=>{const n=unrefElement(e);s=!l(t)&&!(!n||t.composedPath().includes(n))}),{passive:!0}),a&&useEventListener(r,"blur",(n=>{setTimeout((()=>{var o;const i=unrefElement(e);"IFRAME"!==(null==(o=r.document.activeElement)?void 0:o.tagName)||(null==i?void 0:i.contains(r.document.activeElement))||t(n)}),0)}))].filter(Boolean);return()=>u.forEach((e=>e()))}function createKeyPredicate(e){return"function"==typeof e?e:"string"==typeof e?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function onKeyStroke(...e){let t,n,r={};3===e.length?(t=e[0],n=e[1],r=e[2]):2===e.length?"object"==typeof e[1]?(t=!0,n=e[0],r=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:o=defaultWindow,eventName:i="keydown",passive:a=!1,dedupe:s=!1}=r,l=createKeyPredicate(t);return useEventListener(o,i,(e=>{e.repeat&&toValue(s)||l(e)&&n(e)}),a)}function useMounted(){const e=ref(!1);return getCurrentInstance()&&onMounted((()=>{e.value=!0})),e}function useSupported(e){const t=useMounted();return computed((()=>(t.value,Boolean(e()))))}function useMediaQuery(e,t={}){const{window:n=defaultWindow}=t,r=useSupported((()=>n&&"matchMedia"in n&&"function"==typeof n.matchMedia));let o;const i=ref(!1),a=e=>{i.value=e.matches},s=()=>{o&&("removeEventListener"in o?o.removeEventListener("change",a):o.removeListener(a))},l=watchEffect((()=>{r.value&&(s(),o=n.matchMedia(toValue(e)),"addEventListener"in o?o.addEventListener("change",a):o.addListener(a),i.value=o.matches)}));return tryOnScopeDispose((()=>{l(),s(),o=void 0})),i}const _global="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},globalKey="__vueuse_ssr_handlers__",handlers=getHandlers();function getHandlers(){return globalKey in _global||(_global[globalKey]=_global[globalKey]||{}),_global[globalKey]}function getSSRHandler(e,t){return handlers[e]||t}function guessSerializerType(e){return null==e?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":"boolean"==typeof e?"boolean":"string"==typeof e?"string":"object"==typeof e?"object":Number.isNaN(e)?"any":"number"}const StorageSerializers={boolean:{read:e=>"true"===e,write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},customStorageEventName="vueuse-storage";function useStorage(t,n,r,o={}){var i;const{flush:a="pre",deep:s=!0,listenToStorageChanges:l=!0,writeDefaults:u=!0,mergeDefaults:c=!1,shallow:d,window:h=defaultWindow,eventFilter:p,onError:f=(e=>{}),initOnMounted:m}=o,_=(d?shallowRef:ref)("function"==typeof n?n():n);if(!r)try{r=getSSRHandler("getDefaultStorage",(()=>{var e;return null==(e=defaultWindow)?void 0:e.localStorage}))()}catch(e){f(e)}if(!r)return _;const g=toValue(n),v=guessSerializerType(g),y=null!=(i=o.serializer)?i:StorageSerializers[v],{pause:b,resume:E}=watchPausable(_,(()=>function(n){try{if(null==n)r.removeItem(t);else{const e=y.write(n),o=r.getItem(t);o!==e&&(r.setItem(t,e),h&&h.dispatchEvent(new CustomEvent(customStorageEventName,{detail:{key:t,oldValue:o,newValue:e,storageArea:r}})))}}catch(e){f(e)}}(_.value)),{flush:a,deep:s,eventFilter:p});return h&&l&&tryOnMounted((()=>{useEventListener(h,"storage",x),useEventListener(h,customStorageEventName,C),m&&x()})),m||x(),_;function C(e){x(e.detail)}function x(n){if(!n||n.storageArea===r)if(n&&null==n.key)_.value=g;else if(!n||n.key===t){b();try{(null==n?void 0:n.newValue)!==y.write(_.value)&&(_.value=function(e){const n=e?e.newValue:r.getItem(t);if(null==n)return u&&null!=g&&r.setItem(t,y.write(g)),g;if(!e&&c){const e=y.read(n);return"function"==typeof c?c(e,g):"object"!==v||Array.isArray(e)?e:{...g,...e}}return"string"!=typeof n?n:y.read(n)}(n))}catch(e){f(e)}finally{n?nextTick(E):E()}}}}function usePreferredDark(e){return useMediaQuery("(prefers-color-scheme: dark)",e)}function useColorMode(t={}){const{selector:n="html",attribute:r="class",initialValue:o="auto",window:i=defaultWindow,storage:a,storageKey:s="vueuse-color-scheme",listenToStorageChanges:l=!0,storageRef:u,emitAuto:c,disableTransition:d=!0}=t,h={auto:"",light:"light",dark:"dark",...t.modes||{}},p=usePreferredDark({window:i}),f=computed((()=>p.value?"dark":"light")),m=u||(null==s?toRef(o):useStorage(s,o,a,{window:i,listenToStorageChanges:l})),_=computed((()=>"auto"===m.value?f.value:m.value)),g=getSSRHandler("updateHTMLAttrs",((e,t,n)=>{const r="string"==typeof e?null==i?void 0:i.document.querySelector(e):unrefElement(e);if(!r)return;let o;if(d){o=i.document.createElement("style");const e="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";o.appendChild(document.createTextNode(e)),i.document.head.appendChild(o)}if("class"===t){const e=n.split(/\s/g);Object.values(h).flatMap((e=>(e||"").split(/\s/g))).filter(Boolean).forEach((t=>{e.includes(t)?r.classList.add(t):r.classList.remove(t)}))}else r.setAttribute(t,n);d&&(i.getComputedStyle(o).opacity,document.head.removeChild(o))}));function v(e){var t;g(n,r,null!=(t=h[e])?t:e)}function y(e){t.onChanged?t.onChanged(e,v):v(e)}watch(_,y,{flush:"post",immediate:!0}),tryOnMounted((()=>y(_.value)));const b=computed({get:()=>c?m.value:_.value,set(e){m.value=e}});try{return Object.assign(b,{store:m,system:f,state:_})}catch(e){return b}}function useDark(e={}){const{valueDark:t="dark",valueLight:n="",window:r=defaultWindow}=e,o=useColorMode({...e,onChanged:(t,n)=>{var r;e.onChanged?null==(r=e.onChanged)||r.call(e,"dark"===t,n,t):n(t)},modes:{dark:t,light:n}}),i=computed((()=>{if(o.system)return o.system.value;return usePreferredDark({window:r}).value?"dark":"light"}));return computed({get:()=>"dark"===o.value,set(e){const t=e?"dark":"light";i.value===t?o.value="auto":o.value=t}})}function resolveElement(e){return"undefined"!=typeof Window&&e instanceof Window?e.document.documentElement:"undefined"!=typeof Document&&e instanceof Document?e.documentElement:e}function useLocalStorage(e,t,n={}){const{window:r=defaultWindow}=n;return useStorage(e,t,null==r?void 0:r.localStorage,n)}function checkOverflowScroll(e){const t=window.getComputedStyle(e);if("scroll"===t.overflowX||"scroll"===t.overflowY||"auto"===t.overflowX&&e.clientWidth<e.scrollWidth||"auto"===t.overflowY&&e.clientHeight<e.scrollHeight)return!0;{const t=e.parentNode;return!(!t||"BODY"===t.tagName)&&checkOverflowScroll(t)}}function preventDefault(e){const t=e||window.event;return!checkOverflowScroll(t.target)&&(t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1))}const elInitialOverflow=new WeakMap;function useScrollLock(e,t=!1){const n=ref(t);let r=null;watch(toRef(e),(e=>{const t=resolveElement(toValue(e));if(t){const e=t;elInitialOverflow.get(e)||elInitialOverflow.set(e,undefined),n.value&&(e.style.overflow="hidden")}}),{immediate:!0});const o=()=>{var t;const o=resolveElement(toValue(e));o&&n.value&&(isIOS&&(null==r||r()),o.style.overflow=null!=(t=elInitialOverflow.get(o))?t:"",elInitialOverflow.delete(o),n.value=!1)};return tryOnScopeDispose(o),computed({get:()=>n.value,set(t){t?(()=>{const t=resolveElement(toValue(e));t&&!n.value&&(isIOS&&(r=useEventListener(t,"touchmove",(e=>{preventDefault(e)}),{passive:!1})),t.style.overflow="hidden",n.value=!0)})():o()}})}function useSessionStorage(e,t,n={}){const{window:r=defaultWindow}=n;return useStorage(e,t,null==r?void 0:r.sessionStorage,n)}function useWindowScroll(e={}){const{window:t=defaultWindow,behavior:n="auto"}=e;if(!t)return{x:ref(0),y:ref(0)};const r=ref(t.scrollX),o=ref(t.scrollY),i=computed({get:()=>r.value,set(e){scrollTo({left:e,behavior:n})}}),a=computed({get:()=>o.value,set(e){scrollTo({top:e,behavior:n})}});return useEventListener(t,"scroll",(()=>{r.value=t.scrollX,o.value=t.scrollY}),{capture:!1,passive:!0}),{x:i,y:a}}const EXTERNAL_URL_RE=/^(?:[a-z]+:|\/\/)/i,APPEARANCE_KEY="vitepress-theme-appearance",HASH_RE=/#.*$/,EXT_RE=/(index)?\.(md|html)$/,inBrowser="undefined"!=typeof document,notFoundPageData={relativePath:"",filePath:"",title:"404",description:"Not Found",headers:[],frontmatter:{sidebar:!1,layout:"page"},lastUpdated:0,isNotFound:!0};function isActive(e,t,n=!1){if(void 0===t)return!1;if(e=normalize(`/${e}`),n)return new RegExp(t).test(e);if(normalize(t)!==e)return!1;const r=t.match(HASH_RE);return!r||(inBrowser?location.hash:"")===r[0]}function normalize(e){return decodeURI(e).replace(HASH_RE,"").replace(EXT_RE,"")}function isExternal(e){return EXTERNAL_URL_RE.test(e)}function resolveSiteDataByRoute(e,t){var n,r,o,i,a,s,l;const u=Object.keys(e.locales).find((e=>"root"!==e&&!isExternal(e)&&isActive(t,`/${e}/`,!0)))||"root";return Object.assign({},e,{localeIndex:u,lang:(null==(n=e.locales[u])?void 0:n.lang)??e.lang,dir:(null==(r=e.locales[u])?void 0:r.dir)??e.dir,title:(null==(o=e.locales[u])?void 0:o.title)??e.title,titleTemplate:(null==(i=e.locales[u])?void 0:i.titleTemplate)??e.titleTemplate,description:(null==(a=e.locales[u])?void 0:a.description)??e.description,head:mergeHead(e.head,(null==(s=e.locales[u])?void 0:s.head)??[]),themeConfig:{...e.themeConfig,...null==(l=e.locales[u])?void 0:l.themeConfig}})}function createTitle(e,t){const n=t.title||e.title,r=t.titleTemplate??e.titleTemplate;if("string"==typeof r&&r.includes(":title"))return r.replace(/:title/g,n);const o=createTitleTemplate(e.title,r);return n===o.slice(3)?n:`${n}${o}`}function createTitleTemplate(e,t){return!1===t?"":!0===t||void 0===t?` | ${e}`:e===t?"":` | ${t}`}function hasTag(e,t){const[n,r]=t;if("meta"!==n)return!1;const o=Object.entries(r)[0];return null!=o&&e.some((([e,t])=>e===n&&t[o[0]]===o[1]))}function mergeHead(e,t){return[...e.filter((e=>!hasTag(t,e))),...t]}const INVALID_CHAR_REGEX=/[\u0000-\u001F"#$&*+,:;<=>?[\]^`{|}\u007F]/g,DRIVE_LETTER_REGEX=/^[a-z]:/i;function sanitizeFileName(e){const t=DRIVE_LETTER_REGEX.exec(e),n=t?t[0]:"";return n+e.slice(n.length).replace(INVALID_CHAR_REGEX,"_").replace(/(^|\/)_+(?=[^/]*$)/,"$1")}const KNOWN_EXTENSIONS=new Set("3g2,3gp,7z,aac,abw,ai,aif,aifc,aiff,arc,asf,asr,asx,au,avi,avif,axs,azw,bin,bmp,bz,bz2,c,cda,cer,class,crl,crt,csh,css,csv,dcr,der,dll,doc,docx,eot,eps,epub,exe,gif,gtar,gz,gzip,ico,ics,ief,jar,jpe,jpeg,jpg,js,json,jsonld,latex,m3u,man,mdb,mht,mhtml,mid,midi,mjs,mov,mp2,mp3,mp4,mpa,mpe,mpeg,mpg,mpkg,mpp,odp,ods,odt,oga,ogv,ogx,opus,otf,p10,p12,p7b,p7c,p7m,p7r,p7s,pbm,pdf,pfx,php,png,ppt,pptx,ps,pub,qt,rar,roff,rtf,rtx,ser,sh,spc,svg,swf,t,tar,tcl,tex,texi,texinfo,tgz,tif,tiff,tr,ts,tsv,ttf,txt,ua,viv,vivo,vsd,wav,weba,webm,webp,woff,woff2,xbm,xhtml,xls,xlsx,xml,xul,zip,conf".split(","));function treatAsHtml(e){const t=e.split(".").pop();return null==t||!KNOWN_EXTENSIONS.has(t.toLowerCase())}function escapeRegExp(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const dataSymbol=Symbol(),siteDataRef=shallowRef(siteData);function initData(e){const t=computed((()=>resolveSiteDataByRoute(siteDataRef.value,e.data.relativePath))),n=t.value.appearance,r="force-dark"===n?ref(!0):n?useDark({storageKey:APPEARANCE_KEY,initialValue:()=>"string"==typeof n?n:"auto",..."object"==typeof n?n:{}}):ref(!1);return{site:t,theme:computed((()=>t.value.themeConfig)),page:computed((()=>e.data)),frontmatter:computed((()=>e.data.frontmatter)),params:computed((()=>e.data.params)),lang:computed((()=>t.value.lang)),dir:computed((()=>e.data.frontmatter.dir||t.value.dir)),localeIndex:computed((()=>t.value.localeIndex||"root")),title:computed((()=>createTitle(t.value,e.data))),description:computed((()=>e.data.description||t.value.description)),isDark:r}}function useData$1(){const e=inject(dataSymbol);if(!e)throw new Error("vitepress data not properly injected in app");return e}function joinPath(e,t){return`${e}${t}`.replace(/\/+/g,"/")}function withBase(e){return EXTERNAL_URL_RE.test(e)||!e.startsWith("/")?e:joinPath(siteDataRef.value.base,e)}function pathToFile(e){let t=e.replace(/\.html$/,"");if(t=decodeURIComponent(t),t=t.replace(/\/$/,"/index"),inBrowser){const e="/";t=sanitizeFileName(t.slice(e.length).replace(/\//g,"_")||"index")+".md";let n=__VP_HASH_MAP__[t.toLowerCase()];if(n||(t=t.endsWith("_index.md")?t.slice(0,-9)+".md":t.slice(0,-3)+"_index.md",n=__VP_HASH_MAP__[t.toLowerCase()]),!n)return null;t=`${e}assets/${t}.${n}.js`}else t=`./${sanitizeFileName(t.slice(1).replace(/\//g,"_"))}.md.js`;return t}let contentUpdatedCallbacks=[];function onContentUpdated(e){contentUpdatedCallbacks.push(e),onUnmounted((()=>{contentUpdatedCallbacks=contentUpdatedCallbacks.filter((t=>t!==e))}))}const RouterSymbol=Symbol(),fakeHost="http://a.com",getDefaultRoute=()=>({path:"/",component:null,data:notFoundPageData});function createRouter(t,n){const r=reactive(getDefaultRoute()),o={route:r,go:i};async function i(e=(inBrowser?location.href:"/")){var t,n;e=normalizeHref(e),!1!==await(null==(t=o.onBeforeRouteChange)?void 0:t.call(o,e))&&(updateHistory(e),await s(e),await(null==(n=o.onAfterRouteChanged)?void 0:n.call(o,e)))}let a=null;async function s(i,l=0,u=!1){var c;if(!1===await(null==(c=o.onBeforePageLoad)?void 0:c.call(o,i)))return;const d=new URL(i,fakeHost),h=a=d.pathname;try{let n=await t(h);if(!n)throw new Error(`Page not found: ${h}`);if(a===h){a=null;const{default:t,__pageData:o}=n;if(!t)throw new Error(`Invalid route component: ${t}`);r.path=inBrowser?h:withBase(h),r.component=markRaw(t),r.data=markRaw(o),inBrowser&&nextTick((()=>{let t=siteDataRef.value.base+o.relativePath.replace(/(?:(^|\/)index)?\.md$/,"$1");if(siteDataRef.value.cleanUrls||t.endsWith("/")||(t+=".html"),t!==d.pathname&&(d.pathname=t,i=t+d.search+d.hash,history.replaceState(null,"",i)),d.hash&&!l){let t=null;try{t=document.getElementById(decodeURIComponent(d.hash).slice(1))}catch(e){}if(t)return void scrollTo$1(t,d.hash)}window.scrollTo(0,l)}))}}catch(p){if(!/fetch|Page not found/.test(p.message)&&/^\/404(\.html|\/)?$/.test(i),!u)try{const e=await fetch(siteDataRef.value.base+"hashmap.json");return window.__VP_HASH_MAP__=await e.json(),void(await s(i,l,!0))}catch(e){}a===h&&(a=null,r.path=inBrowser?h:withBase(h),r.component=n?markRaw(n):null,r.data=notFoundPageData)}}return inBrowser&&(window.addEventListener("click",(e=>{if(e.target.closest("button"))return;const t=e.target.closest("a");if(t&&!t.closest(".vp-raw")&&(t instanceof SVGElement||!t.download)){const{target:n}=t,{href:r,origin:o,pathname:a,hash:s,search:l}=new URL(t.href instanceof SVGAnimatedString?t.href.animVal:t.href,t.baseURI),u=window.location;e.ctrlKey||e.shiftKey||e.altKey||e.metaKey||n||o!==u.origin||!treatAsHtml(a)||(e.preventDefault(),a===u.pathname&&l===u.search?(s!==u.hash&&(history.pushState(null,"",s),window.dispatchEvent(new Event("hashchange"))),s?scrollTo$1(t,s,t.classList.contains("header-anchor")):(updateHistory(r),window.scrollTo(0,0))):i(r))}}),{capture:!0}),window.addEventListener("popstate",(async e=>{var t;await s(normalizeHref(location.href),e.state&&e.state.scrollPosition||0),null==(t=o.onAfterRouteChanged)||t.call(o,location.href)})),window.addEventListener("hashchange",(e=>{e.preventDefault()}))),o}function useRouter(){const e=inject(RouterSymbol);if(!e)throw new Error("useRouter() is called without provider.");return e}function useRoute(){return useRouter().route}function scrollTo$1(t,n,r=!1){let o=null;try{o=t.classList.contains("header-anchor")?t:document.getElementById(decodeURIComponent(n).slice(1))}catch(e){}if(o){let e=function(){!r||Math.abs(s-window.scrollY)>window.innerHeight?window.scrollTo(0,s):window.scrollTo({left:0,top:s,behavior:"smooth"})},t=siteDataRef.value.scrollOffset,n=0,i=24;if("object"==typeof t&&"padding"in t&&(i=t.padding,t=t.selector),"number"==typeof t)n=t;else if("string"==typeof t)n=tryOffsetSelector(t,i);else if(Array.isArray(t))for(const r of t){const e=tryOffsetSelector(r,i);if(e){n=e;break}}const a=parseInt(window.getComputedStyle(o).paddingTop,10),s=window.scrollY+o.getBoundingClientRect().top-n+a;requestAnimationFrame(e)}}function tryOffsetSelector(e,t){const n=document.querySelector(e);if(!n)return 0;const r=n.getBoundingClientRect().bottom;return r<0?0:r+t}function updateHistory(e){inBrowser&&normalizeHref(e)!==normalizeHref(location.href)&&(history.replaceState({scrollPosition:window.scrollY},document.title),history.pushState(null,"",e))}function normalizeHref(e){const t=new URL(e,fakeHost);return t.pathname=t.pathname.replace(/(^|\/)index(\.html)?$/,"$1"),siteDataRef.value.cleanUrls?t.pathname=t.pathname.replace(/\.html$/,""):t.pathname.endsWith("/")||t.pathname.endsWith(".html")||(t.pathname+=".html"),t.pathname+t.search+t.hash}const runCbs=()=>contentUpdatedCallbacks.forEach((e=>e())),Content=defineComponent({name:"VitePressContent",props:{as:{type:[Object,String],default:"div"}},setup(e){const t=useRoute(),{site:n}=useData$1();return()=>h$1(e.as,n.value.contentProps??{style:{position:"relative"}},[t.component?h$1(t.component,{onVnodeMounted:runCbs,onVnodeUpdated:runCbs,onVnodeUnmounted:runCbs}):"404 Page Not Found"])}}),_sfc_main$1b=defineComponent({__name:"VPBadge",props:{text:{},type:{default:"tip"}},setup:e=>(e,t)=>(openBlock(),createElementBlock("span",{class:normalizeClass(["VPBadge",e.type])},[renderSlot(e.$slots,"default",{},(()=>[createTextVNode(toDisplayString(e.text),1)]))],2))}),_hoisted_1$Z={key:0,class:"VPBackdrop"},_sfc_main$1a=defineComponent({__name:"VPBackdrop",props:{show:{type:Boolean}},setup:e=>(e,t)=>(openBlock(),createBlock(Transition,{name:"fade"},{default:withCtx((()=>[e.show?(openBlock(),createElementBlock("div",_hoisted_1$Z)):createCommentVNode("",!0)])),_:1}))}),VPBackdrop=_export_sfc$1(_sfc_main$1a,[["__scopeId","data-v-1a2d38c0"]]),useData=useData$1;function throttleAndDebounce(e,t){let n,r=!1;return()=>{n&&clearTimeout(n),r?n=setTimeout(e,t):(e(),(r=!0)&&setTimeout((()=>r=!1),t))}}function ensureStartingSlash(e){return/^\//.test(e)?e:`/${e}`}function normalizeLink$1(e){const{pathname:t,search:n,hash:r,protocol:o}=new URL(e,"http://a.com");if(isExternal(e)||e.startsWith("#")||!o.startsWith("http")||!treatAsHtml(t))return e;const{site:i}=useData();return withBase(t.endsWith("/")||t.endsWith(".html")?e:e.replace(/(?:(^\.+)\/)?.*$/,`$1${t.replace(/(\.md)?$/,i.value.cleanUrls?"":".html")}${n}${r}`))}const hashRef=ref(inBrowser?location.hash:"");function useLangs({removeCurrent:e=!0,correspondingLink:t=!1}={}){const{site:n,localeIndex:r,page:o,theme:i}=useData(),a=computed((()=>{var e,t;return{label:null==(e=n.value.locales[r.value])?void 0:e.label,link:(null==(t=n.value.locales[r.value])?void 0:t.link)||("root"===r.value?"/":`/${r.value}/`)}}));return{localeLinks:computed((()=>Object.entries(n.value.locales).flatMap((([r,s])=>e&&a.value.label===s.label?[]:{text:s.label,link:normalizeLink(s.link||("root"===r?"/":`/${r}/`),!1!==i.value.i18nRouting&&t,o.value.relativePath.slice(a.value.link.length-1),!n.value.cleanUrls)+hashRef.value})))),currentLang:a}}function normalizeLink(e,t,n,r){return t?e.replace(/\/$/,"")+ensureStartingSlash(n.replace(/(^|\/)index\.md$/,"$1").replace(/\.md$/,r?".html":"")):e}inBrowser&&window.addEventListener("hashchange",(()=>{hashRef.value=location.hash}));const _withScopeId$b=e=>(pushScopeId("data-v-62767d77"),e=e(),popScopeId(),e),_hoisted_1$Y={class:"NotFound"},_hoisted_2$E={class:"code"},_hoisted_3$u={class:"title"},_hoisted_4$g=_withScopeId$b((()=>createBaseVNode("div",{class:"divider"},null,-1))),_hoisted_5$a={class:"quote"},_hoisted_6$8={class:"action"},_hoisted_7$6=["href","aria-label"],_sfc_main$19=defineComponent({__name:"NotFound",setup(e){const{site:t,theme:n}=useData(),{localeLinks:r}=useLangs({removeCurrent:!1}),o=ref("/");return onMounted((()=>{var e;const n=window.location.pathname.replace(t.value.base,"").replace(/(^.*?\/).*$/,"/$1");r.value.length&&(o.value=(null==(e=r.value.find((({link:e})=>e.startsWith(n))))?void 0:e.link)||r.value[0].link)})),(e,t)=>{var r,i,a,s,l;return openBlock(),createElementBlock("div",_hoisted_1$Y,[createBaseVNode("p",_hoisted_2$E,toDisplayString((null==(r=unref(n).notFound)?void 0:r.code)??"404"),1),createBaseVNode("h1",_hoisted_3$u,toDisplayString((null==(i=unref(n).notFound)?void 0:i.title)??"PAGE NOT FOUND"),1),_hoisted_4$g,createBaseVNode("blockquote",_hoisted_5$a,toDisplayString((null==(a=unref(n).notFound)?void 0:a.quote)??"But if you don't change your direction, and if you keep looking, you may end up where you are heading."),1),createBaseVNode("div",_hoisted_6$8,[createBaseVNode("a",{class:"link",href:unref(withBase)(o.value),"aria-label":(null==(s=unref(n).notFound)?void 0:s.linkLabel)??"go to home"},toDisplayString((null==(l=unref(n).notFound)?void 0:l.linkText)??"Take me home"),9,_hoisted_7$6)])])}}}),NotFound=_export_sfc$1(_sfc_main$19,[["__scopeId","data-v-62767d77"]]);function getSidebar(e,t){if(Array.isArray(e))return addBase(e);if(null==e)return[];t=ensureStartingSlash(t);const n=Object.keys(e).sort(((e,t)=>t.split("/").length-e.split("/").length)).find((e=>t.startsWith(ensureStartingSlash(e)))),r=n?e[n]:[];return Array.isArray(r)?addBase(r):addBase(r.items,r.base)}function getSidebarGroups(e){const t=[];let n=0;for(const r in e){const o=e[r];o.items?n=t.push(o):(t[n]||t.push({items:[]}),t[n].items.push(o))}return t}function getFlatSideBarLinks(e){const t=[];return function e(n){for(const r of n)r.text&&r.link&&t.push({text:r.text,link:r.link,docFooterText:r.docFooterText}),r.items&&e(r.items)}(e),t}function hasActiveLink(e,t){return Array.isArray(t)?t.some((t=>hasActiveLink(e,t))):!!isActive(e,t.link)||!!t.items&&hasActiveLink(e,t.items)}function addBase(e,t){return[...e].map((e=>{const n={...e},r=n.base||t;return r&&n.link&&(n.link=r+n.link),n.items&&(n.items=addBase(n.items,r)),n}))}function useSidebar(){const{frontmatter:e,page:t,theme:n}=useData(),r=useMediaQuery("(min-width: 960px)"),o=ref(!1),i=computed((()=>{const e=n.value.sidebar,r=t.value.relativePath;return e?getSidebar(e,r):[]})),a=ref(i.value);watch(i,((e,t)=>{JSON.stringify(e)!==JSON.stringify(t)&&(a.value=i.value)}));const s=computed((()=>!1!==e.value.sidebar&&a.value.length>0&&"home"!==e.value.layout)),l=computed((()=>!!u&&(null==e.value.aside?"left"===n.value.aside:"left"===e.value.aside))),u=computed((()=>"home"!==e.value.layout&&(null!=e.value.aside?!!e.value.aside:!1!==n.value.aside))),c=computed((()=>s.value&&r.value)),d=computed((()=>s.value?getSidebarGroups(a.value):[]));function h(){o.value=!0}function p(){o.value=!1}return{isOpen:o,sidebar:a,sidebarGroups:d,hasSidebar:s,hasAside:u,leftAside:l,isSidebarEnabled:c,open:h,close:p,toggle:function(){o.value?p():h()}}}function useCloseSidebarOnEscape(e,t){let n;function r(r){"Escape"===r.key&&e.value&&(t(),null==n||n.focus())}watchEffect((()=>{n=e.value?document.activeElement:void 0})),onMounted((()=>{window.addEventListener("keyup",r)})),onUnmounted((()=>{window.removeEventListener("keyup",r)}))}function useSidebarControl(e){const{page:t}=useData(),n=ref(!1),r=computed((()=>null!=e.value.collapsed)),o=computed((()=>!!e.value.link)),i=ref(!1),a=()=>{i.value=isActive(t.value.relativePath,e.value.link)};watch([t,e,hashRef],a),onMounted(a);const s=computed((()=>!!i.value||!!e.value.items&&hasActiveLink(t.value.relativePath,e.value.items))),l=computed((()=>!(!e.value.items||!e.value.items.length)));return watchEffect((()=>{n.value=!(!r.value||!e.value.collapsed)})),watchPostEffect((()=>{(i.value||s.value)&&(n.value=!1)})),{collapsed:n,collapsible:r,isLink:o,isActiveLink:i,hasActiveLink:s,hasChildren:l,toggle:function(){r.value&&(n.value=!n.value)}}}function useAside(){const{hasSidebar:e}=useSidebar(),t=useMediaQuery("(min-width: 960px)"),n=useMediaQuery("(min-width: 1280px)");return{isAsideEnabled:computed((()=>!(!n.value&&!t.value)&&(e.value?n.value:t.value)))}}const resolvedHeaders=[];function resolveTitle(e){return"object"==typeof e.outline&&!Array.isArray(e.outline)&&e.outline.label||e.outlineTitle||"On this page"}function getHeaders(e){return resolveHeaders([...document.querySelectorAll(".VPDoc :where(h1,h2,h3,h4,h5,h6)")].filter((e=>e.id&&e.hasChildNodes())).map((e=>{const t=Number(e.tagName[1]);return{element:e,title:serializeHeader(e),link:"#"+e.id,level:t}})),e)}function serializeHeader(e){let t="";for(const n of e.childNodes)if(1===n.nodeType){if(n.classList.contains("VPBadge")||n.classList.contains("header-anchor")||n.classList.contains("ignore-header"))continue;t+=n.textContent}else 3===n.nodeType&&(t+=n.textContent);return t.trim()}function resolveHeaders(e,t){if(!1===t)return[];const n=("object"!=typeof t||Array.isArray(t)?t:t.level)||2,[r,o]="number"==typeof n?[n,n]:"deep"===n?[2,6]:n;e=e.filter((e=>e.level>=r&&e.level<=o)),resolvedHeaders.length=0;for(const{element:a,link:s}of e)resolvedHeaders.push({element:a,link:s});const i=[];e:for(let a=0;a<e.length;a++){const t=e[a];if(0===a)i.push(t);else{for(let n=a-1;n>=0;n--){const r=e[n];if(r.level<t.level){(r.children||(r.children=[])).push(t);continue e}}i.push(t)}}return i}function useActiveAnchor(e,t){const{isAsideEnabled:n}=useAside(),r=throttleAndDebounce(i,100);let o=null;function i(){if(!n.value)return;const e=(()=>{var e;const t=null==(e=document.querySelector("#VPContent .VPDoc"))?void 0:e.firstElementChild;return t?getAbsoluteTop(t):78})(),t=window.scrollY,r=window.innerHeight,o=document.body.offsetHeight,i=Math.abs(t+r-o)<1,s=resolvedHeaders.map((({element:e,link:t})=>({link:t,top:getAbsoluteTop(e)}))).filter((({top:e})=>!Number.isNaN(e))).sort(((e,t)=>e.top-t.top));if(!s.length)return void a(null);if(t<1)return void a(null);if(i)return void a(s[s.length-1].link);let l=null;for(const{link:n,top:a}of s){if(a>t+e)break;l=n}a(l)}function a(n){o&&o.classList.remove("active"),o=null==n?null:e.value.querySelector(`a[href="${decodeURIComponent(n)}"]`);const r=o;r?(r.classList.add("active"),t.value.style.top=r.offsetTop+39+"px",t.value.style.opacity="1"):(t.value.style.top="33px",t.value.style.opacity="0")}onMounted((()=>{requestAnimationFrame(i),window.addEventListener("scroll",r)})),onUpdated((()=>{a(location.hash)})),onUnmounted((()=>{window.removeEventListener("scroll",r)}))}function getAbsoluteTop(e){let t=0;for(;e!==document.body;){if(null===e)return NaN;t+=e.offsetTop,e=e.offsetParent}return t}const _hoisted_1$X=["href","title"],_sfc_main$18=defineComponent({__name:"VPDocOutlineItem",props:{headers:{},root:{type:Boolean}},setup(e){function t({target:e}){const t=e.href.split("#")[1],n=document.getElementById(decodeURIComponent(t));null==n||n.focus({preventScroll:!0})}return(e,n)=>{const r=resolveComponent("VPDocOutlineItem",!0);return openBlock(),createElementBlock("ul",{class:normalizeClass(["VPDocOutlineItem",e.root?"root":"nested"])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.headers,(({children:e,link:n,title:o})=>(openBlock(),createElementBlock("li",null,[createBaseVNode("a",{class:"outline-link",href:n,onClick:t,title:o},toDisplayString(o),9,_hoisted_1$X),(null==e?void 0:e.length)?(openBlock(),createBlock(r,{key:0,headers:e},null,8,["headers"])):createCommentVNode("",!0)])))),256))],2)}}}),VPDocOutlineItem=_export_sfc$1(_sfc_main$18,[["__scopeId","data-v-47ca6ffc"]]),_withScopeId$a=e=>(pushScopeId("data-v-37eb2d6e"),e=e(),popScopeId(),e),_hoisted_1$W={class:"content"},_hoisted_2$D={class:"outline-title",role:"heading","aria-level":"2"},_hoisted_3$t={"aria-labelledby":"doc-outline-aria-label"},_hoisted_4$f=_withScopeId$a((()=>createBaseVNode("span",{class:"visually-hidden",id:"doc-outline-aria-label"}," Table of Contents for current page ",-1))),_sfc_main$17=defineComponent({__name:"VPDocAsideOutline",setup(e){const{frontmatter:t,theme:n}=useData(),r=shallowRef([]);onContentUpdated((()=>{r.value=getHeaders(t.value.outline??n.value.outline)}));const o=ref(),i=ref();return useActiveAnchor(o,i),(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["VPDocAsideOutline",{"has-outline":r.value.length>0}]),ref_key:"container",ref:o,role:"navigation"},[createBaseVNode("div",_hoisted_1$W,[createBaseVNode("div",{class:"outline-marker",ref_key:"marker",ref:i},null,512),createBaseVNode("div",_hoisted_2$D,toDisplayString(unref(resolveTitle)(unref(n))),1),createBaseVNode("nav",_hoisted_3$t,[_hoisted_4$f,createVNode(VPDocOutlineItem,{headers:r.value,root:!0},null,8,["headers"])])])],2))}}),VPDocAsideOutline=_export_sfc$1(_sfc_main$17,[["__scopeId","data-v-37eb2d6e"]]),_hoisted_1$V={class:"VPDocAsideCarbonAds"},_sfc_main$16=defineComponent({__name:"VPDocAsideCarbonAds",props:{carbonAds:{}},setup(e){const t=()=>null;return(e,n)=>(openBlock(),createElementBlock("div",_hoisted_1$V,[createVNode(unref(t),{"carbon-ads":e.carbonAds},null,8,["carbon-ads"])]))}}),_withScopeId$9=e=>(pushScopeId("data-v-a9700563"),e=e(),popScopeId(),e),_hoisted_1$U={class:"VPDocAside"},_hoisted_2$C=_withScopeId$9((()=>createBaseVNode("div",{class:"spacer"},null,-1))),_sfc_main$15=defineComponent({__name:"VPDocAside",setup(e){const{theme:t}=useData();return(e,n)=>(openBlock(),createElementBlock("div",_hoisted_1$U,[renderSlot(e.$slots,"aside-top",{},void 0,!0),renderSlot(e.$slots,"aside-outline-before",{},void 0,!0),createVNode(VPDocAsideOutline),renderSlot(e.$slots,"aside-outline-after",{},void 0,!0),_hoisted_2$C,renderSlot(e.$slots,"aside-ads-before",{},void 0,!0),unref(t).carbonAds?(openBlock(),createBlock(_sfc_main$16,{key:0,"carbon-ads":unref(t).carbonAds},null,8,["carbon-ads"])):createCommentVNode("",!0),renderSlot(e.$slots,"aside-ads-after",{},void 0,!0),renderSlot(e.$slots,"aside-bottom",{},void 0,!0)]))}}),VPDocAside=_export_sfc$1(_sfc_main$15,[["__scopeId","data-v-a9700563"]]);function useEditLink(){const{theme:e,page:t}=useData();return computed((()=>{const{text:n="Edit this page",pattern:r=""}=e.value.editLink||{};let o;return o="function"==typeof r?r(t.value):r.replace(/:path/g,t.value.filePath),{url:o,text:n}}))}function usePrevNext(){const{page:e,theme:t,frontmatter:n}=useData();return computed((()=>{var r,o,i,a,s,l,u,c;const d=getFlatSideBarLinks(getSidebar(t.value.sidebar,e.value.relativePath)),h=d.findIndex((t=>isActive(e.value.relativePath,t.link))),p=!1===(null==(r=t.value.docFooter)?void 0:r.prev)&&!n.value.prev||!1===n.value.prev,f=!1===(null==(o=t.value.docFooter)?void 0:o.next)&&!n.value.next||!1===n.value.next;return{prev:p?void 0:{text:("string"==typeof n.value.prev?n.value.prev:"object"==typeof n.value.prev?n.value.prev.text:void 0)??(null==(i=d[h-1])?void 0:i.docFooterText)??(null==(a=d[h-1])?void 0:a.text),link:("object"==typeof n.value.prev?n.value.prev.link:void 0)??(null==(s=d[h-1])?void 0:s.link)},next:f?void 0:{text:("string"==typeof n.value.next?n.value.next:"object"==typeof n.value.next?n.value.next.text:void 0)??(null==(l=d[h+1])?void 0:l.docFooterText)??(null==(u=d[h+1])?void 0:u.text),link:("object"==typeof n.value.next?n.value.next.link:void 0)??(null==(c=d[h+1])?void 0:c.link)}}}))}const _sfc_main$14={},_hoisted_1$T={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},_hoisted_2$B=createBaseVNode("path",{d:"M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"},null,-1),_hoisted_3$s=createBaseVNode("path",{d:"M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"},null,-1),_hoisted_4$e=[_hoisted_2$B,_hoisted_3$s];function _sfc_render$b(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$T,_hoisted_4$e)}const VPIconEdit=_export_sfc$1(_sfc_main$14,[["render",_sfc_render$b]]),_sfc_main$13=defineComponent({__name:"VPLink",props:{tag:{},href:{},noIcon:{type:Boolean},target:{},rel:{}},setup(e){const t=e,n=computed((()=>t.tag??(t.href?"a":"span"))),r=computed((()=>t.href&&EXTERNAL_URL_RE.test(t.href)));return(e,t)=>(openBlock(),createBlock(resolveDynamicComponent(n.value),{class:normalizeClass(["VPLink",{link:e.href,"vp-external-link-icon":r.value,"no-icon":e.noIcon}]),href:e.href?unref(normalizeLink$1)(e.href):void 0,target:e.target??(r.value?"_blank":void 0),rel:e.rel??(r.value?"noreferrer":void 0)},{default:withCtx((()=>[renderSlot(e.$slots,"default")])),_:3},8,["class","href","target","rel"]))}}),_hoisted_1$S={class:"VPLastUpdated"},_hoisted_2$A=["datetime"],_sfc_main$12=defineComponent({__name:"VPDocFooterLastUpdated",setup(e){const{theme:t,page:n,frontmatter:r,lang:o}=useData(),i=computed((()=>new Date(r.value.lastUpdated??n.value.lastUpdated))),a=computed((()=>i.value.toISOString())),s=ref("");return onMounted((()=>{watchEffect((()=>{var e,n,r;s.value=new Intl.DateTimeFormat((null==(n=null==(e=t.value.lastUpdated)?void 0:e.formatOptions)?void 0:n.forceLocale)?o.value:void 0,(null==(r=t.value.lastUpdated)?void 0:r.formatOptions)??{dateStyle:"short",timeStyle:"short"}).format(i.value)}))})),(e,n)=>{var r;return openBlock(),createElementBlock("p",_hoisted_1$S,[createTextVNode(toDisplayString((null==(r=unref(t).lastUpdated)?void 0:r.text)||unref(t).lastUpdatedText||"Last updated")+": ",1),createBaseVNode("time",{datetime:a.value},toDisplayString(s.value),9,_hoisted_2$A)])}}}),VPDocFooterLastUpdated=_export_sfc$1(_sfc_main$12,[["__scopeId","data-v-828c5c58"]]),_hoisted_1$R={key:0,class:"VPDocFooter"},_hoisted_2$z={key:0,class:"edit-info"},_hoisted_3$r={key:0,class:"edit-link"},_hoisted_4$d={key:1,class:"last-updated"},_hoisted_5$9={key:1,class:"prev-next"},_hoisted_6$7={class:"pager"},_hoisted_7$5=["innerHTML"],_hoisted_8$3=["innerHTML"],_hoisted_9$2={class:"pager"},_hoisted_10$2=["innerHTML"],_hoisted_11$2=["innerHTML"],_sfc_main$11=defineComponent({__name:"VPDocFooter",setup(e){const{theme:t,page:n,frontmatter:r}=useData(),o=useEditLink(),i=usePrevNext(),a=computed((()=>t.value.editLink&&!1!==r.value.editLink)),s=computed((()=>n.value.lastUpdated&&!1!==r.value.lastUpdated)),l=computed((()=>a.value||s.value||i.value.prev||i.value.next));return(e,n)=>{var r,u,c,d;return l.value?(openBlock(),createElementBlock("footer",_hoisted_1$R,[renderSlot(e.$slots,"doc-footer-before",{},void 0,!0),a.value||s.value?(openBlock(),createElementBlock("div",_hoisted_2$z,[a.value?(openBlock(),createElementBlock("div",_hoisted_3$r,[createVNode(_sfc_main$13,{class:"edit-link-button",href:unref(o).url,"no-icon":!0},{default:withCtx((()=>[createVNode(VPIconEdit,{class:"edit-link-icon","aria-label":"edit icon"}),createTextVNode(" "+toDisplayString(unref(o).text),1)])),_:1},8,["href"])])):createCommentVNode("",!0),s.value?(openBlock(),createElementBlock("div",_hoisted_4$d,[createVNode(VPDocFooterLastUpdated)])):createCommentVNode("",!0)])):createCommentVNode("",!0),(null==(r=unref(i).prev)?void 0:r.link)||(null==(u=unref(i).next)?void 0:u.link)?(openBlock(),createElementBlock("nav",_hoisted_5$9,[createBaseVNode("div",_hoisted_6$7,[(null==(c=unref(i).prev)?void 0:c.link)?(openBlock(),createBlock(_sfc_main$13,{key:0,class:"pager-link prev",href:unref(i).prev.link},{default:withCtx((()=>{var e;return[createBaseVNode("span",{class:"desc",innerHTML:(null==(e=unref(t).docFooter)?void 0:e.prev)||"Previous page"},null,8,_hoisted_7$5),createBaseVNode("span",{class:"title",innerHTML:unref(i).prev.text},null,8,_hoisted_8$3)]})),_:1},8,["href"])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_9$2,[(null==(d=unref(i).next)?void 0:d.link)?(openBlock(),createBlock(_sfc_main$13,{key:0,class:"pager-link next",href:unref(i).next.link},{default:withCtx((()=>{var e;return[createBaseVNode("span",{class:"desc",innerHTML:(null==(e=unref(t).docFooter)?void 0:e.next)||"Next page"},null,8,_hoisted_10$2),createBaseVNode("span",{class:"title",innerHTML:unref(i).next.text},null,8,_hoisted_11$2)]})),_:1},8,["href"])):createCommentVNode("",!0)])])):createCommentVNode("",!0)])):createCommentVNode("",!0)}}}),VPDocFooter=_export_sfc$1(_sfc_main$11,[["__scopeId","data-v-c7a178e4"]]),_withScopeId$8=e=>(pushScopeId("data-v-1620c952"),e=e(),popScopeId(),e),_hoisted_1$Q={class:"container"},_hoisted_2$y=_withScopeId$8((()=>createBaseVNode("div",{class:"aside-curtain"},null,-1))),_hoisted_3$q={class:"aside-container"},_hoisted_4$c={class:"aside-content"},_hoisted_5$8={class:"content"},_hoisted_6$6={class:"content-container"},_hoisted_7$4={class:"main"},_sfc_main$10=defineComponent({__name:"VPDoc",setup(e){const{theme:t}=useData(),n=useRoute(),{hasSidebar:r,hasAside:o,leftAside:i}=useSidebar(),a=computed((()=>n.path.replace(/[./]+/g,"_").replace(/_html$/,"")));return(e,n)=>{const s=resolveComponent("Content");return openBlock(),createElementBlock("div",{class:normalizeClass(["VPDoc",{"has-sidebar":unref(r),"has-aside":unref(o)}])},[renderSlot(e.$slots,"doc-top",{},void 0,!0),createBaseVNode("div",_hoisted_1$Q,[unref(o)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["aside",{"left-aside":unref(i)}])},[_hoisted_2$y,createBaseVNode("div",_hoisted_3$q,[createBaseVNode("div",_hoisted_4$c,[createVNode(VPDocAside,null,{"aside-top":withCtx((()=>[renderSlot(e.$slots,"aside-top",{},void 0,!0)])),"aside-bottom":withCtx((()=>[renderSlot(e.$slots,"aside-bottom",{},void 0,!0)])),"aside-outline-before":withCtx((()=>[renderSlot(e.$slots,"aside-outline-before",{},void 0,!0)])),"aside-outline-after":withCtx((()=>[renderSlot(e.$slots,"aside-outline-after",{},void 0,!0)])),"aside-ads-before":withCtx((()=>[renderSlot(e.$slots,"aside-ads-before",{},void 0,!0)])),"aside-ads-after":withCtx((()=>[renderSlot(e.$slots,"aside-ads-after",{},void 0,!0)])),_:3})])])],2)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_5$8,[createBaseVNode("div",_hoisted_6$6,[renderSlot(e.$slots,"doc-before",{},void 0,!0),createBaseVNode("main",_hoisted_7$4,[createVNode(s,{class:normalizeClass(["vp-doc",[a.value,unref(t).externalLinkIcon&&"external-link-icon-enabled"]])},null,8,["class"])]),createVNode(VPDocFooter,null,{"doc-footer-before":withCtx((()=>[renderSlot(e.$slots,"doc-footer-before",{},void 0,!0)])),_:3}),renderSlot(e.$slots,"doc-after",{},void 0,!0)])])]),renderSlot(e.$slots,"doc-bottom",{},void 0,!0)],2)}}}),VPDoc=_export_sfc$1(_sfc_main$10,[["__scopeId","data-v-1620c952"]]),_sfc_main$$=defineComponent({__name:"VPButton",props:{tag:{},size:{default:"medium"},theme:{default:"brand"},text:{},href:{}},setup(e){const t=e,n=computed((()=>t.href&&EXTERNAL_URL_RE.test(t.href))),r=computed((()=>t.tag||t.href?"a":"button"));return(e,t)=>(openBlock(),createBlock(resolveDynamicComponent(r.value),{class:normalizeClass(["VPButton",[e.size,e.theme]]),href:e.href?unref(normalizeLink$1)(e.href):void 0,target:n.value?"_blank":void 0,rel:n.value?"noreferrer":void 0},{default:withCtx((()=>[createTextVNode(toDisplayString(e.text),1)])),_:1},8,["class","href","target","rel"]))}}),VPButton=_export_sfc$1(_sfc_main$$,[["__scopeId","data-v-067de300"]]),_hoisted_1$P=["src","alt"],_sfc_main$_=defineComponent({inheritAttrs:!1,__name:"VPImage",props:{image:{},alt:{}},setup:e=>(e,t)=>{const n=resolveComponent("VPImage",!0);return e.image?(openBlock(),createElementBlock(Fragment,{key:0},["string"==typeof e.image||"src"in e.image?(openBlock(),createElementBlock("img",mergeProps({key:0,class:"VPImage"},"string"==typeof e.image?e.$attrs:{...e.image,...e.$attrs},{src:unref(withBase)("string"==typeof e.image?e.image:e.image.src),alt:e.alt??("string"==typeof e.image?"":e.image.alt||"")}),null,16,_hoisted_1$P)):(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(n,mergeProps({class:"dark",image:e.image.dark,alt:e.image.alt},e.$attrs),null,16,["image","alt"]),createVNode(n,mergeProps({class:"light",image:e.image.light,alt:e.image.alt},e.$attrs),null,16,["image","alt"])],64))],64)):createCommentVNode("",!0)}}),VPImage=_export_sfc$1(_sfc_main$_,[["__scopeId","data-v-6867b904"]]),_withScopeId$7=e=>(pushScopeId("data-v-17a87290"),e=e(),popScopeId(),e),_hoisted_1$O={class:"container"},_hoisted_2$x={class:"main"},_hoisted_3$p={key:0,class:"name"},_hoisted_4$b=["innerHTML"],_hoisted_5$7=["innerHTML"],_hoisted_6$5=["innerHTML"],_hoisted_7$3={key:0,class:"actions"},_hoisted_8$2={key:0,class:"image"},_hoisted_9$1={class:"image-container"},_hoisted_10$1=_withScopeId$7((()=>createBaseVNode("div",{class:"image-bg"},null,-1))),_sfc_main$Z=defineComponent({__name:"VPHero",props:{name:{},text:{},tagline:{},image:{},actions:{}},setup(e){const t=inject("hero-image-slot-exists");return(e,n)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["VPHero",{"has-image":e.image||unref(t)}])},[createBaseVNode("div",_hoisted_1$O,[createBaseVNode("div",_hoisted_2$x,[renderSlot(e.$slots,"home-hero-info",{},(()=>[e.name?(openBlock(),createElementBlock("h1",_hoisted_3$p,[createBaseVNode("span",{innerHTML:e.name,class:"clip"},null,8,_hoisted_4$b)])):createCommentVNode("",!0),e.text?(openBlock(),createElementBlock("p",{key:1,innerHTML:e.text,class:"text"},null,8,_hoisted_5$7)):createCommentVNode("",!0),e.tagline?(openBlock(),createElementBlock("p",{key:2,innerHTML:e.tagline,class:"tagline"},null,8,_hoisted_6$5)):createCommentVNode("",!0)]),!0),e.actions?(openBlock(),createElementBlock("div",_hoisted_7$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.actions,(e=>(openBlock(),createElementBlock("div",{key:e.link,class:"action"},[createVNode(VPButton,{tag:"a",size:"medium",theme:e.theme,text:e.text,href:e.link},null,8,["theme","text","href"])])))),128))])):createCommentVNode("",!0)]),e.image||unref(t)?(openBlock(),createElementBlock("div",_hoisted_8$2,[createBaseVNode("div",_hoisted_9$1,[_hoisted_10$1,renderSlot(e.$slots,"home-hero-image",{},(()=>[e.image?(openBlock(),createBlock(VPImage,{key:0,class:"image-src",image:e.image},null,8,["image"])):createCommentVNode("",!0)]),!0)])])):createCommentVNode("",!0)])],2))}}),VPHero=_export_sfc$1(_sfc_main$Z,[["__scopeId","data-v-17a87290"]]),_sfc_main$Y=defineComponent({__name:"VPHomeHero",setup(e){const{frontmatter:t}=useData();return(e,n)=>unref(t).hero?(openBlock(),createBlock(VPHero,{key:0,class:"VPHomeHero",name:unref(t).hero.name,text:unref(t).hero.text,tagline:unref(t).hero.tagline,image:unref(t).hero.image,actions:unref(t).hero.actions},{"home-hero-info":withCtx((()=>[renderSlot(e.$slots,"home-hero-info")])),"home-hero-image":withCtx((()=>[renderSlot(e.$slots,"home-hero-image")])),_:3},8,["name","text","tagline","image","actions"])):createCommentVNode("",!0)}}),_sfc_main$X={},_hoisted_1$N={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},_hoisted_2$w=createBaseVNode("path",{d:"M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"},null,-1),_hoisted_3$o=[_hoisted_2$w];function _sfc_render$a(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$N,_hoisted_3$o)}const VPIconArrowRight=_export_sfc$1(_sfc_main$X,[["render",_sfc_render$a]]),_hoisted_1$M={class:"box"},_hoisted_2$v={key:0,class:"icon"},_hoisted_3$n=["innerHTML"],_hoisted_4$a=["innerHTML"],_hoisted_5$6=["innerHTML"],_hoisted_6$4={key:4,class:"link-text"},_hoisted_7$2={class:"link-text-value"},_sfc_main$W=defineComponent({__name:"VPFeature",props:{icon:{},title:{},details:{},link:{},linkText:{},rel:{},target:{}},setup:e=>(e,t)=>(openBlock(),createBlock(_sfc_main$13,{class:"VPFeature",href:e.link,rel:e.rel,target:e.target,"no-icon":!0,tag:e.link?"a":"div"},{default:withCtx((()=>[createBaseVNode("article",_hoisted_1$M,["object"==typeof e.icon&&e.icon.wrap?(openBlock(),createElementBlock("div",_hoisted_2$v,[createVNode(VPImage,{image:e.icon,alt:e.icon.alt,height:e.icon.height||48,width:e.icon.width||48},null,8,["image","alt","height","width"])])):"object"==typeof e.icon?(openBlock(),createBlock(VPImage,{key:1,image:e.icon,alt:e.icon.alt,height:e.icon.height||48,width:e.icon.width||48},null,8,["image","alt","height","width"])):e.icon?(openBlock(),createElementBlock("div",{key:2,class:"icon",innerHTML:e.icon},null,8,_hoisted_3$n)):createCommentVNode("",!0),createBaseVNode("h2",{class:"title",innerHTML:e.title},null,8,_hoisted_4$a),e.details?(openBlock(),createElementBlock("p",{key:3,class:"details",innerHTML:e.details},null,8,_hoisted_5$6)):createCommentVNode("",!0),e.linkText?(openBlock(),createElementBlock("div",_hoisted_6$4,[createBaseVNode("p",_hoisted_7$2,[createTextVNode(toDisplayString(e.linkText)+" ",1),createVNode(VPIconArrowRight,{class:"link-text-icon"})])])):createCommentVNode("",!0)])])),_:1},8,["href","rel","target","tag"]))}),VPFeature=_export_sfc$1(_sfc_main$W,[["__scopeId","data-v-5c0f1bc1"]]),_hoisted_1$L={key:0,class:"VPFeatures"},_hoisted_2$u={class:"container"},_hoisted_3$m={class:"items"},_sfc_main$V=defineComponent({__name:"VPFeatures",props:{features:{}},setup(e){const t=e,n=computed((()=>{const e=t.features.length;if(e)return 2===e?"grid-2":3===e?"grid-3":e%3==0?"grid-6":e>3?"grid-4":void 0}));return(e,t)=>e.features?(openBlock(),createElementBlock("div",_hoisted_1$L,[createBaseVNode("div",_hoisted_2$u,[createBaseVNode("div",_hoisted_3$m,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.features,(e=>(openBlock(),createElementBlock("div",{key:e.title,class:normalizeClass(["item",[n.value]])},[createVNode(VPFeature,{icon:e.icon,title:e.title,details:e.details,link:e.link,"link-text":e.linkText,rel:e.rel,target:e.target},null,8,["icon","title","details","link","link-text","rel","target"])],2)))),128))])])])):createCommentVNode("",!0)}}),VPFeatures=_export_sfc$1(_sfc_main$V,[["__scopeId","data-v-6fe6c95b"]]),_sfc_main$U=defineComponent({__name:"VPHomeFeatures",setup(e){const{frontmatter:t}=useData();return(e,n)=>unref(t).features?(openBlock(),createBlock(VPFeatures,{key:0,class:"VPHomeFeatures",features:unref(t).features},null,8,["features"])):createCommentVNode("",!0)}}),_hoisted_1$K={class:"VPHome"},_sfc_main$T=defineComponent({__name:"VPHome",setup:e=>(e,t)=>{const n=resolveComponent("Content");return openBlock(),createElementBlock("div",_hoisted_1$K,[renderSlot(e.$slots,"home-hero-before",{},void 0,!0),createVNode(_sfc_main$Y,null,{"home-hero-info":withCtx((()=>[renderSlot(e.$slots,"home-hero-info",{},void 0,!0)])),"home-hero-image":withCtx((()=>[renderSlot(e.$slots,"home-hero-image",{},void 0,!0)])),_:3}),renderSlot(e.$slots,"home-hero-after",{},void 0,!0),renderSlot(e.$slots,"home-features-before",{},void 0,!0),createVNode(_sfc_main$U),renderSlot(e.$slots,"home-features-after",{},void 0,!0),createVNode(n)])}}),VPHome=_export_sfc$1(_sfc_main$T,[["__scopeId","data-v-f71327a0"]]),_sfc_main$S={},_hoisted_1$J={class:"VPPage"};function _sfc_render$9(e,t){const n=resolveComponent("Content");return openBlock(),createElementBlock("div",_hoisted_1$J,[renderSlot(e.$slots,"page-top"),createVNode(n),renderSlot(e.$slots,"page-bottom")])}const VPPage=_export_sfc$1(_sfc_main$S,[["render",_sfc_render$9]]),_sfc_main$R=defineComponent({__name:"VPContent",setup(e){const{page:t,frontmatter:n}=useData(),{hasSidebar:r}=useSidebar();return(e,o)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["VPContent",{"has-sidebar":unref(r),"is-home":"home"===unref(n).layout}]),id:"VPContent"},[unref(t).isNotFound?renderSlot(e.$slots,"not-found",{key:0},(()=>[createVNode(NotFound)]),!0):"page"===unref(n).layout?(openBlock(),createBlock(VPPage,{key:1},{"page-top":withCtx((()=>[renderSlot(e.$slots,"page-top",{},void 0,!0)])),"page-bottom":withCtx((()=>[renderSlot(e.$slots,"page-bottom",{},void 0,!0)])),_:3})):"home"===unref(n).layout?(openBlock(),createBlock(VPHome,{key:2},{"home-hero-before":withCtx((()=>[renderSlot(e.$slots,"home-hero-before",{},void 0,!0)])),"home-hero-info":withCtx((()=>[renderSlot(e.$slots,"home-hero-info",{},void 0,!0)])),"home-hero-image":withCtx((()=>[renderSlot(e.$slots,"home-hero-image",{},void 0,!0)])),"home-hero-after":withCtx((()=>[renderSlot(e.$slots,"home-hero-after",{},void 0,!0)])),"home-features-before":withCtx((()=>[renderSlot(e.$slots,"home-features-before",{},void 0,!0)])),"home-features-after":withCtx((()=>[renderSlot(e.$slots,"home-features-after",{},void 0,!0)])),_:3})):unref(n).layout&&"doc"!==unref(n).layout?(openBlock(),createBlock(resolveDynamicComponent(unref(n).layout),{key:3})):(openBlock(),createBlock(VPDoc,{key:4},{"doc-top":withCtx((()=>[renderSlot(e.$slots,"doc-top",{},void 0,!0)])),"doc-bottom":withCtx((()=>[renderSlot(e.$slots,"doc-bottom",{},void 0,!0)])),"doc-footer-before":withCtx((()=>[renderSlot(e.$slots,"doc-footer-before",{},void 0,!0)])),"doc-before":withCtx((()=>[renderSlot(e.$slots,"doc-before",{},void 0,!0)])),"doc-after":withCtx((()=>[renderSlot(e.$slots,"doc-after",{},void 0,!0)])),"aside-top":withCtx((()=>[renderSlot(e.$slots,"aside-top",{},void 0,!0)])),"aside-outline-before":withCtx((()=>[renderSlot(e.$slots,"aside-outline-before",{},void 0,!0)])),"aside-outline-after":withCtx((()=>[renderSlot(e.$slots,"aside-outline-after",{},void 0,!0)])),"aside-ads-before":withCtx((()=>[renderSlot(e.$slots,"aside-ads-before",{},void 0,!0)])),"aside-ads-after":withCtx((()=>[renderSlot(e.$slots,"aside-ads-after",{},void 0,!0)])),"aside-bottom":withCtx((()=>[renderSlot(e.$slots,"aside-bottom",{},void 0,!0)])),_:3}))],2))}}),VPContent=_export_sfc$1(_sfc_main$R,[["__scopeId","data-v-fe22942e"]]),_hoisted_1$I={class:"container"},_hoisted_2$t=["innerHTML"],_hoisted_3$l=["innerHTML"],_sfc_main$Q=defineComponent({__name:"VPFooter",setup(e){const{theme:t,frontmatter:n}=useData(),{hasSidebar:r}=useSidebar();return(e,o)=>unref(t).footer&&!1!==unref(n).footer?(openBlock(),createElementBlock("footer",{key:0,class:normalizeClass(["VPFooter",{"has-sidebar":unref(r)}])},[createBaseVNode("div",_hoisted_1$I,[unref(t).footer.message?(openBlock(),createElementBlock("p",{key:0,class:"message",innerHTML:unref(t).footer.message},null,8,_hoisted_2$t)):createCommentVNode("",!0),unref(t).footer.copyright?(openBlock(),createElementBlock("p",{key:1,class:"copyright",innerHTML:unref(t).footer.copyright},null,8,_hoisted_3$l)):createCommentVNode("",!0)])],2)):createCommentVNode("",!0)}}),VPFooter=_export_sfc$1(_sfc_main$Q,[["__scopeId","data-v-303c742b"]]);function useLocalNav(){const{theme:e,frontmatter:t}=useData(),n=shallowRef([]),r=computed((()=>n.value.length>0));return onContentUpdated((()=>{n.value=getHeaders(t.value.outline??e.value.outline)})),{headers:n,hasLocalNav:r}}const _sfc_main$P={},_hoisted_1$H={xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",viewBox:"0 0 24 24"},_hoisted_2$s=createBaseVNode("path",{d:"M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"},null,-1),_hoisted_3$k=[_hoisted_2$s];function _sfc_render$8(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$H,_hoisted_3$k)}const VPIconChevronRight=_export_sfc$1(_sfc_main$P,[["render",_sfc_render$8]]),_hoisted_1$G={class:"header"},_hoisted_2$r={class:"outline"},_sfc_main$O=defineComponent({__name:"VPLocalNavOutlineDropdown",props:{headers:{},navHeight:{}},setup(e){const t=e,{theme:n}=useData(),r=ref(!1),o=ref(0),i=ref(),a=ref();function s(){r.value=!r.value,o.value=window.innerHeight+Math.min(window.scrollY-t.navHeight,0)}function l(e){e.target.classList.contains("outline-link")&&(a.value&&(a.value.style.transition="none"),nextTick((()=>{r.value=!1})))}function u(){r.value=!1,window.scrollTo({top:0,left:0,behavior:"smooth"})}return onClickOutside(i,(()=>{r.value=!1})),onKeyStroke("Escape",(()=>{r.value=!1})),onContentUpdated((()=>{r.value=!1})),(e,t)=>(openBlock(),createElementBlock("div",{class:"VPLocalNavOutlineDropdown",style:normalizeStyle({"--vp-vh":o.value+"px"}),ref_key:"main",ref:i},[e.headers.length>0?(openBlock(),createElementBlock("button",{key:0,onClick:s,class:normalizeClass({open:r.value})},[createTextVNode(toDisplayString(unref(resolveTitle)(unref(n)))+" ",1),createVNode(VPIconChevronRight,{class:"icon"})],2)):(openBlock(),createElementBlock("button",{key:1,onClick:u},toDisplayString(unref(n).returnToTopLabel||"Return to top"),1)),createVNode(Transition,{name:"flyout"},{default:withCtx((()=>[r.value?(openBlock(),createElementBlock("div",{key:0,ref_key:"items",ref:a,class:"items",onClick:l},[createBaseVNode("div",_hoisted_1$G,[createBaseVNode("a",{class:"top-link",href:"#",onClick:u},toDisplayString(unref(n).returnToTopLabel||"Return to top"),1)]),createBaseVNode("div",_hoisted_2$r,[createVNode(VPDocOutlineItem,{headers:e.headers},null,8,["headers"])])],512)):createCommentVNode("",!0)])),_:1})],4))}}),VPLocalNavOutlineDropdown=_export_sfc$1(_sfc_main$O,[["__scopeId","data-v-d5a45367"]]),_sfc_main$N={},_hoisted_1$F={xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",viewBox:"0 0 24 24"},_hoisted_2$q=createBaseVNode("path",{d:"M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"},null,-1),_hoisted_3$j=createBaseVNode("path",{d:"M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"},null,-1),_hoisted_4$9=createBaseVNode("path",{d:"M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"},null,-1),_hoisted_5$5=createBaseVNode("path",{d:"M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"},null,-1),_hoisted_6$3=[_hoisted_2$q,_hoisted_3$j,_hoisted_4$9,_hoisted_5$5];function _sfc_render$7(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$F,_hoisted_6$3)}const VPIconAlignLeft=_export_sfc$1(_sfc_main$N,[["render",_sfc_render$7]]),_hoisted_1$E={class:"container"},_hoisted_2$p=["aria-expanded"],_hoisted_3$i={class:"menu-text"},_sfc_main$M=defineComponent({__name:"VPLocalNav",props:{open:{type:Boolean}},emits:["open-menu"],setup(e){const{theme:t,frontmatter:n}=useData(),{hasSidebar:r}=useSidebar(),{headers:o}=useLocalNav(),{y:i}=useWindowScroll(),a=ref(0);onMounted((()=>{a.value=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--vp-nav-height"))})),onContentUpdated((()=>{o.value=getHeaders(n.value.outline??t.value.outline)}));const s=computed((()=>0===o.value.length)),l=computed((()=>s.value&&!r.value)),u=computed((()=>({VPLocalNav:!0,"has-sidebar":r.value,empty:s.value,fixed:l.value})));return(e,s)=>"home"!==unref(n).layout&&(!l.value||unref(i)>=a.value)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(u.value)},[createBaseVNode("div",_hoisted_1$E,[unref(r)?(openBlock(),createElementBlock("button",{key:0,class:"menu","aria-expanded":e.open,"aria-controls":"VPSidebarNav",onClick:s[0]||(s[0]=t=>e.$emit("open-menu"))},[createVNode(VPIconAlignLeft,{class:"menu-icon"}),createBaseVNode("span",_hoisted_3$i,toDisplayString(unref(t).sidebarMenuLabel||"Menu"),1)],8,_hoisted_2$p)):createCommentVNode("",!0),createVNode(VPLocalNavOutlineDropdown,{headers:unref(o),navHeight:a.value},null,8,["headers","navHeight"])])],2)):createCommentVNode("",!0)}}),VPLocalNav=_export_sfc$1(_sfc_main$M,[["__scopeId","data-v-41369dea"]]);function useNav(){const e=ref(!1);function t(){e.value=!0,window.addEventListener("resize",r)}function n(){e.value=!1,window.removeEventListener("resize",r)}function r(){window.outerWidth>=768&&n()}const o=useRoute();return watch((()=>o.path),n),{isScreenOpen:e,openScreen:t,closeScreen:n,toggleScreen:function(){e.value?n():t()}}}const _sfc_main$L={},_hoisted_1$D={class:"VPSwitch",type:"button",role:"switch"},_hoisted_2$o={class:"check"},_hoisted_3$h={key:0,class:"icon"};function _sfc_render$6(e,t){return openBlock(),createElementBlock("button",_hoisted_1$D,[createBaseVNode("span",_hoisted_2$o,[e.$slots.default?(openBlock(),createElementBlock("span",_hoisted_3$h,[renderSlot(e.$slots,"default",{},void 0,!0)])):createCommentVNode("",!0)])])}const VPSwitch=_export_sfc$1(_sfc_main$L,[["render",_sfc_render$6],["__scopeId","data-v-8b990fea"]]),_sfc_main$K={},_hoisted_1$C={xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",viewBox:"0 0 24 24"},_hoisted_2$n=createBaseVNode("path",{d:"M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"},null,-1),_hoisted_3$g=[_hoisted_2$n];function _sfc_render$5(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$C,_hoisted_3$g)}const VPIconMoon=_export_sfc$1(_sfc_main$K,[["render",_sfc_render$5]]),_sfc_main$J={},_hoisted_1$B={xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",viewBox:"0 0 24 24"},_hoisted_2$m=createStaticVNode('<path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path>',9),_hoisted_11$1=[_hoisted_2$m];function _sfc_render$4(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$B,_hoisted_11$1)}const VPIconSun=_export_sfc$1(_sfc_main$J,[["render",_sfc_render$4]]),_sfc_main$I=defineComponent({__name:"VPSwitchAppearance",setup(e){const{isDark:t,theme:n}=useData(),r=inject("toggle-appearance",(()=>{t.value=!t.value})),o=computed((()=>t.value?n.value.lightModeSwitchTitle||"Switch to light theme":n.value.darkModeSwitchTitle||"Switch to dark theme"));return(e,n)=>(openBlock(),createBlock(VPSwitch,{title:o.value,class:"VPSwitchAppearance","aria-checked":unref(t),onClick:unref(r)},{default:withCtx((()=>[createVNode(VPIconSun,{class:"sun"}),createVNode(VPIconMoon,{class:"moon"})])),_:1},8,["title","aria-checked","onClick"]))}}),VPSwitchAppearance=_export_sfc$1(_sfc_main$I,[["__scopeId","data-v-f5602eaa"]]),_hoisted_1$A={key:0,class:"VPNavBarAppearance"},_sfc_main$H=defineComponent({__name:"VPNavBarAppearance",setup(e){const{site:t}=useData();return(e,n)=>unref(t).appearance&&"force-dark"!==unref(t).appearance?(openBlock(),createElementBlock("div",_hoisted_1$A,[createVNode(VPSwitchAppearance)])):createCommentVNode("",!0)}}),VPNavBarAppearance=_export_sfc$1(_sfc_main$H,[["__scopeId","data-v-24deaa19"]]),focusedElement=ref();let active=!1,listeners=0;function useFlyout(e){const t=ref(!1);if(inBrowser){!active&&activateFocusTracking(),listeners++;const n=watch(focusedElement,(n=>{var r,o,i;n===e.el.value||(null==(r=e.el.value)?void 0:r.contains(n))?(t.value=!0,null==(o=e.onFocus)||o.call(e)):(t.value=!1,null==(i=e.onBlur)||i.call(e))}));onUnmounted((()=>{n(),listeners--,listeners||deactivateFocusTracking()}))}return readonly(t)}function activateFocusTracking(){document.addEventListener("focusin",handleFocusIn),active=!0,focusedElement.value=document.activeElement}function deactivateFocusTracking(){document.removeEventListener("focusin",handleFocusIn)}function handleFocusIn(){focusedElement.value=document.activeElement}const _sfc_main$G={},_hoisted_1$z={xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",viewBox:"0 0 24 24"},_hoisted_2$l=createBaseVNode("path",{d:"M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"},null,-1),_hoisted_3$f=[_hoisted_2$l];function _sfc_render$3(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$z,_hoisted_3$f)}const VPIconChevronDown=_export_sfc$1(_sfc_main$G,[["render",_sfc_render$3]]),_sfc_main$F={},_hoisted_1$y={xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",viewBox:"0 0 24 24"},_hoisted_2$k=createBaseVNode("circle",{cx:"12",cy:"12",r:"2"},null,-1),_hoisted_3$e=createBaseVNode("circle",{cx:"19",cy:"12",r:"2"},null,-1),_hoisted_4$8=createBaseVNode("circle",{cx:"5",cy:"12",r:"2"},null,-1),_hoisted_5$4=[_hoisted_2$k,_hoisted_3$e,_hoisted_4$8];function _sfc_render$2(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$y,_hoisted_5$4)}const VPIconMoreHorizontal=_export_sfc$1(_sfc_main$F,[["render",_sfc_render$2]]),_hoisted_1$x={class:"VPMenuLink"},_sfc_main$E=defineComponent({__name:"VPMenuLink",props:{item:{}},setup(e){const{page:t}=useData();return(e,n)=>(openBlock(),createElementBlock("div",_hoisted_1$x,[createVNode(_sfc_main$13,{class:normalizeClass({active:unref(isActive)(unref(t).relativePath,e.item.activeMatch||e.item.link,!!e.item.activeMatch)}),href:e.item.link,target:e.item.target,rel:e.item.rel},{default:withCtx((()=>[createTextVNode(toDisplayString(e.item.text),1)])),_:1},8,["class","href","target","rel"])]))}}),VPMenuLink=_export_sfc$1(_sfc_main$E,[["__scopeId","data-v-57ac0153"]]),_hoisted_1$w={class:"VPMenuGroup"},_hoisted_2$j={key:0,class:"title"},_sfc_main$D=defineComponent({__name:"VPMenuGroup",props:{text:{},items:{}},setup:e=>(e,t)=>(openBlock(),createElementBlock("div",_hoisted_1$w,[e.text?(openBlock(),createElementBlock("p",_hoisted_2$j,toDisplayString(e.text),1)):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.items,(e=>(openBlock(),createElementBlock(Fragment,null,["link"in e?(openBlock(),createBlock(VPMenuLink,{key:0,item:e},null,8,["item"])):createCommentVNode("",!0)],64)))),256))]))}),VPMenuGroup=_export_sfc$1(_sfc_main$D,[["__scopeId","data-v-6578476d"]]),_hoisted_1$v={class:"VPMenu"},_hoisted_2$i={key:0,class:"items"},_sfc_main$C=defineComponent({__name:"VPMenu",props:{items:{}},setup:e=>(e,t)=>(openBlock(),createElementBlock("div",_hoisted_1$v,[e.items?(openBlock(),createElementBlock("div",_hoisted_2$i,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.items,(e=>(openBlock(),createElementBlock(Fragment,{key:e.text},["link"in e?(openBlock(),createBlock(VPMenuLink,{key:0,item:e},null,8,["item"])):(openBlock(),createBlock(VPMenuGroup,{key:1,text:e.text,items:e.items},null,8,["text","items"]))],64)))),128))])):createCommentVNode("",!0),renderSlot(e.$slots,"default",{},void 0,!0)]))}),VPMenu=_export_sfc$1(_sfc_main$C,[["__scopeId","data-v-c225c56a"]]),_hoisted_1$u=["aria-expanded","aria-label"],_hoisted_2$h={key:0,class:"text"},_hoisted_3$d=["innerHTML"],_hoisted_4$7={class:"menu"},_sfc_main$B=defineComponent({__name:"VPFlyout",props:{icon:{},button:{},label:{},items:{}},setup(e){const t=ref(!1),n=ref();return useFlyout({el:n,onBlur:function(){t.value=!1}}),(e,r)=>(openBlock(),createElementBlock("div",{class:"VPFlyout",ref_key:"el",ref:n,onMouseenter:r[1]||(r[1]=e=>t.value=!0),onMouseleave:r[2]||(r[2]=e=>t.value=!1)},[createBaseVNode("button",{type:"button",class:"button","aria-haspopup":"true","aria-expanded":t.value,"aria-label":e.label,onClick:r[0]||(r[0]=e=>t.value=!t.value)},[e.button||e.icon?(openBlock(),createElementBlock("span",_hoisted_2$h,[e.icon?(openBlock(),createBlock(resolveDynamicComponent(e.icon),{key:0,class:"option-icon"})):createCommentVNode("",!0),e.button?(openBlock(),createElementBlock("span",{key:1,innerHTML:e.button},null,8,_hoisted_3$d)):createCommentVNode("",!0),createVNode(VPIconChevronDown,{class:"text-icon"})])):(openBlock(),createBlock(VPIconMoreHorizontal,{key:1,class:"icon"}))],8,_hoisted_1$u),createBaseVNode("div",_hoisted_4$7,[createVNode(VPMenu,{items:e.items},{default:withCtx((()=>[renderSlot(e.$slots,"default",{},void 0,!0)])),_:3},8,["items"])])],544))}}),VPFlyout=_export_sfc$1(_sfc_main$B,[["__scopeId","data-v-da543f43"]]),icons={discord:'<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Discord</title><path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"/></svg>',facebook:'<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Facebook</title><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>',github:'<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>',instagram:'<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Instagram</title><path d="M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z"/></svg>',linkedin:'<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>',mastodon:'<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Mastodon</title><path d="M23.268 5.313c-.35-2.578-2.617-4.61-5.304-5.004C17.51.242 15.792 0 11.813 0h-.03c-3.98 0-4.835.242-5.288.309C3.882.692 1.496 2.518.917 5.127.64 6.412.61 7.837.661 9.143c.074 1.874.088 3.745.26 5.611.118 1.24.325 2.47.62 3.68.55 2.237 2.777 4.098 4.96 4.857 2.336.792 4.849.923 7.256.38.265-.061.527-.132.786-.213.585-.184 1.27-.39 1.774-.753a.057.057 0 0 0 .023-.043v-1.809a.052.052 0 0 0-.02-.041.053.053 0 0 0-.046-.01 20.282 20.282 0 0 1-4.709.545c-2.73 0-3.463-1.284-3.674-1.818a5.593 5.593 0 0 1-.319-1.433.053.053 0 0 1 .066-.054c1.517.363 3.072.546 4.632.546.376 0 .75 0 1.125-.01 1.57-.044 3.224-.124 4.768-.422.038-.008.077-.015.11-.024 2.435-.464 4.753-1.92 4.989-5.604.008-.145.03-1.52.03-1.67.002-.512.167-3.63-.024-5.545zm-3.748 9.195h-2.561V8.29c0-1.309-.55-1.976-1.67-1.976-1.23 0-1.846.79-1.846 2.35v3.403h-2.546V8.663c0-1.56-.617-2.35-1.848-2.35-1.112 0-1.668.668-1.67 1.977v6.218H4.822V8.102c0-1.31.337-2.35 1.011-3.12.696-.77 1.608-1.164 2.74-1.164 1.311 0 2.302.5 2.962 1.498l.638 1.06.638-1.06c.66-.999 1.65-1.498 2.96-1.498 1.13 0 2.043.395 2.74 1.164.675.77 1.012 1.81 1.012 3.12z"/></svg>',slack:'<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Slack</title><path d="M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"/></svg>',twitter:'<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Twitter</title><path d="M21.543 7.104c.015.211.015.423.015.636 0 6.507-4.954 14.01-14.01 14.01v-.003A13.94 13.94 0 0 1 0 19.539a9.88 9.88 0 0 0 7.287-2.041 4.93 4.93 0 0 1-4.6-3.42 4.916 4.916 0 0 0 2.223-.084A4.926 4.926 0 0 1 .96 9.167v-.062a4.887 4.887 0 0 0 2.235.616A4.928 4.928 0 0 1 1.67 3.148 13.98 13.98 0 0 0 11.82 8.292a4.929 4.929 0 0 1 8.39-4.49 9.868 9.868 0 0 0 3.128-1.196 4.941 4.941 0 0 1-2.165 2.724A9.828 9.828 0 0 0 24 4.555a10.019 10.019 0 0 1-2.457 2.549z"/></svg>',x:'<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>X</title><path d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"/></svg>',youtube:'<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>YouTube</title><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>'},_hoisted_1$t=["href","aria-label","innerHTML"],_sfc_main$A=defineComponent({__name:"VPSocialLink",props:{icon:{},link:{},ariaLabel:{}},setup(e){const t=e,n=computed((()=>"object"==typeof t.icon?t.icon.svg:icons[t.icon]));return(e,t)=>(openBlock(),createElementBlock("a",{class:"VPSocialLink no-icon",href:e.link,"aria-label":e.ariaLabel??("string"==typeof e.icon?e.icon:""),target:"_blank",rel:"noopener",innerHTML:n.value},null,8,_hoisted_1$t))}}),VPSocialLink=_export_sfc$1(_sfc_main$A,[["__scopeId","data-v-e8cd1ad0"]]),_hoisted_1$s={class:"VPSocialLinks"},_sfc_main$z=defineComponent({__name:"VPSocialLinks",props:{links:{}},setup:e=>(e,t)=>(openBlock(),createElementBlock("div",_hoisted_1$s,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.links,(({link:e,icon:t,ariaLabel:n})=>(openBlock(),createBlock(VPSocialLink,{key:e,icon:t,link:e,ariaLabel:n},null,8,["icon","link","ariaLabel"])))),128))]))}),VPSocialLinks=_export_sfc$1(_sfc_main$z,[["__scopeId","data-v-a8935339"]]),_hoisted_1$r={key:0,class:"group translations"},_hoisted_2$g={class:"trans-title"},_hoisted_3$c={key:1,class:"group"},_hoisted_4$6={class:"item appearance"},_hoisted_5$3={class:"label"},_hoisted_6$2={class:"appearance-action"},_hoisted_7$1={key:2,class:"group"},_hoisted_8$1={class:"item social-links"},_sfc_main$y=defineComponent({__name:"VPNavBarExtra",setup(e){const{site:t,theme:n}=useData(),{localeLinks:r,currentLang:o}=useLangs({correspondingLink:!0}),i=computed((()=>r.value.length&&o.value.label||t.value.appearance||n.value.socialLinks));return(e,a)=>i.value?(openBlock(),createBlock(VPFlyout,{key:0,class:"VPNavBarExtra",label:"extra navigation"},{default:withCtx((()=>[unref(r).length&&unref(o).label?(openBlock(),createElementBlock("div",_hoisted_1$r,[createBaseVNode("p",_hoisted_2$g,toDisplayString(unref(o).label),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(r),(e=>(openBlock(),createBlock(VPMenuLink,{key:e.link,item:e},null,8,["item"])))),128))])):createCommentVNode("",!0),unref(t).appearance&&"force-dark"!==unref(t).appearance?(openBlock(),createElementBlock("div",_hoisted_3$c,[createBaseVNode("div",_hoisted_4$6,[createBaseVNode("p",_hoisted_5$3,toDisplayString(unref(n).darkModeSwitchLabel||"Appearance"),1),createBaseVNode("div",_hoisted_6$2,[createVNode(VPSwitchAppearance)])])])):createCommentVNode("",!0),unref(n).socialLinks?(openBlock(),createElementBlock("div",_hoisted_7$1,[createBaseVNode("div",_hoisted_8$1,[createVNode(VPSocialLinks,{class:"social-links-list",links:unref(n).socialLinks},null,8,["links"])])])):createCommentVNode("",!0)])),_:1})):createCommentVNode("",!0)}}),VPNavBarExtra=_export_sfc$1(_sfc_main$y,[["__scopeId","data-v-38076fb0"]]),_withScopeId$6=e=>(pushScopeId("data-v-bea4b48f"),e=e(),popScopeId(),e),_hoisted_1$q=["aria-expanded"],_hoisted_2$f=_withScopeId$6((()=>createBaseVNode("span",{class:"container"},[createBaseVNode("span",{class:"top"}),createBaseVNode("span",{class:"middle"}),createBaseVNode("span",{class:"bottom"})],-1))),_hoisted_3$b=[_hoisted_2$f],_sfc_main$x=defineComponent({__name:"VPNavBarHamburger",props:{active:{type:Boolean}},emits:["click"],setup:e=>(e,t)=>(openBlock(),createElementBlock("button",{type:"button",class:normalizeClass(["VPNavBarHamburger",{active:e.active}]),"aria-label":"mobile navigation","aria-expanded":e.active,"aria-controls":"VPNavScreen",onClick:t[0]||(t[0]=t=>e.$emit("click"))},_hoisted_3$b,10,_hoisted_1$q))}),VPNavBarHamburger=_export_sfc$1(_sfc_main$x,[["__scopeId","data-v-bea4b48f"]]),_hoisted_1$p=["innerHTML"],_sfc_main$w=defineComponent({__name:"VPNavBarMenuLink",props:{item:{}},setup(e){const{page:t}=useData();return(e,n)=>(openBlock(),createBlock(_sfc_main$13,{class:normalizeClass({VPNavBarMenuLink:!0,active:unref(isActive)(unref(t).relativePath,e.item.activeMatch||e.item.link,!!e.item.activeMatch)}),href:e.item.link,target:e.item.target,rel:e.item.rel,tabindex:"0"},{default:withCtx((()=>[createBaseVNode("span",{innerHTML:e.item.text},null,8,_hoisted_1$p)])),_:1},8,["class","href","target","rel"]))}}),VPNavBarMenuLink=_export_sfc$1(_sfc_main$w,[["__scopeId","data-v-c01a150a"]]),_sfc_main$v=defineComponent({__name:"VPNavBarMenuGroup",props:{item:{}},setup(e){const t=e,{page:n}=useData(),r=e=>"link"in e?isActive(n.value.relativePath,e.link,!!t.item.activeMatch):e.items.some(r),o=computed((()=>r(t.item)));return(e,t)=>(openBlock(),createBlock(VPFlyout,{class:normalizeClass({VPNavBarMenuGroup:!0,active:unref(isActive)(unref(n).relativePath,e.item.activeMatch,!!e.item.activeMatch)||o.value}),button:e.item.text,items:e.item.items},null,8,["class","button","items"]))}}),_withScopeId$5=e=>(pushScopeId("data-v-c28b68c3"),e=e(),popScopeId(),e),_hoisted_1$o={key:0,"aria-labelledby":"main-nav-aria-label",class:"VPNavBarMenu"},_hoisted_2$e=_withScopeId$5((()=>createBaseVNode("span",{id:"main-nav-aria-label",class:"visually-hidden"},"Main Navigation",-1))),_sfc_main$u=defineComponent({__name:"VPNavBarMenu",setup(e){const{theme:t}=useData();return(e,n)=>unref(t).nav?(openBlock(),createElementBlock("nav",_hoisted_1$o,[_hoisted_2$e,(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(t).nav,(e=>(openBlock(),createElementBlock(Fragment,{key:e.text},["link"in e?(openBlock(),createBlock(VPNavBarMenuLink,{key:0,item:e},null,8,["item"])):(openBlock(),createBlock(_sfc_main$v,{key:1,item:e},null,8,["item"]))],64)))),128))])):createCommentVNode("",!0)}}),VPNavBarMenu=_export_sfc$1(_sfc_main$u,[["__scopeId","data-v-c28b68c3"]]);function createSearchTranslate(e){const{localeIndex:t,theme:n}=useData();return function(r){var o,i,a;const s=r.split("."),l=null==(o=n.value.search)?void 0:o.options,u=l&&"object"==typeof l;let c=u&&(null==(a=null==(i=l.locales)?void 0:i[t.value])?void 0:a.translations)||null,d=u&&l.translations||null,h=e;const p=s.pop();for(const e of s){let t=null;const n=null==h?void 0:h[e];n&&(t=h=n);const r=null==d?void 0:d[e];r&&(t=d=r);const o=null==c?void 0:c[e];o&&(t=c=o),n||(h=t),r||(d=t),o||(c=t)}return(null==c?void 0:c[p])??(null==d?void 0:d[p])??(null==h?void 0:h[p])??""}}const _hoisted_1$n=["aria-label"],_hoisted_2$d={class:"DocSearch-Button-Container"},_hoisted_3$a=createBaseVNode("svg",{class:"DocSearch-Search-Icon",width:"20",height:"20",viewBox:"0 0 20 20","aria-label":"search icon"},[createBaseVNode("path",{d:"M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z",stroke:"currentColor",fill:"none","fill-rule":"evenodd","stroke-linecap":"round","stroke-linejoin":"round"})],-1),_hoisted_4$5={class:"DocSearch-Button-Placeholder"},_hoisted_5$2=createBaseVNode("span",{class:"DocSearch-Button-Keys"},[createBaseVNode("kbd",{class:"DocSearch-Button-Key"}),createBaseVNode("kbd",{class:"DocSearch-Button-Key"},"K")],-1),_sfc_main$t=defineComponent({__name:"VPNavBarSearchButton",setup(e){const t=createSearchTranslate({button:{buttonText:"Search",buttonAriaLabel:"Search"}});return(e,n)=>(openBlock(),createElementBlock("button",{type:"button",class:"DocSearch DocSearch-Button","aria-label":unref(t)("button.buttonAriaLabel")},[createBaseVNode("span",_hoisted_2$d,[_hoisted_3$a,createBaseVNode("span",_hoisted_4$5,toDisplayString(unref(t)("button.buttonText")),1)]),_hoisted_5$2],8,_hoisted_1$n))}}),_hoisted_1$m={class:"VPNavBarSearch"},_hoisted_2$c={id:"local-search"},_hoisted_3$9={key:1,id:"docsearch"},_sfc_main$s=defineComponent({__name:"VPNavBarSearch",setup(e){const t=defineAsyncComponent((()=>__vitePreload((()=>Promise.resolve().then((()=>VPLocalSearchBox$1))),void 0))),n=()=>null,{theme:r}=useData(),o=ref(!1),i=ref(!1);function a(){o.value||(o.value=!0,setTimeout(s,16))}function s(){const e=new Event("keydown");e.key="k",e.metaKey=!0,window.dispatchEvent(e),setTimeout((()=>{document.querySelector(".DocSearch-Modal")||s()}),16)}onMounted((()=>{}));const l=ref(!1);onKeyStroke("k",(e=>{(e.ctrlKey||e.metaKey)&&(e.preventDefault(),l.value=!0)})),onKeyStroke("/",(e=>{(function(e){const t=e.target,n=t.tagName;return t.isContentEditable||"INPUT"===n||"SELECT"===n||"TEXTAREA"===n})(e)||(e.preventDefault(),l.value=!0)}));const u="local";return(e,s)=>{var c;return openBlock(),createElementBlock("div",_hoisted_1$m,["local"===unref(u)?(openBlock(),createElementBlock(Fragment,{key:0},[l.value?(openBlock(),createBlock(unref(t),{key:0,onClose:s[0]||(s[0]=e=>l.value=!1)})):createCommentVNode("",!0),createBaseVNode("div",_hoisted_2$c,[createVNode(_sfc_main$t,{onClick:s[1]||(s[1]=e=>l.value=!0)})])],64)):"algolia"===unref(u)?(openBlock(),createElementBlock(Fragment,{key:1},[o.value?(openBlock(),createBlock(unref(n),{key:0,algolia:(null==(c=unref(r).search)?void 0:c.options)??unref(r).algolia,onVnodeBeforeMount:s[2]||(s[2]=e=>i.value=!0)},null,8,["algolia"])):createCommentVNode("",!0),i.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_3$9,[createVNode(_sfc_main$t,{onClick:a})]))],64)):createCommentVNode("",!0)])}}}),_sfc_main$r=defineComponent({__name:"VPNavBarSocialLinks",setup(e){const{theme:t}=useData();return(e,n)=>unref(t).socialLinks?(openBlock(),createBlock(VPSocialLinks,{key:0,class:"VPNavBarSocialLinks",links:unref(t).socialLinks},null,8,["links"])):createCommentVNode("",!0)}}),VPNavBarSocialLinks=_export_sfc$1(_sfc_main$r,[["__scopeId","data-v-b512c1dc"]]),_hoisted_1$l=["href","rel","target"],_sfc_main$q=defineComponent({__name:"VPNavBarTitle",setup(e){const{site:t,theme:n}=useData(),{hasSidebar:r}=useSidebar(),{currentLang:o}=useLangs(),i=computed((()=>{var e;return"string"==typeof n.value.logoLink?n.value.logoLink:null==(e=n.value.logoLink)?void 0:e.link})),a=computed((()=>{var e;return"string"==typeof n.value.logoLink||null==(e=n.value.logoLink)?void 0:e.rel})),s=computed((()=>{var e;return"string"==typeof n.value.logoLink||null==(e=n.value.logoLink)?void 0:e.target}));return(e,l)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["VPNavBarTitle",{"has-sidebar":unref(r)}])},[createBaseVNode("a",{class:"title",href:i.value??unref(normalizeLink$1)(unref(o).link),rel:a.value,target:s.value},[renderSlot(e.$slots,"nav-bar-title-before",{},void 0,!0),unref(n).logo?(openBlock(),createBlock(VPImage,{key:0,class:"logo",image:unref(n).logo},null,8,["image"])):createCommentVNode("",!0),unref(n).siteTitle?(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(unref(n).siteTitle),1)],64)):void 0===unref(n).siteTitle?(openBlock(),createElementBlock(Fragment,{key:2},[createTextVNode(toDisplayString(unref(t).title),1)],64)):createCommentVNode("",!0),renderSlot(e.$slots,"nav-bar-title-after",{},void 0,!0)],8,_hoisted_1$l)],2))}}),VPNavBarTitle=_export_sfc$1(_sfc_main$q,[["__scopeId","data-v-d0b47708"]]),_sfc_main$p={},_hoisted_1$k={xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",viewBox:"0 0 24 24"},_hoisted_2$b=createBaseVNode("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),_hoisted_3$8=createBaseVNode("path",{d:" M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z ",class:"css-c4d79v"},null,-1),_hoisted_4$4=[_hoisted_2$b,_hoisted_3$8];function _sfc_render$1(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$k,_hoisted_4$4)}const VPIconLanguages=_export_sfc$1(_sfc_main$p,[["render",_sfc_render$1]]),_hoisted_1$j={class:"items"},_hoisted_2$a={class:"title"},_sfc_main$o=defineComponent({__name:"VPNavBarTranslations",setup(e){const{theme:t}=useData(),{localeLinks:n,currentLang:r}=useLangs({correspondingLink:!0});return(e,o)=>unref(n).length&&unref(r).label?(openBlock(),createBlock(VPFlyout,{key:0,class:"VPNavBarTranslations",icon:VPIconLanguages,label:unref(t).langMenuLabel||"Change language"},{default:withCtx((()=>[createBaseVNode("div",_hoisted_1$j,[createBaseVNode("p",_hoisted_2$a,toDisplayString(unref(r).label),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(n),(e=>(openBlock(),createBlock(VPMenuLink,{key:e.link,item:e},null,8,["item"])))),128))])])),_:1},8,["label"])):createCommentVNode("",!0)}}),VPNavBarTranslations=_export_sfc$1(_sfc_main$o,[["__scopeId","data-v-9bd00c36"]]),_withScopeId$4=e=>(pushScopeId("data-v-f7116f66"),e=e(),popScopeId(),e),_hoisted_1$i={class:"wrapper"},_hoisted_2$9={class:"container"},_hoisted_3$7={class:"title"},_hoisted_4$3={class:"content"},_hoisted_5$1={class:"content-body"},_hoisted_6$1=_withScopeId$4((()=>createBaseVNode("div",{class:"divider"},[createBaseVNode("div",{class:"divider-line"})],-1))),_sfc_main$n=defineComponent({__name:"VPNavBar",props:{isScreenOpen:{type:Boolean}},emits:["toggle-screen"],setup(e){const{y:t}=useWindowScroll(),{hasSidebar:n}=useSidebar(),{hasLocalNav:r}=useLocalNav(),{frontmatter:o}=useData(),i=ref({});return watchPostEffect((()=>{i.value={"has-sidebar":n.value,"has-local-nav":r.value,top:"home"===o.value.layout&&0===t.value}})),(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["VPNavBar",i.value])},[createBaseVNode("div",_hoisted_1$i,[createBaseVNode("div",_hoisted_2$9,[createBaseVNode("div",_hoisted_3$7,[createVNode(VPNavBarTitle,null,{"nav-bar-title-before":withCtx((()=>[renderSlot(e.$slots,"nav-bar-title-before",{},void 0,!0)])),"nav-bar-title-after":withCtx((()=>[renderSlot(e.$slots,"nav-bar-title-after",{},void 0,!0)])),_:3})]),createBaseVNode("div",_hoisted_4$3,[createBaseVNode("div",_hoisted_5$1,[renderSlot(e.$slots,"nav-bar-content-before",{},void 0,!0),createVNode(_sfc_main$s,{class:"search"}),createVNode(VPNavBarMenu,{class:"menu"}),createVNode(VPNavBarTranslations,{class:"translations"}),createVNode(VPNavBarAppearance,{class:"appearance"}),createVNode(VPNavBarSocialLinks,{class:"social-links"}),createVNode(VPNavBarExtra,{class:"extra"}),renderSlot(e.$slots,"nav-bar-content-after",{},void 0,!0),createVNode(VPNavBarHamburger,{class:"hamburger",active:e.isScreenOpen,onClick:t[0]||(t[0]=t=>e.$emit("toggle-screen"))},null,8,["active"])])])])]),_hoisted_6$1],2))}}),VPNavBar=_export_sfc$1(_sfc_main$n,[["__scopeId","data-v-f7116f66"]]),_hoisted_1$h={key:0,class:"VPNavScreenAppearance"},_hoisted_2$8={class:"text"},_sfc_main$m=defineComponent({__name:"VPNavScreenAppearance",setup(e){const{site:t,theme:n}=useData();return(e,r)=>unref(t).appearance&&"force-dark"!==unref(t).appearance?(openBlock(),createElementBlock("div",_hoisted_1$h,[createBaseVNode("p",_hoisted_2$8,toDisplayString(unref(n).darkModeSwitchLabel||"Appearance"),1),createVNode(VPSwitchAppearance)])):createCommentVNode("",!0)}}),VPNavScreenAppearance=_export_sfc$1(_sfc_main$m,[["__scopeId","data-v-02d37f4d"]]),_sfc_main$l=defineComponent({__name:"VPNavScreenMenuLink",props:{item:{}},setup(e){const t=inject("close-screen");return(e,n)=>(openBlock(),createBlock(_sfc_main$13,{class:"VPNavScreenMenuLink",href:e.item.link,target:e.item.target,rel:e.item.rel,onClick:unref(t)},{default:withCtx((()=>[createTextVNode(toDisplayString(e.item.text),1)])),_:1},8,["href","target","rel","onClick"]))}}),VPNavScreenMenuLink=_export_sfc$1(_sfc_main$l,[["__scopeId","data-v-a5aa4c94"]]),_sfc_main$k={},_hoisted_1$g={xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",viewBox:"0 0 24 24"},_hoisted_2$7=createBaseVNode("path",{d:"M18.9,10.9h-6v-6c0-0.6-0.4-1-1-1s-1,0.4-1,1v6h-6c-0.6,0-1,0.4-1,1s0.4,1,1,1h6v6c0,0.6,0.4,1,1,1s1-0.4,1-1v-6h6c0.6,0,1-0.4,1-1S19.5,10.9,18.9,10.9z"},null,-1),_hoisted_3$6=[_hoisted_2$7];function _sfc_render(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$g,_hoisted_3$6)}const VPIconPlus=_export_sfc$1(_sfc_main$k,[["render",_sfc_render]]),_sfc_main$j=defineComponent({__name:"VPNavScreenMenuGroupLink",props:{item:{}},setup(e){const t=inject("close-screen");return(e,n)=>(openBlock(),createBlock(_sfc_main$13,{class:"VPNavScreenMenuGroupLink",href:e.item.link,target:e.item.target,rel:e.item.rel,onClick:unref(t)},{default:withCtx((()=>[createTextVNode(toDisplayString(e.item.text),1)])),_:1},8,["href","target","rel","onClick"]))}}),VPNavScreenMenuGroupLink=_export_sfc$1(_sfc_main$j,[["__scopeId","data-v-9109f736"]]),_hoisted_1$f={class:"VPNavScreenMenuGroupSection"},_hoisted_2$6={key:0,class:"title"},_sfc_main$i=defineComponent({__name:"VPNavScreenMenuGroupSection",props:{text:{},items:{}},setup:e=>(e,t)=>(openBlock(),createElementBlock("div",_hoisted_1$f,[e.text?(openBlock(),createElementBlock("p",_hoisted_2$6,toDisplayString(e.text),1)):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.items,(e=>(openBlock(),createBlock(VPNavScreenMenuGroupLink,{key:e.text,item:e},null,8,["item"])))),128))]))}),VPNavScreenMenuGroupSection=_export_sfc$1(_sfc_main$i,[["__scopeId","data-v-cd5d7058"]]),_hoisted_1$e=["aria-controls","aria-expanded"],_hoisted_2$5=["innerHTML"],_hoisted_3$5=["id"],_hoisted_4$2={key:1,class:"group"},_sfc_main$h=defineComponent({__name:"VPNavScreenMenuGroup",props:{text:{},items:{}},setup(e){const t=e,n=ref(!1),r=computed((()=>`NavScreenGroup-${t.text.replace(" ","-").toLowerCase()}`));function o(){n.value=!n.value}return(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["VPNavScreenMenuGroup",{open:n.value}])},[createBaseVNode("button",{class:"button","aria-controls":r.value,"aria-expanded":n.value,onClick:o},[createBaseVNode("span",{class:"button-text",innerHTML:e.text},null,8,_hoisted_2$5),createVNode(VPIconPlus,{class:"button-icon"})],8,_hoisted_1$e),createBaseVNode("div",{id:r.value,class:"items"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.items,(e=>(openBlock(),createElementBlock(Fragment,{key:e.text},["link"in e?(openBlock(),createElementBlock("div",{key:e.text,class:"item"},[createVNode(VPNavScreenMenuGroupLink,{item:e},null,8,["item"])])):(openBlock(),createElementBlock("div",_hoisted_4$2,[createVNode(VPNavScreenMenuGroupSection,{text:e.text,items:e.items},null,8,["text","items"])]))],64)))),128))],8,_hoisted_3$5)],2))}}),VPNavScreenMenuGroup=_export_sfc$1(_sfc_main$h,[["__scopeId","data-v-4e113f96"]]),_hoisted_1$d={key:0,class:"VPNavScreenMenu"},_sfc_main$g=defineComponent({__name:"VPNavScreenMenu",setup(e){const{theme:t}=useData();return(e,n)=>unref(t).nav?(openBlock(),createElementBlock("nav",_hoisted_1$d,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(t).nav,(e=>(openBlock(),createElementBlock(Fragment,{key:e.text},["link"in e?(openBlock(),createBlock(VPNavScreenMenuLink,{key:0,item:e},null,8,["item"])):(openBlock(),createBlock(VPNavScreenMenuGroup,{key:1,text:e.text||"",items:e.items},null,8,["text","items"]))],64)))),128))])):createCommentVNode("",!0)}}),_sfc_main$f=defineComponent({__name:"VPNavScreenSocialLinks",setup(e){const{theme:t}=useData();return(e,n)=>unref(t).socialLinks?(openBlock(),createBlock(VPSocialLinks,{key:0,class:"VPNavScreenSocialLinks",links:unref(t).socialLinks},null,8,["links"])):createCommentVNode("",!0)}}),_hoisted_1$c={class:"list"},_sfc_main$e=defineComponent({__name:"VPNavScreenTranslations",setup(e){const{localeLinks:t,currentLang:n}=useLangs({correspondingLink:!0}),r=ref(!1);function o(){r.value=!r.value}return(e,i)=>unref(t).length&&unref(n).label?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["VPNavScreenTranslations",{open:r.value}])},[createBaseVNode("button",{class:"title",onClick:o},[createVNode(VPIconLanguages,{class:"icon lang"}),createTextVNode(" "+toDisplayString(unref(n).label)+" ",1),createVNode(VPIconChevronDown,{class:"icon chevron"})]),createBaseVNode("ul",_hoisted_1$c,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(t),(e=>(openBlock(),createElementBlock("li",{key:e.link,class:"item"},[createVNode(_sfc_main$13,{class:"link",href:e.link},{default:withCtx((()=>[createTextVNode(toDisplayString(e.text),1)])),_:2},1032,["href"])])))),128))])],2)):createCommentVNode("",!0)}}),VPNavScreenTranslations=_export_sfc$1(_sfc_main$e,[["__scopeId","data-v-1da7d52e"]]),_hoisted_1$b={class:"container"},_sfc_main$d=defineComponent({__name:"VPNavScreen",props:{open:{type:Boolean}},setup(e){const t=ref(null),n=useScrollLock(inBrowser?document.body:null);return(e,r)=>(openBlock(),createBlock(Transition,{name:"fade",onEnter:r[0]||(r[0]=e=>n.value=!0),onAfterLeave:r[1]||(r[1]=e=>n.value=!1)},{default:withCtx((()=>[e.open?(openBlock(),createElementBlock("div",{key:0,class:"VPNavScreen",ref_key:"screen",ref:t,id:"VPNavScreen"},[createBaseVNode("div",_hoisted_1$b,[renderSlot(e.$slots,"nav-screen-content-before",{},void 0,!0),createVNode(_sfc_main$g,{class:"menu"}),createVNode(VPNavScreenTranslations,{class:"translations"}),createVNode(VPNavScreenAppearance,{class:"appearance"}),createVNode(_sfc_main$f,{class:"social-links"}),renderSlot(e.$slots,"nav-screen-content-after",{},void 0,!0)])],512)):createCommentVNode("",!0)])),_:3}))}}),VPNavScreen=_export_sfc$1(_sfc_main$d,[["__scopeId","data-v-a13b9bf8"]]),_hoisted_1$a={key:0,class:"VPNav"},_sfc_main$c=defineComponent({__name:"VPNav",setup(e){const{isScreenOpen:t,closeScreen:n,toggleScreen:r}=useNav(),{frontmatter:o}=useData(),i=computed((()=>!1!==o.value.navbar));return provide("close-screen",n),watchEffect((()=>{inBrowser&&document.documentElement.classList.toggle("hide-nav",!i.value)})),(e,n)=>i.value?(openBlock(),createElementBlock("header",_hoisted_1$a,[createVNode(VPNavBar,{"is-screen-open":unref(t),onToggleScreen:unref(r)},{"nav-bar-title-before":withCtx((()=>[renderSlot(e.$slots,"nav-bar-title-before",{},void 0,!0)])),"nav-bar-title-after":withCtx((()=>[renderSlot(e.$slots,"nav-bar-title-after",{},void 0,!0)])),"nav-bar-content-before":withCtx((()=>[renderSlot(e.$slots,"nav-bar-content-before",{},void 0,!0)])),"nav-bar-content-after":withCtx((()=>[renderSlot(e.$slots,"nav-bar-content-after",{},void 0,!0)])),_:3},8,["is-screen-open","onToggleScreen"]),createVNode(VPNavScreen,{open:unref(t)},{"nav-screen-content-before":withCtx((()=>[renderSlot(e.$slots,"nav-screen-content-before",{},void 0,!0)])),"nav-screen-content-after":withCtx((()=>[renderSlot(e.$slots,"nav-screen-content-after",{},void 0,!0)])),_:3},8,["open"])])):createCommentVNode("",!0)}}),VPNav=_export_sfc$1(_sfc_main$c,[["__scopeId","data-v-bae0e83d"]]),_withScopeId$3=e=>(pushScopeId("data-v-7fd9f383"),e=e(),popScopeId(),e),_hoisted_1$9=["role","tabindex"],_hoisted_2$4=_withScopeId$3((()=>createBaseVNode("div",{class:"indicator"},null,-1))),_hoisted_3$4={key:1,class:"items"},_sfc_main$b=defineComponent({__name:"VPSidebarItem",props:{item:{},depth:{}},setup(e){const t=e,{collapsed:n,collapsible:r,isLink:o,isActiveLink:i,hasActiveLink:a,hasChildren:s,toggle:l}=useSidebarControl(computed((()=>t.item))),u=computed((()=>s.value?"section":"div")),c=computed((()=>o.value?"a":"div")),d=computed((()=>s.value?t.depth+2===7?"p":`h${t.depth+2}`:"p")),h=computed((()=>o.value?void 0:"button")),p=computed((()=>[[`level-${t.depth}`],{collapsible:r.value},{collapsed:n.value},{"is-link":o.value},{"is-active":i.value},{"has-active":a.value}]));function f(e){"key"in e&&"Enter"!==e.key||!t.item.link&&l()}function m(){t.item.link&&l()}return(e,t)=>{const n=resolveComponent("VPSidebarItem",!0);return openBlock(),createBlock(resolveDynamicComponent(u.value),{class:normalizeClass(["VPSidebarItem",p.value])},{default:withCtx((()=>[e.item.text?(openBlock(),createElementBlock("div",mergeProps({key:0,class:"item",role:h.value},toHandlers(e.item.items?{click:f,keydown:f}:{},!0),{tabindex:e.item.items&&0}),[_hoisted_2$4,e.item.link?(openBlock(),createBlock(_sfc_main$13,{key:0,tag:c.value,class:"link",href:e.item.link,rel:e.item.rel,target:e.item.target},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(d.value),{class:"text",innerHTML:e.item.text},null,8,["innerHTML"]))])),_:1},8,["tag","href","rel","target"])):(openBlock(),createBlock(resolveDynamicComponent(d.value),{key:1,class:"text",innerHTML:e.item.text},null,8,["innerHTML"])),null!=e.item.collapsed?(openBlock(),createElementBlock("div",{key:2,class:"caret",role:"button","aria-label":"toggle section",onClick:m,onKeydown:withKeys(m,["enter"]),tabindex:"0"},[createVNode(VPIconChevronRight,{class:"caret-icon"})],32)):createCommentVNode("",!0)],16,_hoisted_1$9)):createCommentVNode("",!0),e.item.items&&e.item.items.length?(openBlock(),createElementBlock("div",_hoisted_3$4,[e.depth<5?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(e.item.items,(t=>(openBlock(),createBlock(n,{key:t.text,item:t,depth:e.depth+1},null,8,["item","depth"])))),128)):createCommentVNode("",!0)])):createCommentVNode("",!0)])),_:1},8,["class"])}}}),VPSidebarItem=_export_sfc$1(_sfc_main$b,[["__scopeId","data-v-7fd9f383"]]),_withScopeId$2=e=>(pushScopeId("data-v-fccb3752"),e=e(),popScopeId(),e),_hoisted_1$8=_withScopeId$2((()=>createBaseVNode("div",{class:"curtain"},null,-1))),_hoisted_2$3={class:"nav",id:"VPSidebarNav","aria-labelledby":"sidebar-aria-label",tabindex:"-1"},_hoisted_3$3=_withScopeId$2((()=>createBaseVNode("span",{class:"visually-hidden",id:"sidebar-aria-label"}," Sidebar Navigation ",-1))),_sfc_main$a=defineComponent({__name:"VPSidebar",props:{open:{type:Boolean}},setup(e){const{sidebarGroups:t,hasSidebar:n}=useSidebar(),r=e,o=ref(null),i=useScrollLock(inBrowser?document.body:null);return watch([r,o],(()=>{var e;r.open?(i.value=!0,null==(e=o.value)||e.focus()):i.value=!1}),{immediate:!0,flush:"post"}),(e,r)=>unref(n)?(openBlock(),createElementBlock("aside",{key:0,class:normalizeClass(["VPSidebar",{open:e.open}]),ref_key:"navEl",ref:o,onClick:r[0]||(r[0]=withModifiers((()=>{}),["stop"]))},[_hoisted_1$8,createBaseVNode("nav",_hoisted_2$3,[_hoisted_3$3,renderSlot(e.$slots,"sidebar-nav-before",{},void 0,!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(t),(e=>(openBlock(),createElementBlock("div",{key:e.text,class:"group"},[createVNode(VPSidebarItem,{item:e,depth:0},null,8,["item"])])))),128)),renderSlot(e.$slots,"sidebar-nav-after",{},void 0,!0)])],2)):createCommentVNode("",!0)}}),VPSidebar=_export_sfc$1(_sfc_main$a,[["__scopeId","data-v-fccb3752"]]),_sfc_main$9=defineComponent({__name:"VPSkipLink",setup(e){const t=useRoute(),n=ref();function r({target:e}){const t=document.getElementById(decodeURIComponent(e.hash).slice(1));if(t){const e=()=>{t.removeAttribute("tabindex"),t.removeEventListener("blur",e)};t.setAttribute("tabindex","-1"),t.addEventListener("blur",e),t.focus(),window.scrollTo(0,0)}}return watch((()=>t.path),(()=>n.value.focus())),(e,t)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("span",{ref_key:"backToTop",ref:n,tabindex:"-1"},null,512),createBaseVNode("a",{href:"#VPContent",class:"VPSkipLink visually-hidden",onClick:r}," Skip to content ")],64))}}),VPSkipLink=_export_sfc$1(_sfc_main$9,[["__scopeId","data-v-2c907deb"]]),_sfc_main$8=defineComponent({__name:"Layout",setup(e){const{isOpen:t,open:n,close:r}=useSidebar(),o=useRoute();watch((()=>o.path),r),useCloseSidebarOnEscape(t,r);const{frontmatter:i}=useData(),a=useSlots();return provide("hero-image-slot-exists",computed((()=>!!a["home-hero-image"]))),(e,o)=>{const a=resolveComponent("Content");return!1!==unref(i).layout?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["Layout",unref(i).pageClass])},[renderSlot(e.$slots,"layout-top",{},void 0,!0),createVNode(VPSkipLink),createVNode(VPBackdrop,{class:"backdrop",show:unref(t),onClick:unref(r)},null,8,["show","onClick"]),createVNode(VPNav,null,{"nav-bar-title-before":withCtx((()=>[renderSlot(e.$slots,"nav-bar-title-before",{},void 0,!0)])),"nav-bar-title-after":withCtx((()=>[renderSlot(e.$slots,"nav-bar-title-after",{},void 0,!0)])),"nav-bar-content-before":withCtx((()=>[renderSlot(e.$slots,"nav-bar-content-before",{},void 0,!0)])),"nav-bar-content-after":withCtx((()=>[renderSlot(e.$slots,"nav-bar-content-after",{},void 0,!0)])),"nav-screen-content-before":withCtx((()=>[renderSlot(e.$slots,"nav-screen-content-before",{},void 0,!0)])),"nav-screen-content-after":withCtx((()=>[renderSlot(e.$slots,"nav-screen-content-after",{},void 0,!0)])),_:3}),createVNode(VPLocalNav,{open:unref(t),onOpenMenu:unref(n)},null,8,["open","onOpenMenu"]),createVNode(VPSidebar,{open:unref(t)},{"sidebar-nav-before":withCtx((()=>[renderSlot(e.$slots,"sidebar-nav-before",{},void 0,!0)])),"sidebar-nav-after":withCtx((()=>[renderSlot(e.$slots,"sidebar-nav-after",{},void 0,!0)])),_:3},8,["open"]),createVNode(VPContent,null,{"page-top":withCtx((()=>[renderSlot(e.$slots,"page-top",{},void 0,!0)])),"page-bottom":withCtx((()=>[renderSlot(e.$slots,"page-bottom",{},void 0,!0)])),"not-found":withCtx((()=>[renderSlot(e.$slots,"not-found",{},void 0,!0)])),"home-hero-before":withCtx((()=>[renderSlot(e.$slots,"home-hero-before",{},void 0,!0)])),"home-hero-info":withCtx((()=>[renderSlot(e.$slots,"home-hero-info",{},void 0,!0)])),"home-hero-image":withCtx((()=>[renderSlot(e.$slots,"home-hero-image",{},void 0,!0)])),"home-hero-after":withCtx((()=>[renderSlot(e.$slots,"home-hero-after",{},void 0,!0)])),"home-features-before":withCtx((()=>[renderSlot(e.$slots,"home-features-before",{},void 0,!0)])),"home-features-after":withCtx((()=>[renderSlot(e.$slots,"home-features-after",{},void 0,!0)])),"doc-footer-before":withCtx((()=>[renderSlot(e.$slots,"doc-footer-before",{},void 0,!0)])),"doc-before":withCtx((()=>[renderSlot(e.$slots,"doc-before",{},void 0,!0)])),"doc-after":withCtx((()=>[renderSlot(e.$slots,"doc-after",{},void 0,!0)])),"doc-top":withCtx((()=>[renderSlot(e.$slots,"doc-top",{},void 0,!0)])),"doc-bottom":withCtx((()=>[renderSlot(e.$slots,"doc-bottom",{},void 0,!0)])),"aside-top":withCtx((()=>[renderSlot(e.$slots,"aside-top",{},void 0,!0)])),"aside-bottom":withCtx((()=>[renderSlot(e.$slots,"aside-bottom",{},void 0,!0)])),"aside-outline-before":withCtx((()=>[renderSlot(e.$slots,"aside-outline-before",{},void 0,!0)])),"aside-outline-after":withCtx((()=>[renderSlot(e.$slots,"aside-outline-after",{},void 0,!0)])),"aside-ads-before":withCtx((()=>[renderSlot(e.$slots,"aside-ads-before",{},void 0,!0)])),"aside-ads-after":withCtx((()=>[renderSlot(e.$slots,"aside-ads-after",{},void 0,!0)])),_:3}),createVNode(VPFooter),renderSlot(e.$slots,"layout-bottom",{},void 0,!0)],2)):(openBlock(),createBlock(a,{key:1}))}}}),Layout=_export_sfc$1(_sfc_main$8,[["__scopeId","data-v-6bf26729"]]),GridSettings={xmini:[[0,2]],mini:[],small:[[920,6],[768,5],[640,4],[480,3],[0,2]],medium:[[960,5],[832,4],[640,3],[480,2]],big:[[832,3],[640,2]]};function useSponsorsGrid({el:e,size:t="medium"}){const n=throttleAndDebounce(r,100);function r(){adjustSlots(e.value,t)}onMounted((()=>{r(),window.addEventListener("resize",n)})),onUnmounted((()=>{window.removeEventListener("resize",n)}))}function adjustSlots(e,t){const n=e.children.length,r=e.querySelectorAll(".vp-sponsor-grid-item:not(.empty)").length;manageSlots(e,setGrid(e,t,r),n,r)}function setGrid(e,t,n){const r=GridSettings[t],o=window.innerWidth;let i=1;return r.some((([e,t])=>{if(o>=e)return i=n<t?n:t,!0})),setGridData(e,i),i}function setGridData(e,t){e.dataset.vpGrid=String(t)}function manageSlots(e,t,n,r){const o=r%t;neutralizeSlots(e,(0===o?o:t-o)-(n-r))}function neutralizeSlots(e,t){0!==t&&(t>0?addSlots(e,t):removeSlots(e,-1*t))}function addSlots(e,t){for(let n=0;n<t;n++){const t=document.createElement("div");t.classList.add("vp-sponsor-grid-item","empty"),e.append(t)}}function removeSlots(e,t){for(let n=0;n<t;n++)e.removeChild(e.lastElementChild)}const _hoisted_1$7=["href"],_hoisted_2$2={class:"vp-sponsor-grid-box"},_hoisted_3$2={class:"visually-hidden"},_hoisted_4$1=["src","alt"],_sfc_main$7=defineComponent({__name:"VPSponsorsGrid",props:{size:{default:"medium"},data:{}},setup(e){const t=e,n=ref(null);return useSponsorsGrid({el:n,size:t.size}),(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["VPSponsorsGrid vp-sponsor-grid",[e.size]]),ref_key:"el",ref:n},[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.data,(e=>(openBlock(),createElementBlock("div",{key:e.name,class:"vp-sponsor-grid-item"},[createBaseVNode("a",{class:"vp-sponsor-grid-link",href:e.url,target:"_blank",rel:"sponsored noopener"},[createBaseVNode("article",_hoisted_2$2,[createBaseVNode("h4",_hoisted_3$2,toDisplayString(e.name),1),createBaseVNode("img",{class:"vp-sponsor-grid-image",src:e.img,alt:e.name},null,8,_hoisted_4$1)])],8,_hoisted_1$7)])))),128))],2))}}),_hoisted_1$6={key:0,class:"vp-sponsor-tier"},_sfc_main$6=defineComponent({__name:"VPSponsors",props:{mode:{default:"normal"},tier:{},size:{},data:{}},setup(e){const t=e,n=computed((()=>t.data.some((e=>"items"in e))?t.data:[{tier:t.tier,size:t.size,items:t.data}]));return(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["VPSponsors vp-sponsor",[e.mode]])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,((e,t)=>(openBlock(),createElementBlock("section",{key:t,class:"vp-sponsor-section"},[e.tier?(openBlock(),createElementBlock("h3",_hoisted_1$6,toDisplayString(e.tier),1)):createCommentVNode("",!0),createVNode(_sfc_main$7,{size:e.size,data:e.items},null,8,["size","data"])])))),128))],2))}}),_hoisted_1$5={class:"VPDocAsideSponsors"},_sfc_main$5=defineComponent({__name:"VPDocAsideSponsors",props:{tier:{},size:{},data:{}},setup:e=>(e,t)=>(openBlock(),createElementBlock("div",_hoisted_1$5,[createVNode(_sfc_main$6,{mode:"aside",tier:e.tier,size:e.size,data:e.data},null,8,["tier","size","data"])]))}),theme={Layout:Layout,enhanceApp:({app:e})=>{e.component("Badge",_sfc_main$1b)}},_hoisted_1$4=createBaseVNode("p",{class:"sponsor-title"},[createTextVNode("  "),createBaseVNode("a",{class:"VPLink link vp-external-link-icon no-icon",href:"https://github.com/raomaiping/map-demo",target:"_blank",rel:"noreferrer"},"star"),createTextVNode("  ")],-1),_sfc_main$4=defineComponent({__name:"AsideSponsors",setup(e){const t=[{items:[{img:"/image/wx.webp"}]},{items:[{img:"/image/zfb.webp"}]}];return(e,n)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1$4,createVNode(unref(_sfc_main$5),{data:t})],64))}}),_withScopeId$1=e=>(pushScopeId("data-v-fcbdcb43"),e=e(),popScopeId(),e),_hoisted_1$3={class:"copyright"},_hoisted_2$1=["src"],_hoisted_3$1=_withScopeId$1((()=>createBaseVNode("a",{href:"https://juejin.cn/user/588993965598407"},"",-1))),_sfc_main$3=defineComponent({__name:"DocFooter",setup(e){const t=inject("DEV"),n=useRoute(),r=computed((()=>n.path));return(e,n)=>(openBlock(),createElementBlock("div",_hoisted_1$3,[unref(t)?createCommentVNode("",!0):(openBlock(),createElementBlock("img",{key:0,class:"visitor",src:`https://visitor-badge.laobi.icu/badge?page_id=raomaiping.map-demo.${r.value}`,title:"",onerror:"this.style.display='none'"},null,8,_hoisted_2$1)),createTextVNode(" Copyright  2022-present "),_hoisted_3$1]))}}),DocFooter=_export_sfc$1(_sfc_main$3,[["__scopeId","data-v-fcbdcb43"]]),_hoisted_1$2={key:0,class:"visitor",src:"https://visitor-badge.laobi.icu/badge?page_id=raomaiping.map-demo",onerror:"this.style.display='none'"},_sfc_main$2=defineComponent({__name:"NavVisitor",setup(e){const t=inject("DEV");return(e,n)=>unref(t)?createCommentVNode("",!0):(openBlock(),createElementBlock("img",_hoisted_1$2))}}),NavVisitor=_export_sfc$1(_sfc_main$2,[["__scopeId","data-v-f5bd21ba"]]),d=["id","host","repo","repoid","category","categoryid","mapping","term","strict","reactionsenabled","emitmetadata","inputposition","theme","lang","loading"],l$1=defineComponent({__name:"Giscus",props:{id:{},host:{},repo:{},repoId:{},category:{},categoryId:{},mapping:{},term:{},theme:{},strict:{},reactionsEnabled:{},emitMetadata:{},inputPosition:{},lang:{},loading:{}},setup(e){const t=ref(!1);return onMounted((()=>{t.value=!0,__vitePreload((()=>Promise.resolve().then((()=>giscusATimukGI))),void 0)})),(e,n)=>t.value?(openBlock(),createElementBlock("giscus-widget",{key:0,id:e.id,host:e.host,repo:e.repo,repoid:e.repoId,category:e.category,categoryid:e.categoryId,mapping:e.mapping,term:e.term,strict:e.strict,reactionsenabled:e.reactionsEnabled,emitmetadata:e.emitMetadata,inputposition:e.inputPosition,theme:e.theme,lang:e.lang,loading:e.loading},null,8,d)):createCommentVNode("",!0)}}),_hoisted_1$1={class:"giscus"},_sfc_main$1={__name:"Gitalk",setup:e=>(e,t)=>(openBlock(),createElementBlock("div",_hoisted_1$1,[createVNode(unref(l$1),{repo:"raomaiping/map-demo",repoId:"R_kgDOIBaq8Q",category:"Announcements",categoryId:"DIC_kwDOIBaq8c4CcSa7",mapping:"url",strict:"0",reactionsEnabled:"1",emitMetadata:"0",inputPosition:"bottom",theme:"preferred_color_scheme",lang:"zh-CN",loading:"lazy"})]))},Gitalk=_export_sfc$1(_sfc_main$1,[["__scopeId","data-v-8acbc7d3"]]);"undefined"!=typeof window&&"caches"in window&&caches.keys().then((function(e){return Promise.all(e.map((function(e){return caches.delete(e)})))}));const RawTheme={extends:theme,Layout:()=>{var e;const t={},{frontmatter:n}=useData$1();return(null==(e=n.value)?void 0:e.layoutClass)&&(t.class=n.value.layoutClass),h$1(theme.Layout,t,{"nav-bar-title-after":()=>h$1(NavVisitor),"aside-outline-after":()=>h$1(_sfc_main$4),"doc-after":()=>h$1(DocFooter),"doc-footer-before":()=>h$1(Gitalk)})},enhanceApp:async({app:e,router:t,siteData:n})=>{e.provide("DEV",!1),__vitePreload((()=>Promise.resolve().then((()=>index))),void 0).then((t=>{e.use(t)})),e.mixin({mounted(){__vitePreload((()=>Promise.resolve().then((()=>leafletSrc))),void 0).then((e=>{"/image/"!==e.Icon.Default.imagePath&&(e.Icon.Default.imagePath="/image/")}))}})}},ClientOnly=defineComponent({setup(e,{slots:t}){const n=ref(!1);return onMounted((()=>{n.value=!0})),()=>n.value&&t.default?t.default():null}});function useCodeGroups(){inBrowser&&window.addEventListener("click",(e=>{var t;const n=e.target;if(n.matches(".vp-code-group input")){const e=null==(t=n.parentElement)?void 0:t.parentElement;if(!e)return;const r=Array.from(e.querySelectorAll("input")).indexOf(n);if(r<0)return;const o=e.querySelector(".blocks");if(!o)return;const i=Array.from(o.children).find((e=>e.classList.contains("active")));if(!i)return;const a=o.children[r];if(!a||i===a)return;i.classList.remove("active"),a.classList.add("active");const s=null==e?void 0:e.querySelector(`label[for="${n.id}"]`);null==s||s.scrollIntoView({block:"nearest"})}}))}function useCopyCode(){if(inBrowser){const e=new WeakMap;window.addEventListener("click",(t=>{var n;const r=t.target;if(r.matches('div[class*="language-"] > button.copy')){const t=r.parentElement,o=null==(n=r.nextElementSibling)?void 0:n.nextElementSibling;if(!t||!o)return;const i=/language-(shellscript|shell|bash|sh|zsh)/.test(t.className),a=[".vp-copy-ignore",".diff.remove"],s=o.cloneNode(!0);s.querySelectorAll(a.join(",")).forEach((e=>e.remove()));let l=s.textContent||"";i&&(l=l.replace(/^ *(\$|>) /gm,"").trim()),copyToClipboard(l).then((()=>{r.classList.add("copied"),clearTimeout(e.get(r));const t=setTimeout((()=>{r.classList.remove("copied"),r.blur(),e.delete(r)}),2e3);e.set(r,t)}))}}))}}async function copyToClipboard(e){try{return navigator.clipboard.writeText(e)}catch{const t=document.createElement("textarea"),n=document.activeElement;t.value=e,t.setAttribute("readonly",""),t.style.contain="strict",t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="12pt";const r=document.getSelection(),o=r?r.rangeCount>0&&r.getRangeAt(0):null;document.body.appendChild(t),t.select(),t.selectionStart=0,t.selectionEnd=e.length,document.execCommand("copy"),document.body.removeChild(t),o&&(r.removeAllRanges(),r.addRange(o)),n&&n.focus()}}function useUpdateHead(e,t){let n=[],r=!0;watchEffect((()=>{const o=e.data,i=t.value,a=o&&o.description,s=o&&o.frontmatter.head||[],l=createTitle(i,o);l!==document.title&&(document.title=l);const u=a||i.description;let c=document.querySelector("meta[name=description]");c?c.getAttribute("content")!==u&&c.setAttribute("content",u):createHeadElement(["meta",{name:"description",content:u}]),(e=>{if(r)return void(r=!1);const t=e.map(createHeadElement);n.forEach(((e,r)=>{const o=t.findIndex((t=>null==t?void 0:t.isEqualNode(e??null)));-1!==o?delete t[o]:(null==e||e.remove(),delete n[r])})),t.forEach((e=>e&&document.head.appendChild(e))),n=[...n,...t].filter(Boolean)})(mergeHead(i.head,filterOutHeadDescription(s)))}))}function createHeadElement([e,t,n]){const r=document.createElement(e);for(const o in t)r.setAttribute(o,t[o]);return n&&(r.innerHTML=n),"script"!==e||t.async||(r.async=!1),r}function isMetaDescription(e){return"meta"===e[0]&&e[1]&&"description"===e[1].name}function filterOutHeadDescription(e){return e.filter((e=>!isMetaDescription(e)))}const hasFetched=new Set,createLink=()=>document.createElement("link"),viaDOM=e=>{const t=createLink();t.rel="prefetch",t.href=e,document.head.appendChild(t)},viaXHR=e=>{const t=new XMLHttpRequest;t.open("GET",e,t.withCredentials=!0),t.send()};let link;const doFetch=inBrowser&&(link=createLink())&&link.relList&&link.relList.supports&&link.relList.supports("prefetch")?viaDOM:viaXHR;function usePrefetch(){if(!inBrowser)return;if(!window.IntersectionObserver)return;let e;if((e=navigator.connection)&&(e.saveData||/2g/.test(e.effectiveType)))return;const t=window.requestIdleCallback||setTimeout;let n=null;const r=()=>{n&&n.disconnect(),n=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){const t=e.target;n.unobserve(t);const{pathname:r}=t;if(!hasFetched.has(r)){hasFetched.add(r);const e=pathToFile(r);e&&doFetch(e)}}}))})),t((()=>{document.querySelectorAll("#app a").forEach((e=>{const{hostname:t,pathname:r}=new URL(e.href instanceof SVGAnimatedString?e.href.animVal:e.href,e.baseURI),o=r.match(/\.\w+$/);o&&".html"!==o[0]||"_blank"!==e.target&&t===location.hostname&&(r!==location.pathname?n.observe(e):hasFetched.add(r))}))}))};onMounted(r);const o=useRoute();watch((()=>o.path),r),onUnmounted((()=>{n&&n.disconnect()}))}function resolveThemeExtends(e){if(e.extends){const t=resolveThemeExtends(e.extends);return{...t,...e,async enhanceApp(n){t.enhanceApp&&await t.enhanceApp(n),e.enhanceApp&&await e.enhanceApp(n)}}}return e}const Theme=resolveThemeExtends(RawTheme),VitePressApp=defineComponent({name:"VitePressApp",setup(){const{site:e,lang:t,dir:n}=useData$1();return onMounted((()=>{watchEffect((()=>{document.documentElement.lang=t.value,document.documentElement.dir=n.value}))})),e.value.router.prefetchLinks&&usePrefetch(),useCopyCode(),useCodeGroups(),Theme.setup&&Theme.setup(),()=>h$1(Theme.Layout)}});async function createApp(){const e=newRouter(),t=newApp();t.provide(RouterSymbol,e);const n=initData(e.route);return t.provide(dataSymbol,n),t.component("Content",Content),t.component("ClientOnly",ClientOnly),Object.defineProperties(t.config.globalProperties,{$frontmatter:{get:()=>n.frontmatter.value},$params:{get:()=>n.page.value.params}}),Theme.enhanceApp&&await Theme.enhanceApp({app:t,router:e,siteData:siteDataRef}),{app:t,router:e,data:n}}function newApp(){return createSSRApp(VitePressApp)}function newRouter(){let e,t=inBrowser;return createRouter((n=>{let r=pathToFile(n),o=null;return r&&(t&&(e=r),(t||e===r)&&(r=r.replace(/\.js$/,".lean.js")),o=__vitePreload((()=>import(r)),__vite__mapDeps([]))),inBrowser&&(t=!1),o}),Theme.NotFound)}inBrowser&&createApp().then((({app:e,router:t,data:n})=>{t.go().then((()=>{useUpdateHead(t.route,n.site),e.mount("#app")}))}));var leafletSrc$1={exports:{}};
/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */!function(t){var n="1.9.4";function r(e){var t,n,r,o;for(n=1,r=arguments.length;n<r;n++)for(t in o=arguments[n])e[t]=o[t];return e}var o=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function i(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var r=n.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(n.call(arguments)):arguments)}}var a=0;function s(e){return"_leaflet_id"in e||(e._leaflet_id=++a),e._leaflet_id}function l(e,t,n){var r,o,i,a;return a=function(){r=!1,o&&(i.apply(n,o),o=!1)},i=function(){r?o=arguments:(e.apply(n,arguments),setTimeout(a,t),r=!0)},i}function u(e,t,n){var r=t[1],o=t[0],i=r-o;return e===r&&n?e:((e-o)%i+i)%i+o}function c(){return!1}function d(e,t){if(!1===t)return e;var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function h(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function p(e){return h(e).split(/\s+/)}function f(e,t){for(var n in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?o(e.options):{}),t)e.options[n]=t[n];return e.options}function m(e,t,n){var r=[];for(var o in e)r.push(encodeURIComponent(n?o.toUpperCase():o)+"="+encodeURIComponent(e[o]));return(t&&-1!==t.indexOf("?")?"&":"?")+r.join("&")}var _=/\{ *([\w_ -]+) *\}/g;function g(e,t){return e.replace(_,(function(e,n){var r=t[n];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"==typeof r&&(r=r(t)),r}))}var v=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function y(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function E(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var C=0;function x(e){var t=+new Date,n=Math.max(0,16-(t-C));return C=t+n,window.setTimeout(e,n)}var w=window.requestAnimationFrame||E("RequestAnimationFrame")||x,S=window.cancelAnimationFrame||E("CancelAnimationFrame")||E("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function T(e,t,n){if(!n||w!==x)return w.call(window,i(e,t));e.call(t)}function k(e){e&&S.call(window,e)}var P={__proto__:null,extend:r,create:o,bind:i,get lastId(){return a},stamp:s,throttle:l,wrapNum:u,falseFn:c,formatNum:d,trim:h,splitWords:p,setOptions:f,getParamString:m,template:g,isArray:v,indexOf:y,emptyImageUrl:b,requestFn:w,cancelFn:S,requestAnimFrame:T,cancelAnimFrame:k};function M(){}function O(e){if("undefined"!=typeof L&&L&&L.Mixin){e=v(e)?e:[e];for(var t=0;t<e.length;t++)e[t],L.Mixin.Events}}M.extend=function(e){var t=function(){f(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=t.__super__=this.prototype,i=o(n);for(var a in i.constructor=t,t.prototype=i,this)Object.prototype.hasOwnProperty.call(this,a)&&"prototype"!==a&&"__super__"!==a&&(t[a]=this[a]);return e.statics&&r(t,e.statics),e.includes&&(O(e.includes),r.apply(null,[i].concat(e.includes))),r(i,e),delete i.statics,delete i.includes,i.options&&(i.options=n.options?o(n.options):{},r(i.options,e.options)),i._initHooks=[],i.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=i._initHooks.length;e<t;e++)i._initHooks[e].call(this)}},t},M.include=function(e){var t=this.prototype.options;return r(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},M.mergeOptions=function(e){return r(this.prototype.options,e),this},M.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"==typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var N={on:function(e,t,n){if("object"==typeof e)for(var r in e)this._on(r,e[r],t);else for(var o=0,i=(e=p(e)).length;o<i;o++)this._on(e[o],t,n);return this},off:function(e,t,n){if(arguments.length)if("object"==typeof e)for(var r in e)this._off(r,e[r],t);else{e=p(e);for(var o=1===arguments.length,i=0,a=e.length;i<a;i++)o?this._off(e[i]):this._off(e[i],t,n)}else delete this._events;return this},_on:function(e,t,n,r){if("function"==typeof t&&!1===this._listens(e,t,n)){n===this&&(n=void 0);var o={fn:t,ctx:n};r&&(o.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(o)}},_off:function(e,t,n){var r,o,i;if(this._events&&(r=this._events[e]))if(1!==arguments.length){if("function"==typeof t){var a=this._listens(e,t,n);if(!1!==a){var s=r[a];this._firingCount&&(s.fn=c,this._events[e]=r=r.slice()),r.splice(a,1)}}}else{if(this._firingCount)for(o=0,i=r.length;o<i;o++)r[o].fn=c;delete this._events[e]}},fire:function(e,t,n){if(!this.listens(e,n))return this;var o=r({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var i=this._events[e];if(i){this._firingCount=this._firingCount+1||1;for(var a=0,s=i.length;a<s;a++){var l=i[a],u=l.fn;l.once&&this.off(e,u,l.ctx),u.call(l.ctx||this,o)}this._firingCount--}}return n&&this._propagateEvent(o),this},listens:function(e,t,n,r){var o=t;"function"!=typeof t&&(r=!!t,o=void 0,n=void 0);var i=this._events&&this._events[e];if(i&&i.length&&!1!==this._listens(e,o,n))return!0;if(r)for(var a in this._eventParents)if(this._eventParents[a].listens(e,t,n,r))return!0;return!1},_listens:function(e,t,n){if(!this._events)return!1;var r=this._events[e]||[];if(!t)return!!r.length;n===this&&(n=void 0);for(var o=0,i=r.length;o<i;o++)if(r[o].fn===t&&r[o].ctx===n)return o;return!1},once:function(e,t,n){if("object"==typeof e)for(var r in e)this._on(r,e[r],t,!0);else for(var o=0,i=(e=p(e)).length;o<i;o++)this._on(e[o],t,n,!0);return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[s(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[s(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,r({layer:e.target,propagatedFrom:e.target},e),!0)}};N.addEventListener=N.on,N.removeEventListener=N.clearAllEventListeners=N.off,N.addOneTimeEventListener=N.once,N.fireEvent=N.fire,N.hasEventListeners=N.listens;var A=M.extend(N);function I(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var R=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function $(e,t,n){return e instanceof I?e:v(e)?new I(e[0],e[1]):null==e?e:"object"==typeof e&&"x"in e&&"y"in e?new I(e.x,e.y):new I(e,t,n)}function B(e,t){if(e)for(var n=t?[e,t]:e,r=0,o=n.length;r<o;r++)this.extend(n[r])}function D(e,t){return!e||e instanceof B?e:new B(e,t)}function F(e,t){if(e)for(var n=t?[e,t]:e,r=0,o=n.length;r<o;r++)this.extend(n[r])}function V(e,t){return e instanceof F?e:new F(e,t)}function z(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function j(e,t,n){return e instanceof z?e:v(e)&&"object"!=typeof e[0]?3===e.length?new z(e[0],e[1],e[2]):2===e.length?new z(e[0],e[1]):null:null==e?e:"object"==typeof e&&"lat"in e?new z(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new z(e,t,n)}I.prototype={clone:function(){return new I(this.x,this.y)},add:function(e){return this.clone()._add($(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract($(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new I(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new I(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=R(this.x),this.y=R(this.y),this},distanceTo:function(e){var t=(e=$(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=$(e)).x===this.x&&e.y===this.y},contains:function(e){return e=$(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+d(this.x)+", "+d(this.y)+")"}},B.prototype={extend:function(e){var t,n;if(!e)return this;if(e instanceof I||"number"==typeof e[0]||"x"in e)t=n=$(e);else if(t=(e=D(e)).min,n=e.max,!t||!n)return this;return this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=t.clone(),this.max=n.clone()),this},getCenter:function(e){return $((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return $(this.min.x,this.max.y)},getTopRight:function(){return $(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"==typeof e[0]||e instanceof I?$(e):D(e))instanceof B?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=D(e);var t=this.min,n=this.max,r=e.min,o=e.max,i=o.x>=t.x&&r.x<=n.x,a=o.y>=t.y&&r.y<=n.y;return i&&a},overlaps:function(e){e=D(e);var t=this.min,n=this.max,r=e.min,o=e.max,i=o.x>t.x&&r.x<n.x,a=o.y>t.y&&r.y<n.y;return i&&a},isValid:function(){return!(!this.min||!this.max)},pad:function(e){var t=this.min,n=this.max,r=Math.abs(t.x-n.x)*e,o=Math.abs(t.y-n.y)*e;return D($(t.x-r,t.y-o),$(n.x+r,n.y+o))},equals:function(e){return!!e&&(e=D(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight()))}},F.prototype={extend:function(e){var t,n,r=this._southWest,o=this._northEast;if(e instanceof z)t=e,n=e;else{if(!(e instanceof F))return e?this.extend(j(e)||V(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return r||o?(r.lat=Math.min(t.lat,r.lat),r.lng=Math.min(t.lng,r.lng),o.lat=Math.max(n.lat,o.lat),o.lng=Math.max(n.lng,o.lng)):(this._southWest=new z(t.lat,t.lng),this._northEast=new z(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,o=Math.abs(t.lng-n.lng)*e;return new F(new z(t.lat-r,t.lng-o),new z(n.lat+r,n.lng+o))},getCenter:function(){return new z((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new z(this.getNorth(),this.getWest())},getSouthEast:function(){return new z(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"==typeof e[0]||e instanceof z||"lat"in e?j(e):V(e);var t,n,r=this._southWest,o=this._northEast;return e instanceof F?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=r.lat&&n.lat<=o.lat&&t.lng>=r.lng&&n.lng<=o.lng},intersects:function(e){e=V(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),o=e.getNorthEast(),i=o.lat>=t.lat&&r.lat<=n.lat,a=o.lng>=t.lng&&r.lng<=n.lng;return i&&a},overlaps:function(e){e=V(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),o=e.getNorthEast(),i=o.lat>t.lat&&r.lat<n.lat,a=o.lng>t.lng&&r.lng<n.lng;return i&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=V(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},z.prototype={equals:function(e,t){return!!e&&(e=j(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+d(this.lat,e)+", "+d(this.lng,e)+")"},distanceTo:function(e){return H.distance(this,j(e))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return V([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new z(this.lat,this.lng,this.alt)}};var U,G={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new B(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?u(e.lng,this.wrapLng,!0):e.lng;return new z(this.wrapLat?u(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),r=t.lat-n.lat,o=t.lng-n.lng;if(0===r&&0===o)return e;var i=e.getSouthWest(),a=e.getNorthEast();return new F(new z(i.lat-r,i.lng-o),new z(a.lat-r,a.lng-o))}},H=r({},G,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,r=e.lat*n,o=t.lat*n,i=Math.sin((t.lat-e.lat)*n/2),a=Math.sin((t.lng-e.lng)*n/2),s=i*i+Math.cos(r)*Math.cos(o)*a*a,l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*l}}),K=6378137,W={R:K,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),o=Math.sin(r*t);return new I(this.R*e.lng*t,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(e){var t=180/Math.PI;return new z((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:(U=K*Math.PI,new B([-U,-U],[U,U]))};function Y(e,t,n,r){if(v(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=r}function q(e,t,n,r){return new Y(e,t,n,r)}Y.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new I((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var Z,X=r({},H,{code:"EPSG:3857",projection:W,transformation:(Z=.5/(Math.PI*W.R),q(Z,.5,-Z,.5))}),J=r({},X,{code:"EPSG:900913"});function Q(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function ee(e,t){var n,r,o,i,a,s,l="";for(n=0,o=e.length;n<o;n++){for(r=0,i=(a=e[n]).length;r<i;r++)l+=(r?"L":"M")+(s=a[r]).x+" "+s.y;l+=t?Ve.svg?"z":"x":""}return l||"M0 0"}var te,ne=document.documentElement.style,re="ActiveXObject"in window,oe=re&&!document.addEventListener,ie="msLaunchUri"in navigator&&!("documentMode"in document),ae=Fe("webkit"),se=Fe("android"),le=Fe("android 2")||Fe("android 3"),ue=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ce=se&&Fe("Google")&&ue<537&&!("AudioNode"in window),de=!!window.opera,he=!ie&&Fe("chrome"),pe=Fe("gecko")&&!ae&&!de&&!re,fe=!he&&Fe("safari"),me=Fe("phantom"),_e="OTransition"in ne,ge=0===navigator.platform.indexOf("Win"),ve=re&&"transition"in ne,ye="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!le,be="MozPerspective"in ne,Ee=!window.L_DISABLE_3D&&(ve||ye||be)&&!_e&&!me,Ce="undefined"!=typeof orientation||Fe("mobile"),xe=Ce&&ae,we=Ce&&ye,Se=!window.PointerEvent&&window.MSPointerEvent,Te=!(!window.PointerEvent&&!Se),ke="ontouchstart"in window||!!window.TouchEvent,Le=!window.L_NO_TOUCH&&(ke||Te),Pe=Ce&&de,Me=Ce&&pe,Oe=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ne=function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",c,n),window.removeEventListener("testPassiveEventSupport",c,n)}catch(e){}return t}(),Ae=!!document.createElement("canvas").getContext,Ie=!(!document.createElementNS||!Q("svg").createSVGRect),Re=!!Ie&&((te=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(te.firstChild&&te.firstChild.namespaceURI)),$e=!Ie&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var n=t.firstChild;return n.style.behavior="url(#default#VML)",n&&"object"==typeof n.adj}catch(e){return!1}}(),Be=0===navigator.platform.indexOf("Mac"),De=0===navigator.platform.indexOf("Linux");function Fe(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Ve={ie:re,ielt9:oe,edge:ie,webkit:ae,android:se,android23:le,androidStock:ce,opera:de,chrome:he,gecko:pe,safari:fe,phantom:me,opera12:_e,win:ge,ie3d:ve,webkit3d:ye,gecko3d:be,any3d:Ee,mobile:Ce,mobileWebkit:xe,mobileWebkit3d:we,msPointer:Se,pointer:Te,touch:Le,touchNative:ke,mobileOpera:Pe,mobileGecko:Me,retina:Oe,passiveEvents:Ne,canvas:Ae,svg:Ie,vml:$e,inlineSvg:Re,mac:Be,linux:De},ze=Ve.msPointer?"MSPointerDown":"pointerdown",je=Ve.msPointer?"MSPointerMove":"pointermove",Ue=Ve.msPointer?"MSPointerUp":"pointerup",Ge=Ve.msPointer?"MSPointerCancel":"pointercancel",He={touchstart:ze,touchmove:je,touchend:Ue,touchcancel:Ge},Ke={touchstart:nt,touchmove:tt,touchend:tt,touchcancel:tt},We={},Ye=!1;function qe(e,t,n){return"touchstart"===t&&et(),Ke[t]?(n=Ke[t].bind(this,n),e.addEventListener(He[t],n,!1),n):c}function Ze(e,t,n){He[t]&&e.removeEventListener(He[t],n,!1)}function Xe(e){We[e.pointerId]=e}function Je(e){We[e.pointerId]&&(We[e.pointerId]=e)}function Qe(e){delete We[e.pointerId]}function et(){Ye||(document.addEventListener(ze,Xe,!0),document.addEventListener(je,Je,!0),document.addEventListener(Ue,Qe,!0),document.addEventListener(Ge,Qe,!0),Ye=!0)}function tt(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in t.touches=[],We)t.touches.push(We[n]);t.changedTouches=[t],e(t)}}function nt(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Xt(t),tt(e,t)}function rt(e){var t,n,r={};for(n in e)t=e[n],r[n]=t&&t.bind?t.bind(e):t;return e=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var ot=200;function it(e,t){e.addEventListener("dblclick",t);var n,r=0;function o(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var o=Qt(e);if(!o.some((function(e){return e instanceof HTMLLabelElement&&e.attributes.for}))||o.some((function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement}))){var i=Date.now();i-r<=ot?2==++n&&t(rt(e)):n=1,r=i}}}else n=e.detail}return e.addEventListener("click",o),{dblclick:t,simDblclick:o}}function at(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var st,lt,ut,ct,dt,ht=Pt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),pt=Pt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ft="webkitTransition"===pt||"OTransition"===pt?pt+"End":"transitionend";function mt(e){return"string"==typeof e?document.getElementById(e):e}function _t(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return"auto"===n?null:n}function gt(e,t,n){var r=document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}function vt(e){var t=e.parentNode;t&&t.removeChild(e)}function yt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function bt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function Et(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function Ct(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=Tt(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function xt(e,t){if(void 0!==e.classList)for(var n=p(t),r=0,o=n.length;r<o;r++)e.classList.add(n[r]);else if(!Ct(e,t)){var i=Tt(e);St(e,(i?i+" ":"")+t)}}function wt(e,t){void 0!==e.classList?e.classList.remove(t):St(e,h((" "+Tt(e)+" ").replace(" "+t+" "," ")))}function St(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function Tt(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function kt(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&Lt(e,t)}function Lt(t,n){var r=!1,o="DXImageTransform.Microsoft.Alpha";try{r=t.filters.item(o)}catch(e){if(1===n)return}n=Math.round(100*n),r?(r.Enabled=100!==n,r.Opacity=n):t.style.filter+=" progid:"+o+"(opacity="+n+")"}function Pt(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function Mt(e,t,n){var r=t||new I(0,0);e.style[ht]=(Ve.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function Ot(e,t){e._leaflet_pos=t,Ve.any3d?Mt(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function Nt(e){return e._leaflet_pos||new I(0,0)}if("onselectstart"in document)st=function(){zt(window,"selectstart",Xt)},lt=function(){Ut(window,"selectstart",Xt)};else{var At=Pt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);st=function(){if(At){var e=document.documentElement.style;ut=e[At],e[At]="none"}},lt=function(){At&&(document.documentElement.style[At]=ut,ut=void 0)}}function It(){zt(window,"dragstart",Xt)}function Rt(){Ut(window,"dragstart",Xt)}function $t(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Bt(),ct=e,dt=e.style.outlineStyle,e.style.outlineStyle="none",zt(window,"keydown",Bt))}function Bt(){ct&&(ct.style.outlineStyle=dt,ct=void 0,dt=void 0,Ut(window,"keydown",Bt))}function Dt(e){do{e=e.parentNode}while(!(e.offsetWidth&&e.offsetHeight||e===document.body));return e}function Ft(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Vt={__proto__:null,TRANSFORM:ht,TRANSITION:pt,TRANSITION_END:ft,get:mt,getStyle:_t,create:gt,remove:vt,empty:yt,toFront:bt,toBack:Et,hasClass:Ct,addClass:xt,removeClass:wt,setClass:St,getClass:Tt,setOpacity:kt,testProp:Pt,setTransform:Mt,setPosition:Ot,getPosition:Nt,get disableTextSelection(){return st},get enableTextSelection(){return lt},disableImageDrag:It,enableImageDrag:Rt,preventOutline:$t,restoreOutline:Bt,getSizedParentNode:Dt,getScale:Ft};function zt(e,t,n,r){if(t&&"object"==typeof t)for(var o in t)Kt(e,o,t[o],n);else for(var i=0,a=(t=p(t)).length;i<a;i++)Kt(e,t[i],n,r);return this}var jt="_leaflet_events";function Ut(e,t,n,r){if(1===arguments.length)Gt(e),delete e[jt];else if(t&&"object"==typeof t)for(var o in t)Wt(e,o,t[o],n);else if(t=p(t),2===arguments.length)Gt(e,(function(e){return-1!==y(t,e)}));else for(var i=0,a=t.length;i<a;i++)Wt(e,t[i],n,r);return this}function Gt(e,t){for(var n in e[jt]){var r=n.split(/\d/)[0];t&&!t(r)||Wt(e,r,null,null,n)}}var Ht={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Kt(e,t,n,r){var o=t+s(n)+(r?"_"+s(r):"");if(e[jt]&&e[jt][o])return this;var i=function(t){return n.call(r||e,t||window.event)},a=i;!Ve.touchNative&&Ve.pointer&&0===t.indexOf("touch")?i=qe(e,t,i):Ve.touch&&"dblclick"===t?i=it(e,i):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(Ht[t]||t,i,!!Ve.passiveEvents&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(i=function(t){t=t||window.event,rn(e,t)&&a(t)},e.addEventListener(Ht[t],i,!1)):e.addEventListener(t,a,!1):e.attachEvent("on"+t,i),e[jt]=e[jt]||{},e[jt][o]=i}function Wt(e,t,n,r,o){o=o||t+s(n)+(r?"_"+s(r):"");var i=e[jt]&&e[jt][o];if(!i)return this;!Ve.touchNative&&Ve.pointer&&0===t.indexOf("touch")?Ze(e,t,i):Ve.touch&&"dblclick"===t?at(e,i):"removeEventListener"in e?e.removeEventListener(Ht[t]||t,i,!1):e.detachEvent("on"+t,i),e[jt][o]=null}function Yt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function qt(e){return Kt(e,"wheel",Yt),this}function Zt(e){return zt(e,"mousedown touchstart dblclick contextmenu",Yt),e._leaflet_disable_click=!0,this}function Xt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Jt(e){return Xt(e),Yt(e),this}function Qt(e){if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;)t.push(n),n=n.parentNode;return t}function en(e,t){if(!t)return new I(e.clientX,e.clientY);var n=Ft(t),r=n.boundingClientRect;return new I((e.clientX-r.left)/n.x-t.clientLeft,(e.clientY-r.top)/n.y-t.clientTop)}var tn=Ve.linux&&Ve.chrome?window.devicePixelRatio:Ve.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function nn(e){return Ve.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/tn:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function rn(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(r){return!1}return n!==e}var on={__proto__:null,on:zt,off:Ut,stopPropagation:Yt,disableScrollPropagation:qt,disableClickPropagation:Zt,preventDefault:Xt,stop:Jt,getPropagationPath:Qt,getMousePosition:en,getWheelDelta:nn,isExternalTarget:rn,addListener:zt,removeListener:Ut},an=A.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=Nt(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=T(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),Ot(this._el,n),this.fire("step")},_complete:function(){k(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),sn=A.extend({options:{crs:X,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=f(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(j(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=pt&&Ve.any3d&&!Ve.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),zt(this._proxy,ft,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,n){return t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(j(e),t,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n&&(void 0!==n.animate&&(n.zoom=r({animate:n.animate},n.zoom),n.pan=r({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,n.zoom):this._tryAnimatedPan(e,n.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t,n.pan&&n.pan.noMoveStart),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(Ve.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(Ve.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),o=this.getSize().divideBy(2),i=(e instanceof I?e:this.latLngToContainerPoint(e)).subtract(o).multiplyBy(1-1/r),a=this.containerPointToLatLng(o.add(i));return this.setView(a,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():V(e);var n=$(t.paddingTopLeft||t.padding||[0,0]),r=$(t.paddingBottomRight||t.padding||[0,0]),o=this.getBoundsZoom(e,!1,n.add(r));if((o="number"==typeof t.maxZoom?Math.min(t.maxZoom,o):o)===1/0)return{center:e.getCenter(),zoom:o};var i=r.subtract(n).divideBy(2),a=this.project(e.getSouthWest(),o),s=this.project(e.getNorthEast(),o);return{center:this.unproject(a.add(s).divideBy(2).add(i),o),zoom:o}},fitBounds:function(e,t){if(!(e=V(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=$(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new an,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){xt(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!Ve.any3d)return this.setView(e,t,n);this._stop();var r=this.project(this.getCenter()),o=this.project(e),i=this.getSize(),a=this._zoom;e=j(e),t=void 0===t?a:t;var s=Math.max(i.x,i.y),l=s*this.getZoomScale(a,t),u=o.distanceTo(r)||1,c=1.42,d=c*c;function h(e){var t=(l*l-s*s+(e?-1:1)*d*d*u*u)/(2*(e?l:s)*d*u),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function p(e){return(Math.exp(e)-Math.exp(-e))/2}function f(e){return(Math.exp(e)+Math.exp(-e))/2}function m(e){return p(e)/f(e)}var _=h(0);function g(e){return s*(f(_)/f(_+c*e))}function v(e){return s*(f(_)*m(_+c*e)-p(_))/d}function y(e){return 1-Math.pow(1-e,1.5)}var b=Date.now(),E=(h(1)-_)/c,C=n.duration?1e3*n.duration:1e3*E*.8;function x(){var n=(Date.now()-b)/C,i=y(n)*E;n<=1?(this._flyToFrame=T(x,this),this._move(this.unproject(r.add(o.subtract(r).multiplyBy(v(i)/u)),a),this.getScaleZoom(s/g(i),a),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),x.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=V(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,V(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=$((t=t||{}).paddingTopLeft||t.padding||[0,0]),r=$(t.paddingBottomRight||t.padding||[0,0]),o=this.project(this.getCenter()),i=this.project(e),a=this.getPixelBounds(),s=D([a.min.add(n),a.max.subtract(r)]),l=s.getSize();if(!s.contains(i)){this._enforcingBounds=!0;var u=i.subtract(s.getCenter()),c=s.extend(i).getSize().subtract(l);o.x+=u.x<0?-c.x:c.x,o.y+=u.y<0?-c.y:c.y,this.panTo(this.unproject(o),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=r({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),o=t.divideBy(2).round(),a=n.divideBy(2).round(),s=o.subtract(a);return s.x||s.y?(e.animate&&e.pan?this.panBy(s):(e.pan&&this._rawPanBy(s),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=r({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=i(this._handleGeolocationResponse,this),n=i(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,n,e):navigator.geolocation.getCurrentPosition(t,n,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=new z(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),r=this._locateOptions;if(r.setView){var o=this.getBoundsZoom(n);this.setView(t,r.maxZoom?Math.min(o,r.maxZoom):o)}var i={latlng:t,bounds:n,timestamp:e.timestamp};for(var a in e.coords)"number"==typeof e.coords[a]&&(i[a]=e.coords[a]);this.fire("locationfound",i)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),vt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(k(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)vt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=gt("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new F(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=V(e),n=$(n||[0,0]);var r=this.getZoom()||0,o=this.getMinZoom(),i=this.getMaxZoom(),a=e.getNorthWest(),s=e.getSouthEast(),l=this.getSize().subtract(n),u=D(this.project(s,r),this.project(a,r)).getSize(),c=Ve.any3d?this.options.zoomSnap:1,d=l.x/u.x,h=l.y/u.y,p=t?Math.max(d,h):Math.min(d,h);return r=this.getScaleZoom(p,r),c&&(r=Math.round(r/(c/100))*(c/100),r=t?Math.ceil(r/c)*c:Math.floor(r/c)*c),Math.max(o,Math.min(i,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new B(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"==typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var r=n.zoom(e*n.scale(t));return isNaN(r)?1/0:r},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(j(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng($(e),t)},layerPointToLatLng:function(e){var t=$(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(j(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(j(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(V(e))},distance:function(e,t){return this.options.crs.distance(j(e),j(t))},containerPointToLayerPoint:function(e){return $(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return $(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint($(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(j(e)))},mouseEventToContainerPoint:function(e){return en(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=mt(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");zt(t,"scroll",this._onScroll,this),this._containerId=s(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ve.any3d,xt(e,"leaflet-container"+(Ve.touch?" leaflet-touch":"")+(Ve.retina?" leaflet-retina":"")+(Ve.ielt9?" leaflet-oldie":"")+(Ve.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=_t(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&"sticky"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ot(this._mapPane,new I(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xt(e.markerPane,"leaflet-zoom-hide"),xt(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,n){Ot(this._mapPane,new I(0,0));var r=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var o=this._zoom!==t;this._moveStart(o,n)._move(e,t)._moveEnd(o),this.fire("viewreset"),r&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n,r){void 0===t&&(t=this._zoom);var o=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),r?n&&n.pinch&&this.fire("zoom",n):((o||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return k(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Ot(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[s(this._container)]=this;var t=e?Ut:zt;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),Ve.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){k(this._resizeRequest),this._resizeRequest=T((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,r=[],o="mouseout"===t||"mouseover"===t,i=e.target||e.srcElement,a=!1;i;){if((n=this._targets[s(i)])&&("click"===t||"preclick"===t)&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(t,!0)){if(o&&!rn(i,e))break;if(r.push(n),o)break}if(i===this._container)break;i=i.parentNode}return r.length||a||o||!this.listens(t,!0)||(r=[this]),r},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(t))){var n=e.type;"mousedown"===n&&$t(t),this._fireDOMEvent(e,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,n){if("click"===e.type){var o=r({},e);o.type="preclick",this._fireDOMEvent(o,o.type,n)}var i=this._findEventTargets(e,t);if(n){for(var a=[],s=0;s<n.length;s++)n[s].listens(t,!0)&&a.push(n[s]);i=a.concat(i)}if(i.length){"contextmenu"===t&&Xt(e);var l=i[0],u={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var c=l.getLatLng&&(!l._radius||l._radius<=10);u.containerPoint=c?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(e),u.layerPoint=this.containerPointToLayerPoint(u.containerPoint),u.latlng=c?l.getLatLng():this.layerPointToLatLng(u.layerPoint)}for(s=0;s<i.length;s++)if(i[s].fire(t,u,!0),u.originalEvent._stopped||!1===i[s].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return Nt(this._mapPane)||new I(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return D([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),o=this.getSize().divideBy(2),i=new B(r.subtract(o),r.add(o)),a=this._getBoundsOffset(i,n,t);return Math.abs(a.x)<=1&&Math.abs(a.y)<=1?e:this.unproject(r.add(a),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new B(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=D(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),o=r.min.subtract(e.min),i=r.max.subtract(e.max);return new I(this._rebound(o.x,-i.x),this._rebound(o.y,-i.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),r=Ve.any3d?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){wt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n)||(this.panBy(n,t),0))},_createAnimProxy:function(){var e=this._proxy=gt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=ht,n=this._proxy.style[t];Mt(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){vt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();Mt(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),o=this._getCenterOffset(e)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(o)||(T((function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(e,t,!0)}),this),0))},_animateZoom:function(e,t,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,xt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&wt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ln(e,t){return new sn(e,t)}var un=M.extend({options:{position:"topright"},initialize:function(e){f(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return xt(t,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(vt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),cn=function(e){return new un(e)};sn.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=gt("div",t+"control-container",this._container);function r(r,o){var i=t+r+" "+t+o;e[r+o]=gt("div",i,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)vt(this._controlCorners[e]);vt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var dn=un.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,r){return n<r?-1:r<n?1:0}},initialize:function(e,t,n){for(var r in f(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return un.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(s(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){xt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(xt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):wt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return wt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=gt("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Zt(t),qt(t);var r=this._section=gt("section",e+"-list");n&&(this._map.on("click",this.collapse,this),zt(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var o=this._layersLink=gt("a",e+"-toggle",t);o.href="#",o.title="Layers",o.setAttribute("role","button"),zt(o,{keydown:function(e){13===e.keyCode&&this._expandSafely()},click:function(e){Xt(e),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=gt("div",e+"-base",r),this._separator=gt("div",e+"-separator",r),this._overlaysList=gt("div",e+"-overlays",r),t.appendChild(r)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&s(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(i((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;yt(this._baseLayersList),yt(this._overlaysList),this._layerControlInputs=[];var e,t,n,r,o=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),t=t||r.overlay,e=e||!r.overlay,o+=r.overlay?0:1;return this.options.hideSingleBase&&(e=e&&o>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(s(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(e){var t,n=document.createElement("label"),r=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=r):t=this._createRadioElement("leaflet-base-layers_"+s(this),r),this._layerControlInputs.push(t),t.layerId=s(e.layer),zt(t,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+e.name;var i=document.createElement("span");return n.appendChild(i),i.appendChild(t),i.appendChild(o),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var e,t,n=this._layerControlInputs,r=[],o=[];this._handlingClick=!0;for(var i=n.length-1;i>=0;i--)e=n[i],t=this._getLayer(e.layerId).layer,e.checked?r.push(t):e.checked||o.push(t);for(i=0;i<o.length;i++)this._map.hasLayer(o[i])&&this._map.removeLayer(o[i]);for(i=0;i<r.length;i++)this._map.hasLayer(r[i])||this._map.addLayer(r[i]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,r=this._map.getZoom(),o=n.length-1;o>=0;o--)e=n[o],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&r<t.options.minZoom||void 0!==t.options.maxZoom&&r>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,zt(e,"click",Xt),this.expand();var t=this;setTimeout((function(){Ut(e,"click",Xt),t._preventClick=!1}))}}),hn=function(e,t,n){return new dn(e,t,n)},pn=un.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=gt("div",t+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,r,o){var i=gt("a",n,r);return i.innerHTML=e,i.href="#",i.title=t,i.setAttribute("role","button"),i.setAttribute("aria-label",t),Zt(i),zt(i,"click",Jt),zt(i,"click",o,this),zt(i,"click",this._refocusOnMap,this),i},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";wt(this._zoomInButton,t),wt(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(xt(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(xt(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});sn.mergeOptions({zoomControl:!0}),sn.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new pn,this.addControl(this.zoomControl))}));var fn=function(e){return new pn(e)},mn=un.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=gt("div",t),r=this.options;return this._addScales(r,t+"-line",n),e.on(r.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=gt("div",t,n)),e.imperial&&(this._iScale=gt("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,r,o=3.2808399*e;o>5280?(t=o/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(r=this._getRoundNum(o),this._updateScale(this._iScale,r+" ft",r/o))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),_n=function(e){return new mn(e)},gn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',vn=un.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ve.inlineSvg?gn+" ":"")+"Leaflet</a>"},initialize:function(e){f(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=gt("div","leaflet-control-attribution"),Zt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",(function(){this.removeAttribution(e.layer.getAttribution())}),this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});sn.mergeOptions({attributionControl:!0}),sn.addInitHook((function(){this.options.attributionControl&&(new vn).addTo(this)}));var yn=function(e){return new vn(e)};un.Layers=dn,un.Zoom=pn,un.Scale=mn,un.Attribution=vn,cn.layers=hn,cn.zoom=fn,cn.scale=_n,cn.attribution=yn;var bn=M.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});bn.addTo=function(e,t){return e.addHandler(t,this),this};var En={Events:N},Cn=Ve.touch?"touchstart mousedown":"mousedown",xn=A.extend({options:{clickTolerance:3},initialize:function(e,t,n,r){f(this,r),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(zt(this._dragStartTarget,Cn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(xn._dragging===this&&this.finishDrag(!0),Ut(this._dragStartTarget,Cn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!Ct(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)xn._dragging===this&&this.finishDrag();else if(!(xn._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||(xn._dragging=this,this._preventOutline&&$t(this._element),It(),st(),this._moving))){this.fire("down");var t=e.touches?e.touches[0]:e,n=Dt(this._element);this._startPoint=new I(t.clientX,t.clientY),this._startPos=Nt(this._element),this._parentScale=Ft(n);var r="mousedown"===e.type;zt(document,r?"mousemove":"touchmove",this._onMove,this),zt(document,r?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(e){if(this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new I(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Xt(e),this._moved||(this.fire("dragstart"),this._moved=!0,xt(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Ot(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){wt(document.body,"leaflet-dragging"),this._lastTarget&&(wt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ut(document,"mousemove touchmove",this._onMove,this),Ut(document,"mouseup touchend touchcancel",this._onUp,this),Rt(),lt();var t=this._moved&&this._moving;this._moving=!1,xn._dragging=!1,t&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function wn(e,t,n){var r,o,i,a,s,l,u,c,d,h=[1,4,2,8];for(o=0,u=e.length;o<u;o++)e[o]._code=Bn(e[o],t);for(a=0;a<4;a++){for(c=h[a],r=[],o=0,i=(u=e.length)-1;o<u;i=o++)s=e[o],l=e[i],s._code&c?l._code&c||((d=$n(l,s,c,t,n))._code=Bn(d,t),r.push(d)):(l._code&c&&((d=$n(l,s,c,t,n))._code=Bn(d,t),r.push(d)),r.push(s));e=r}return e}function Sn(e,t){var n,r,o,i,a,s,l,u,c;if(!e||0===e.length)throw new Error("latlngs not passed");Vn(e)||(e=e[0]);var d=j([0,0]),h=V(e);h.getNorthWest().distanceTo(h.getSouthWest())*h.getNorthEast().distanceTo(h.getNorthWest())<1700&&(d=Tn(e));var p=e.length,f=[];for(n=0;n<p;n++){var m=j(e[n]);f.push(t.project(j([m.lat-d.lat,m.lng-d.lng])))}for(s=l=u=0,n=0,r=p-1;n<p;r=n++)o=f[n],i=f[r],a=o.y*i.x-i.y*o.x,l+=(o.x+i.x)*a,u+=(o.y+i.y)*a,s+=3*a;c=0===s?f[0]:[l/s,u/s];var _=t.unproject($(c));return j([_.lat+d.lat,_.lng+d.lng])}function Tn(e){for(var t=0,n=0,r=0,o=0;o<e.length;o++){var i=j(e[o]);t+=i.lat,n+=i.lng,r++}return j([t/r,n/r])}var kn,Ln={__proto__:null,clipPolygon:wn,polygonCenter:Sn,centroid:Tn};function Pn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=Nn(e=In(e,n),n)}function Mn(e,t,n){return Math.sqrt(Fn(e,t,n,!0))}function On(e,t,n){return Fn(e,t,n)}function Nn(e,t){var n=e.length,r=new("undefined"!=typeof Uint8Array?Uint8Array:Array)(n);r[0]=r[n-1]=1,An(e,r,t,0,n-1);var o,i=[];for(o=0;o<n;o++)r[o]&&i.push(e[o]);return i}function An(e,t,n,r,o){var i,a,s,l=0;for(a=r+1;a<=o-1;a++)(s=Fn(e[a],e[r],e[o],!0))>l&&(i=a,l=s);l>n&&(t[i]=1,An(e,t,n,r,i),An(e,t,n,i,o))}function In(e,t){for(var n=[e[0]],r=1,o=0,i=e.length;r<i;r++)Dn(e[r],e[o])>t&&(n.push(e[r]),o=r);return o<i-1&&n.push(e[i-1]),n}function Rn(e,t,n,r,o){var i,a,s,l=r?kn:Bn(e,n),u=Bn(t,n);for(kn=u;;){if(!(l|u))return[e,t];if(l&u)return!1;s=Bn(a=$n(e,t,i=l||u,n,o),n),i===l?(e=a,l=s):(t=a,u=s)}}function $n(e,t,n,r,o){var i,a,s=t.x-e.x,l=t.y-e.y,u=r.min,c=r.max;return 8&n?(i=e.x+s*(c.y-e.y)/l,a=c.y):4&n?(i=e.x+s*(u.y-e.y)/l,a=u.y):2&n?(i=c.x,a=e.y+l*(c.x-e.x)/s):1&n&&(i=u.x,a=e.y+l*(u.x-e.x)/s),new I(i,a,o)}function Bn(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function Dn(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function Fn(e,t,n,r){var o,i=t.x,a=t.y,s=n.x-i,l=n.y-a,u=s*s+l*l;return u>0&&((o=((e.x-i)*s+(e.y-a)*l)/u)>1?(i=n.x,a=n.y):o>0&&(i+=s*o,a+=l*o)),s=e.x-i,l=e.y-a,r?s*s+l*l:new I(i,a)}function Vn(e){return!v(e[0])||"object"!=typeof e[0][0]&&void 0!==e[0][0]}function zn(e){return Vn(e)}function jn(e,t){var n,r,o,i,a,s,l,u;if(!e||0===e.length)throw new Error("latlngs not passed");Vn(e)||(e=e[0]);var c=j([0,0]),d=V(e);d.getNorthWest().distanceTo(d.getSouthWest())*d.getNorthEast().distanceTo(d.getNorthWest())<1700&&(c=Tn(e));var h=e.length,p=[];for(n=0;n<h;n++){var f=j(e[n]);p.push(t.project(j([f.lat-c.lat,f.lng-c.lng])))}for(n=0,r=0;n<h-1;n++)r+=p[n].distanceTo(p[n+1])/2;if(0===r)u=p[0];else for(n=0,i=0;n<h-1;n++)if(a=p[n],s=p[n+1],(i+=o=a.distanceTo(s))>r){l=(i-r)/o,u=[s.x-l*(s.x-a.x),s.y-l*(s.y-a.y)];break}var m=t.unproject($(u));return j([m.lat+c.lat,m.lng+c.lng])}var Un={__proto__:null,simplify:Pn,pointToSegmentDistance:Mn,closestPointOnSegment:On,clipSegment:Rn,_getEdgeIntersection:$n,_getBitCode:Bn,_sqClosestPointOnSegment:Fn,isFlat:Vn,_flat:zn,polylineCenter:jn},Gn={project:function(e){return new I(e.lng,e.lat)},unproject:function(e){return new z(e.y,e.x)},bounds:new B([-180,-90],[180,90])},Hn={R:6378137,R_MINOR:6356752.314245179,bounds:new B([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,r=e.lat*t,o=this.R_MINOR/n,i=Math.sqrt(1-o*o),a=i*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-a)/(1+a),i/2);return r=-n*Math.log(Math.max(s,1e-10)),new I(e.lng*t*n,r)},unproject:function(e){for(var t,n=180/Math.PI,r=this.R,o=this.R_MINOR/r,i=Math.sqrt(1-o*o),a=Math.exp(-e.y/r),s=Math.PI/2-2*Math.atan(a),l=0,u=.1;l<15&&Math.abs(u)>1e-7;l++)t=i*Math.sin(s),t=Math.pow((1-t)/(1+t),i/2),s+=u=Math.PI/2-2*Math.atan(a*t)-s;return new z(s*n,e.x*n/r)}},Kn={__proto__:null,LonLat:Gn,Mercator:Hn,SphericalMercator:W},Wn=r({},H,{code:"EPSG:3395",projection:Hn,transformation:function(){var e=.5/(Math.PI*Hn.R);return q(e,.5,-e,.5)}()}),Yn=r({},H,{code:"EPSG:4326",projection:Gn,transformation:q(1/180,1,-1/180,.5)}),qn=r({},G,{projection:Gn,transformation:q(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!0});G.Earth=H,G.EPSG3395=Wn,G.EPSG3857=X,G.EPSG900913=J,G.EPSG4326=Yn,G.Simple=qn;var Zn=A.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[s(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[s(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",(function(){t.off(n,this)}),this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});sn.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=s(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=s(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return s(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?v(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[s(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=s(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var o=this._zoomBoundLayers[r].options;e=void 0===o.minZoom?e:Math.min(e,o.minZoom),t=void 0===o.maxZoom?t:Math.max(t,o.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Xn=Zn.extend({initialize:function(e,t){var n,r;if(f(this,t),this._layers={},e)for(n=0,r=e.length;n<r;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return("number"==typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,r=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return s(e)}}),Jn=function(e,t){return new Xn(e,t)},Qn=Xn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Xn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Xn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new F;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),er=function(e,t){return new Qn(e,t)},tr=M.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){f(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(r,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(r.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),r},_setIconStyles:function(e,t){var n=this.options,r=n[t+"Size"];"number"==typeof r&&(r=[r,r]);var o=$(r),i=$("shadow"===t&&n.shadowAnchor||n.iconAnchor||o&&o.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),i&&(e.style.marginLeft=-i.x+"px",e.style.marginTop=-i.y+"px"),o&&(e.style.width=o.x+"px",e.style.height=o.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Ve.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function nr(e){return new tr(e)}var rr=tr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!=typeof rr.imagePath&&(rr.imagePath=this._detectIconPath()),(this.options.imagePath||rr.imagePath)+tr.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,n){var r=t.exec(e);return r&&r[n]};return(e=t(e,/^url\((['"])?(.+)\1\)$/,2))&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=gt("div","leaflet-default-icon-path",document.body),t=_t(e,"background-image")||_t(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t))return t;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),or=bn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new xn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xt(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&wt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,r=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,i=Nt(t._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),l=D(a.min._subtract(s).add(o),a.max._subtract(s).subtract(o));if(!l.contains(i)){var u=$((Math.max(l.max.x,i.x)-l.max.x)/(a.max.x-l.max.x)-(Math.min(l.min.x,i.x)-l.min.x)/(a.min.x-l.min.x),(Math.max(l.max.y,i.y)-l.max.y)/(a.max.y-l.max.y)-(Math.min(l.min.y,i.y)-l.min.y)/(a.min.y-l.min.y)).multiplyBy(r);n.panBy(u,{animate:!1}),this._draggable._newPos._add(u),this._draggable._startPos._add(u),Ot(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=T(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(k(this._panRequest),this._panRequest=T(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,r=Nt(t._icon),o=t._map.layerPointToLatLng(r);n&&Ot(n,r),t._latlng=o,e.latlng=o,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){k(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),ir=Zn.extend({options:{icon:new rr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){f(this,t),this._latlng=j(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=j(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),xt(n,t),e.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&zt(n,"focus",this._panOnFocus,this);var o=e.icon.createShadow(this._shadow),i=!1;o!==this._shadow&&(this._removeShadow(),i=!0),o&&(xt(o,t),o.alt=""),this._shadow=o,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&i&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ut(this._icon,"focus",this._panOnFocus,this),vt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&vt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Ot(this._icon,e),this._shadow&&Ot(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(xt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),or)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new or(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&kt(this._icon,e),this._shadow&&kt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?$(t.iconSize):$(0,0),r=t.iconAnchor?$(t.iconAnchor):$(0,0);e.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:n.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ar(e,t){return new ir(e,t)}var sr=Zn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return f(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),lr=sr.extend({options:{fill:!0,radius:10},initialize:function(e,t){f(this,t),this._latlng=j(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=j(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return sr.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new B(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ur(e,t){return new lr(e,t)}var cr=lr.extend({initialize:function(e,t,n){if("number"==typeof t&&(t=r({},n,{radius:t})),f(this,t),this._latlng=j(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new F(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:sr.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===H.distance){var o=Math.PI/180,i=this._mRadius/H.R/o,a=n.project([t+i,e]),s=n.project([t-i,e]),l=a.add(s).divideBy(2),u=n.unproject(l).lat,c=Math.acos((Math.cos(i*o)-Math.sin(t*o)*Math.sin(u*o))/(Math.cos(t*o)*Math.cos(u*o)))/o;(isNaN(c)||0===c)&&(c=i/Math.cos(Math.PI/180*t)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:l.x-n.project([u,e-c]).x,this._radiusY=l.y-a.y}else{var d=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(d).x}this._updateBounds()}});function dr(e,t,n){return new cr(e,t,n)}var hr=sr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){f(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,r=1/0,o=null,i=Fn,a=0,s=this._parts.length;a<s;a++)for(var l=this._parts[a],u=1,c=l.length;u<c;u++){var d=i(e,t=l[u-1],n=l[u],!0);d<r&&(r=d,o=i(e,t,n))}return o&&(o.distance=Math.sqrt(r)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return jn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=j(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new F,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Vn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=Vn(e),r=0,o=e.length;r<o;r++)n?(t[r]=j(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new I(e,e);this._rawPxBounds&&(this._pxBounds=new B([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var r,o,i=e[0]instanceof z,a=e.length;if(i){for(o=[],r=0;r<a;r++)o[r]=this._map.latLngToLayerPoint(e[r]),n.extend(o[r]);t.push(o)}else for(r=0;r<a;r++)this._projectLatlngs(e[r],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,r,o,i,a,s,l=this._parts;for(t=0,r=0,o=this._rings.length;t<o;t++)for(n=0,i=(s=this._rings[t]).length;n<i-1;n++)(a=Rn(s[n],s[n+1],e,n,!0))&&(l[r]=l[r]||[],l[r].push(a[0]),a[1]===s[n+1]&&n!==i-2||(l[r].push(a[1]),r++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,r=e.length;n<r;n++)e[n]=Pn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,r,o,i,a,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,i=this._parts.length;n<i;n++)for(r=0,o=(a=(s=this._parts[n]).length)-1;r<a;o=r++)if((t||0!==r)&&Mn(e,s[o],s[r])<=l)return!0;return!1}});function pr(e,t){return new hr(e,t)}hr._flat=zn;var fr=hr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Sn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=hr.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof z&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){hr.prototype._setLatLngs.call(this,e),Vn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Vn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new I(t,t);if(e=new B(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var r,o=0,i=this._rings.length;o<i;o++)(r=wn(this._rings[o],e,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,r,o,i,a,s,l,u=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(o=0,s=this._parts.length;o<s;o++)for(i=0,a=(l=(t=this._parts[o]).length)-1;i<l;a=i++)n=t[i],r=t[a],n.y>e.y!=r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(u=!u);return u||hr.prototype._containsPoint.call(this,e,!0)}});function mr(e,t){return new fr(e,t)}var _r=Qn.extend({initialize:function(e,t){f(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,r,o=v(e)?e:e.features;if(o){for(t=0,n=o.length;t<n;t++)((r=o[t]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var i=this.options;if(i.filter&&!i.filter(e))return this;var a=gr(e,i);return a?(a.feature=wr(e),a.defaultOptions=a.options,this.resetStyle(a),i.onEachFeature&&i.onEachFeature(e,a),this.addLayer(a)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=r({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){e.setStyle&&("function"==typeof t&&(t=t(e.feature)),e.setStyle(t))}});function gr(e,t){var n,r,o,i,a="Feature"===e.type?e.geometry:e,s=a?a.coordinates:null,l=[],u=t&&t.pointToLayer,c=t&&t.coordsToLatLng||yr;if(!s&&!a)return null;switch(a.type){case"Point":return vr(u,e,n=c(s),t);case"MultiPoint":for(o=0,i=s.length;o<i;o++)n=c(s[o]),l.push(vr(u,e,n,t));return new Qn(l);case"LineString":case"MultiLineString":return r=br(s,"LineString"===a.type?0:1,c),new hr(r,t);case"Polygon":case"MultiPolygon":return r=br(s,"Polygon"===a.type?1:2,c),new fr(r,t);case"GeometryCollection":for(o=0,i=a.geometries.length;o<i;o++){var d=gr({geometry:a.geometries[o],type:"Feature",properties:e.properties},t);d&&l.push(d)}return new Qn(l);case"FeatureCollection":for(o=0,i=a.features.length;o<i;o++){var h=gr(a.features[o],t);h&&l.push(h)}return new Qn(l);default:throw new Error("Invalid GeoJSON object.")}}function vr(e,t,n,r){return e?e(t,n):new ir(n,r&&r.markersInheritOptions&&r)}function yr(e){return new z(e[1],e[0],e[2])}function br(e,t,n){for(var r,o=[],i=0,a=e.length;i<a;i++)r=t?br(e[i],t-1,n):(n||yr)(e[i]),o.push(r);return o}function Er(e,t){return void 0!==(e=j(e)).alt?[d(e.lng,t),d(e.lat,t),d(e.alt,t)]:[d(e.lng,t),d(e.lat,t)]}function Cr(e,t,n,r){for(var o=[],i=0,a=e.length;i<a;i++)o.push(t?Cr(e[i],Vn(e[i])?0:t-1,n,r):Er(e[i],r));return!t&&n&&o.length>0&&o.push(o[0].slice()),o}function xr(e,t){return e.feature?r({},e.feature,{geometry:t}):wr(t)}function wr(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var Sr={toGeoJSON:function(e){return xr(this,{type:"Point",coordinates:Er(this.getLatLng(),e)})}};function Tr(e,t){return new _r(e,t)}ir.include(Sr),cr.include(Sr),lr.include(Sr),hr.include({toGeoJSON:function(e){var t=!Vn(this._latlngs);return xr(this,{type:(t?"Multi":"")+"LineString",coordinates:Cr(this._latlngs,t?1:0,!1,e)})}}),fr.include({toGeoJSON:function(e){var t=!Vn(this._latlngs),n=t&&!Vn(this._latlngs[0]),r=Cr(this._latlngs,n?2:t?1:0,!0,e);return t||(r=[r]),xr(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),Xn.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(n){t.push(n.toGeoJSON(e).geometry.coordinates)})),xr(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,r=[];return this.eachLayer((function(t){if(t.toGeoJSON){var o=t.toGeoJSON(e);if(n)r.push(o.geometry);else{var i=wr(o);"FeatureCollection"===i.type?r.push.apply(r,i.features):r.push(i)}}})),n?xr(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var kr=Tr,Lr=Zn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=V(t),f(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){vt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&bt(this._image),this},bringToBack:function(){return this._map&&Et(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=V(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:gt("img");xt(t,"leaflet-image-layer"),this._zoomAnimated&&xt(t,"leaflet-zoom-animated"),this.options.className&&xt(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onload=i(this.fire,this,"load"),t.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Mt(this._image,n,t)},_reset:function(){var e=this._image,t=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();Ot(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){kt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Pr=function(e,t,n){return new Lr(e,t,n)},Mr=Lr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:gt("video");if(xt(t,"leaflet-image-layer"),this._zoomAnimated&&xt(t,"leaflet-zoom-animated"),this.options.className&&xt(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onloadeddata=i(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),r=[],o=0;o<n.length;o++)r.push(n[o].src);this._url=n.length>0?r:[t.src]}else{v(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var a=0;a<this._url.length;a++){var s=gt("source");s.src=this._url[a],t.appendChild(s)}}}});function Or(e,t,n){return new Mr(e,t,n)}var Nr=Lr.extend({_initImage:function(){var e=this._image=this._url;xt(e,"leaflet-image-layer"),this._zoomAnimated&&xt(e,"leaflet-zoom-animated"),this.options.className&&xt(e,this.options.className),e.onselectstart=c,e.onmousemove=c}});function Ar(e,t,n){return new Nr(e,t,n)}var Ir=Zn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof z||v(e))?(this._latlng=j(e),f(this,t)):(f(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&kt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&kt(this._container,1),this.bringToFront(),this.options.interactive&&(xt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(kt(this._container,0),this._removeTimeout=setTimeout(i(vt,void 0,this._container),200)):vt(this._container),this.options.interactive&&(wt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=j(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&bt(this._container),this},bringToBack:function(){return this._map&&Et(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof Qn){t=null;var n=this._source._layers;for(var r in n)if(n[r]._map){t=n[r];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else{if(!t.getBounds)throw new Error("Unable to get source layer LatLng.");e=t.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=$(this.options.offset),n=this._getAnchor();this._zoomAnimated?Ot(this._container,e.add(n)):t=t.add(e).add(n);var r=this._containerBottom=-t.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}});sn.include({_initOverlay:function(e,t,n,r){var o=t;return o instanceof e||(o=new e(r).setContent(t)),n&&o.setLatLng(n),o}}),Zn.include({_initOverlay:function(e,t,n,r){var o=n;return o instanceof e?(f(o,r),o._source=this):(o=t&&!r?t:new e(r,this)).setContent(n),o}});var Rr=Ir.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Ir.prototype.openOn.call(this,e)},onAdd:function(e){Ir.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof sr||this._source.on("preclick",Yt))},onRemove:function(e){Ir.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof sr||this._source.off("preclick",Yt))},getEvents:function(){var e=Ir.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=gt("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=gt("div",e+"-content-wrapper",t);if(this._contentNode=gt("div",e+"-content",n),Zt(t),qt(this._contentNode),zt(t,"contextmenu",Yt),this._tipContainer=gt("div",e+"-tip-container",t),this._tip=gt("div",e+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=gt("a",e+"-close-button",t);r.setAttribute("role","button"),r.setAttribute("aria-label","Close popup"),r.href="#close",r.innerHTML='<span aria-hidden="true">&#215;</span>',zt(r,"click",(function(e){Xt(e),this.close()}),this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var r=e.offsetHeight,o=this.options.maxHeight,i="leaflet-popup-scrolled";o&&r>o?(t.height=o+"px",xt(e,i)):wt(e,i),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();Ot(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var e=this._map,t=parseInt(_t(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,r=this._containerWidth,o=new I(this._containerLeft,-n-this._containerBottom);o._add(Nt(this._container));var i=e.layerPointToContainerPoint(o),a=$(this.options.autoPanPadding),s=$(this.options.autoPanPaddingTopLeft||a),l=$(this.options.autoPanPaddingBottomRight||a),u=e.getSize(),c=0,d=0;i.x+r+l.x>u.x&&(c=i.x+r-u.x+l.x),i.x-c-s.x<0&&(c=i.x-s.x),i.y+n+l.y>u.y&&(d=i.y+n-u.y+l.y),i.y-d-s.y<0&&(d=i.y-s.y),(c||d)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([c,d]))}},_getAnchor:function(){return $(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),$r=function(e,t){return new Rr(e,t)};sn.mergeOptions({closePopupOnClick:!0}),sn.include({openPopup:function(e,t,n){return this._initOverlay(Rr,e,t,n).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),Zn.include({bindPopup:function(e,t){return this._popup=this._initOverlay(Rr,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Qn||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){Jt(e);var t=e.layer||e.target;this._popup._source!==t||t instanceof sr?(this._popup._source=t,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Br=Ir.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Ir.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Ir.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Ir.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=gt("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+s(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,r=this._map,o=this._container,i=r.latLngToContainerPoint(r.getCenter()),a=r.layerPointToContainerPoint(e),s=this.options.direction,l=o.offsetWidth,u=o.offsetHeight,c=$(this.options.offset),d=this._getAnchor();"top"===s?(t=l/2,n=u):"bottom"===s?(t=l/2,n=0):"center"===s?(t=l/2,n=u/2):"right"===s?(t=0,n=u/2):"left"===s?(t=l,n=u/2):a.x<i.x?(s="right",t=0,n=u/2):(s="left",t=l+2*(c.x+d.x),n=u/2),e=e.subtract($(t,n,!0)).add(c).add(d),wt(o,"leaflet-tooltip-right"),wt(o,"leaflet-tooltip-left"),wt(o,"leaflet-tooltip-top"),wt(o,"leaflet-tooltip-bottom"),xt(o,"leaflet-tooltip-"+s),Ot(o,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&kt(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return $(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Dr=function(e,t){return new Br(e,t)};sn.include({openTooltip:function(e,t,n){return this._initOverlay(Br,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Zn.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Br,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Qn||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t="function"==typeof e.getElement&&e.getElement();t&&(zt(t,"focus",(function(){this._tooltip._source=e,this.openTooltip()}),this),zt(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t="function"==typeof e.getElement&&e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once("moveend",(function(){t._openOnceFlag=!1,t._openTooltip(e)}))}else this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,r=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var Fr=tr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(yt(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=$(n.bgPos);t.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function Vr(e){return new Fr(e)}tr.Default=rr;var zr=Zn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ve.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){f(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),vt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(bt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Et(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=l(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof I?e:new I(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,r=-e(-1/0,1/0),o=0,i=n.length;o<i;o++)t=n[o].style.zIndex,n[o]!==this._container&&t&&(r=e(r,+t));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ve.ielt9){kt(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var r in this._tiles){var o=this._tiles[r];if(o.current&&o.loaded){var i=Math.min(1,(e-o.loaded)/200);kt(o.el,i),i<1?t=!0:(o.active?n=!0:this._onOpaqueTile(o),o.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(k(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=gt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(vt(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[e],o=this._map;return r||((r=this._levels[e]={}).el=gt("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=t,r.origin=o.project(o.unproject(o.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,o.getCenter(),o.getZoom()),c(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)vt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,r){var o=Math.floor(e/2),i=Math.floor(t/2),a=n-1,s=new I(+o,+i);s.z=+a;var l=this._tileCoordsToKey(s),u=this._tiles[l];return u&&u.active?(u.retain=!0,!0):(u&&u.loaded&&(u.retain=!0),a>r&&this._retainParent(o,i,a,r))},_retainChildren:function(e,t,n,r){for(var o=2*e;o<2*e+2;o++)for(var i=2*t;i<2*t+2;i++){var a=new I(o,i);a.z=n+1;var s=this._tileCoordsToKey(a),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<r&&this._retainChildren(o,i,n+1,r))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,r){var o=Math.round(t);o=void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom?void 0:this._clampZoom(o);var i=this.options.updateWhenZooming&&o!==this._tileZoom;r&&!i||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var r=this._map.getZoomScale(n,e.zoom),o=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();Ve.any3d?Mt(e.el,o,r):Ot(e.el,o)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),o=t.project(e,this._tileZoom).floor(),i=t.getSize().divideBy(2*r);return new B(o.subtract(i),o.add(i))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(e),o=this._pxBoundsToTileRange(r),i=o.getCenter(),a=[],s=this.options.keepBuffer,l=new B(o.getBottomLeft().subtract([s,-s]),o.getTopRight().add([s,-s]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var u in this._tiles){var c=this._tiles[u].coords;c.z===this._tileZoom&&l.contains(new I(c.x,c.y))||(this._tiles[u].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var d=o.min.y;d<=o.max.y;d++)for(var h=o.min.x;h<=o.max.x;h++){var p=new I(h,d);if(p.z=this._tileZoom,this._isValidTile(p)){var f=this._tiles[this._tileCoordsToKey(p)];f?f.current=!0:a.push(p)}}if(a.sort((function(e,t){return e.distanceTo(i)-t.distanceTo(i)})),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(h=0;h<a.length;h++)this._addTile(a[h],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return V(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),r=e.scaleBy(n),o=r.add(n);return[t.unproject(r,e.z),t.unproject(o,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new F(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new I(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(vt(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){xt(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=c,e.onmousemove=c,Ve.ielt9&&this.options.opacity<1&&kt(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),r=this._tileCoordsToKey(e),o=this.createTile(this._wrapCoords(e),i(this._tileReady,this,e));this._initTile(o),this.createTile.length<2&&T(i(this._tileReady,this,e,null,o)),Ot(o,n),this._tiles[r]={el:o,coords:e,current:!0},t.appendChild(o),this.fire("tileloadstart",{tile:o,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var r=this._tileCoordsToKey(e);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(kt(n.el,0),k(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(xt(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ve.ielt9||!this._map._fadeAnimated?T(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new I(this._wrapX?u(e.x,this._wrapX):e.x,this._wrapY?u(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new B(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function jr(e){return new zr(e)}var Ur=zr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,(t=f(this,t)).detectRetina&&Ve.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),"string"==typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return zt(n,"load",i(this._tileOnLoad,this,t,n)),zt(n,"error",i(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:Ve.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=n),t["-y"]=n}return g(this._url,r(t,this.options))},_tileOnLoad:function(e,t){Ve.ielt9?setTimeout(i(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var r=this.options.errorTileUrl;r&&t.getAttribute("src")!==r&&(t.src=r),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=c,t.onerror=c,!t.complete)){t.src=b;var n=this._tiles[e].coords;vt(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",b),zr.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==b))return zr.prototype._tileReady.call(this,e,t,n)}});function Gr(e,t){return new Ur(e,t)}var Hr=Ur.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var n=r({},this.defaultWmsParams);for(var o in t)o in this.options||(n[o]=t[o]);var i=(t=f(this,t)).detectRetina&&Ve.retina?2:1,a=this.getTileSize();n.width=a.x*i,n.height=a.y*i,this.wmsParams=n},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,Ur.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,r=D(n.project(t[0]),n.project(t[1])),o=r.min,i=r.max,a=(this._wmsVersion>=1.3&&this._crs===Yn?[o.y,o.x,i.y,i.x]:[o.x,o.y,i.x,i.y]).join(","),s=Ur.prototype.getTileUrl.call(this,e);return s+m(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(e,t){return r(this.wmsParams,e),t||this.redraw(),this}});function Kr(e,t){return new Hr(e,t)}Ur.WMS=Hr,Gr.wms=Kr;var Wr=Zn.extend({options:{padding:.1},initialize:function(e){f(this,e),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,t),i=r.multiplyBy(-n).add(o).subtract(this._map._getNewPixelOrigin(e,t));Ve.any3d?Mt(this._container,i,n):Ot(this._container,i)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new B(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Yr=Wr.extend({options:{tolerance:0},getEvents:function(){var e=Wr.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Wr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");zt(e,"mousemove",this._onMouseMove,this),zt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),zt(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){k(this._redrawRequest),delete this._ctx,vt(this._container),Ut(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Wr.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),r=Ve.retina?2:1;Ot(t,e.min),t.width=r*n.x,t.height=r*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",Ve.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Wr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[s(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,r=t.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete e._order,delete this._layers[s(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"==typeof e.options.dashArray){var t,n,r=e.options.dashArray.split(/[, ]+/),o=[];for(n=0;n<r.length;n++){if(t=Number(r[n]),isNaN(t))return;o.push(t)}e.options._dashArray=o}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||T(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,r,o,i,a=e._parts,s=a.length,l=this._ctx;if(s){for(l.beginPath(),n=0;n<s;n++){for(r=0,o=a[n].length;r<o;r++)i=a[n][r],l[r?"lineTo":"moveTo"](i.x,i.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,r=Math.max(Math.round(e._radius),1),o=(Math.max(Math.round(e._radiusY),1)||r)/r;1!==o&&(n.save(),n.scale(1,o)),n.beginPath(),n.arc(t.x,t.y/o,r,0,2*Math.PI,!1),1!==o&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,r=this._map.mouseEventToLayerPoint(e),o=this._drawFirst;o;o=o.next)(t=o.layer).options.interactive&&t._containsPoint(r)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(n=t);this._fireEvent(!!n&&[n],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(wt(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,r,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(t)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(xt(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(i((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function qr(e){return Ve.canvas?new Yr(e):null}var Zr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Xr={_initContainer:function(){this._container=gt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Wr.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Zr("shape");xt(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Zr("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[s(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;vt(t),e.removeInteractiveTarget(t),delete this._layers[s(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,r=e.options,o=e._container;o.stroked=!!r.stroke,o.filled=!!r.fill,r.stroke?(t||(t=e._stroke=Zr("stroke")),o.appendChild(t),t.weight=r.weight+"px",t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=v(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=r.lineCap.replace("butt","flat"),t.joinstyle=r.lineJoin):t&&(o.removeChild(t),e._stroke=null),r.fill?(n||(n=e._fill=Zr("fill")),o.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(o.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),r=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+r+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){bt(e._container)},_bringToBack:function(e){Et(e._container)}},Jr=Ve.vml?Zr:Q,Qr=Wr.extend({_initContainer:function(){this._container=Jr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Jr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){vt(this._container),Ut(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Wr.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),Ot(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=Jr("path");e.options.className&&xt(t,e.options.className),e.options.interactive&&xt(t,"leaflet-interactive"),this._updateStyle(e),this._layers[s(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){vt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[s(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,ee(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),r="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",o=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(e,o)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){bt(e._path)},_bringToBack:function(e){Et(e._path)}});function eo(e){return Ve.svg||Ve.vml?new Qr(e):null}Ve.vml&&Qr.include(Xr),sn.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&qr(e)||eo(e)}});var to=fr.extend({initialize:function(e,t){fr.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=V(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function no(e,t){return new to(e,t)}Qr.create=Jr,Qr.pointsToPath=ee,_r.geometryToLayer=gr,_r.coordsToLatLng=yr,_r.coordsToLatLngs=br,_r.latLngToCoords=Er,_r.latLngsToCoords=Cr,_r.getFeature=xr,_r.asFeature=wr,sn.mergeOptions({boxZoom:!0});var ro=bn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){zt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ut(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){vt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),st(),It(),this._startPoint=this._map.mouseEventToContainerPoint(e),zt(document,{contextmenu:Jt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=gt("div","leaflet-zoom-box",this._container),xt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new B(this._point,this._startPoint),n=t.getSize();Ot(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(vt(this._box),wt(this._container,"leaflet-crosshair")),lt(),Rt(),Ut(document,{contextmenu:Jt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var t=new F(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});sn.addInitHook("addHandler","boxZoom",ro),sn.mergeOptions({doubleClickZoom:!0});var oo=bn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),r=t.options.zoomDelta,o=e.originalEvent.shiftKey?n-r:n+r;"center"===t.options.doubleClickZoom?t.setZoom(o):t.setZoomAround(e.containerPoint,o)}});sn.addInitHook("addHandler","doubleClickZoom",oo),sn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var io=bn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new xn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}xt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){wt(this._map._container,"leaflet-grab"),wt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=V(this._map.options.maxBounds);this._offsetLimit=D(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,o=(r-t+n)%e+t-n,i=(r+t+n)%e-t-n,a=Math.abs(o+n)<Math.abs(i+n)?o:i;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(e){var t=this._map,n=t.options,r=!n.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),r)t.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),i=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=o.multiplyBy(a/i),l=s.distanceTo([0,0]),u=Math.min(n.inertiaMaxSpeed,l),c=s.multiplyBy(u/l),d=u/(n.inertiaDeceleration*a),h=c.multiplyBy(-d/2).round();h.x||h.y?(h=t._limitOffset(h,t.options.maxBounds),T((function(){t.panBy(h,{duration:d,easeLinearity:a,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});sn.addInitHook("addHandler","dragging",io),sn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ao=bn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),zt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ut(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,r=this._panKeys={},o=this.keyCodes;for(t=0,n=o.left.length;t<n;t++)r[o.left[t]]=[-1*e,0];for(t=0,n=o.right.length;t<n;t++)r[o.right[t]]=[e,0];for(t=0,n=o.down.length;t<n;t++)r[o.down[t]]=[0,e];for(t=0,n=o.up.length;t<n;t++)r[o.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,r=this._zoomKeys={},o=this.keyCodes;for(t=0,n=o.zoomIn.length;t<n;t++)r[o.zoomIn[t]]=e;for(t=0,n=o.zoomOut.length;t<n;t++)r[o.zoomOut[t]]=-e},_addHooks:function(){zt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ut(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,r=this._map;if(n in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(t=this._panKeys[n],e.shiftKey&&(t=$(t).multiplyBy(3)),r.options.maxBounds&&(t=r._limitOffset($(t),r.options.maxBounds)),r.options.worldCopyJump){var o=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(t)));r.panTo(o)}else r.panBy(t)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}Jt(e)}}});sn.addInitHook("addHandler","keyboard",ao),sn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var so=bn.extend({addHooks:function(){zt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ut(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=nn(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),Jt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,i=n?Math.ceil(o/n)*n:o,a=e._limitZoom(t+(this._delta>0?i:-i))-t;this._delta=0,this._startTime=null,a&&("center"===e.options.scrollWheelZoom?e.setZoom(t+a):e.setZoomAround(this._lastMousePos,t+a))}});sn.addInitHook("addHandler","scrollWheelZoom",so);var lo=600;sn.mergeOptions({tapHold:Ve.touchNative&&Ve.safari&&Ve.mobile,tapTolerance:15});var uo=bn.extend({addHooks:function(){zt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ut(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var t=e.touches[0];this._startPos=this._newPos=new I(t.clientX,t.clientY),this._holdTimeout=setTimeout(i((function(){this._cancel(),this._isTapValid()&&(zt(document,"touchend",Xt),zt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))}),this),lo),zt(document,"touchend touchcancel contextmenu",this._cancel,this),zt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Ut(document,"touchend",Xt),Ut(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Ut(document,"touchend touchcancel contextmenu",this._cancel,this),Ut(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new I(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});sn.addInitHook("addHandler","tapHold",uo),sn.mergeOptions({touchZoom:Ve.touch,bounceAtZoomLimits:!0});var co=bn.extend({addHooks:function(){xt(this._map._container,"leaflet-touch-zoom"),zt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){wt(this._map._container,"leaflet-touch-zoom"),Ut(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),zt(document,"touchmove",this._onTouchMove,this),zt(document,"touchend touchcancel",this._onTouchEnd,this),Xt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),o=n.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(o,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&o<1||this._zoom>t.getMaxZoom()&&o>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var a=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===a.x&&0===a.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),k(this._animRequest);var s=i(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=T(s,this,!0),Xt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,k(this._animRequest),Ut(document,"touchmove",this._onTouchMove,this),Ut(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});sn.addInitHook("addHandler","touchZoom",co),sn.BoxZoom=ro,sn.DoubleClickZoom=oo,sn.Drag=io,sn.Keyboard=ao,sn.ScrollWheelZoom=so,sn.TapHold=uo,sn.TouchZoom=co,t.Bounds=B,t.Browser=Ve,t.CRS=G,t.Canvas=Yr,t.Circle=cr,t.CircleMarker=lr,t.Class=M,t.Control=un,t.DivIcon=Fr,t.DivOverlay=Ir,t.DomEvent=on,t.DomUtil=Vt,t.Draggable=xn,t.Evented=A,t.FeatureGroup=Qn,t.GeoJSON=_r,t.GridLayer=zr,t.Handler=bn,t.Icon=tr,t.ImageOverlay=Lr,t.LatLng=z,t.LatLngBounds=F,t.Layer=Zn,t.LayerGroup=Xn,t.LineUtil=Un,t.Map=sn,t.Marker=ir,t.Mixin=En,t.Path=sr,t.Point=I,t.PolyUtil=Ln,t.Polygon=fr,t.Polyline=hr,t.Popup=Rr,t.PosAnimation=an,t.Projection=Kn,t.Rectangle=to,t.Renderer=Wr,t.SVG=Qr,t.SVGOverlay=Nr,t.TileLayer=Ur,t.Tooltip=Br,t.Transformation=Y,t.Util=P,t.VideoOverlay=Mr,t.bind=i,t.bounds=D,t.canvas=qr,t.circle=dr,t.circleMarker=ur,t.control=cn,t.divIcon=Vr,t.extend=r,t.featureGroup=er,t.geoJSON=Tr,t.geoJson=kr,t.gridLayer=jr,t.icon=nr,t.imageOverlay=Pr,t.latLng=j,t.latLngBounds=V,t.layerGroup=Jn,t.map=ln,t.marker=ar,t.point=$,t.polygon=mr,t.polyline=pr,t.popup=$r,t.rectangle=no,t.setOptions=f,t.stamp=s,t.svg=eo,t.svgOverlay=Ar,t.tileLayer=Gr,t.tooltip=Dr,t.transformation=q,t.version=n,t.videoOverlay=Or;var ho=window.L;t.noConflict=function(){return window.L=ho,this},window.L=t}(leafletSrc$1.exports);var leafletSrcExports=leafletSrc$1.exports;const L$3=getDefaultExportFromCjs(leafletSrcExports),leafletSrc=_mergeNamespaces({__proto__:null,default:L$3},[leafletSrcExports]);var leafletAntPath={exports:{}};window,leafletAntPath.exports=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=59)}([function(e,t){e.exports="object"==typeof window&&window&&window.Math==Math?window:"object"==typeof self&&self&&self.Math==Math?self:Function("return this")()},function(t,n){t.exports=e},function(e,t,n){var r=n(4);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var r=n(0),o=n(11).f,i=n(16),a=n(33),s=n(30),l=n(52),u=n(69);e.exports=function(e,t){var n,c,d,h,p,f=e.target,m=e.global,_=e.stat;if(n=m?r:_?r[f]||s(f,{}):(r[f]||{}).prototype)for(c in t){if(h=t[c],d=e.noTargetGet?(p=o(n,c))&&p.value:n[c],!u(m?c:f+(_?".":"#")+c,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;l(h,d)}(e.sham||d&&d.sham)&&i(h,"sham",!0),a(n,c,h,e)}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){var r=n(20),o=n(7),i=n(55),a=n(8).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(9),o=n(46),i=n(2),a=n(13),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(i(e),t=a(t,!0),i(n),o)try{return s(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(5)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(15)("wks"),o=n(31),i=n(0).Symbol,a=n(49);e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}},function(e,t,n){var r=n(9),o=n(32),i=n(14),a=n(17),s=n(13),l=n(7),u=n(46),c=Object.getOwnPropertyDescriptor;t.f=r?c:function(e,t){if(e=a(e),t=s(t,!0),u)try{return c(e,t)}catch(n){}if(l(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t,n){e.exports=n(21)},function(e,t,n){var r=n(4);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(0),o=n(30),i=r["__core-js_shared__"]||o("__core-js_shared__",{});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.0.1",mode:n(48)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(8),o=n(14);e.exports=n(9)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(65),o=n(43);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(15)("keys"),o=n(31);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t){e.exports={}},function(e,t,n){e.exports=n(0)},function(e,t,n){var r=function(){return this||"object"==typeof self&&self}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(22),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(a){r.regeneratorRuntime=void 0}},function(e,t){!function(t){var n,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag",u="object"==typeof e,c=t.regeneratorRuntime;if(c)u&&(e.exports=c);else{(c=t.regeneratorRuntime=u?e.exports:{}).wrap=b;var d="suspendedStart",h="suspendedYield",p="executing",f="completed",m={},_={};_[a]=function(){return this};var g=Object.getPrototypeOf,v=g&&g(g(O([])));v&&v!==r&&o.call(v,a)&&(_=v);var y=w.prototype=C.prototype=Object.create(_);x.prototype=y.constructor=w,w.constructor=x,w[l]=x.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(y),e},c.awrap=function(e){return{__await:e}},S(T.prototype),T.prototype[s]=function(){return this},c.AsyncIterator=T,c.async=function(e,t,n,r){var o=new T(b(e,t,n,r));return c.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(y),y[l]="Generator",y[a]=function(){return this},y.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=O,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return s.type="throw",s.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),m}}}function b(e,t,n,r){var o=t&&t.prototype instanceof C?t:C,i=Object.create(o.prototype),a=new M(r||[]);return i._invoke=function(e,t,n){var r=d;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===f){if("throw"===o)throw i;return N()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var l=E(e,t,n);if("normal"===l.type){if(r=n.done?f:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=f,n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function E(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function C(){}function x(){}function w(){}function S(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function T(e){var t;this._invoke=function(n,r){function i(){return new Promise((function(t,i){!function t(n,r,i,a){var s=E(e[n],e,r);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&o.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,i,a)}),(function(e){t("throw",e,i,a)})):Promise.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return t("throw",e,i,a)}))}a(s.arg)}(n,r,t,i)}))}return t=t?t.then(i,i):i()}}function k(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,k(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=E(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function O(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(e,t,n){var r=n(24);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(26)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(25)(!1)).push([e.i,"@-webkit-keyframes leaflet-ant-path-animation {\n  from {\n    stroke-dashoffset: 100%; }\n  to {\n    stroke-dashoffset: 0%; } }\n\n@-moz-keyframes leaflet-ant-path-animation {\n  from {\n    stroke-dashoffset: 100%; }\n  to {\n    stroke-dashoffset: 0%; } }\n\n@-ms-keyframes leaflet-ant-path-animation {\n  from {\n    stroke-dashoffset: 100%; }\n  to {\n    stroke-dashoffset: 0%; } }\n\n@-o-keyframes leaflet-ant-path-animation {\n  from {\n    stroke-dashoffset: 100%; }\n  to {\n    stroke-dashoffset: 0%; } }\n\n@keyframes leaflet-ant-path-animation {\n  from {\n    stroke-dashoffset: 100%; }\n  to {\n    stroke-dashoffset: 0%; } }\n\npath.leaflet-ant-path {\n  fill: none;\n  -webkit-animation: linear infinite leaflet-ant-path-animation;\n  -moz-animation: linear infinite leaflet-ant-path-animation;\n  -ms-animation: linear infinite leaflet-ant-path-animation;\n  -o-animation: linear infinite leaflet-ant-path-animation;\n  animation: linear infinite leaflet-ant-path-animation; }\n  path.leaflet-ant-path__hardware-acceleration {\n    -webkit-transform: translateZ(0);\n    -moz-transform: translateZ(0);\n    -ms-transform: translateZ(0);\n    -o-transform: translateZ(0);\n    transform: translateZ(0); }\n  path.leaflet-ant-path__reverse {\n    -webkit-animation-direction: reverse;\n    -moz-animation-direction: reverse;\n    -ms-animation-direction: reverse;\n    -o-animation-direction: reverse;\n    animation-direction: reverse; }\n",""])},function(e,t,n){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r=e[1]||"",o=e[3];if(!o)return r;if(t&&"function"==typeof btoa){var i=(n=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),a=o.sources.map((function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"}));return[r].concat(a).concat([i]).join("\n")}return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];null!=a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(o){r=null}t[e]=r}return t[e]}}(),l=null,u=0,c=[],d=n(27);function h(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(v(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(v(r.parts[a],t));i[r.id]={id:r.id,refs:1,parts:s}}}}function p(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function f(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=c[c.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),c.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(e.insertAt.before,n);n.insertBefore(t,o)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function _(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=n.nc;r&&(e.attrs.nonce=r)}return g(t,e.attrs),f(e,t),t}function g(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function v(e,t){var n,r,o,i,a,s;if(t.transform&&e.css){if(!(i="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=i}if(t.singleton){var c=u++;n=l||(l=_(t)),r=E.bind(null,n,c,!1),o=E.bind(null,n,c,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=t,s=document.createElement("link"),void 0===a.attrs.type&&(a.attrs.type="text/css"),a.attrs.rel="stylesheet",g(s,a.attrs),f(a,s),r=function(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=d(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n=s,t),o=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=_(t),r=function(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){m(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return h(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}for(e&&h(p(e,t),t),o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var y,b=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function E(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(e,t,n){var r=n(29);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(0),o=n(16);e.exports=function(e,t){try{o(r,e,t)}catch(n){r[e]=t}return t}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(0),o=n(16),i=n(7),a=n(30),s=n(50),l=n(51),u=l.get,c=l.enforce,d=String(s).split("toString");n(15)("inspectSource",(function(e){return s.call(e)})),(e.exports=function(e,t,n,s){var l=!!s&&!!s.unsafe,u=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||i(n,"name")||o(n,"name",t),c(n).source=d.join("string"==typeof t?t:"")),e!==r?(l?!h&&e[t]&&(u=!0):delete e[t],u?e[t]=n:o(e,t,n)):u?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||s.call(this)}))},function(e,t,n){var r=n(54),o=n(35).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(8).f,o=n(7),i=n(10)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(54),o=n(35);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var r=n(7),o=n(42),i=n(18)("IE_PROTO"),a=n(57),s=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){n.r(t);var r=n(1),o=n(12),i=n.n(o);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={main:Symbol("main"),pulse:Symbol("pulse")},m=f.main,_=f.pulse,g=Symbol.species,v=Symbol.toStringTag,y=Symbol.iterator,b=function(e){function t(e){var n,o,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,n=!(i=c(t).call(this))||"object"!==a(i)&&"function"!=typeof i?h(o):i,p(h(h(n)),m,null),p(h(h(n)),_,null),p(h(h(n)),"_map",null),p(h(h(n)),"_path",null),p(h(h(n)),"_animatedPathId",null),p(h(h(n)),"_animatedPathClass","leaflet-ant-path"),p(h(h(n)),"_reversePathClass","".concat(n._animatedPathClass,"__reverse")),p(h(h(n)),"_hardwareAccClass","hardware-acceleration"),p(h(h(n)),"_defaultOptions",{use:r.polyline,paused:!1,reverse:!1,hardwareAcceleration:!1,renderer:Object(r.svg)({pane:"overlayPane"}),delay:400,dashArray:[10,20],weight:5,opacity:.5,color:"#0000FF",pulseColor:"#FFFFFF"}),r.Util.setOptions(h(h(n)),l({},n._defaultOptions,s)),n._path=e,n._animatedPathId="ant-path-".concat((new Date).getTime()),n._mount(),n}var n,o,b;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r.FeatureGroup),n=t,b=[{key:g,get:function(){return this}}],(o=[{key:"map",value:function(e){return new this.constructor[Symbol.species](this._path.map(e),l({},this.options))}},{key:y,value:i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._path,"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"_processOptions",value:function(){var e=this.options,t=this._animatedPathClass,n=this._reversePathClass,r=this._hardwareAccClass,o=this._animatedPathId,i=e.reverse,a=e.hardwareAcceleration,s=l({},e),u=l({},e);return u.color=u.pulseColor||e.pulseColor,u.className=[t,o,i?n:"",a?"".concat(t,"__").concat(r):""].join(" "),delete s.dashArray,Array.isArray(u.dashArray)&&(u.dashArray=String(u.dashArray)),{pathOpts:s,pulseOpts:u}}},{key:"_mount",value:function(){var e=this._processOptions(),t=e.pathOpts,n=e.pulseOpts,r=this.options.use;this.addLayer(this[f.main]=r(this._path,t)),this.addLayer(this[f.pulse]=r(this._path,n))}},{key:"_calculateAnimationSpeed",value:function(){var e=this.options,t=this._map,n=this._animatedPathId;if(!e.paused&&t){var r=t.getZoom(),o=document.getElementsByClassName(n),i=1+e.delay/3/r+"s",a=["-webkit-","-moz-","-ms-","-o-",""].map((function(e){return"".concat(e,"animation-duration: ").concat(i)})).join(";");Array.from(o,(function(e){e.style.cssText=a,e.setAttribute("data-animated","true")}))}}},{key:"_pureReverse",value:function(){var e=this[f.pulse].getElement();e&&(this.options.reverse?e.classList.remove(this._reversePathClass):e.classList.add(this._reversePathClass))}},{key:"onAdd",value:function(e){return this._map=e,this._map.on("zoomend",this._calculateAnimationSpeed,this),this._mount(),this._calculateAnimationSpeed(),this}},{key:"onRemove",value:function(e){return this._map&&(this._map.off("zoomend",this._calculateAnimationSpeed,this),this._map=null),e&&e.removeLayer(this[f.main]).removeLayer(this[f.pulse]),this}},{key:"pause",value:function(){if(!this.options.paused){var e=this[f.pulse].getElement();return this.options.paused=!0,e&&(e.removeAttribute("style"),e.setAttribute("data-animated","true")),!0}return!1}},{key:"resume",value:function(){var e=this.options;return!!e.paused&&(e.paused=!1,this._calculateAnimationSpeed(),!0)}},{key:"bringToFront",value:function(){return this[f.main].bringToFront(),this[f.pulse].bringToFront(),this}},{key:"bringToBack",value:function(){return this[f.pulse].bringToBack(),this[f.main].bringToBack(),this}},{key:"removeFrom",value:function(e){return e&&e.hasLayer(this)&&e.removeLayer(this),this}},{key:"setStyle",value:function(e){var t=l({},this.options,e),n=t.paused,r=t.delay,o=t.reverse;n?this.pause():this.resume(),r!==this.options.delay&&(this.options.delay=r||this._defaultOptions.delay,this._calculateAnimationSpeed()),void 0!==o&&o!==this.options.reverse&&this._pureReverse(),this.options=l({},this.options,e);var i=this._processOptions(),a=i.pathOpts,s=i.pulseOpts;return this[f.main].setStyle(a),this[f.pulse].setStyle(s),this}},{key:"reverse",value:function(){return this._pureReverse(),this.options.reverse=!this.options.reverse,this}},{key:"redraw",value:function(){return this[f.main].redraw(),this[f.pulse].redraw(),this}},{key:"addLatLng",value:function(){for(var e,t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return this._path=[].concat(s(this._path),[r]),(e=this[f.main]).addLatLng.apply(e,r),(t=this[f.pulse]).addLatLng.apply(t,r),this}},{key:"setLatLngs",value:function(){for(var e,t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return this._path=r,(e=this[f.main]).setLatLngs.apply(e,r),(t=this[f.pulse]).setLatLngs.apply(t,r),this}},{key:"getLatLngs",value:function(){return this[f.main].getLatLngs()}},{key:"spliceLatLngs",value:function(){var e,t,n=(e=this[f.main]).spliceLatLngs.apply(e,arguments);return(t=this[f.pulse]).spliceLatLngs.apply(t,arguments),n}},{key:"getBounds",value:function(){return this[f.main].getBounds()}},{key:"toGeoJSON",value:function(){return this[f.main].toGeoJSON()}},{key:v,get:function(){return"L.Polyline.AntPath"}}])&&u(n.prototype,o),b&&u(n,b),t}(),E=function(e,t){return Reflect.construct(b,[e,t])};n(23),n.d(t,"AntPath",(function(){return C})),n.d(t,"antPath",(function(){return x})),r.Polyline.AntPath=b,r.polyline.antPath=E;var C=b,x=E;t.default={AntPath:C,antPath:x}},function(e,t,n){var r=n(43);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(45),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){e.exports=!n(9)&&!n(5)((function(){return 7!=Object.defineProperty(n(47)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(4),o=n(0).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t){e.exports=!1},function(e,t,n){e.exports=!n(5)((function(){return!String(Symbol())}))},function(e,t,n){e.exports=n(15)("native-function-to-string",Function.toString)},function(e,t,n){var r,o,i,a=n(66),s=n(4),l=n(16),u=n(7),c=n(18),d=n(19),h=n(0).WeakMap;if(a){var p=new h,f=p.get,m=p.has,_=p.set;r=function(e,t){return _.call(p,e,t),t},o=function(e){return f.call(p,e)||{}},i=function(e){return m.call(p,e)}}else{var g=c("state");d[g]=!0,r=function(e,t){return l(e,g,t),t},o=function(e){return u(e,g)?e[g]:{}},i=function(e){return u(e,g)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!s(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var r=n(7),o=n(53),i=n(11),a=n(8);e.exports=function(e,t){for(var n=o(t),s=a.f,l=i.f,u=0;u<n.length;u++){var c=n[u];r(e,c)||s(e,c,l(t,c))}}},function(e,t,n){var r=n(34),o=n(36),i=n(2),a=n(0).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(i(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(7),o=n(17),i=n(67)(!1),a=n(19);e.exports=function(e,t){var n,s=o(e),l=0,u=[];for(n in s)!r(a,n)&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~i(u,n)||u.push(n));return u}},function(e,t,n){t.f=n(10)},function(e,t,n){var r=n(2),o=n(75),i=n(35),a=n(76),s=n(47),l=n(18)("IE_PROTO"),u=function(){},c=function(){var e,t=s("iframe"),n=i.length;for(t.style.display="none",a.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;n--;)delete c.prototype[i[n]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(u.prototype=r(e),n=new u,u.prototype=null,n[l]=e):n=c(),void 0===t?n:o(n,t)},n(19)[l]=!0},function(e,t,n){e.exports=!n(5)((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(4),o=n(2);e.exports=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}},function(e,t,n){n(60),n(93),e.exports=n(41)},function(e,t,n){n(61),n(70),n(73),n(78),n(79),n(80),n(81),n(82),n(83),n(84),n(85),n(86),n(87),n(88),n(89),n(90),n(91),n(92),e.exports=n(20).Symbol},function(e,t,n){var r=n(28),o=n(4),i=n(42),a=n(44),s=n(62),l=n(63),u=n(10)("isConcatSpreadable"),c=!n(5)((function(){var e=[];return e[u]=!1,e.concat()[0]!==e})),d=n(64)("concat"),h=function(e){if(!o(e))return!1;var t=e[u];return void 0!==t?!!t:r(e)},p=!c||!d;n(3)({target:"Array",proto:!0,forced:p},{concat:function(e){var t,n,r,o,u,c=i(this),d=l(c,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(h(u=-1===t?c:arguments[t])){if(p+(o=a(u.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,p++)n in u&&s(d,p,u[n])}else{if(p>=9007199254740991)throw TypeError("Maximum allowed index exceeded");s(d,p++,u)}return d.length=p,d}})},function(e,t,n){var r=n(13),o=n(8),i=n(14);e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},function(e,t,n){var r=n(4),o=n(28),i=n(10)("species");e.exports=function(e,t){var n;return o(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var r=n(5),o=n(10)("species");e.exports=function(e){return!r((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){var r=n(5),o=n(29),i="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},function(e,t,n){var r=n(50),o=n(0).WeakMap;e.exports="function"==typeof o&&/native code/.test(r.call(o))},function(e,t,n){var r=n(17),o=n(44),i=n(68);e.exports=function(e){return function(t,n,a){var s,l=r(t),u=o(l.length),c=i(a,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(45),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},function(e,t,n){var r=n(5),o=/#|\.prototype\./,i=function(e,t){var n=s[a(e)];return n==u||n!=l&&("function"==typeof t?r(t):!!t)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=i.data={},l=i.NATIVE="N",u=i.POLYFILL="P";e.exports=i},function(e,t,n){var r=n(71),o=Object.prototype;r!==o.toString&&n(33)(o,"toString",r,{unsafe:!0})},function(e,t,n){var r=n(72),o={};o[n(10)("toStringTag")]="z",e.exports="[object z]"!==String(o)?function(){return"[object "+r(this)+"]"}:o.toString},function(e,t,n){var r=n(29),o=n(10)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(0),o=n(7),i=n(9),a=n(48),s=n(3),l=n(33),u=n(19),c=n(5),d=n(15),h=n(37),p=n(31),f=n(10),m=n(55),_=n(6),g=n(74),v=n(28),y=n(2),b=n(4),E=n(17),C=n(13),x=n(14),w=n(56),S=n(77),T=n(11),k=n(8),L=n(32),P=n(16),M=n(38),O=n(18)("hidden"),N=n(51),A=N.set,I=N.getterFor("Symbol"),R=T.f,$=k.f,B=S.f,D=r.Symbol,F=r.JSON,V=F&&F.stringify,z=f("toPrimitive"),j=L.f,U=d("symbol-registry"),G=d("symbols"),H=d("op-symbols"),K=d("wks"),W=Object.prototype,Y=r.QObject,q=n(49),Z=!Y||!Y.prototype||!Y.prototype.findChild,X=i&&c((function(){return 7!=w($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=R(W,t);r&&delete W[t],$(e,t,n),r&&e!==W&&$(W,t,r)}:$,J=function(e,t){var n=G[e]=w(D.prototype);return A(n,{type:"Symbol",tag:e,description:t}),i||(n.description=t),n},Q=q&&"symbol"==typeof D.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof D},ee=function(e,t,n){return e===W&&ee(H,t,n),y(e),t=C(t,!0),y(n),o(G,t)?(n.enumerable?(o(e,O)&&e[O][t]&&(e[O][t]=!1),n=w(n,{enumerable:x(0,!1)})):(o(e,O)||$(e,O,x(1,{})),e[O][t]=!0),X(e,t,n)):$(e,t,n)},te=function(e,t){y(e);for(var n,r=g(t=E(t)),o=0,i=r.length;i>o;)ee(e,n=r[o++],t[n]);return e},ne=function(e){var t=j.call(this,e=C(e,!0));return!(this===W&&o(G,e)&&!o(H,e))&&(!(t||!o(this,e)||!o(G,e)||o(this,O)&&this[O][e])||t)},re=function(e,t){if(e=E(e),t=C(t,!0),e!==W||!o(G,t)||o(H,t)){var n=R(e,t);return!n||!o(G,t)||o(e,O)&&e[O][t]||(n.enumerable=!0),n}},oe=function(e){for(var t,n=B(E(e)),r=[],i=0;n.length>i;)o(G,t=n[i++])||o(u,t)||r.push(t);return r},ie=function(e){for(var t,n=e===W,r=B(n?H:E(e)),i=[],a=0;r.length>a;)!o(G,t=r[a++])||n&&!o(W,t)||i.push(G[t]);return i};q||(l((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor");var e=void 0===arguments[0]?void 0:String(arguments[0]),t=p(e),n=function(e){this===W&&n.call(H,e),o(this,O)&&o(this[O],t)&&(this[O][t]=!1),X(this,t,x(1,e))};return i&&Z&&X(W,t,{configurable:!0,set:n}),J(t,e)}).prototype,"toString",(function(){return I(this).tag})),L.f=ne,k.f=ee,T.f=re,n(34).f=S.f=oe,n(36).f=ie,i&&($(D.prototype,"description",{configurable:!0,get:function(){return I(this).description}}),a||l(W,"propertyIsEnumerable",ne,{unsafe:!0})),m.f=function(e){return J(f(e),e)}),s({global:!0,wrap:!0,forced:!q,sham:!q},{Symbol:D});for(var ae=M(K),se=0;ae.length>se;)_(ae[se++]);s({target:"Symbol",stat:!0,forced:!q},{for:function(e){return o(U,e+="")?U[e]:U[e]=D(e)},keyFor:function(e){if(!Q(e))throw TypeError(e+" is not a symbol");for(var t in U)if(U[t]===e)return t},useSetter:function(){Z=!0},useSimple:function(){Z=!1}}),s({target:"Object",stat:!0,forced:!q,sham:!i},{create:function(e,t){return void 0===t?w(e):te(w(e),t)},defineProperty:ee,defineProperties:te,getOwnPropertyDescriptor:re}),s({target:"Object",stat:!0,forced:!q},{getOwnPropertyNames:oe,getOwnPropertySymbols:ie}),F&&s({target:"JSON",stat:!0,forced:!q||c((function(){var e=D();return"[null]"!=V([e])||"{}"!=V({a:e})||"{}"!=V(Object(e))}))},{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(b(t)||void 0!==e)&&!Q(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Q(t))return t}),r[1]=t,V.apply(F,r)}}),D.prototype[z]||P(D.prototype,z,D.prototype.valueOf),h(D,"Symbol"),u[O]=!0},function(e,t,n){var r=n(38),o=n(36),i=n(32);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,s=n(e),l=i.f,u=0;s.length>u;)l.call(e,a=s[u++])&&t.push(a);return t}},function(e,t,n){var r=n(9),o=n(8),i=n(2),a=n(38);e.exports=r?Object.defineProperties:function(e,t){i(e);for(var n,r=a(t),s=r.length,l=0;s>l;)o.f(e,n=r[l++],t[n]);return e}},function(e,t,n){var r=n(0).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(17),o=n(34).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(t){return a.slice()}}(e):o(r(e))}},function(e,t,n){n(6)("asyncIterator")},function(e,t,n){var r=n(9),o=n(7),i=n(4),a=n(8).f,s=n(52),l=n(0).Symbol;if(r&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var u={},c=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof c?new l(e):void 0===e?l():l(e);return""===e&&(u[t]=!0),t};s(c,l);var d=c.prototype=l.prototype;d.constructor=c;var h=d.toString,p="Symbol(test)"==String(l("test")),f=/^Symbol\((.*)\)[^)]+$/;a(d,"description",{configurable:!0,get:function(){var e=i(this)?this.valueOf():this,t=h.call(e);if(o(u,e))return"";var n=p?t.slice(7,-1):t.replace(f,"$1");return""===n?void 0:n}}),n(3)({global:!0,forced:!0},{Symbol:c})}},function(e,t,n){n(6)("hasInstance")},function(e,t,n){n(6)("isConcatSpreadable")},function(e,t,n){n(6)("iterator")},function(e,t,n){n(6)("match")},function(e,t,n){n(6)("replace")},function(e,t,n){n(6)("search")},function(e,t,n){n(6)("species")},function(e,t,n){n(6)("split")},function(e,t,n){n(6)("toPrimitive")},function(e,t,n){n(6)("toStringTag")},function(e,t,n){n(6)("unscopables")},function(e,t,n){n(37)(Math,"Math",!0)},function(e,t,n){n(37)(n(0).JSON,"JSON",!0)},function(e,t,n){n(94),n(95),n(97),n(98),n(99),n(100),n(101),n(102),n(103),n(104),n(105),n(108),n(109),e.exports=n(20).Reflect},function(e,t,n){var r=n(39),o=n(2),i=(n(0).Reflect||{}).apply,a=Function.apply,s=!n(5)((function(){i((function(){}))}));n(3)({target:"Reflect",stat:!0,forced:s},{apply:function(e,t,n){return r(e),o(n),i?i(e,t,n):a.call(e,t,n)}})},function(e,t,n){var r=n(56),o=n(39),i=n(2),a=n(4),s=n(5),l=n(96),u=(n(0).Reflect||{}).construct,c=s((function(){function e(){}return!(u((function(){}),[],e)instanceof e)})),d=!s((function(){u((function(){}))})),h=c||d;n(3)({target:"Reflect",stat:!0,forced:h,sham:h},{construct:function(e,t){o(e),i(t);var n=arguments.length<3?e:o(arguments[2]);if(d&&!c)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var s=[null];return s.push.apply(s,t),new(l.apply(e,s))}var h=n.prototype,p=r(a(h)?h:Object.prototype),f=Function.apply.call(e,p,t);return a(f)?f:p}})},function(e,t,n){var r=n(39),o=n(4),i=[].slice,a={};e.exports=Function.bind||function(e){var t=r(this),n=i.call(arguments,1),s=function(){var r=n.concat(i.call(arguments));return this instanceof s?function(e,t,n){if(!(t in a)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";a[t]=Function("C,a","return new C("+r.join(",")+")")}return a[t](e,n)}(t,r.length,r):t.apply(e,r)};return o(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t,n){var r=n(8),o=n(2),i=n(13),a=n(9),s=n(5)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}));n(3)({target:"Reflect",stat:!0,forced:s,sham:!a},{defineProperty:function(e,t,n){o(e),t=i(t,!0),o(n);try{return r.f(e,t,n),!0}catch(a){return!1}}})},function(e,t,n){var r=n(11).f,o=n(2);n(3)({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var n=r(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){var r=n(11),o=n(40),i=n(7),a=n(4),s=n(2);n(3)({target:"Reflect",stat:!0},{get:function e(t,n){var l,u,c=arguments.length<3?t:arguments[2];return s(t)===c?t[n]:(l=r.f(t,n))?i(l,"value")?l.value:void 0===l.get?void 0:l.get.call(c):a(u=o(t))?e(u,n,c):void 0}})},function(e,t,n){var r=n(11),o=n(2),i=n(9);n(3)({target:"Reflect",stat:!0,sham:!i},{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},function(e,t,n){var r=n(40),o=n(2),i=n(57);n(3)({target:"Reflect",stat:!0,sham:!i},{getPrototypeOf:function(e){return r(o(e))}})},function(e,t,n){n(3)({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})},function(e,t,n){var r=n(2),o=Object.isExtensible;n(3)({target:"Reflect",stat:!0},{isExtensible:function(e){return r(e),!o||o(e)}})},function(e,t,n){n(3)({target:"Reflect",stat:!0},{ownKeys:n(53)})},function(e,t,n){var r=n(106),o=n(2),i=n(107);n(3)({target:"Reflect",stat:!0,sham:!i},{preventExtensions:function(e){o(e);try{var t=r("Object","preventExtensions");return t&&t(e),!0}catch(n){return!1}}})},function(e,t,n){var r=n(20),o=n(0),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e])||i(o[e]):r[e]&&r[e][t]||o[e]&&o[e][t]}},function(e,t,n){e.exports=!n(5)((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,n){var r=n(8),o=n(11),i=n(40),a=n(7),s=n(14),l=n(2),u=n(4);n(3)({target:"Reflect",stat:!0},{set:function e(t,n,c){var d,h,p=arguments.length<4?t:arguments[3],f=o.f(l(t),n);if(!f){if(u(h=i(t)))return e(h,n,c,p);f=s(0)}if(a(f,"value")){if(!1===f.writable||!u(p))return!1;if(d=o.f(p,n)){if(d.get||d.set||!1===d.writable)return!1;d.value=c,r.f(p,n,d)}else r.f(p,n,s(0,c));return!0}return void 0!==f.set&&(f.set.call(p,c),!0)}})},function(e,t,n){var r=n(110),o=n(58);r&&n(3)({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){o(e,t);try{return r(e,t),!0}catch(n){return!1}}})},function(e,t,n){var r=n(58);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(o){}return function(n,o){return r(n,o),t?e.call(n,o):n.__proto__=o,n}}():void 0)}])}(leafletSrcExports);var leafletAntPathExports=leafletAntPath.exports;!function(e){function t(e,t){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)}e=e&&e.hasOwnProperty("default")?e.default:e;var n=function(e,t){return(180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI+90+360)%360},r=function(e,t){var n=e.value;return e.isInPixels?n/t:n};function o(e){if("string"==typeof e&&-1!==e.indexOf("%"))return{value:parseFloat(e)/100,isInPixels:!1};var t=e?parseFloat(e):0;return{value:t,isInPixels:t>0}}var i,a,s,l=function(e,t){return e.x===t.x&&e.y===t.y};function u(e){return e.reduce((function(e,r,o,i){if(o>0&&!l(r,i[o-1])){var a=i[o-1],s=e.length>0?e[e.length-1].distB:0,u=t(a,r);e.push({a:a,b:r,distA:s,distB:s+u,heading:n(a,r)})}return e}),[])}function c(e,t){var n=u(e),o=n.length;if(0===o)return[];var i=n[o-1].distB,a=r(t.offset,i),s=r(t.endOffset,i),l=i*r(t.repeat,i),c=s>0?i*s:0,h=[],p=a>0?i*a:0;do{h.push(p),p+=l}while(l>0&&p<i-c);var f=0,m=n[0];return h.map((function(e){for(;e>m.distB&&f<o-1;)f++,m=n[f];var t=(e-m.distA)/(m.distB-m.distA);return{pt:d(m.a,m.b,t),heading:m.heading}}))}function d(e,t,n){return t.x!==e.x?{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}:{x:e.x,y:e.y+(t.y-e.y)*n}}i=L.Marker.prototype._initIcon,a=L.Marker.prototype._setPos,s="msTransform"===L.DomUtil.TRANSFORM,L.Marker.addInitHook((function(){var e=this.options.icon&&this.options.icon.options&&this.options.icon.options.iconAnchor;e&&(e=e[0]+"px "+e[1]+"px"),this.options.rotationOrigin=this.options.rotationOrigin||e||"center bottom",this.options.rotationAngle=this.options.rotationAngle||0,this.on("drag",(function(e){e.target._applyRotation()}))})),L.Marker.include({_initIcon:function(){i.call(this)},_setPos:function(e){a.call(this,e),this._applyRotation()},_applyRotation:function(){this.options.rotationAngle&&(this._icon.style[L.DomUtil.TRANSFORM+"Origin"]=this.options.rotationOrigin,s?this._icon.style[L.DomUtil.TRANSFORM]="rotate("+this.options.rotationAngle+"deg)":this._icon.style[L.DomUtil.TRANSFORM]+=" rotateZ("+this.options.rotationAngle+"deg)")},setRotationAngle:function(e){return this.options.rotationAngle=e,this.update(),this},setRotationOrigin:function(e){return this.options.rotationOrigin=e,this.update(),this}}),e.Symbol=e.Symbol||{},e.Symbol.Dash=e.Class.extend({options:{pixelSize:10,pathOptions:{}},initialize:function(t){e.Util.setOptions(this,t),this.options.pathOptions.clickable=!1},buildSymbol:function(t,n,r,o,i){var a=this.options,s=Math.PI/180;if(a.pixelSize<=1)return e.polyline([t.latLng,t.latLng],a.pathOptions);var l=r.project(t.latLng),u=-(t.heading-90)*s,c=e.point(l.x+a.pixelSize*Math.cos(u+Math.PI)/2,l.y+a.pixelSize*Math.sin(u)/2),d=l.add(l.subtract(c));return e.polyline([r.unproject(c),r.unproject(d)],a.pathOptions)}}),e.Symbol.dash=function(t){return new e.Symbol.Dash(t)},e.Symbol.ArrowHead=e.Class.extend({options:{polygon:!0,pixelSize:10,headAngle:60,pathOptions:{stroke:!1,weight:2}},initialize:function(t){e.Util.setOptions(this,t),this.options.pathOptions.clickable=!1},buildSymbol:function(t,n,r,o,i){return this.options.polygon?e.polygon(this._buildArrowPath(t,r),this.options.pathOptions):e.polyline(this._buildArrowPath(t,r),this.options.pathOptions)},_buildArrowPath:function(t,n){var r=Math.PI/180,o=n.project(t.latLng),i=-(t.heading-90)*r,a=this.options.headAngle/2*r,s=i+a,l=i-a,u=e.point(o.x-this.options.pixelSize*Math.cos(s),o.y+this.options.pixelSize*Math.sin(s)),c=e.point(o.x-this.options.pixelSize*Math.cos(l),o.y+this.options.pixelSize*Math.sin(l));return[n.unproject(u),t.latLng,n.unproject(c)]}}),e.Symbol.arrowHead=function(t){return new e.Symbol.ArrowHead(t)},e.Symbol.Marker=e.Class.extend({options:{markerOptions:{},rotate:!1},initialize:function(t){e.Util.setOptions(this,t),this.options.markerOptions.clickable=!1,this.options.markerOptions.draggable=!1},buildSymbol:function(t,n,r,o,i){return this.options.rotate&&(this.options.markerOptions.rotationAngle=t.heading+(this.options.angleCorrection||0)),e.marker(t.latLng,this.options.markerOptions)}}),e.Symbol.marker=function(t){return new e.Symbol.Marker(t)};var h=function(t){return t instanceof e.LatLng||Array.isArray(t)&&2===t.length&&"number"==typeof t[0]},p=function(e){return Array.isArray(e)&&h(e[0])};e.PolylineDecorator=e.FeatureGroup.extend({options:{patterns:[]},initialize:function(t,n){e.FeatureGroup.prototype.initialize.call(this),e.Util.setOptions(this,n),this._map=null,this._paths=this._initPaths(t),this._bounds=this._initBounds(),this._patterns=this._initPatterns(this.options.patterns)},_initPaths:function(t,n){var r=this;return p(t)?[n?t.concat([t[0]]):t]:t instanceof e.Polyline?this._initPaths(t.getLatLngs(),t instanceof e.Polygon):Array.isArray(t)?t.reduce((function(e,t){return e.concat(r._initPaths(t,n))}),[]):[]},_initPatterns:function(e){return e.map(this._parsePatternDef)},setPatterns:function(e){this.options.patterns=e,this._patterns=this._initPatterns(this.options.patterns),this.redraw()},setPaths:function(e){this._paths=this._initPaths(e),this._bounds=this._initBounds(),this.redraw()},_parsePatternDef:function(e,t){return{symbolFactory:e.symbol,offset:o(e.offset),endOffset:o(e.endOffset),repeat:o(e.repeat)}},onAdd:function(e){this._map=e,this._draw(),this._map.on("moveend",this.redraw,this)},onRemove:function(t){this._map.off("moveend",this.redraw,this),this._map=null,e.FeatureGroup.prototype.onRemove.call(this,t)},_initBounds:function(){var t=this._paths.reduce((function(e,t){return e.concat(t)}),[]);return e.latLngBounds(t)},getBounds:function(){return this._bounds},_buildSymbols:function(e,t,n){var r=this;return n.map((function(o,i){return t.buildSymbol(o,e,r._map,i,n.length)}))},_getDirectionPoints:function(t,n){var r=this;return t.length<2?[]:c(t.map((function(e){return r._map.project(e)})),n).map((function(t){return{latLng:r._map.unproject(e.point(t.pt)),heading:t.heading}}))},redraw:function(){this._map&&(this.clearLayers(),this._draw())},_getPatternLayers:function(t){var n=this,r=this._map.getBounds().pad(.1);return this._paths.map((function(o){var i=n._getDirectionPoints(o,t).filter((function(e){return r.contains(e.latLng)}));return e.featureGroup(n._buildSymbols(o,t.symbolFactory,i))}))},_draw:function(){var t=this;this._patterns.map((function(e){return t._getPatternLayers(e)})).forEach((function(n){t.addLayer(e.featureGroup(n))}))}}),e.polylineDecorator=function(t,n){return new e.PolylineDecorator(t,n)}}(leafletSrcExports),L.Polyline.include({_snakingTimestamp:0,_snakingRings:0,_snakingVertices:0,_snakingDistance:0,_snaking:!1,snakeIn:function(){if(!this._snaking&&"performance"in window&&"now"in window.performance&&this._map)return this._snaking=!0,this._snakingTime=performance.now(),this._snakingVertices=this._snakingRings=this._snakingDistance=0,this._snakeLatLngs||(this._snakeLatLngs=L.LineUtil.isFlat(this._latlngs)?[this._latlngs]:this._latlngs),this._latlngs=[[this._snakeLatLngs[0][0],this._snakeLatLngs[0][0]]],this._update(),this._snake(),this.fire("snakestart"),this},_snake:function(){var e=performance.now(),t=(e-this._snakingTime)*this.options.snakingSpeed/1e3;return this._snakingTime=e,this._latlngs[this._snakingRings].pop(),this._snakeForward(t)},_snakeForward:function(e){if(this._map){var t=this._map.latLngToContainerPoint(this._snakeLatLngs[this._snakingRings][this._snakingVertices]),n=this._map.latLngToContainerPoint(this._snakeLatLngs[this._snakingRings][this._snakingVertices+1]),r=t.distanceTo(n);if(this._snakingDistance+e>r){if(this._snakingVertices++,this._latlngs[this._snakingRings].push(this._snakeLatLngs[this._snakingRings][this._snakingVertices]),this._snakingVertices>=this._snakeLatLngs[this._snakingRings].length-1){if(this._snakingRings>=this._snakeLatLngs.length-1)return this._snakeEnd();this._snakingVertices=0,this._snakingRings++,this._latlngs[this._snakingRings]=[this._snakeLatLngs[this._snakingRings][this._snakingVertices]]}return this._snakingDistance-=r,this._snakeForward(e)}this._snakingDistance+=e;var o=this._snakingDistance/r,i=n.multiplyBy(o).add(t.multiplyBy(1-o)),a=this._map.containerPointToLatLng(i);this._latlngs[this._snakingRings].push(a),this.setLatLngs(this._latlngs),this.fire("snake"),L.Util.requestAnimFrame(this._snake,this)}},_snakeEnd:function(){this.setLatLngs(this._snakeLatLngs),this._snaking=!1,this.fire("snakeend")}}),L.Polyline.mergeOptions({snakingSpeed:200}),L.LayerGroup.include({_snakingLayers:[],_snakingLayersDone:0,snakeIn:function(){if("performance"in window&&"now"in window.performance&&this._map&&!this._snaking){this._snaking=!0,this._snakingLayers=[],this._snakingLayersDone=0;var e=Object.keys(this._layers);for(var t in e){var n=e[t];this._snakingLayers.push(this._layers[n])}return this.clearLayers(),this.fire("snakestart"),this._snakeNext()}},_snakeNext:function(){if(this._snakingLayersDone>=this._snakingLayers.length)return this.fire("snakeend"),void(this._snaking=!1);var e=this._snakingLayers[this._snakingLayersDone];return this._snakingLayersDone++,this.addLayer(e),"snakeIn"in e?(e.once("snakeend",(function(){setTimeout(this._snakeNext.bind(this),this.options.snakingPause)}),this),e.snakeIn()):setTimeout(this._snakeNext.bind(this),this.options.snakingPause),this.fire("snake"),this}}),L.LayerGroup.mergeOptions({snakingPause:200});var define_process_env_default={};(()=>{var e={9705:(e,t,n)=>{var r=n(1540);function o(e){var t=[1/0,1/0,-1/0,-1/0];return r.coordEach(e,(function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])})),t}o.default=o,t.Z=o},4102:(e,t)=>{function n(e,t,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function r(e,t,r){if(void 0===r&&(r={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!p(e[0])||!p(e[1]))throw new Error("coordinates must contain numbers");return n({type:"Point",coordinates:e},t,r)}function o(e,t,r){void 0===r&&(r={});for(var o=0,i=e;o<i.length;o++){var a=i[o];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:e},t,r)}function i(e,t,r){if(void 0===r&&(r={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return n({type:"LineString",coordinates:e},t,r)}function a(e,t){void 0===t&&(t={});var n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function s(e,t,r){return void 0===r&&(r={}),n({type:"MultiLineString",coordinates:e},t,r)}function l(e,t,r){return void 0===r&&(r={}),n({type:"MultiPoint",coordinates:e},t,r)}function u(e,t,r){return void 0===r&&(r={}),n({type:"MultiPolygon",coordinates:e},t,r)}function c(e,n){void 0===n&&(n="kilometers");var r=t.factors[n];if(!r)throw new Error(n+" units is invalid");return e*r}function d(e,n){void 0===n&&(n="kilometers");var r=t.factors[n];if(!r)throw new Error(n+" units is invalid");return e/r}function h(e){return e%(2*Math.PI)*180/Math.PI}function p(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.earthRadius=6371008.8,t.factors={centimeters:100*t.earthRadius,centimetres:100*t.earthRadius,degrees:t.earthRadius/111325,feet:3.28084*t.earthRadius,inches:39.37*t.earthRadius,kilometers:t.earthRadius/1e3,kilometres:t.earthRadius/1e3,meters:t.earthRadius,metres:t.earthRadius,miles:t.earthRadius/1609.344,millimeters:1e3*t.earthRadius,millimetres:1e3*t.earthRadius,nauticalmiles:t.earthRadius/1852,radians:1,yards:1.0936*t.earthRadius},t.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/t.earthRadius,yards:1.0936133},t.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},t.feature=n,t.geometry=function(e,t,n){switch(e){case"Point":return r(t).geometry;case"LineString":return i(t).geometry;case"Polygon":return o(t).geometry;case"MultiPoint":return l(t).geometry;case"MultiLineString":return s(t).geometry;case"MultiPolygon":return u(t).geometry;default:throw new Error(e+" is invalid")}},t.point=r,t.points=function(e,t,n){return void 0===n&&(n={}),a(e.map((function(e){return r(e,t)})),n)},t.polygon=o,t.polygons=function(e,t,n){return void 0===n&&(n={}),a(e.map((function(e){return o(e,t)})),n)},t.lineString=i,t.lineStrings=function(e,t,n){return void 0===n&&(n={}),a(e.map((function(e){return i(e,t)})),n)},t.featureCollection=a,t.multiLineString=s,t.multiPoint=l,t.multiPolygon=u,t.geometryCollection=function(e,t,r){return void 0===r&&(r={}),n({type:"GeometryCollection",geometries:e},t,r)},t.round=function(e,t){if(void 0===t&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,t||0);return Math.round(e*n)/n},t.radiansToLength=c,t.lengthToRadians=d,t.lengthToDegrees=function(e,t){return h(d(e,t))},t.bearingToAzimuth=function(e){var t=e%360;return t<0&&(t+=360),t},t.radiansToDegrees=h,t.degreesToRadians=function(e){return e%360*Math.PI/180},t.convertLength=function(e,t,n){if(void 0===t&&(t="kilometers"),void 0===n&&(n="kilometers"),!(e>=0))throw new Error("length must be a positive number");return c(d(e,t),n)},t.convertArea=function(e,n,r){if(void 0===n&&(n="meters"),void 0===r&&(r="kilometers"),!(e>=0))throw new Error("area must be a positive number");var o=t.areaFactors[n];if(!o)throw new Error("invalid original units");var i=t.areaFactors[r];if(!i)throw new Error("invalid final units");return e/o*i},t.isNumber=p,t.isObject=function(e){return!!e&&e.constructor===Object},t.validateBBox=function(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((function(e){if(!p(e))throw new Error("bbox must only contain numbers")}))},t.validateId=function(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}},1540:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(4102);function o(e,t,n){if(null!==e)for(var r,i,a,s,l,u,c,d,h=0,p=0,f=e.type,m="FeatureCollection"===f,_="Feature"===f,g=m?e.features.length:1,v=0;v<g;v++){l=(d=!!(c=m?e.features[v].geometry:_?e.geometry:e)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var y=0;y<l;y++){var b=0,E=0;if(null!==(s=d?c.geometries[y]:c)){u=s.coordinates;var C=s.type;switch(h=!n||"Polygon"!==C&&"MultiPolygon"!==C?0:1,C){case null:break;case"Point":if(!1===t(u,p,v,b,E))return!1;p++,b++;break;case"LineString":case"MultiPoint":for(r=0;r<u.length;r++){if(!1===t(u[r],p,v,b,E))return!1;p++,"MultiPoint"===C&&b++}"LineString"===C&&b++;break;case"Polygon":case"MultiLineString":for(r=0;r<u.length;r++){for(i=0;i<u[r].length-h;i++){if(!1===t(u[r][i],p,v,b,E))return!1;p++}"MultiLineString"===C&&b++,"Polygon"===C&&E++}"Polygon"===C&&b++;break;case"MultiPolygon":for(r=0;r<u.length;r++){for(E=0,i=0;i<u[r].length;i++){for(a=0;a<u[r][i].length-h;a++){if(!1===t(u[r][i][a],p,v,b,E))return!1;p++}E++}b++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===o(s.geometries[r],t,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(e,t){var n;switch(e.type){case"FeatureCollection":for(n=0;n<e.features.length&&!1!==t(e.features[n].properties,n);n++);break;case"Feature":t(e.properties,0)}}function a(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var n=0;n<e.features.length&&!1!==t(e.features[n],n);n++);}function s(e,t){var n,r,o,i,a,s,l,u,c,d,h=0,p="FeatureCollection"===e.type,f="Feature"===e.type,m=p?e.features.length:1;for(n=0;n<m;n++){for(s=p?e.features[n].geometry:f?e.geometry:e,u=p?e.features[n].properties:f?e.properties:{},c=p?e.features[n].bbox:f?e.bbox:void 0,d=p?e.features[n].id:f?e.id:void 0,a=(l=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=l?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,h,u,c,d))return!1;break;case"GeometryCollection":for(r=0;r<i.geometries.length;r++)if(!1===t(i.geometries[r],h,u,c,d))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,h,u,c,d))return!1;h++}}function l(e,t){s(e,(function(e,n,o,i,a){var s,l=null===e?null:e.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return!1!==t(r.feature(e,o,{bbox:i,id:a}),n,0)&&void 0}switch(l){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var u=0;u<e.coordinates.length;u++){var c={type:s,coordinates:e.coordinates[u]};if(!1===t(r.feature(c,o),n,u))return!1}}))}function u(e,t){l(e,(function(e,n,i){var a=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var l,u=0,c=0,d=0;return!1!==o(e,(function(o,s,h,p,f){if(void 0===l||n>u||p>c||f>d)return l=o,u=n,c=p,d=f,void(a=0);var m=r.lineString([l,o],e.properties);if(!1===t(m,n,i,f,a))return!1;a++,l=o}))&&void 0}}}))}function c(e,t){if(!e)throw new Error("geojson is required");l(e,(function(e,n,o){if(null!==e.geometry){var i=e.geometry.type,a=e.geometry.coordinates;switch(i){case"LineString":if(!1===t(e,n,o,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(r.lineString(a[s],e.properties),n,o,s))return!1}}}))}t.coordAll=function(e){var t=[];return o(e,(function(e){t.push(e)})),t},t.coordEach=o,t.coordReduce=function(e,t,n,r){var i=n;return o(e,(function(e,r,o,a,s){i=0===r&&void 0===n?e:t(i,e,r,o,a,s)}),r),i},t.featureEach=a,t.featureReduce=function(e,t,n){var r=n;return a(e,(function(e,o){r=0===o&&void 0===n?e:t(r,e,o)})),r},t.findPoint=function(e,t){if(t=t||{},!r.isObject(t))throw new Error("options is invalid");var n,o=t.featureIndex||0,i=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,l=t.properties;switch(e.type){case"FeatureCollection":o<0&&(o=e.features.length+o),l=l||e.features[o].properties,n=e.features[o].geometry;break;case"Feature":l=l||e.properties,n=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=e;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var u=n.coordinates;switch(n.type){case"Point":return r.point(u,l,t);case"MultiPoint":return i<0&&(i=u.length+i),r.point(u[i],l,t);case"LineString":return s<0&&(s=u.length+s),r.point(u[s],l,t);case"Polygon":return a<0&&(a=u.length+a),s<0&&(s=u[a].length+s),r.point(u[a][s],l,t);case"MultiLineString":return i<0&&(i=u.length+i),s<0&&(s=u[i].length+s),r.point(u[i][s],l,t);case"MultiPolygon":return i<0&&(i=u.length+i),a<0&&(a=u[i].length+a),s<0&&(s=u[i][a].length-s),r.point(u[i][a][s],l,t)}throw new Error("geojson is invalid")},t.findSegment=function(e,t){if(t=t||{},!r.isObject(t))throw new Error("options is invalid");var n,o=t.featureIndex||0,i=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,l=t.properties;switch(e.type){case"FeatureCollection":o<0&&(o=e.features.length+o),l=l||e.features[o].properties,n=e.features[o].geometry;break;case"Feature":l=l||e.properties,n=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=e;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var u=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=u.length+s-1),r.lineString([u[s],u[s+1]],l,t);case"Polygon":return a<0&&(a=u.length+a),s<0&&(s=u[a].length+s-1),r.lineString([u[a][s],u[a][s+1]],l,t);case"MultiLineString":return i<0&&(i=u.length+i),s<0&&(s=u[i].length+s-1),r.lineString([u[i][s],u[i][s+1]],l,t);case"MultiPolygon":return i<0&&(i=u.length+i),a<0&&(a=u[i].length+a),s<0&&(s=u[i][a].length-s-1),r.lineString([u[i][a][s],u[i][a][s+1]],l,t)}throw new Error("geojson is invalid")},t.flattenEach=l,t.flattenReduce=function(e,t,n){var r=n;return l(e,(function(e,o,i){r=0===o&&0===i&&void 0===n?e:t(r,e,o,i)})),r},t.geomEach=s,t.geomReduce=function(e,t,n){var r=n;return s(e,(function(e,o,i,a,s){r=0===o&&void 0===n?e:t(r,e,o,i,a,s)})),r},t.lineEach=c,t.lineReduce=function(e,t,n){var r=n;return c(e,(function(e,o,i,a){r=0===o&&void 0===n?e:t(r,e,o,i,a)})),r},t.propEach=i,t.propReduce=function(e,t,n){var r=n;return i(e,(function(e,o){r=0===o&&void 0===n?e:t(r,e,o)})),r},t.segmentEach=u,t.segmentReduce=function(e,t,n){var r=n,o=!1;return u(e,(function(e,i,a,s,l){r=!1===o&&void 0===n?e:t(r,e,i,a,s,l),o=!0})),r}},7107:()=>{Array.prototype.findIndex=Array.prototype.findIndex||function(e){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");for(var t=Object(this),n=t.length>>>0,r=arguments[1],o=0;o<n;o++)if(e.call(r,t[o],o,t))return o;return-1},Array.prototype.find=Array.prototype.find||function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");for(var t=Object(this),n=t.length>>>0,r=arguments[1],o=0;o<n;o++){var i=t[o];if(e.call(r,i,o,t))return i}},"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;for(var o,i,a=0|t,s=Math.max(a>=0?a:r-Math.abs(a),0);s<r;){if((o=n[s])===(i=e)||"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))return!0;s++}return!1}})},1787:(e,t,n)=>{var r=n(2582),o=n(4102),i=n(1540),a=n(9705).Z,s=i.featureEach,l=(i.coordEach,o.polygon,o.featureCollection);function u(e){var t=new r(e);return t.insert=function(e){if("Feature"!==e.type)throw new Error("invalid feature");return e.bbox=e.bbox?e.bbox:a(e),r.prototype.insert.call(this,e)},t.load=function(e){var t=[];return Array.isArray(e)?e.forEach((function(e){if("Feature"!==e.type)throw new Error("invalid features");e.bbox=e.bbox?e.bbox:a(e),t.push(e)})):s(e,(function(e){if("Feature"!==e.type)throw new Error("invalid features");e.bbox=e.bbox?e.bbox:a(e),t.push(e)})),r.prototype.load.call(this,t)},t.remove=function(e,t){if("Feature"!==e.type)throw new Error("invalid feature");return e.bbox=e.bbox?e.bbox:a(e),r.prototype.remove.call(this,e,t)},t.clear=function(){return r.prototype.clear.call(this)},t.search=function(e){var t=r.prototype.search.call(this,this.toBBox(e));return l(t)},t.collides=function(e){return r.prototype.collides.call(this,this.toBBox(e))},t.all=function(){var e=r.prototype.all.call(this);return l(e)},t.toJSON=function(){return r.prototype.toJSON.call(this)},t.fromJSON=function(e){return r.prototype.fromJSON.call(this,e)},t.toBBox=function(e){var t;if(e.bbox)t=e.bbox;else if(Array.isArray(e)&&4===e.length)t=e;else if(Array.isArray(e)&&6===e.length)t=[e[0],e[1],e[3],e[4]];else if("Feature"===e.type)t=a(e);else{if("FeatureCollection"!==e.type)throw new Error("invalid geojson");t=a(e)}return{minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}},t}e.exports=u,e.exports.default=u},1989:(e,t,n)=>{var r=n(1789),o=n(401),i=n(7667),a=n(1327),s=n(1866);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},8407:(e,t,n)=>{var r=n(7040),o=n(4125),i=n(2117),a=n(7518),s=n(4705);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},7071:(e,t,n)=>{var r=n(852)(n(5639),"Map");e.exports=r},3369:(e,t,n)=>{var r=n(4785),o=n(1285),i=n(6e3),a=n(9916),s=n(5265);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},6384:(e,t,n)=>{var r=n(8407),o=n(7465),i=n(3779),a=n(7599),s=n(4758),l=n(4309);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},2705:(e,t,n)=>{var r=n(5639).Symbol;e.exports=r},1149:(e,t,n)=>{var r=n(5639).Uint8Array;e.exports=r},6874:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},4636:(e,t,n)=>{var r=n(2545),o=n(5694),i=n(1469),a=n(4144),s=n(5776),l=n(6719),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),c=!n&&o(e),d=!n&&!c&&a(e),h=!n&&!c&&!d&&l(e),p=n||c||d||h,f=p?r(e.length,String):[],m=f.length;for(var _ in e)!t&&!u.call(e,_)||p&&("length"==_||d&&("offset"==_||"parent"==_)||h&&("buffer"==_||"byteLength"==_||"byteOffset"==_)||s(_,m))||f.push(_);return f}},9932:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},6556:(e,t,n)=>{var r=n(9465),o=n(7813);e.exports=function(e,t,n){(void 0!==n&&!o(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},4865:(e,t,n)=>{var r=n(9465),o=n(7813),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},8470:(e,t,n)=>{var r=n(7813);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},9465:(e,t,n)=>{var r=n(8777);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},3118:(e,t,n)=>{var r=n(3218),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},8483:(e,t,n)=>{var r=n(5063)();e.exports=r},7786:(e,t,n)=>{var r=n(1811),o=n(327);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},4239:(e,t,n)=>{var r=n(2705),o=n(9607),i=n(2333),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},8565:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},9454:(e,t,n)=>{var r=n(4239),o=n(7005);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},8458:(e,t,n)=>{var r=n(3560),o=n(5346),i=n(3218),a=n(346),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,h=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?h:s).test(a(e))}},8749:(e,t,n)=>{var r=n(4239),o=n(1780),i=n(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},313:(e,t,n)=>{var r=n(3218),o=n(5726),i=n(3498),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},2980:(e,t,n)=>{var r=n(6384),o=n(6556),i=n(8483),a=n(9783),s=n(3218),l=n(1704),u=n(6390);e.exports=function e(t,n,c,d,h){t!==n&&i(n,(function(i,l){if(h||(h=new r),s(i))a(t,n,l,c,e,d,h);else{var p=d?d(u(t,l),i,l+"",t,n,h):void 0;void 0===p&&(p=i),o(t,l,p)}}),l)}},9783:(e,t,n)=>{var r=n(6556),o=n(4626),i=n(7133),a=n(278),s=n(8517),l=n(5694),u=n(1469),c=n(9246),d=n(4144),h=n(3560),p=n(3218),f=n(8630),m=n(6719),_=n(6390),g=n(9881);e.exports=function(e,t,n,v,y,b,E){var C=_(e,n),x=_(t,n),w=E.get(x);if(w)r(e,n,w);else{var S=b?b(C,x,n+"",e,t,E):void 0,T=void 0===S;if(T){var k=u(x),L=!k&&d(x),P=!k&&!L&&m(x);S=x,k||L||P?u(C)?S=C:c(C)?S=a(C):L?(T=!1,S=o(x,!0)):P?(T=!1,S=i(x,!0)):S=[]:f(x)||l(x)?(S=C,l(C)?S=g(C):p(C)&&!h(C)||(S=s(x))):T=!1}T&&(E.set(x,S),y(S,x,v,b,E),E.delete(x)),r(e,n,S)}}},5976:(e,t,n)=>{var r=n(6557),o=n(5357),i=n(61);e.exports=function(e,t){return i(o(e,t,r),e+"")}},6560:(e,t,n)=>{var r=n(5703),o=n(8777),i=n(6557),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},2545:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},531:(e,t,n)=>{var r=n(2705),o=n(9932),i=n(1469),a=n(3448),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},1717:e=>{e.exports=function(e){return function(t){return e(t)}}},1811:(e,t,n)=>{var r=n(1469),o=n(5403),i=n(5514),a=n(9833);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},4318:(e,t,n)=>{var r=n(1149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},4626:(e,t,n)=>{e=n.nmd(e);var r=n(5639),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},7133:(e,t,n)=>{var r=n(4318);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},278:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},8363:(e,t,n)=>{var r=n(4865),o=n(9465);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=i?i(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?o(n,u,c):r(n,u,c)}return n}},4429:(e,t,n)=>{var r=n(5639)["__core-js_shared__"];e.exports=r},1463:(e,t,n)=>{var r=n(5976),o=n(6612);e.exports=function(e){return r((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var l=n[r];l&&e(t,l,r,a)}return t}))}},5063:e=>{e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}},8777:(e,t,n)=>{var r=n(852),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=o},1957:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},5050:(e,t,n)=>{var r=n(7019);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},852:(e,t,n)=>{var r=n(8458),o=n(7801);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},5924:(e,t,n)=>{var r=n(5569)(Object.getPrototypeOf,Object);e.exports=r},9607:(e,t,n)=>{var r=n(2705),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},222:(e,t,n)=>{var r=n(1811),o=n(5694),i=n(1469),a=n(5776),s=n(1780),l=n(327);e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,d=!1;++u<c;){var h=l(t[u]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++u!=c?d:!!(c=null==e?0:e.length)&&s(c)&&a(h,c)&&(i(e)||o(e))}},1789:(e,t,n)=>{var r=n(4536);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:(e,t,n)=>{var r=n(4536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},1327:(e,t,n)=>{var r=n(4536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},1866:(e,t,n)=>{var r=n(4536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},8517:(e,t,n)=>{var r=n(3118),o=n(5924),i=n(5726);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},5776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},6612:(e,t,n)=>{var r=n(7813),o=n(8612),i=n(5776),a=n(3218);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?o(n)&&i(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},5403:(e,t,n)=>{var r=n(1469),o=n(3448),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},7019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5346:(e,t,n)=>{var r,o=n(4429),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},5726:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},4125:(e,t,n)=>{var r=n(8470),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},2117:(e,t,n)=>{var r=n(8470);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7518:(e,t,n)=>{var r=n(8470);e.exports=function(e){return r(this.__data__,e)>-1}},4705:(e,t,n)=>{var r=n(8470);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},4785:(e,t,n)=>{var r=n(1989),o=n(8407),i=n(7071);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},1285:(e,t,n)=>{var r=n(5050);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},6e3:(e,t,n)=>{var r=n(5050);e.exports=function(e){return r(this,e).get(e)}},9916:(e,t,n)=>{var r=n(5050);e.exports=function(e){return r(this,e).has(e)}},5265:(e,t,n)=>{var r=n(5050);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},4523:(e,t,n)=>{var r=n(8306);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},4536:(e,t,n)=>{var r=n(852)(Object,"create");e.exports=r},3498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},1167:(e,t,n)=>{e=n.nmd(e);var r=n(1957),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},5357:(e,t,n)=>{var r=n(6874),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),l=Array(s);++a<s;)l[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=n(l),r(e,this,u)}}},5639:(e,t,n)=>{var r=n(1957),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},6390:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},61:(e,t,n)=>{var r=n(6560),o=n(1275)(r);e.exports=o},1275:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var o=t(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},7465:(e,t,n)=>{var r=n(8407);e.exports=function(){this.__data__=new r,this.size=0}},3779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},7599:e=>{e.exports=function(e){return this.__data__.get(e)}},4758:e=>{e.exports=function(e){return this.__data__.has(e)}},4309:(e,t,n)=>{var r=n(8407),o=n(7071),i=n(3369);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},5514:(e,t,n)=>{var r=n(4523),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},327:(e,t,n)=>{var r=n(3448);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},5703:e=>{e.exports=function(e){return function(){return e}}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},7361:(e,t,n)=>{var r=n(7786);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},8721:(e,t,n)=>{var r=n(8565),o=n(222);e.exports=function(e,t){return null!=e&&o(e,t,r)}},6557:e=>{e.exports=function(e){return e}},5694:(e,t,n)=>{var r=n(9454),o=n(7005),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,n)=>{var r=n(3560),o=n(1780);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},9246:(e,t,n)=>{var r=n(8612),o=n(7005);e.exports=function(e){return o(e)&&r(e)}},4144:(e,t,n)=>{e=n.nmd(e);var r=n(5639),o=n(5062),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||o;e.exports=l},3560:(e,t,n)=>{var r=n(4239),o=n(3218);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},8630:(e,t,n)=>{var r=n(4239),o=n(5924),i=n(7005),a=Function.prototype,s=Object.prototype,l=a.toString,u=s.hasOwnProperty,c=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==c}},3448:(e,t,n)=>{var r=n(4239),o=n(7005);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},6719:(e,t,n)=>{var r=n(8749),o=n(1717),i=n(1167),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},1704:(e,t,n)=>{var r=n(4636),o=n(313),i=n(8612);e.exports=function(e){return i(e)?r(e,!0):o(e)}},8306:(e,t,n)=>{var r=n(3369);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},2492:(e,t,n)=>{var r=n(2980),o=n(1463)((function(e,t,n){r(e,t,n)}));e.exports=o},5062:e=>{e.exports=function(){return!1}},9881:(e,t,n)=>{var r=n(8363),o=n(1704);e.exports=function(e){return r(e,o(e))}},9833:(e,t,n)=>{var r=n(531);e.exports=function(e){return null==e?"":r(e)}},2676:function(e){e.exports=function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}var r=function(){return function(e,t){this.next=null,this.key=e,this.data=t,this.left=null,this.right=null}}();function o(e,t){return e>t?1:e<t?-1:0}function i(e,t,n){for(var o=new r(null,null),i=o,a=o;;){var s=n(e,t.key);if(s<0){if(null===t.left)break;if(n(e,t.left.key)<0){var l=t.left;if(t.left=l.right,l.right=t,null===(t=l).left)break}a.left=t,a=t,t=t.left}else{if(!(s>0))break;if(null===t.right)break;if(n(e,t.right.key)>0&&(l=t.right,t.right=l.left,l.left=t,null===(t=l).right))break;i.right=t,i=t,t=t.right}}return i.right=t.left,a.left=t.right,t.left=o.right,t.right=o.left,t}function a(e,t,n,o){var a=new r(e,t);if(null===n)return a.left=a.right=null,a;var s=o(e,(n=i(e,n,o)).key);return s<0?(a.left=n.left,a.right=n,n.left=null):s>=0&&(a.right=n.right,a.left=n,n.right=null),a}function s(e,t,n){var r=null,o=null;if(t){var a=n((t=i(e,t,n)).key,e);0===a?(r=t.left,o=t.right):a<0?(o=t.right,t.right=null,r=t):(r=t.left,t.left=null,o=t)}return{left:r,right:o}}function l(e,t,n,r,o){if(e){r(t+(n?" ":" ")+o(e)+"\n");var i=t+(n?"    ":"   ");e.left&&l(e.left,i,!1,r,o),e.right&&l(e.right,i,!0,r,o)}}var u=function(){function e(e){void 0===e&&(e=o),this._root=null,this._size=0,this._comparator=e}return e.prototype.insert=function(e,t){return this._size++,this._root=a(e,t,this._root,this._comparator)},e.prototype.add=function(e,t){var n=new r(e,t);null===this._root&&(n.left=n.right=null,this._size++,this._root=n);var o=this._comparator,a=i(e,this._root,o),s=o(e,a.key);return 0===s?this._root=a:(s<0?(n.left=a.left,n.right=a,a.left=null):s>0&&(n.right=a.right,n.left=a,a.right=null),this._size++,this._root=n),this._root},e.prototype.remove=function(e){this._root=this._remove(e,this._root,this._comparator)},e.prototype._remove=function(e,t,n){var r;return null===t?null:0===n(e,(t=i(e,t,n)).key)?(null===t.left?r=t.right:(r=i(e,t.left,n)).right=t.right,this._size--,r):t},e.prototype.pop=function(){var e=this._root;if(e){for(;e.left;)e=e.left;return this._root=i(e.key,this._root,this._comparator),this._root=this._remove(e.key,this._root,this._comparator),{key:e.key,data:e.data}}return null},e.prototype.findStatic=function(e){for(var t=this._root,n=this._comparator;t;){var r=n(e,t.key);if(0===r)return t;t=r<0?t.left:t.right}return null},e.prototype.find=function(e){return this._root&&(this._root=i(e,this._root,this._comparator),0!==this._comparator(e,this._root.key))?null:this._root},e.prototype.contains=function(e){for(var t=this._root,n=this._comparator;t;){var r=n(e,t.key);if(0===r)return!0;t=r<0?t.left:t.right}return!1},e.prototype.forEach=function(e,t){for(var n=this._root,r=[],o=!1;!o;)null!==n?(r.push(n),n=n.left):0!==r.length?(n=r.pop(),e.call(t,n),n=n.right):o=!0;return this},e.prototype.range=function(e,t,n,r){for(var o=[],i=this._comparator,a=this._root;0!==o.length||a;)if(a)o.push(a),a=a.left;else{if(i((a=o.pop()).key,t)>0)break;if(i(a.key,e)>=0&&n.call(r,a))return this;a=a.right}return this},e.prototype.keys=function(){var e=[];return this.forEach((function(t){var n=t.key;return e.push(n)})),e},e.prototype.values=function(){var e=[];return this.forEach((function(t){var n=t.data;return e.push(n)})),e},e.prototype.min=function(){return this._root?this.minNode(this._root).key:null},e.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},e.prototype.minNode=function(e){if(void 0===e&&(e=this._root),e)for(;e.left;)e=e.left;return e},e.prototype.maxNode=function(e){if(void 0===e&&(e=this._root),e)for(;e.right;)e=e.right;return e},e.prototype.at=function(e){for(var t=this._root,n=!1,r=0,o=[];!n;)if(t)o.push(t),t=t.left;else if(o.length>0){if(t=o.pop(),r===e)return t;r++,t=t.right}else n=!0;return null},e.prototype.next=function(e){var t=this._root,n=null;if(e.right){for(n=e.right;n.left;)n=n.left;return n}for(var r=this._comparator;t;){var o=r(e.key,t.key);if(0===o)break;o<0?(n=t,t=t.left):t=t.right}return n},e.prototype.prev=function(e){var t=this._root,n=null;if(null!==e.left){for(n=e.left;n.right;)n=n.right;return n}for(var r=this._comparator;t;){var o=r(e.key,t.key);if(0===o)break;o<0?t=t.left:(n=t,t=t.right)}return n},e.prototype.clear=function(){return this._root=null,this._size=0,this},e.prototype.toList=function(){return function(e){for(var t=e,n=[],o=!1,i=new r(null,null),a=i;!o;)t?(n.push(t),t=t.left):n.length>0?t=(t=a=a.next=n.pop()).right:o=!0;return a.next=null,i.next}(this._root)},e.prototype.load=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=!1);var o=e.length,i=this._comparator;if(n&&h(e,t,0,o-1,i),null===this._root)this._root=c(e,t,0,o),this._size=o;else{var a=function(e,t,n){for(var o=new r(null,null),i=o,a=e,s=t;null!==a&&null!==s;)n(a.key,s.key)<0?(i.next=a,a=a.next):(i.next=s,s=s.next),i=i.next;return null!==a?i.next=a:null!==s&&(i.next=s),o.next}(this.toList(),function(e,t){for(var n=new r(null,null),o=n,i=0;i<e.length;i++)o=o.next=new r(e[i],t[i]);return o.next=null,n.next}(e,t),i);o=this._size+o,this._root=d({head:a},0,o)}return this},e.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),e.prototype.toString=function(e){void 0===e&&(e=function(e){return String(e.key)});var t=[];return l(this._root,"",!0,(function(e){return t.push(e)}),e),t.join("")},e.prototype.update=function(e,t,n){var r=this._comparator,o=s(e,this._root,r),l=o.left,u=o.right;r(e,t)<0?u=a(t,n,u,r):l=a(t,n,l,r),this._root=function(e,t,n){return null===t?e:(null===e||((t=i(e.key,t,n)).left=e),t)}(l,u,r)},e.prototype.split=function(e){return s(e,this._root,this._comparator)},e}();function c(e,t,n,o){var i=o-n;if(i>0){var a=n+Math.floor(i/2),s=e[a],l=t[a],u=new r(s,l);return u.left=c(e,t,n,a),u.right=c(e,t,a+1,o),u}return null}function d(e,t,n){var r=n-t;if(r>0){var o=t+Math.floor(r/2),i=d(e,t,o),a=e.head;return a.left=i,e.head=e.head.next,a.right=d(e,o+1,n),a}return null}function h(e,t,n,r,o){if(!(n>=r)){for(var i=e[n+r>>1],a=n-1,s=r+1;;){do{a++}while(o(e[a],i)<0);do{s--}while(o(e[s],i)>0);if(a>=s)break;var l=e[a];e[a]=e[s],e[s]=l,l=t[a],t[a]=t[s],t[s]=l}h(e,t,n,s,o),h(e,t,s+1,r,o)}}var p=function(e,t){return e.ll.x<=t.x&&t.x<=e.ur.x&&e.ll.y<=t.y&&t.y<=e.ur.y},f=function(e,t){if(t.ur.x<e.ll.x||e.ur.x<t.ll.x||t.ur.y<e.ll.y||e.ur.y<t.ll.y)return null;var n=e.ll.x<t.ll.x?t.ll.x:e.ll.x,r=e.ur.x<t.ur.x?e.ur.x:t.ur.x;return{ll:{x:n,y:e.ll.y<t.ll.y?t.ll.y:e.ll.y},ur:{x:r,y:e.ur.y<t.ur.y?e.ur.y:t.ur.y}}},m=Number.EPSILON;void 0===m&&(m=Math.pow(2,-52));var _=m*m,g=function(e,t){if(-m<e&&e<m&&-m<t&&t<m)return 0;var n=e-t;return n*n<_*e*t?0:e<t?-1:1},v=function(){function t(){e(this,t),this.reset()}return n(t,[{key:"reset",value:function(){this.xRounder=new y,this.yRounder=new y}},{key:"round",value:function(e,t){return{x:this.xRounder.round(e),y:this.yRounder.round(t)}}}]),t}(),y=function(){function t(){e(this,t),this.tree=new u,this.round(0)}return n(t,[{key:"round",value:function(e){var t=this.tree.add(e),n=this.tree.prev(t);if(null!==n&&0===g(t.key,n.key))return this.tree.remove(e),n.key;var r=this.tree.next(t);return null!==r&&0===g(t.key,r.key)?(this.tree.remove(e),r.key):e}}]),t}(),b=new v,E=function(e,t){return e.x*t.y-e.y*t.x},C=function(e,t){return e.x*t.x+e.y*t.y},x=function(e,t,n){var r={x:t.x-e.x,y:t.y-e.y},o={x:n.x-e.x,y:n.y-e.y},i=E(r,o);return g(i,0)},w=function(e){return Math.sqrt(C(e,e))},S=function(e,t,n){var r={x:t.x-e.x,y:t.y-e.y},o={x:n.x-e.x,y:n.y-e.y};return E(o,r)/w(o)/w(r)},T=function(e,t,n){var r={x:t.x-e.x,y:t.y-e.y},o={x:n.x-e.x,y:n.y-e.y};return C(o,r)/w(o)/w(r)},k=function(e,t,n){return 0===t.y?null:{x:e.x+t.x/t.y*(n-e.y),y:n}},L=function(e,t,n){return 0===t.x?null:{x:n,y:e.y+t.y/t.x*(n-e.x)}},P=function(){function t(n,r){e(this,t),void 0===n.events?n.events=[this]:n.events.push(this),this.point=n,this.isLeft=r}return n(t,null,[{key:"compare",value:function(e,n){var r=t.comparePoints(e.point,n.point);return 0!==r?r:(e.point!==n.point&&e.link(n),e.isLeft!==n.isLeft?e.isLeft?1:-1:O.compare(e.segment,n.segment))}},{key:"comparePoints",value:function(e,t){return e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0}}]),n(t,[{key:"link",value:function(e){if(e.point===this.point)throw new Error("Tried to link already linked events");for(var t=e.point.events,n=0,r=t.length;n<r;n++){var o=t[n];this.point.events.push(o),o.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var e=this.point.events.length,t=0;t<e;t++){var n=this.point.events[t];if(void 0===n.segment.consumedBy)for(var r=t+1;r<e;r++){var o=this.point.events[r];void 0===o.consumedBy&&n.otherSE.point.events===o.otherSE.point.events&&n.segment.consume(o.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var e=[],t=0,n=this.point.events.length;t<n;t++){var r=this.point.events[t];r!==this&&!r.segment.ringOut&&r.segment.isInResult()&&e.push(r)}return e}},{key:"getLeftmostComparator",value:function(e){var t=this,n=new Map,r=function(r){var o=r.otherSE;n.set(r,{sine:S(t.point,e.point,o.point),cosine:T(t.point,e.point,o.point)})};return function(e,t){n.has(e)||r(e),n.has(t)||r(t);var o=n.get(e),i=o.sine,a=o.cosine,s=n.get(t),l=s.sine,u=s.cosine;return i>=0&&l>=0?a<u?1:a>u?-1:0:i<0&&l<0?a<u?-1:a>u?1:0:l<i?-1:l>i?1:0}}}]),t}(),M=0,O=function(){function t(n,r,o,i){e(this,t),this.id=++M,this.leftSE=n,n.segment=this,n.otherSE=r,this.rightSE=r,r.segment=this,r.otherSE=n,this.rings=o,this.windings=i}return n(t,null,[{key:"compare",value:function(e,t){var n=e.leftSE.point.x,r=t.leftSE.point.x,o=e.rightSE.point.x,i=t.rightSE.point.x;if(i<n)return 1;if(o<r)return-1;var a=e.leftSE.point.y,s=t.leftSE.point.y,l=e.rightSE.point.y,u=t.rightSE.point.y;if(n<r){if(s<a&&s<l)return 1;if(s>a&&s>l)return-1;var c=e.comparePoint(t.leftSE.point);if(c<0)return 1;if(c>0)return-1;var d=t.comparePoint(e.rightSE.point);return 0!==d?d:-1}if(n>r){if(a<s&&a<u)return-1;if(a>s&&a>u)return 1;var h=t.comparePoint(e.leftSE.point);if(0!==h)return h;var p=e.comparePoint(t.rightSE.point);return p<0?1:p>0?-1:1}if(a<s)return-1;if(a>s)return 1;if(o<i){var f=t.comparePoint(e.rightSE.point);if(0!==f)return f}if(o>i){var m=e.comparePoint(t.rightSE.point);if(m<0)return 1;if(m>0)return-1}if(o!==i){var _=l-a,g=o-n,v=u-s,y=i-r;if(_>g&&v<y)return 1;if(_<g&&v>y)return-1}return o>i?1:o<i||l<u?-1:l>u?1:e.id<t.id?-1:e.id>t.id?1:0}}]),n(t,[{key:"replaceRightSE",value:function(e){this.rightSE=e,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var e=this.leftSE.point.y,t=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:e<t?e:t},ur:{x:this.rightSE.point.x,y:e>t?e:t}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(e){return e.x===this.leftSE.point.x&&e.y===this.leftSE.point.y||e.x===this.rightSE.point.x&&e.y===this.rightSE.point.y}},{key:"comparePoint",value:function(e){if(this.isAnEndpoint(e))return 0;var t=this.leftSE.point,n=this.rightSE.point,r=this.vector();if(t.x===n.x)return e.x===t.x?0:e.x<t.x?1:-1;var o=(e.y-t.y)/r.y,i=t.x+o*r.x;if(e.x===i)return 0;var a=(e.x-t.x)/r.x,s=t.y+a*r.y;return e.y===s?0:e.y<s?-1:1}},{key:"getIntersection",value:function(e){var t=this.bbox(),n=e.bbox(),r=f(t,n);if(null===r)return null;var o=this.leftSE.point,i=this.rightSE.point,a=e.leftSE.point,s=e.rightSE.point,l=p(t,a)&&0===this.comparePoint(a),u=p(n,o)&&0===e.comparePoint(o),c=p(t,s)&&0===this.comparePoint(s),d=p(n,i)&&0===e.comparePoint(i);if(u&&l)return d&&!c?i:!d&&c?s:null;if(u)return c&&o.x===s.x&&o.y===s.y?null:o;if(l)return d&&i.x===a.x&&i.y===a.y?null:a;if(d&&c)return null;if(d)return i;if(c)return s;var h=function(e,t,n,r){if(0===t.x)return L(n,r,e.x);if(0===r.x)return L(e,t,n.x);if(0===t.y)return k(n,r,e.y);if(0===r.y)return k(e,t,n.y);var o=E(t,r);if(0==o)return null;var i={x:n.x-e.x,y:n.y-e.y},a=E(i,t)/o,s=E(i,r)/o;return{x:(e.x+s*t.x+(n.x+a*r.x))/2,y:(e.y+s*t.y+(n.y+a*r.y))/2}}(o,this.vector(),a,e.vector());return null===h?null:p(r,h)?b.round(h.x,h.y):null}},{key:"split",value:function(e){var n=[],r=void 0!==e.events,o=new P(e,!0),i=new P(e,!1),a=this.rightSE;this.replaceRightSE(i),n.push(i),n.push(o);var s=new t(o,a,this.rings.slice(),this.windings.slice());return P.comparePoints(s.leftSE.point,s.rightSE.point)>0&&s.swapEvents(),P.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),r&&(o.checkForConsuming(),i.checkForConsuming()),n}},{key:"swapEvents",value:function(){var e=this.rightSE;this.rightSE=this.leftSE,this.leftSE=e,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var t=0,n=this.windings.length;t<n;t++)this.windings[t]*=-1}},{key:"consume",value:function(e){for(var n=this,r=e;n.consumedBy;)n=n.consumedBy;for(;r.consumedBy;)r=r.consumedBy;var o=t.compare(n,r);if(0!==o){if(o>0){var i=n;n=r,r=i}if(n.prev===r){var a=n;n=r,r=a}for(var s=0,l=r.rings.length;s<l;s++){var u=r.rings[s],c=r.windings[s],d=n.rings.indexOf(u);-1===d?(n.rings.push(u),n.windings.push(c)):n.windings[d]+=c}r.rings=null,r.windings=null,r.consumedBy=n,r.leftSE.consumedBy=n.leftSE,r.rightSE.consumedBy=n.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){var e=this.prev.consumedBy||this.prev;this._beforeState=e.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var e=this.beforeState();this._afterState={rings:e.rings.slice(0),windings:e.windings.slice(0),multiPolys:[]};for(var t=this._afterState.rings,n=this._afterState.windings,r=this._afterState.multiPolys,o=0,i=this.rings.length;o<i;o++){var a=this.rings[o],s=this.windings[o],l=t.indexOf(a);-1===l?(t.push(a),n.push(s)):n[l]+=s}for(var u=[],c=[],d=0,h=t.length;d<h;d++)if(0!==n[d]){var p=t[d],f=p.poly;if(-1===c.indexOf(f))if(p.isExterior)u.push(f);else{-1===c.indexOf(f)&&c.push(f);var m=u.indexOf(p.poly);-1!==m&&u.splice(m,1)}}for(var _=0,g=u.length;_<g;_++){var v=u[_].multiPoly;-1===r.indexOf(v)&&r.push(v)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var e=this.beforeState().multiPolys,t=this.afterState().multiPolys;switch(z.type){case"union":var n=0===e.length,r=0===t.length;this._isInResult=n!==r;break;case"intersection":var o,i;e.length<t.length?(o=e.length,i=t.length):(o=t.length,i=e.length),this._isInResult=i===z.numMultiPolys&&o<i;break;case"xor":var a=Math.abs(e.length-t.length);this._isInResult=a%2==1;break;case"difference":var s=function(e){return 1===e.length&&e[0].isSubject};this._isInResult=s(e)!==s(t);break;default:throw new Error("Unrecognized operation type found ".concat(z.type))}return this._isInResult}}],[{key:"fromRing",value:function(e,n,r){var o,i,a,s=P.comparePoints(e,n);if(s<0)o=e,i=n,a=1;else{if(!(s>0))throw new Error("Tried to create degenerate segment at [".concat(e.x,", ").concat(e.y,"]"));o=n,i=e,a=-1}return new t(new P(o,!0),new P(i,!1),[r],[a])}}]),t}(),N=function(){function t(n,r,o){if(e(this,t),!Array.isArray(n)||0===n.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=r,this.isExterior=o,this.segments=[],"number"!=typeof n[0][0]||"number"!=typeof n[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var i=b.round(n[0][0],n[0][1]);this.bbox={ll:{x:i.x,y:i.y},ur:{x:i.x,y:i.y}};for(var a=i,s=1,l=n.length;s<l;s++){if("number"!=typeof n[s][0]||"number"!=typeof n[s][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var u=b.round(n[s][0],n[s][1]);u.x===a.x&&u.y===a.y||(this.segments.push(O.fromRing(a,u,this)),u.x<this.bbox.ll.x&&(this.bbox.ll.x=u.x),u.y<this.bbox.ll.y&&(this.bbox.ll.y=u.y),u.x>this.bbox.ur.x&&(this.bbox.ur.x=u.x),u.y>this.bbox.ur.y&&(this.bbox.ur.y=u.y),a=u)}i.x===a.x&&i.y===a.y||this.segments.push(O.fromRing(a,i,this))}return n(t,[{key:"getSweepEvents",value:function(){for(var e=[],t=0,n=this.segments.length;t<n;t++){var r=this.segments[t];e.push(r.leftSE),e.push(r.rightSE)}return e}}]),t}(),A=function(){function t(n,r){if(e(this,t),!Array.isArray(n))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new N(n[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var o=1,i=n.length;o<i;o++){var a=new N(n[o],this,!1);a.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=a.bbox.ll.x),a.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=a.bbox.ll.y),a.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=a.bbox.ur.x),a.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=a.bbox.ur.y),this.interiorRings.push(a)}this.multiPoly=r}return n(t,[{key:"getSweepEvents",value:function(){for(var e=this.exteriorRing.getSweepEvents(),t=0,n=this.interiorRings.length;t<n;t++)for(var r=this.interiorRings[t].getSweepEvents(),o=0,i=r.length;o<i;o++)e.push(r[o]);return e}}]),t}(),I=function(){function t(n,r){if(e(this,t),!Array.isArray(n))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof n[0][0][0]&&(n=[n])}catch(s){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var o=0,i=n.length;o<i;o++){var a=new A(n[o],this);a.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=a.bbox.ll.x),a.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=a.bbox.ll.y),a.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=a.bbox.ur.x),a.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=a.bbox.ur.y),this.polys.push(a)}this.isSubject=r}return n(t,[{key:"getSweepEvents",value:function(){for(var e=[],t=0,n=this.polys.length;t<n;t++)for(var r=this.polys[t].getSweepEvents(),o=0,i=r.length;o<i;o++)e.push(r[o]);return e}}]),t}(),R=function(){function t(n){e(this,t),this.events=n;for(var r=0,o=n.length;r<o;r++)n[r].segment.ringOut=this;this.poly=null}return n(t,null,[{key:"factory",value:function(e){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];if(i.isInResult()&&!i.ringOut){for(var a=null,s=i.leftSE,l=i.rightSE,u=[s],c=s.point,d=[];a=s,s=l,u.push(s),s.point!==c;)for(;;){var h=s.getAvailableLinkedEvents();if(0===h.length){var p=u[0].point,f=u[u.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(p.x,",")+" ".concat(p.y,"]. Last matching segment found ends at")+" [".concat(f.x,", ").concat(f.y,"]."))}if(1===h.length){l=h[0].otherSE;break}for(var m=null,_=0,g=d.length;_<g;_++)if(d[_].point===s.point){m=_;break}if(null===m){d.push({index:u.length,point:s.point});var v=s.getLeftmostComparator(a);l=h.sort(v)[0].otherSE;break}var y=d.splice(m)[0],b=u.splice(y.index);b.unshift(b[0].otherSE),n.push(new t(b.reverse()))}n.push(new t(u))}}return n}}]),n(t,[{key:"getGeom",value:function(){for(var e=this.events[0].point,t=[e],n=1,r=this.events.length-1;n<r;n++){var o=this.events[n].point,i=this.events[n+1].point;0!==x(o,e,i)&&(t.push(o),e=o)}if(1===t.length)return null;var a=t[0],s=t[1];0===x(a,e,s)&&t.shift(),t.push(t[0]);for(var l=this.isExteriorRing()?1:-1,u=this.isExteriorRing()?0:t.length-1,c=this.isExteriorRing()?t.length:-1,d=[],h=u;h!=c;h+=l)d.push([t[h].x,t[h].y]);return d}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var e=this.enclosingRing();this._isExteriorRing=!e||!e.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var e=this.events[0],t=1,n=this.events.length;t<n;t++){var r=this.events[t];P.compare(e,r)>0&&(e=r)}for(var o=e.segment.prevInResult(),i=o?o.prevInResult():null;;){if(!o)return null;if(!i)return o.ringOut;if(i.ringOut!==o.ringOut)return i.ringOut.enclosingRing()!==o.ringOut?o.ringOut:o.ringOut.enclosingRing();o=i.prevInResult(),i=o?o.prevInResult():null}}}]),t}(),$=function(){function t(n){e(this,t),this.exteriorRing=n,n.poly=this,this.interiorRings=[]}return n(t,[{key:"addInterior",value:function(e){this.interiorRings.push(e),e.poly=this}},{key:"getGeom",value:function(){var e=[this.exteriorRing.getGeom()];if(null===e[0])return null;for(var t=0,n=this.interiorRings.length;t<n;t++){var r=this.interiorRings[t].getGeom();null!==r&&e.push(r)}return e}}]),t}(),B=function(){function t(n){e(this,t),this.rings=n,this.polys=this._composePolys(n)}return n(t,[{key:"getGeom",value:function(){for(var e=[],t=0,n=this.polys.length;t<n;t++){var r=this.polys[t].getGeom();null!==r&&e.push(r)}return e}},{key:"_composePolys",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];if(!o.poly)if(o.isExteriorRing())t.push(new $(o));else{var i=o.enclosingRing();i.poly||t.push(new $(i)),i.poly.addInterior(o)}}return t}}]),t}(),D=function(){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.compare;e(this,t),this.queue=n,this.tree=new u(r),this.segments=[]}return n(t,[{key:"process",value:function(e){var t=e.segment,n=[];if(e.consumedBy)return e.isLeft?this.queue.remove(e.otherSE):this.tree.remove(t),n;var r=e.isLeft?this.tree.insert(t):this.tree.find(t);if(!r)throw new Error("Unable to find segment #".concat(t.id," ")+"[".concat(t.leftSE.point.x,", ").concat(t.leftSE.point.y,"] -> ")+"[".concat(t.rightSE.point.x,", ").concat(t.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var o=r,i=r,a=void 0,s=void 0;void 0===a;)null===(o=this.tree.prev(o))?a=null:void 0===o.key.consumedBy&&(a=o.key);for(;void 0===s;)null===(i=this.tree.next(i))?s=null:void 0===i.key.consumedBy&&(s=i.key);if(e.isLeft){var l=null;if(a){var u=a.getIntersection(t);if(null!==u&&(t.isAnEndpoint(u)||(l=u),!a.isAnEndpoint(u)))for(var c=this._splitSafely(a,u),d=0,h=c.length;d<h;d++)n.push(c[d])}var p=null;if(s){var f=s.getIntersection(t);if(null!==f&&(t.isAnEndpoint(f)||(p=f),!s.isAnEndpoint(f)))for(var m=this._splitSafely(s,f),_=0,g=m.length;_<g;_++)n.push(m[_])}if(null!==l||null!==p){var v;v=null===l?p:null===p||P.comparePoints(l,p)<=0?l:p,this.queue.remove(t.rightSE),n.push(t.rightSE);for(var y=t.split(v),b=0,E=y.length;b<E;b++)n.push(y[b])}n.length>0?(this.tree.remove(t),n.push(e)):(this.segments.push(t),t.prev=a)}else{if(a&&s){var C=a.getIntersection(s);if(null!==C){if(!a.isAnEndpoint(C))for(var x=this._splitSafely(a,C),w=0,S=x.length;w<S;w++)n.push(x[w]);if(!s.isAnEndpoint(C))for(var T=this._splitSafely(s,C),k=0,L=T.length;k<L;k++)n.push(T[k])}}this.tree.remove(t)}return n}},{key:"_splitSafely",value:function(e,t){this.tree.remove(e);var n=e.rightSE;this.queue.remove(n);var r=e.split(t);return r.push(n),void 0===e.consumedBy&&this.tree.insert(e),r}}]),t}(),F="undefined"!=typeof process&&define_process_env_default.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,V="undefined"!=typeof process&&define_process_env_default.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,z=new(function(){function t(){e(this,t)}return n(t,[{key:"run",value:function(e,t,n){z.type=e,b.reset();for(var r=[new I(t,!0)],o=0,i=n.length;o<i;o++)r.push(new I(n[o],!1));if(z.numMultiPolys=r.length,"difference"===z.type)for(var a=r[0],s=1;s<r.length;)null!==f(r[s].bbox,a.bbox)?s++:r.splice(s,1);if("intersection"===z.type)for(var l=0,c=r.length;l<c;l++)for(var d=r[l],h=l+1,p=r.length;h<p;h++)if(null===f(d.bbox,r[h].bbox))return[];for(var m=new u(P.compare),_=0,g=r.length;_<g;_++)for(var v=r[_].getSweepEvents(),y=0,E=v.length;y<E;y++)if(m.insert(v[y]),m.size>F)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var C=new D(m),x=m.size,w=m.pop();w;){var S=w.key;if(m.size===x){var T=S.segment;throw new Error("Unable to pop() ".concat(S.isLeft?"left":"right"," SweepEvent ")+"[".concat(S.point.x,", ").concat(S.point.y,"] from segment #").concat(T.id," ")+"[".concat(T.leftSE.point.x,", ").concat(T.leftSE.point.y,"] -> ")+"[".concat(T.rightSE.point.x,", ").concat(T.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(m.size>F)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(C.segments.length>V)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var k=C.process(S),L=0,M=k.length;L<M;L++){var O=k[L];void 0===O.consumedBy&&m.insert(O)}x=m.size,w=m.pop()}b.reset();var N=R.factory(C.segments);return new B(N).getGeom()}}]),t}());return{union:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return z.run("union",e,n)},intersection:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return z.run("intersection",e,n)},xor:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return z.run("xor",e,n)},difference:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return z.run("difference",e,n)}}}()},2582:function(e){e.exports=function(){function e(e,r,o,i,a){!function e(n,r,o,i,a){for(;i>o;){if(i-o>600){var s=i-o+1,l=r-o+1,u=Math.log(s),c=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);e(n,r,Math.max(o,Math.floor(r-l*c/s+d)),Math.min(i,Math.floor(r+(s-l)*c/s+d)),a)}var h=n[r],p=o,f=i;for(t(n,o,r),a(n[i],h)>0&&t(n,o,i);p<f;){for(t(n,p,f),p++,f--;a(n[p],h)<0;)p++;for(;a(n[f],h)>0;)f--}0===a(n[o],h)?t(n,o,f):t(n,++f,i),f<=r&&(o=f+1),r<=f&&(i=f-1)}}(e,r,o||0,i||e.length-1,a||n)}function t(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function n(e,t){return e<t?-1:e>t?1:0}var r=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function i(e,t){a(e,0,e.children.length,t,e)}function a(e,t,n,r,o){o||(o=f(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i=t;i<n;i++){var a=e.children[i];s(o,e.leaf?r(a):a)}return o}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function l(e,t){return e.minX-t.minX}function u(e,t){return e.minY-t.minY}function c(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function d(e){return e.maxX-e.minX+(e.maxY-e.minY)}function h(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function p(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function f(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(t,n,r,o,i){for(var a=[n,r];a.length;)if(!((r=a.pop())-(n=a.pop())<=o)){var s=n+Math.ceil((r-n)/o/2)*o;e(t,s,n,r,i),a.push(n,s,s,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(e){var t=this.data,n=[];if(!p(e,t))return n;for(var r=this.toBBox,o=[];t;){for(var i=0;i<t.children.length;i++){var a=t.children[i],s=t.leaf?r(a):a;p(e,s)&&(t.leaf?n.push(a):h(e,s)?this._all(a,n):o.push(a))}t=o.pop()}return n},r.prototype.collides=function(e){var t=this.data;if(!p(e,t))return!1;for(var n=[];t;){for(var r=0;r<t.children.length;r++){var o=t.children[r],i=t.leaf?this.toBBox(o):o;if(p(e,i)){if(t.leaf||h(e,i))return!0;n.push(o)}}t=n.pop()}return!1},r.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},r.prototype.clear=function(){return this.data=f([]),this},r.prototype.remove=function(e,t){if(!e)return this;for(var n,r,i,a=this.data,s=this.toBBox(e),l=[],u=[];a||l.length;){if(a||(a=l.pop(),r=l[l.length-1],n=u.pop(),i=!0),a.leaf){var c=o(e,a.children,t);if(-1!==c)return a.children.splice(c,1),l.push(a),this._condense(l),this}i||a.leaf||!h(a,s)?r?(n++,a=r.children[n],i=!1):a=null:(l.push(a),u.push(n),n=0,r=a,a=a.children[0])}return this},r.prototype.toBBox=function(e){return e},r.prototype.compareMinX=function(e,t){return e.minX-t.minX},r.prototype.compareMinY=function(e,t){return e.minY-t.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(e){return this.data=e,this},r.prototype._all=function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},r.prototype._build=function(e,t,n,r){var o,a=n-t+1,s=this._maxEntries;if(a<=s)return i(o=f(e.slice(t,n+1)),this.toBBox),o;r||(r=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,r-1))),(o=f([])).leaf=!1,o.height=r;var l=Math.ceil(a/s),u=l*Math.ceil(Math.sqrt(s));m(e,t,n,u,this.compareMinX);for(var c=t;c<=n;c+=u){var d=Math.min(c+u-1,n);m(e,c,d,l,this.compareMinY);for(var h=c;h<=d;h+=l){var p=Math.min(h+l-1,d);o.children.push(this._build(e,h,p,r-1))}}return i(o,this.toBBox),o},r.prototype._chooseSubtree=function(e,t,n,r){for(;r.push(t),!t.leaf&&r.length-1!==n;){for(var o=1/0,i=1/0,a=void 0,s=0;s<t.children.length;s++){var l=t.children[s],u=c(l),d=(h=e,p=l,(Math.max(p.maxX,h.maxX)-Math.min(p.minX,h.minX))*(Math.max(p.maxY,h.maxY)-Math.min(p.minY,h.minY))-u);d<i?(i=d,o=u<o?u:o,a=l):d===i&&u<o&&(o=u,a=l)}t=a||t.children[0]}var h,p;return t},r.prototype._insert=function(e,t,n){var r=n?e:this.toBBox(e),o=[],i=this._chooseSubtree(r,this.data,t,o);for(i.children.push(e),s(i,r);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(r,o,t)},r.prototype._split=function(e,t){var n=e[t],r=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,r);var a=this._chooseSplitIndex(n,o,r),s=f(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,i(n,this.toBBox),i(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)},r.prototype._splitRoot=function(e,t){this.data=f([e,t]),this.data.height=e.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(e,t,n){for(var r,o,i,s,l,u,d,h=1/0,p=1/0,f=t;f<=n-t;f++){var m=a(e,0,f,this.toBBox),_=a(e,f,n,this.toBBox),g=(o=m,i=_,void 0,void 0,void 0,void 0,s=Math.max(o.minX,i.minX),l=Math.max(o.minY,i.minY),u=Math.min(o.maxX,i.maxX),d=Math.min(o.maxY,i.maxY),Math.max(0,u-s)*Math.max(0,d-l)),v=c(m)+c(_);g<h?(h=g,r=f,p=v<p?v:p):g===h&&v<p&&(p=v,r=f)}return r||n-t},r.prototype._chooseSplitAxis=function(e,t,n){var r=e.leaf?this.compareMinX:l,o=e.leaf?this.compareMinY:u;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,o)&&e.children.sort(r)},r.prototype._allDistMargin=function(e,t,n,r){e.children.sort(r);for(var o=this.toBBox,i=a(e,0,t,o),l=a(e,n-t,n,o),u=d(i)+d(l),c=t;c<n-t;c++){var h=e.children[c];s(i,e.leaf?o(h):h),u+=d(i)}for(var p=n-t-1;p>=t;p--){var f=e.children[p];s(l,e.leaf?o(f):f),u+=d(l)}return u},r.prototype._adjustParentBBoxes=function(e,t,n){for(var r=n;r>=0;r--)s(t[r],e)},r.prototype._condense=function(e){for(var t=e.length-1,n=void 0;t>=0;t--)0===e[t].children.length?t>0?(n=e[t-1].children).splice(n.indexOf(e[t]),1):this.clear():i(e[t],this.toBBox)},r}()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{n(7107);var e=n(2492),t=n.n(e);const r=JSON.parse('{"tooltips":{"placeMarker":"Click to place marker","firstVertex":"Click to place first vertex","continueLine":"Click to continue drawing","finishLine":"Click any existing marker to finish","finishPoly":"Click first marker to finish","finishRect":"Click to finish","startCircle":"Click to place circle center","finishCircle":"Click to finish circle","placeCircleMarker":"Click to place circle marker","placeText":"Click to place text"},"actions":{"finish":"Finish","cancel":"Cancel","removeLastVertex":"Remove Last Vertex"},"buttonTitles":{"drawMarkerButton":"Draw Marker","drawPolyButton":"Draw Polygons","drawLineButton":"Draw Polyline","drawCircleButton":"Draw Circle","drawRectButton":"Draw Rectangle","editButton":"Edit Layers","dragButton":"Drag Layers","cutButton":"Cut Layers","deleteButton":"Remove Layers","drawCircleMarkerButton":"Draw Circle Marker","snappingButton":"Snap dragged marker to other layers and vertices","pinningButton":"Pin shared vertices together","rotateButton":"Rotate Layers","drawTextButton":"Draw Text","scaleButton":"Scale Layers","autoTracingButton":"Auto trace Line"},"measurements":{"totalLength":"Length","segmentLength":"Segment length","area":"Area","radius":"Radius","perimeter":"Perimeter","height":"Height","width":"Width","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),o=JSON.parse('{"tooltips":{"placeMarker":"Platziere den Marker mit Klick","firstVertex":"Platziere den ersten Marker mit Klick","continueLine":"Klicke, um weiter zu zeichnen","finishLine":"Beende mit Klick auf existierenden Marker","finishPoly":"Beende mit Klick auf ersten Marker","finishRect":"Beende mit Klick","startCircle":"Platziere das Kreiszentrum mit Klick","finishCircle":"Beende den Kreis mit Klick","placeCircleMarker":"Platziere den Kreismarker mit Klick","placeText":"Platziere den Text mit Klick"},"actions":{"finish":"Beenden","cancel":"Abbrechen","removeLastVertex":"Letzten Vertex lschen"},"buttonTitles":{"drawMarkerButton":"Marker zeichnen","drawPolyButton":"Polygon zeichnen","drawLineButton":"Polyline zeichnen","drawCircleButton":"Kreis zeichnen","drawRectButton":"Rechteck zeichnen","editButton":"Layer editieren","dragButton":"Layer bewegen","cutButton":"Layer schneiden","deleteButton":"Layer lschen","drawCircleMarkerButton":"Kreismarker zeichnen","snappingButton":"Bewegter Layer an andere Layer oder Vertexe einhacken","pinningButton":"Vertexe an der gleichen Position verknpfen","rotateButton":"Layer drehen","drawTextButton":"Text zeichnen","scaleButton":"Layer skalieren","autoTracingButton":"Linie automatisch nachzeichen"},"measurements":{"totalLength":"Lnge","segmentLength":"Segment Lnge","area":"Flche","radius":"Radius","perimeter":"Umfang","height":"Hhe","width":"Breite","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),i=JSON.parse('{"tooltips":{"placeMarker":"Clicca per posizionare un Marker","firstVertex":"Clicca per posizionare il primo vertice","continueLine":"Clicca per continuare a disegnare","finishLine":"Clicca qualsiasi marker esistente per terminare","finishPoly":"Clicca il primo marker per terminare","finishRect":"Clicca per terminare","startCircle":"Clicca per posizionare il punto centrale del cerchio","finishCircle":"Clicca per terminare il cerchio","placeCircleMarker":"Clicca per posizionare un Marker del cherchio"},"actions":{"finish":"Termina","cancel":"Annulla","removeLastVertex":"Rimuovi l\'ultimo vertice"},"buttonTitles":{"drawMarkerButton":"Disegna Marker","drawPolyButton":"Disegna Poligoni","drawLineButton":"Disegna Polilinea","drawCircleButton":"Disegna Cerchio","drawRectButton":"Disegna Rettangolo","editButton":"Modifica Livelli","dragButton":"Sposta Livelli","cutButton":"Ritaglia Livelli","deleteButton":"Elimina Livelli","drawCircleMarkerButton":"Disegna Marker del Cerchio","snappingButton":"Snap ha trascinato il pennarello su altri strati e vertici","pinningButton":"Pin condiviso vertici insieme"}}'),a=JSON.parse('{"tooltips":{"placeMarker":"Klik untuk menempatkan marker","firstVertex":"Klik untuk menempatkan vertex pertama","continueLine":"Klik untuk meneruskan digitasi","finishLine":"Klik pada sembarang marker yang ada untuk mengakhiri","finishPoly":"Klik marker pertama untuk mengakhiri","finishRect":"Klik untuk mengakhiri","startCircle":"Klik untuk menempatkan titik pusat lingkaran","finishCircle":"Klik untuk mengakhiri lingkaran","placeCircleMarker":"Klik untuk menempatkan penanda lingkarann"},"actions":{"finish":"Selesai","cancel":"Batal","removeLastVertex":"Hilangkan Vertex Terakhir"},"buttonTitles":{"drawMarkerButton":"Digitasi Marker","drawPolyButton":"Digitasi Polygon","drawLineButton":"Digitasi Polyline","drawCircleButton":"Digitasi Lingkaran","drawRectButton":"Digitasi Segi Empat","editButton":"Edit Layer","dragButton":"Geser Layer","cutButton":"Potong Layer","deleteButton":"Hilangkan Layer","drawCircleMarkerButton":"Digitasi Penanda Lingkaran","snappingButton":"Jepretkan penanda yang ditarik ke lapisan dan simpul lain","pinningButton":"Sematkan simpul bersama bersama"}}'),s=JSON.parse('{"tooltips":{"placeMarker":"Adaug un punct","firstVertex":"Apas aici pentru a aduga primul Vertex","continueLine":"Apas aici pentru a continua desenul","finishLine":"Apas pe orice obiect pentru a finisa desenul","finishPoly":"Apas pe primul obiect pentru a finisa","finishRect":"Apas pentru a finisa","startCircle":"Apas pentru a desena un cerc","finishCircle":"Apas pentru a finisa un cerc","placeCircleMarker":"Adaug un punct"},"actions":{"finish":"Termin","cancel":"Anuleaz","removeLastVertex":"terge ultimul Vertex"},"buttonTitles":{"drawMarkerButton":"Adaug o bulin","drawPolyButton":"Deseneaz un poligon","drawLineButton":"Deseneaz o linie","drawCircleButton":"Deseneaz un cerc","drawRectButton":"Deseneaz un dreptunghi","editButton":"Editeaz straturile","dragButton":"Mut straturile","cutButton":"Taie straturile","deleteButton":"terge straturile","drawCircleMarkerButton":"Deseneaz marcatorul cercului","snappingButton":"Fixai marcatorul glisat pe alte straturi i vrfuri","pinningButton":"Fixai vrfurile partajate mpreun"}}'),l=JSON.parse('{"tooltips":{"placeMarker":",   ","firstVertex":",    ","continueLine":",   ","finishLine":"     ","finishPoly":"  ,  ","finishRect":",  ","startCircle":",    ","finishCircle":",   ","placeCircleMarker":",    "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"   "}}'),u=JSON.parse('{"tooltips":{"placeMarker":"Presiona para colocar un marcador","firstVertex":"Presiona para colocar el primer vrtice","continueLine":"Presiona para continuar dibujando","finishLine":"Presiona cualquier marcador existente para finalizar","finishPoly":"Presiona el primer marcador para finalizar","finishRect":"Presiona para finalizar","startCircle":"Presiona para colocar el centro del crculo","finishCircle":"Presiona para finalizar el crculo","placeCircleMarker":"Presiona para colocar un marcador de crculo"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Eliminar ltimo vrtice"},"buttonTitles":{"drawMarkerButton":"Dibujar Marcador","drawPolyButton":"Dibujar Polgono","drawLineButton":"Dibujar Lnea","drawCircleButton":"Dibujar Crculo","drawRectButton":"Dibujar Rectngulo","editButton":"Editar Capas","dragButton":"Arrastrar Capas","cutButton":"Cortar Capas","deleteButton":"Eliminar Capas","drawCircleMarkerButton":"Dibujar Marcador de Crculo","snappingButton":"El marcador de Snap arrastrado a otras capas y vrtices","pinningButton":"Fijar juntos los vrtices compartidos"}}'),c=JSON.parse('{"tooltips":{"placeMarker":"Klik om een marker te plaatsen","firstVertex":"Klik om het eerste punt te plaatsen","continueLine":"Klik om te blijven tekenen","finishLine":"Klik op een bestaand punt om te beindigen","finishPoly":"Klik op het eerst punt om te beindigen","finishRect":"Klik om te beindigen","startCircle":"Klik om het middelpunt te plaatsen","finishCircle":"Klik om de cirkel te beindigen","placeCircleMarker":"Klik om een marker te plaatsen"},"actions":{"finish":"Bewaar","cancel":"Annuleer","removeLastVertex":"Verwijder laatste punt"},"buttonTitles":{"drawMarkerButton":"Plaats Marker","drawPolyButton":"Teken een vlak","drawLineButton":"Teken een lijn","drawCircleButton":"Teken een cirkel","drawRectButton":"Teken een vierkant","editButton":"Bewerk","dragButton":"Verplaats","cutButton":"Knip","deleteButton":"Verwijder","drawCircleMarkerButton":"Plaats Marker","snappingButton":"Snap gesleepte marker naar andere lagen en hoekpunten","pinningButton":"Speld gedeelde hoekpunten samen"}}'),d=JSON.parse('{"tooltips":{"placeMarker":"Cliquez pour placer un marqueur","firstVertex":"Cliquez pour placer le premier sommet","continueLine":"Cliquez pour continuer  dessiner","finishLine":"Cliquez sur n\'importe quel marqueur pour terminer","finishPoly":"Cliquez sur le premier marqueur pour terminer","finishRect":"Cliquez pour terminer","startCircle":"Cliquez pour placer le centre du cercle","finishCircle":"Cliquez pour finir le cercle","placeCircleMarker":"Cliquez pour placer le marqueur circulaire"},"actions":{"finish":"Terminer","cancel":"Annuler","removeLastVertex":"Retirer le dernier sommet"},"buttonTitles":{"drawMarkerButton":"Placer des marqueurs","drawPolyButton":"Dessiner des polygones","drawLineButton":"Dessiner des polylignes","drawCircleButton":"Dessiner un cercle","drawRectButton":"Dessiner un rectangle","editButton":"diter des calques","dragButton":"Dplacer des calques","cutButton":"Couper des calques","deleteButton":"Supprimer des calques","drawCircleMarkerButton":"Dessiner un marqueur circulaire","snappingButton":"Glisser le marqueur vers d\'autres couches et sommets","pinningButton":"pingler ensemble les sommets partags","rotateButton":"Tourner des calques"}}'),h=JSON.parse('{"tooltips":{"placeMarker":"","firstVertex":"","continueLine":"","finishLine":"","finishPoly":"","finishRect":"","startCircle":"","finishCircle":"","placeCircleMarker":""},"actions":{"finish":"","cancel":"","removeLastVertex":""},"buttonTitles":{"drawMarkerButton":"","drawPolyButton":"","drawLineButton":"","drawCircleButton":"","drawRectButton":"","editButton":"","dragButton":"","cutButton":"","deleteButton":"","drawCircleMarkerButton":"","snappingButton":"","pinningButton":""}}'),p=JSON.parse('{"tooltips":{"placeMarker":"","firstVertex":"","continueLine":"","finishLine":"","finishPoly":"","finishRect":"","startCircle":"","finishCircle":"","placeCircleMarker":""},"actions":{"finish":"","cancel":"","removeLastVertex":""},"buttonTitles":{"drawMarkerButton":"","drawPolyButton":"","drawLineButton":"","drawCircleButton":"","drawRectButton":"","editButton":"","dragButton":"","cutButton":"","deleteButton":"","drawCircleMarkerButton":"","snappingButton":"","pinningButton":""}}'),f={en:r,de:o,it:i,id:a,ro:s,ru:l,es:u,nl:c,fr:d,pt_br:JSON.parse('{"tooltips":{"placeMarker":"Clique para posicionar o marcador","firstVertex":"Clique para posicionar o primeiro vrtice","continueLine":"Clique para continuar desenhando","finishLine":"Clique em qualquer marcador existente para finalizar","finishPoly":"Clique no primeiro ponto para fechar o polgono","finishRect":"Clique para finalizar","startCircle":"Clique para posicionar o centro do crculo","finishCircle":"Clique para fechar o crculo","placeCircleMarker":"Clique para posicionar o marcador circular"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover ltimo vrtice"},"buttonTitles":{"drawMarkerButton":"Desenhar um marcador","drawPolyButton":"Desenhar um polgono","drawLineButton":"Desenhar uma polilinha","drawCircleButton":"Desenhar um crculo","drawRectButton":"Desenhar um retngulo","editButton":"Editar camada(s)","dragButton":"Mover camada(s)","cutButton":"Recortar camada(s)","deleteButton":"Remover camada(s)","drawCircleMarkerButton":"Marcador de crculos de desenho","snappingButton":"Marcador arrastado para outras camadas e vrtices","pinningButton":"Vrtices compartilhados de pinos juntos"}}'),zh:h,zh_tw:p,pl:JSON.parse('{"tooltips":{"placeMarker":"Kliknij, aby umieci znacznik","firstVertex":"Kliknij, aby umieci pierwszy wierzchoek","continueLine":"Kliknij, aby kontynuowa rysowanie","finishLine":"Kliknij dowolny istniejcy znacznik, aby zakoczy","finishPoly":"Kliknij pierwszy znacznik, aby zakoczy","finishRect":"Kliknij, aby zakoczy","startCircle":"Kliknij, aby umieci rodek okrgu","finishCircle":"Kliknij, aby zakoczy okrg","placeCircleMarker":"Kliknij, aby umieci znacznik okrgu","placeText":"Kliknij, aby umieci tekst"},"actions":{"finish":"Zakocz","cancel":"Anuluj","removeLastVertex":"Usu ostatni wierzchoek"},"buttonTitles":{"drawMarkerButton":"Rysuj znacznik","drawPolyButton":"Rysuj wielokt","drawLineButton":"Rysuj lini","drawCircleButton":"Rysuj okrg","drawRectButton":"Rysuj prostokt","editButton":"Edytuj warstwy","dragButton":"Przecignij warstwy","cutButton":"Wytnij warstwy","deleteButton":"Usu warstwy","drawCircleMarkerButton":"Rysuj znacznik okrgy","snappingButton":"Przycignij przenoszony znacznik do innych warstw i wierzchokw","pinningButton":"Przypnij wsplne wierzchoki razem","rotateButton":"Obr warstwy","drawTextButton":"Rysuj tekst","scaleButton":"Skaluj warstwy","autoTracingButton":"Automatyczne ledzenie linii"},"measurements":{"totalLength":"Dugo","segmentLength":"Dugo odcinka","area":"Obszar","radius":"Promie","perimeter":"Obwd","height":"Wysoko","width":"Szeroko","coordinates":"Pozycja","coordinatesMarker":"Znacznik pozycji"}}'),sv:JSON.parse('{"tooltips":{"placeMarker":"Klicka fr att placera markr","firstVertex":"Klicka fr att placera frsta hrnet","continueLine":"Klicka fr att fortstta rita","finishLine":"Klicka p en existerande punkt fr att slutfra","finishPoly":"Klicka p den frsta punkten fr att slutfra","finishRect":"Klicka fr att slutfra","startCircle":"Klicka fr att placera cirkelns centrum","finishCircle":"Klicka fr att slutfra cirkeln","placeCircleMarker":"Klicka fr att placera cirkelmarkr"},"actions":{"finish":"Slutfr","cancel":"Avbryt","removeLastVertex":"Ta bort sista hrnet"},"buttonTitles":{"drawMarkerButton":"Rita Markr","drawPolyButton":"Rita Polygoner","drawLineButton":"Rita Linje","drawCircleButton":"Rita Cirkel","drawRectButton":"Rita Rektangel","editButton":"Redigera Lager","dragButton":"Dra Lager","cutButton":"Klipp i Lager","deleteButton":"Ta bort Lager","drawCircleMarkerButton":"Rita Cirkelmarkr","snappingButton":"Snpp dra markren till andra lager och hrn","pinningButton":"Fst delade hrn tillsammans"}}'),el:JSON.parse('{"tooltips":{"placeMarker":"     ","firstVertex":"       ","continueLine":"      ","finishLine":"        ","finishPoly":"       ","finishRect":"    ","startCircle":"      ","finishCircle":"      ","placeCircleMarker":"      "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"        ","pinningButton":"   "}}'),hu:JSON.parse('{"tooltips":{"placeMarker":"Kattintson a jell elhelyezshez","firstVertex":"Kattintson az els pont elhelyezshez","continueLine":"Kattintson a kvetkez pont elhelyezshez","finishLine":"A befejezshez kattintson egy meglv pontra","finishPoly":"A befejezshez kattintson az els pontra","finishRect":"Kattintson a befejezshez","startCircle":"Kattintson a kr kzppontjnak elhelyezshez","finishCircle":"Kattintson a kr befejezshez","placeCircleMarker":"Kattintson a krjell elhelyezshez"},"actions":{"finish":"Befejezs","cancel":"Mgse","removeLastVertex":"Utols pont eltvoltsa"},"buttonTitles":{"drawMarkerButton":"Jell rajzolsa","drawPolyButton":"Poligon rajzolsa","drawLineButton":"Vonal rajzolsa","drawCircleButton":"Kr rajzolsa","drawRectButton":"Ngyzet rajzolsa","editButton":"Elemek szerkesztse","dragButton":"Elemek mozgatsa","cutButton":"Elemek vgsa","deleteButton":"Elemek trlse","drawCircleMarkerButton":"Kr jell rajzolsa","snappingButton":"Kapcsolja a jelltt msik elemhez vagy ponthoz","pinningButton":"Kzs pontok sszektse"}}'),da:JSON.parse('{"tooltips":{"placeMarker":"Tryk for at placere en markr","firstVertex":"Tryk for at placere det frste punkt","continueLine":"Tryk for at fortstte linjen","finishLine":"Tryk p et eksisterende punkt for at afslutte","finishPoly":"Tryk p det frste punkt for at afslutte","finishRect":"Tryk for at afslutte","startCircle":"Tryk for at placere cirklens center","finishCircle":"Tryk for at afslutte cirklen","placeCircleMarker":"Tryk for at placere en cirkelmarkr"},"actions":{"finish":"Afslut","cancel":"Afbryd","removeLastVertex":"Fjern sidste punkt"},"buttonTitles":{"drawMarkerButton":"Placer markr","drawPolyButton":"Tegn polygon","drawLineButton":"Tegn linje","drawCircleButton":"Tegn cirkel","drawRectButton":"Tegn firkant","editButton":"Rediger","dragButton":"Trk","cutButton":"Klip","deleteButton":"Fjern","drawCircleMarkerButton":"Tegn cirkelmarkr","snappingButton":"Fastgr trukket markr til andre elementer","pinningButton":"Sammenlg delte elementer"}}'),no:JSON.parse('{"tooltips":{"placeMarker":"Klikk for  plassere punkt","firstVertex":"Klikk for  plassere frste punkt","continueLine":"Klikk for  tegne videre","finishLine":"Klikk p et eksisterende punkt for  fullfre","finishPoly":"Klikk frste punkt for  fullfre","finishRect":"Klikk for  fullfre","startCircle":"Klikk for  sette sirkel midtpunkt","finishCircle":"Klikk for  fullfre sirkel","placeCircleMarker":"Klikk for  plassere sirkel","placeText":"Klikk for  plassere tekst"},"actions":{"finish":"Fullfr","cancel":"Kanseller","removeLastVertex":"Fjern forrige punkt"},"buttonTitles":{"drawMarkerButton":"Tegn punkt","drawPolyButton":"Tegn flate","drawLineButton":"Tegn linje","drawCircleButton":"Tegn sirkel","drawRectButton":"Tegn rektangel","editButton":"Rediger objekter","dragButton":"Dra objekter","cutButton":"Kutt objekter","deleteButton":"Fjern objekter","drawCircleMarkerButton":"Tegn sirkel-punkt","snappingButton":"Fest dratt punkt til andre objekter og punkt","pinningButton":"Pin delte punkter sammen","rotateButton":"Rotr objekter","drawTextButton":"Tegn tekst","scaleButton":"Skalr objekter","autoTracingButton":"Automatisk sporing av linje"},"measurements":{"totalLength":"Lengde","segmentLength":"Segmentlengde","area":"Omrde","radius":"Radius","perimeter":"Omriss","height":"Hyde","width":"Bredde","coordinates":"Posisjon","coordinatesMarker":"Posisjonsmarkr"}}'),fa:JSON.parse('{"tooltips":{"placeMarker":"   ","firstVertex":"    ","continueLine":"   ","finishLine":"      ","finishPoly":"     ","finishRect":"  ","startCircle":"    ","finishCircle":"    ","placeCircleMarker":"    ","placeText":"   "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"      ","rotateButton":" ","drawTextButton":" ","scaleButton":"","autoTracingButton":" "},"measurements":{"totalLength":"","segmentLength":" ","area":"","radius":"","perimeter":"","height":"","width":"","coordinates":"","coordinatesMarker":" "}}'),ua:JSON.parse('{"tooltips":{"placeMarker":",   ","firstVertex":",    ","continueLine":",   ","finishLine":" -    ","finishPoly":"  ,  ","finishRect":",  ","startCircle":",    ","finishCircle":",   ","placeCircleMarker":",    "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"\'   "}}'),tr:JSON.parse('{"tooltips":{"placeMarker":"areti yerletirmek iin tklayn","firstVertex":"lk tepe noktasn yerletirmek iin tklayn","continueLine":"izime devam etmek iin tklayn","finishLine":"Bitirmek iin mevcut herhangi bir iaretiyi tklayn","finishPoly":"Bitirmek iin ilk iaretiyi tklayn","finishRect":"Bitirmek iin tklayn","startCircle":"Daire merkezine yerletirmek iin tklayn","finishCircle":"Daireyi bitirmek iin tklayn","placeCircleMarker":"Daire iaretisi yerletirmek iin tklayn"},"actions":{"finish":"Bitir","cancel":"ptal","removeLastVertex":"Son keyi kaldr"},"buttonTitles":{"drawMarkerButton":"izim aretisi","drawPolyButton":"okgenler iz","drawLineButton":"oklu izgi iz","drawCircleButton":"ember iz","drawRectButton":"Dikdrtgen iz","editButton":"Katmanlar dzenle","dragButton":"Katmanlar srkle","cutButton":"Katmanlar kes","deleteButton":"Katmanlar kaldr","drawCircleMarkerButton":"Daire iaretisi iz","snappingButton":"Srklenen iaretiyi dier katmanlara ve kelere yaptr","pinningButton":"Paylalan keleri birbirine sabitle"}}'),cz:JSON.parse('{"tooltips":{"placeMarker":"Kliknutm vytvote znaku","firstVertex":"Kliknutm vytvote prvn objekt","continueLine":"Kliknutm pokraujte v kreslen","finishLine":"Kliknut na libovolnou existujc znaku pro dokonen","finishPoly":"Vyberte prvn bod pro dokonen","finishRect":"Kliknte pro dokonen","startCircle":"Kliknutm pidejte sted kruhu","finishCircle":",   ","placeCircleMarker":"Kliknutm nastavte polomr"},"actions":{"finish":"Dokonit","cancel":"Zruit","removeLastVertex":"Zruit posledn akci"},"buttonTitles":{"drawMarkerButton":"Pidat znaku","drawPolyButton":"Nakreslit polygon","drawLineButton":"Nakreslit kivku","drawCircleButton":"Nakreslit kruh","drawRectButton":"Nakreslit obdlnk","editButton":"Upravit vrstvu","dragButton":"Peneste vrstvu","cutButton":"Vyjmout vrstvu","deleteButton":"Smazat vrstvu","drawCircleMarkerButton":"Pidat kruhovou znaku","snappingButton":"Navzat tanou znaku k dalm vrstvm a vrcholm","pinningButton":"Spojit spolen body dohromady"}}'),ja:JSON.parse('{"tooltips":{"placeMarker":"","firstVertex":"","continueLine":"","finishLine":"","finishPoly":"","finishRect":"","startCircle":"","finishCircle":"","placeCircleMarker":"","placeText":""},"actions":{"finish":"","cancel":"","removeLastVertex":""},"buttonTitles":{"drawMarkerButton":"","drawPolyButton":"","drawLineButton":"","drawCircleButton":"","drawRectButton":"","editButton":"","dragButton":"","cutButton":"","deleteButton":"","drawCircleMarkerButton":"","snappingButton":"","pinningButton":"","rotateButton":"","drawTextButton":""}}'),fi:JSON.parse('{"tooltips":{"placeMarker":"Klikkaa asettaaksesi merkin","firstVertex":"Klikkaa asettaakseni ensimmisen osuuden","continueLine":"Klikkaa jatkaaksesi piirtmist","finishLine":"Klikkaa olemassa olevaa merkki lopettaaksesi","finishPoly":"Klikkaa ensimmist merkki lopettaaksesi","finishRect":"Klikkaa lopettaaksesi","startCircle":"Klikkaa asettaaksesi ympyrn keskipisteen","finishCircle":"Klikkaa lopettaaksesi ympyrn","placeCircleMarker":"Klikkaa asettaaksesi ympyrmerkin","placeText":"Klikkaa asettaaksesi tekstin"},"actions":{"finish":"Valmis","cancel":"Peruuta","removeLastVertex":"Poista viimeinen osuus"},"buttonTitles":{"drawMarkerButton":"Piirr merkkej","drawPolyButton":"Piirr monikulmioita","drawLineButton":"Piirr viivoja","drawCircleButton":"Piirr ympyr","drawRectButton":"Piirr neliskulmioita","editButton":"Muokkaa","dragButton":"Siirr","cutButton":"Leikkaa","deleteButton":"Poista","drawCircleMarkerButton":"Piirr ympyrmerkki","snappingButton":"Kiinnit siirrettv merkki toisiin muotoihin","pinningButton":"Kiinnit jaetut muodot yhteen","rotateButton":"Knn","drawTextButton":"Piirr teksti"}}'),ko:JSON.parse('{"tooltips":{"placeMarker":"  ","firstVertex":"   ","continueLine":"  ","finishLine":"   ","finishPoly":"   ","finishRect":" ","startCircle":"    ","finishCircle":"  ","placeCircleMarker":"   ","placeText":"  "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"   ","rotateButton":" ","drawTextButton":" "}}')};function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v={_globalEditModeEnabled:!1,enableGlobalEditMode:function(e){var t=this,n=_({},e);this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach((function(e){t._isRelevantForEdit(e)&&e.pm.enable(n)})),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayersEdit={},this.map.on("layeradd",this._layerAddedEdit,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode:function(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach((function(e){e.pm.disable()})),this.map.off("layeradd",this._layerAddedEdit,this),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled:function(){return this.globalEditModeEnabled()},globalEditModeEnabled:function(){return this._globalEditModeEnabled},toggleGlobalEditMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.globalOptions;this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(e)},handleLayerAdditionInGlobalEditMode:function(){var e=this._addedLayersEdit;if(this._addedLayersEdit={},this.globalEditModeEnabled())for(var t in e){var n=e[t];this._isRelevantForEdit(n)&&n.pm.enable(_({},this.globalOptions))}},_layerAddedEdit:function(e){var t=e.layer;this._addedLayersEdit[L.stamp(t)]=t},_isRelevantForEdit:function(e){return e.pm&&!(e instanceof L.LayerGroup)&&(!L.PM.optIn&&!e.options.pmIgnore||L.PM.optIn&&!1===e.options.pmIgnore)&&!e._pmTempLayer&&e.pm.options.allowEditing}},y={_globalDragModeEnabled:!1,enableGlobalDragMode:function(){var e=this,t=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},t.forEach((function(t){e._isRelevantForDrag(t)&&t.pm.enableLayerDrag()})),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode:function(){var e=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,e.forEach((function(e){e.pm.disableLayerDrag()})),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled:function(){return!!this._globalDragModeEnabled},toggleGlobalDragMode:function(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode:function(){var e=this._addedLayersDrag;if(this._addedLayersDrag={},this.globalDragModeEnabled())for(var t in e){var n=e[t];this._isRelevantForDrag(n)&&n.pm.enableLayerDrag()}},_layerAddedDrag:function(e){var t=e.layer;this._addedLayersDrag[L.stamp(t)]=t},_isRelevantForDrag:function(e){return e.pm&&!(e instanceof L.LayerGroup)&&(!L.PM.optIn&&!e.options.pmIgnore||L.PM.optIn&&!1===e.options.pmIgnore)&&!e._pmTempLayer&&e.pm.options.draggable}},b={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode:function(){var e=this;this._globalRemovalModeEnabled=!0,this.map.eachLayer((function(t){e._isRelevantForRemoval(t)&&(t.pm.enabled()&&t.pm.disable(),t.on("click",e.removeLayer,e))})),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode,100,this)),this._addedLayersRemoval={},this.map.on("layeradd",this._layerAddedRemoval,this),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode:function(){var e=this;this._globalRemovalModeEnabled=!1,this.map.eachLayer((function(t){t.off("click",e.removeLayer,e)})),this.map.off("layeradd",this._layerAddedRemoval,this),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled:function(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled:function(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode:function(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},removeLayer:function(e){var t=e.target;this._isRelevantForRemoval(t)&&!t.pm.dragging()&&(t.removeFrom(this.map.pm._getContainingLayer()),t.remove(),t instanceof L.LayerGroup?(this._fireRemoveLayerGroup(t),this._fireRemoveLayerGroup(this.map,t)):(t.pm._fireRemove(t),t.pm._fireRemove(this.map,t)))},_isRelevantForRemoval:function(e){return e.pm&&!(e instanceof L.LayerGroup)&&(!L.PM.optIn&&!e.options.pmIgnore||L.PM.optIn&&!1===e.options.pmIgnore)&&!e._pmTempLayer&&e.pm.options.allowRemoval},handleLayerAdditionInGlobalRemovalMode:function(){var e=this._addedLayersRemoval;if(this._addedLayersRemoval={},this.globalRemovalModeEnabled())for(var t in e){var n=e[t];this._isRelevantForRemoval(n)&&(n.pm.enabled()&&n.pm.disable(),n.on("click",this.removeLayer,this))}},_layerAddedRemoval:function(e){var t=e.layer;this._addedLayersRemoval[L.stamp(t)]=t}},E={_globalRotateModeEnabled:!1,enableGlobalRotateMode:function(){var e=this;this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter((function(e){return e instanceof L.Polyline})).forEach((function(t){e._isRelevantForRotate(t)&&t.pm.enableRotate()})),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode,100,this)),this._addedLayersRotate={},this.map.on("layeradd",this._layerAddedRotate,this),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode:function(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter((function(e){return e instanceof L.Polyline})).forEach((function(e){e.pm.disableRotate()})),this.map.off("layeradd",this._layerAddedRotate,this),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled:function(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode:function(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_isRelevantForRotate:function(e){return e.pm&&e instanceof L.Polyline&&!(e instanceof L.LayerGroup)&&(!L.PM.optIn&&!e.options.pmIgnore||L.PM.optIn&&!1===e.options.pmIgnore)&&!e._pmTempLayer&&e.pm.options.allowRotation},handleLayerAdditionInGlobalRotateMode:function(){var e=this._addedLayersRotate;if(this._addedLayersRotate={},this.globalRotateModeEnabled())for(var t in e){var n=e[t];this._isRelevantForRemoval(n)&&n.pm.enableRotate()}},_layerAddedRotate:function(e){var t=e.layer;this._addedLayersRotate[L.stamp(t)]=t}};function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S={_fireDrawStart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Draw",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},e,t)},_fireDrawEnd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Draw",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._map,"pm:drawend",{shape:this._shape},e,t)},_fireCreate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Draw",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__fire(this._map,"pm:create",{shape:this._shape,marker:e,layer:e},t,n)},_fireCenterPlaced:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Draw",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="Draw"===e?this._layer:void 0,r="Draw"!==e?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:n,layer:r,latlng:this._layer.getLatLng()},e,t)},_fireCut:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Draw",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.__fire(e,"pm:cut",{shape:this._shape,layer:t,originalLayer:n},r,o)},_fireEdit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._layer,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Edit",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__fire(e,"pm:edit",{layer:this._layer,shape:this.getShape()},t,n)},_fireEnable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},e,t)},_fireDisable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},e,t)},_fireUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},e,t)},_fireMarkerDragStart:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:e,shape:this.getShape(),indexPath:t},n,r)},_fireMarkerDrag:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:e,shape:this.getShape(),indexPath:t},n,r)},_fireMarkerDragEnd:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Edit",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:e,shape:this.getShape(),indexPath:t,intersectionReset:n},r,o)},_fireDragStart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},e,t)},_fireDrag:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Edit",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__fire(this._layer,"pm:drag",x(x({},e),{},{shape:this.getShape()}),t,n)},_fireDragEnd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},e,t)},_fireDragEnable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},e,t)},_fireDragDisable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},e,t)},_fireRemove:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(e,"pm:remove",{layer:t,shape:this.getShape()},n,r)},_fireVertexAdded:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Edit",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:e,indexPath:t,latlng:n,shape:this.getShape()},r,o)},_fireVertexRemoved:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:e,indexPath:t,shape:this.getShape()},n,r)},_fireVertexClick:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:e,indexPath:t,shape:this.getShape()},n,r)},_fireIntersect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._layer,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(t,"pm:intersect",{layer:this._layer,intersection:e,shape:this.getShape()},n,r)},_fireLayerReset:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:e,indexPath:t,shape:this.getShape()},n,r)},_fireChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Edit",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:e,shape:this.getShape()},t,n)},_fireTextChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Edit",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:e,shape:this.getShape()},t,n)},_fireTextFocus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},e,t)},_fireTextBlur:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Edit",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},e,t)},_fireSnapDrag:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Snapping",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(e,"pm:snapdrag",t,n,r)},_fireSnap:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Snapping",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(e,"pm:snap",t,n,r)},_fireUnsnap:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Snapping",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(e,"pm:unsnap",t,n,r)},_fireRotationEnable:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Rotation",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(e,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},n,r)},_fireRotationDisable:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Rotation",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__fire(e,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},t,n)},_fireRotationStart:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Rotation",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(e,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:t},n,r)},_fireRotation:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._rotationLayer,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Rotation",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.__fire(e,"pm:rotate",{layer:r,helpLayer:this._layer,startAngle:this._startAngle,angle:r.pm.getAngle(),angleDiff:t,oldLatLngs:n,newLatLngs:r.getLatLngs()},o,i)},_fireRotationEnd:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Rotation",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.__fire(e,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:t,angle:this._rotationLayer.pm.getAngle(),originLatLngs:n,newLatLngs:this._rotationLayer.getLatLngs()},r,o)},_fireActionClick:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Toolbar",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.__fire(this._map,"pm:actionclick",{text:e.text,action:e,btnName:t,button:n},r,o)},_fireButtonClick:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Toolbar",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(this._map,"pm:buttonclick",{btnName:e,button:t},n,r)},_fireLangChange:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Global",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.__fire(this.map,"pm:langchange",{oldLang:e,activeLang:t,fallback:n,translations:r},o,i)},_fireGlobalDragModeToggled:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Global",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:e,map:this.map},t,n)},_fireGlobalEditModeToggled:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Global",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:e,map:this.map},t,n)},_fireGlobalRemovalModeToggled:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Global",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:e,map:this.map},t,n)},_fireGlobalCutModeToggled:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Global",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},e,t)},_fireGlobalDrawModeToggled:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Global",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},e,t)},_fireGlobalRotateModeToggled:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Global",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},e,t)},_fireRemoveLayerGroup:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Edit",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.__fire(e,"pm:remove",{layer:t,shape:void 0},n,r)},_fireKeyeventEvent:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Global",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.__fire(this.map,"pm:keyevent",{event:e,eventType:t,focusOn:n},r,o)},__fire:function(e,n,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};r=t()(r,i,{source:o}),L.PM.Utils._fireEvent(e,n,r)}},T={_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener:function(e){this.map=e,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this)},_onKeyListener:function(e){var t="document";this.map.getContainer().contains(e.target)&&(t="map");var n={event:e,eventType:e.type,focusOn:t};this._lastEvents[e.type]=n,this._lastEvents.current=n,this.map.pm._fireKeyeventEvent(e,e.type,t)},_onBlur:function(e){e.altKey=!1;var t={event:e,eventType:e.type,focusOn:"document"};this._lastEvents[e.type]=t,this._lastEvents.current=t},getLastKeyEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"current";return this._lastEvents[e]},isShiftKeyPressed:function(){var e;return null===(e=this._lastEvents.current)||void 0===e?void 0:e.event.shiftKey},isAltKeyPressed:function(){var e;return null===(e=this._lastEvents.current)||void 0===e?void 0:e.event.altKey},isCtrlKeyPressed:function(){var e;return null===(e=this._lastEvents.current)||void 0===e?void 0:e.event.ctrlKey},isMetaKeyPressed:function(){var e;return null===(e=this._lastEvents.current)||void 0===e?void 0:e.event.metaKey},getPressedKey:function(){var e;return null===(e=this._lastEvents.current)||void 0===e?void 0:e.event.key}};var k=n(7361),P=n.n(k),M=n(8721),O=n.n(M);function N(e){var t=L.PM.activeLang;return O()(f,t)||(t="en"),P()(f[t],e)}function A(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Array.isArray(n)){if(A(n))return!0}else if(null!=n&&""!==n)return!0}return!1}function I(e){return e.reduce((function(e,t){if(0!==t.length){var n=Array.isArray(t)?I(t):t;Array.isArray(n)?0!==n.length&&e.push(n):e.push(n)}return e}),[])}function R(e,t,n){for(var r,o,i,a={a:L.CRS.Earth.R,b:6356752.3142,f:1/298.257223563},s=a.a,l=a.b,u=a.f,c=e.lng,d=e.lat,h=n,p=Math.PI,f=t*p/180,m=Math.sin(f),_=Math.cos(f),g=(1-u)*Math.tan(d*p/180),v=1/Math.sqrt(1+g*g),y=g*v,b=Math.atan2(g,_),E=v*m,C=1-E*E,x=C*(s*s-l*l)/(l*l),w=1+x/16384*(4096+x*(x*(320-175*x)-768)),S=x/1024*(256+x*(x*(74-47*x)-128)),T=h/(l*w),k=2*Math.PI;Math.abs(T-k)>1e-12;)r=Math.cos(2*b+T),k=T,T=h/(l*w)+S*(o=Math.sin(T))*(r+S/4*((i=Math.cos(T))*(2*r*r-1)-S/6*r*(4*o*o-3)*(4*r*r-3)));var P=y*o-v*i*_,M=Math.atan2(y*i+v*o*_,(1-u)*Math.sqrt(E*E+P*P)),O=u/16*C*(4+u*(4-3*C)),N=c+180*(Math.atan2(o*m,v*i-y*o*_)-(1-O)*u*E*(T+O*o*(r+O*i*(2*r*r-1))))/p,A=180*M/p;return L.latLng(N,A)}function $(e,t,n,r){for(var o,i,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=[],l=0;l<n;l+=1){if(a)o=R(e,360*l/n+r,t),i=L.latLng(o.lng,o.lat);else{var u=e.lat+Math.cos(2*l*Math.PI/n)*t,c=e.lng+Math.sin(2*l*Math.PI/n)*t;i=L.latLng(u,c)}s.push(i)}return s}function B(e,t,n){var r=e.latLngToContainerPoint(t),o=e.latLngToContainerPoint(n),i=180*Math.atan2(o.y-r.y,o.x-r.x)/Math.PI+90;return i+(i<0?360:0)}function D(e,t,n,r){return function(e,t,n){t=(t+360)%360;var r=Math.PI/180,o=180/Math.PI,i=L.CRS.Earth.R,a=e.lng*r,s=e.lat*r,l=t*r,u=Math.sin(s),c=Math.cos(s),d=Math.cos(n/i),h=Math.sin(n/i),p=Math.asin(u*d+c*h*Math.cos(l)),f=a+Math.atan2(Math.sin(l)*h*c,d-u*Math.sin(p));return f=(f*=o)>180?f-360:f<-180?f+360:f,L.latLng([p*o,f])}(t,B(e,t,n),r)}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getLatLngs();return e instanceof L.Polygon?L.polygon(t).getLatLngs():L.polyline(t).getLatLngs()}function V(e,t){var n,r;if(null!==(n=t.options.crs)&&void 0!==n&&null!==(r=n.projection)&&void 0!==r&&r.MAX_LATITUDE){var o,i,a=null===(o=t.options.crs)||void 0===o||null===(i=o.projection)||void 0===i?void 0:i.MAX_LATITUDE;e.lat=Math.max(Math.min(a,e.lat),-a)}return e}function z(e){return e.options.renderer||e._map&&(e._map._getPaneRenderer(e.options.pane)||e._map.options.renderer||e._map._renderer)||e._renderer}const j=L.Class.extend({includes:[v,y,b,E,S],initialize:function(e){this.map=e,this.Draw=new L.PM.Draw(e),this.Toolbar=new L.PM.Toolbar(e),this.Keyboard=T,this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(e)},setLang:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",o=L.PM.activeLang;n&&(f[e]=t()(f[r],n)),L.PM.activeLang=e,this.map.pm.Toolbar.reinit(),this._fireLangChange(o,e,r,f[e])},addControls:function(e){this.Toolbar.addControls(e)},removeControls:function(){this.Toolbar.removeControls()},toggleControls:function(){this.Toolbar.toggleControls()},controlsVisible:function(){return this.Toolbar.isVisible},enableDraw:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Polygon",t=arguments.length>1?arguments[1]:void 0;"Poly"===e&&(e="Polygon"),this.Draw.enable(e,t)},disableDraw:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Polygon";"Poly"===e&&(e="Polygon"),this.Draw.disable(e)},setPathOptions:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.ignoreShapes||[],o=n.merge||!1;this.map.pm.Draw.shapes.forEach((function(n){-1===r.indexOf(n)&&t.map.pm.Draw[n].setPathOptions(e,o)}))},getGlobalOptions:function(){return this.globalOptions},setGlobalOptions:function(e){var n=this,r=t()(this.globalOptions,e);r.editable&&(r.resizeableCircleMarker=r.editable,delete r.editable);var o=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker!=!!r.resizeableCircleMarker&&(this.map.pm.Draw.CircleMarker.disable(),o=!0);var i=!1;this.map.pm.Draw.Circle.enabled()&&!!this.map.pm.Draw.Circle.options.resizableCircle!=!!r.resizableCircle&&(this.map.pm.Draw.Circle.disable(),i=!0),this.map.pm.Draw.shapes.forEach((function(e){n.map.pm.Draw[e].setOptions(r)})),o&&this.map.pm.Draw.CircleMarker.enable(),i&&this.map.pm.Draw.Circle.enable(),L.PM.Utils.findLayers(this.map).forEach((function(e){e.pm.setOptions(r)})),this.map.fire("pm:globaloptionschanged"),this.globalOptions=r,this.applyGlobalOptions()},applyGlobalOptions:function(){L.PM.Utils.findLayers(this.map).forEach((function(e){e.pm.enabled()&&e.pm.applyOptions()}))},globalDrawModeEnabled:function(){return!!this.Draw.getActiveShape()},globalCutModeEnabled:function(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode:function(e){return this.Draw.Cut.enable(e)},toggleGlobalCutMode:function(e){return this.Draw.Cut.toggle(e)},disableGlobalCutMode:function(){return this.Draw.Cut.disable()},getGeomanLayers:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=L.PM.Utils.findLayers(this.map);if(!e)return t;var n=L.featureGroup();return n._pmTempLayer=!0,t.forEach((function(e){n.addLayer(e)})),n},getGeomanDrawLayers:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=L.PM.Utils.findLayers(this.map).filter((function(e){return!0===e._drawnByGeoman}));if(!e)return t;var n=L.featureGroup();return n._pmTempLayer=!0,t.forEach((function(e){n.addLayer(e)})),n},_getContainingLayer:function(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple:function(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents:function(e){0===this._touchEventCounter&&(L.DomEvent.on(e,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(e,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents:function(e){1===this._touchEventCounter&&(L.DomEvent.off(e,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(e,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove:function(e){z(this.map)._onMouseMove(this._createMouseEvent("mousemove",e))},_canvasTouchClick:function(e){var t="";"touchstart"===e.type||"pointerdown"===e.type?t="mousedown":"touchend"===e.type||"pointerup"===e.type?t="mouseup":"touchcancel"!==e.type&&"pointercancel"!==e.type||(t="mouseup"),t&&z(this.map)._onClick(this._createMouseEvent(t,e))},_createMouseEvent:function(e,t){var n,r=t.touches[0]||t.changedTouches[0];try{n=new MouseEvent(e,{bubbles:t.bubbles,cancelable:t.cancelable,view:t.view,detail:r.detail,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,button:t.button,relatedTarget:t.relatedTarget})}catch(o){(n=document.createEvent("MouseEvents")).initMouseEvent(e,t.bubbles,t.cancelable,t.view,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget)}return n}}),U=L.Control.extend({includes:[S],options:{position:"topleft",disableByOtherButtons:!0},initialize:function(e){this._button=L.Util.extend({},this.options,e)},onAdd:function(e){return this._map=e,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):"edit"===this._button.tool?this._container=this._map.pm.Toolbar.editContainer:"options"===this._button.tool?this._container=this._map.pm.Toolbar.optionsContainer:"custom"===this._button.tool?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this.buttonsDomNode=this._makeButton(this._button),this._container.appendChild(this.buttonsDomNode),this._container},onRemove:function(){return this.buttonsDomNode.remove(),this._container},getText:function(){return this._button.text},getIconUrl:function(){return this._button.iconUrl},destroy:function(){this._button={},this._update()},toggle:function(e){return this._button.toggleStatus="boolean"==typeof e?e:!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled:function(){return this._button.toggleStatus},onCreate:function(){this.toggle(!1)},disable:function(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable:function(){this._button.disabled=!1,this._updateDisabled()},_triggerClick:function(e){e&&e.preventDefault(),this._button.disabled||(this._button.onClick(e,{button:this,event:e}),this._clicked(e),this._button.afterClick(e,{button:this,event:e}))},_makeButton:function(e){var t=this,n=this.options.position.indexOf("right")>-1?"pos-right":"",r=L.DomUtil.create("div","button-container  ".concat(n),this._container);e.title&&r.setAttribute("title",e.title);var o=L.DomUtil.create("a","leaflet-buttons-control-button",r);o.setAttribute("role","button"),o.setAttribute("tabindex","0"),o.href="#";var i=L.DomUtil.create("div","leaflet-pm-actions-container ".concat(n),r),a=e.actions,s={cancel:{text:N("actions.cancel"),onClick:function(){this._triggerClick()}},finishMode:{text:N("actions.finish"),onClick:function(){this._triggerClick()}},removeLastVertex:{text:N("actions.removeLastVertex"),onClick:function(){this._map.pm.Draw[e.jsClass]._removeLastVertex()}},finish:{text:N("actions.finish"),onClick:function(t){this._map.pm.Draw[e.jsClass]._finishShape(t)}}};a.forEach((function(r){var o,a="string"==typeof r?r:r.name;if(s[a])o=s[a];else{if(!r.text)return;o=r}var l=L.DomUtil.create("a","leaflet-pm-action ".concat(n," action-").concat(a),i);l.setAttribute("role","button"),l.setAttribute("tabindex","0"),l.href="#",l.innerHTML=o.text,L.DomEvent.disableClickPropagation(l),L.DomEvent.on(l,"click",L.DomEvent.stop),!e.disabled&&o.onClick&&(L.DomEvent.addListener(l,"click",(function(n){n.preventDefault();var r="",i=t._map.pm.Toolbar.buttons;for(var a in i)if(i[a]._button===e){r=a;break}t._fireActionClick(o,r,e)}),t),L.DomEvent.addListener(l,"click",o.onClick,t))})),e.toggleStatus&&L.DomUtil.addClass(r,"active");var l=L.DomUtil.create("div","control-icon",o);return e.iconUrl&&l.setAttribute("src",e.iconUrl),e.className&&L.DomUtil.addClass(l,e.className),L.DomEvent.disableClickPropagation(o),L.DomEvent.on(o,"click",L.DomEvent.stop),e.disabled||(L.DomEvent.addListener(o,"click",this._onBtnClick,this),L.DomEvent.addListener(o,"click",this._triggerClick,this)),e.disabled&&(L.DomUtil.addClass(o,"pm-disabled"),o.setAttribute("aria-disabled","true")),r},_applyStyleClasses:function(){this._container&&(this._button.toggleStatus&&!1!==this._button.cssToggle?(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")):(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")))},_onBtnClick:function(){this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);var e="",t=this._map.pm.Toolbar.buttons;for(var n in t)if(t[n]._button===this._button){e=n;break}this._fireButtonClick(e,this._button)},_clicked:function(){this._button.doToggle&&this.toggle()},_updateDisabled:function(){if(this._container){var e="pm-disabled",t=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(t,e),t.setAttribute("aria-disabled","true"),L.DomEvent.off(t,"click",this._triggerClick,this),L.DomEvent.off(t,"click",this._onBtnClick,this)):(L.DomUtil.removeClass(t,e),t.setAttribute("aria-disabled","false"),L.DomEvent.on(t,"click",this._triggerClick,this),L.DomEvent.on(t,"click",this._onBtnClick,this))}}});function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}L.Control.PMButton=U;const Y=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize:function(e){this.init(e)},reinit:function(){var e=this.isVisible;this.removeControls(),this._defineButtons(),e&&this.addControls()},init:function(e){this.map=e,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer:function(e){var t="".concat(e,"Container");return this[t]||(this[t]=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-".concat(e," leaflet-bar leaflet-control"))),this[t]},getButtons:function(){return this.buttons},addControls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options;void 0!==e.editPolygon&&(e.editMode=e.editPolygon),void 0!==e.deleteLayer&&(e.removalMode=e.deleteLayer),L.Util.setOptions(this,e),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle:function(){var e=this.getButtons(),t={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(var n in e){var r=e[n];L.Util.setOptions(r,{className:t.geomanIcons[n]})}},removeControls:function(){var e=this.getButtons();for(var t in e)e[t].remove();this.isVisible=!1},toggleControls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options;this.isVisible?this.removeControls():this.addControls(e)},_addButton:function(e,t){return this.buttons[e]=t,this.options[e]=this.options[e]||!1,this.buttons[e]},triggerClickOnToggledButtons:function(e){for(var t in this.buttons){var n=this.buttons[t];n._button.disableByOtherButtons&&n!==e&&n.toggled()&&n._triggerClick()}},toggleButton:function(e,t){return"editPolygon"===e&&(e="editMode"),"deleteLayer"===e&&(e="removalMode"),(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.triggerClickOnToggledButtons(this.buttons[e]),!!this.buttons[e]&&this.buttons[e].toggle(t)},_defineButtons:function(){var e=this,t={className:"control-icon leaflet-pm-icon-marker",title:N("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:function(){},afterClick:function(t,n){e.map.pm.Draw[n.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},n={title:N("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:function(){},afterClick:function(t,n){e.map.pm.Draw[n.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},r={className:"control-icon leaflet-pm-icon-polyline",title:N("buttonTitles.drawLineButton"),jsClass:"Line",onClick:function(){},afterClick:function(t,n){e.map.pm.Draw[n.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},o={title:N("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:function(){},afterClick:function(t,n){e.map.pm.Draw[n.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},i={title:N("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:function(){},afterClick:function(t,n){e.map.pm.Draw[n.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},a={title:N("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:function(){},afterClick:function(t,n){e.map.pm.Draw[n.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},s={title:N("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:function(){},afterClick:function(){e.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},l={title:N("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:function(){},afterClick:function(){e.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},u={title:N("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:function(){},afterClick:function(t,n){e.map.pm.Draw[n.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},c={title:N("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:function(){},afterClick:function(){e.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},d={title:N("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:function(){},afterClick:function(){e.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},h={className:"control-icon leaflet-pm-icon-text",title:N("buttonTitles.drawTextButton"),jsClass:"Text",onClick:function(){},afterClick:function(t,n){e.map.pm.Draw[n.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(t)),this._addButton("drawPolyline",new L.Control.PMButton(r)),this._addButton("drawRectangle",new L.Control.PMButton(a)),this._addButton("drawPolygon",new L.Control.PMButton(n)),this._addButton("drawCircle",new L.Control.PMButton(o)),this._addButton("drawCircleMarker",new L.Control.PMButton(i)),this._addButton("drawText",new L.Control.PMButton(h)),this._addButton("editMode",new L.Control.PMButton(s)),this._addButton("dragMode",new L.Control.PMButton(l)),this._addButton("cutPolygon",new L.Control.PMButton(u)),this._addButton("removalMode",new L.Control.PMButton(c)),this._addButton("rotateMode",new L.Control.PMButton(d))},_showHideButtons:function(){if(this.isVisible){this.removeControls(),this.isVisible=!0;var e=this.getButtons(),t=[];for(var n in!1===this.options.drawControls&&(t=t.concat(Object.keys(e).filter((function(t){return!e[t]._button.tool})))),!1===this.options.editControls&&(t=t.concat(Object.keys(e).filter((function(t){return"edit"===e[t]._button.tool})))),!1===this.options.optionsControls&&(t=t.concat(Object.keys(e).filter((function(t){return"options"===e[t]._button.tool})))),!1===this.options.customControls&&(t=t.concat(Object.keys(e).filter((function(t){return"custom"===e[t]._button.tool})))),e)if(this.options[n]&&-1===t.indexOf(n)){var r=e[n]._button.tool;r||(r="draw"),e[n].setPosition(this._getBtnPosition(r)),e[n].addTo(this.map)}}},_getBtnPosition:function(e){return this.options.positions&&this.options.positions[e]?this.options.positions[e]:this.options.position},setBlockPosition:function(e,t){this.options.positions[e]=t,this._showHideButtons(),this.changeControlOrder()},getBlockPositions:function(){return this.options.positions},copyDrawControl:function(e,t){if(!t)throw new TypeError("Button has no name");"object"!==W(t)&&(t={name:t});var n=this._btnNameMapping(e);if(!t.name)throw new TypeError("Button has no name");if(this.buttons[t.name])throw new TypeError("Button with this name already exists");var r=this.map.pm.Draw.createNewDrawInstance(t.name,n);return t=H(H({},this.buttons[n]._button),t),{drawInstance:r,control:this.createCustomControl(t)}},createCustomControl:function(e){var t,n;if(!e.name)throw new TypeError("Button has no name");if(this.buttons[e.name])throw new TypeError("Button with this name already exists");e.onClick||(e.onClick=function(){}),e.afterClick||(e.afterClick=function(){}),!1!==e.toggle&&(e.toggle=!0),e.block&&(e.block=e.block.toLowerCase()),e.block&&"draw"!==e.block||(e.block=""),e.className?-1===e.className.indexOf("control-icon")&&(e.className="control-icon ".concat(e.className)):e.className="control-icon";var r={tool:e.block,className:e.className,title:e.title||"",jsClass:e.name,onClick:e.onClick,afterClick:e.afterClick,doToggle:e.toggle,toggleStatus:!1,disableOtherButtons:null===(t=e.disableOtherButtons)||void 0===t||t,disableByOtherButtons:null===(n=e.disableByOtherButtons)||void 0===n||n,cssToggle:e.toggle,position:this.options.position,actions:e.actions||[],disabled:!!e.disabled};!1!==this.options[e.name]&&(this.options[e.name]=!0);var o=this._addButton(e.name,new L.Control.PMButton(r));return this.changeControlOrder(),o},changeControlOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this._shapeMapping(),n=[];e.forEach((function(e){t[e]?n.push(t[e]):n.push(e)}));var r=this.getButtons(),o={};n.forEach((function(e){r[e]&&(o[e]=r[e])})),Object.keys(r).filter((function(e){return!r[e]._button.tool})).forEach((function(e){-1===n.indexOf(e)&&(o[e]=r[e])})),Object.keys(r).filter((function(e){return"edit"===r[e]._button.tool})).forEach((function(e){-1===n.indexOf(e)&&(o[e]=r[e])})),Object.keys(r).filter((function(e){return"options"===r[e]._button.tool})).forEach((function(e){-1===n.indexOf(e)&&(o[e]=r[e])})),Object.keys(r).filter((function(e){return"custom"===r[e]._button.tool})).forEach((function(e){-1===n.indexOf(e)&&(o[e]=r[e])})),Object.keys(r).forEach((function(e){-1===n.indexOf(e)&&(o[e]=r[e])})),this.map.pm.Toolbar.buttons=o,this._showHideButtons()},getControlOrder:function(){var e=this.getButtons(),t=[];for(var n in e)t.push(n);return t},changeActionsOfControl:function(e,t){var n=this._btnNameMapping(e);if(!n)throw new TypeError("No name passed");if(!t)throw new TypeError("No actions passed");if(!this.buttons[n])throw new TypeError("Button with this name not exists");this.buttons[n]._button.actions=t,this.changeControlOrder()},setButtonDisabled:function(e,t){var n=this._btnNameMapping(e);t?this.buttons[n].disable():this.buttons[n].enable()},_shapeMapping:function(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping:function(e){var t=this._shapeMapping();return t[e]?t[e]:e}});function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const J={_initSnappableMarkers:function(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=void 0===this.options.snapSegment||this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents:function(e){var t=this;e.forEach((function(e){Array.isArray(e)?t._assignEvents(e):(e.off("drag",t._handleSnapping,t),e.on("drag",t._handleSnapping,t),e.off("dragend",t._cleanupSnapping,t),e.on("dragend",t._cleanupSnapping,t))}))},_cleanupSnapping:function(e){e&&(e.target._snapped=!1),delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("layerremove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach((function(e){e.remove()}))},_handleThrottleSnapping:function(){this.throttledList&&this._createSnapList()},_handleSnapping:function(e){var t,n,r,o=this,i=e.target;if(i._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),null!=e&&null!==(t=e.originalEvent)&&void 0!==t&&t.altKey||null!==(n=this._map)&&void 0!==n&&null!==(r=n.pm)&&void 0!==r&&r.Keyboard.isAltKeyPressed())return!1;if(void 0===this._snapList&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0)return!1;var a,s=this._calcClosestLayer(i.getLatLng(),this._snapList);if(0===Object.keys(s).length)return!1;a=s.layer instanceof L.Marker||s.layer instanceof L.CircleMarker||!this.options.snapSegment?s.latlng:this._checkPrioritiySnapping(s);var l=this.options.snapDistance,u={marker:i,shape:this._shape,snapLatLng:a,segment:s.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:s.layer,distance:s.distance};if(this._fireSnapDrag(u.marker,u),this._fireSnapDrag(this._layer,u),s.distance<l){i._orgLatLng=i.getLatLng(),i.setLatLng(a),i._snapped=!0,i._snapInfo=u;var c=this._snapLatLng||{},d=a||{};c.lat===d.lat&&c.lng===d.lng||(o._snapLatLng=a,o._fireSnap(i,u),o._fireSnap(o._layer,u))}else this._snapLatLng&&(this._unsnap(u),i._snapped=!1,i._snapInfo=void 0,this._fireUnsnap(u.marker,u),this._fireUnsnap(this._layer,u));return!0},_createSnapList:function(){var e=this,t=[],n=[],r=this._map;r.off("layerremove",this._handleSnapLayerRemoval,this),r.on("layerremove",this._handleSnapLayerRemoval,this),r.eachLayer((function(e){if((e instanceof L.Polyline||e instanceof L.Marker||e instanceof L.CircleMarker||e instanceof L.ImageOverlay)&&!0!==e.options.snapIgnore){if(void 0===e.options.snapIgnore&&(!L.PM.optIn&&!0===e.options.pmIgnore||L.PM.optIn&&!1!==e.options.pmIgnore))return;(e instanceof L.Circle||e instanceof L.CircleMarker)&&e.pm&&e.pm._hiddenPolyCircle?t.push(e.pm._hiddenPolyCircle):e instanceof L.ImageOverlay&&(e=L.rectangle(e.getBounds())),t.push(e);var r=L.polyline([],{color:"red",pmIgnore:!0});r._pmTempLayer=!0,n.push(r),(e instanceof L.Circle||e instanceof L.CircleMarker)&&n.push(r)}})),t=(t=(t=t.filter((function(t){return e._layer!==t}))).filter((function(e){return e._latlng||e._latlngs&&A(e._latlngs)}))).filter((function(e){return!e._pmTempLayer})),this._otherSnapLayers?(this._otherSnapLayers.forEach((function(){var e=L.polyline([],{color:"red",pmIgnore:!0});e._pmTempLayer=!0,n.push(e)})),this._snapList=t.concat(this._otherSnapLayers)):this._snapList=t,this.debugIndicatorLines=n},_handleSnapLayerRemoval:function(e){var t=e.layer;if(t._leaflet_id){var n=this._snapList.findIndex((function(e){return e._leaflet_id===t._leaflet_id}));n>-1&&this._snapList.splice(n,1)}},_calcClosestLayer:function(e,t){return this._calcClosestLayers(e,t,1)[0]},_calcClosestLayers:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=[],i={};t.forEach((function(t,a){if(!t._parentCopy||t._parentCopy!==n._layer){var s=n._calcLayerDistances(e,t);if(s.distance=Math.floor(s.distance),n.debugIndicatorLines){if(!n.debugIndicatorLines[a]){var l=L.polyline([],{color:"red",pmIgnore:!0});l._pmTempLayer=!0,n.debugIndicatorLines[a]=l}n.debugIndicatorLines[a].setLatLngs([e,s.latlng])}1===r&&(void 0===i.distance||s.distance<=i.distance)?(s.distance<i.distance&&(o=[]),(i=s).layer=t,o.push(i)):1!==r&&(i={},(i=s).layer=t,o.push(i))}})),1!==r&&(o=o.sort((function(e,t){return e.distance-t.distance}))),-1===r&&(r=o.length);var a=this._getClosestLayerByPriority(o,r);return L.Util.isArray(a)?a:[a]},_calcLayerDistances:function(e,t){var n=this._map,r=t instanceof L.Marker||t instanceof L.CircleMarker,o=t instanceof L.Polygon,i=e;if(r){var a=t.getLatLng();return{latlng:Z({},a),distance:this._getDistance(n,a,i)}}return this._calcLatLngDistances(i,t.getLatLngs(),n,o)},_calcLatLngDistances:function(e,t,n){var r,o,i,a=this,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function t(l){l.forEach((function(u,c){if(Array.isArray(u))t(u);else if(a.options.snapSegment){var d,h=u;d=s?c+1===l.length?0:c+1:c+1===l.length?void 0:c+1;var p=l[d];if(p){var f=a._getDistanceToSegment(n,e,h,p);(void 0===o||f<o)&&(o=f,i=[h,p])}}else{var m=a._getDistance(n,e,u);(void 0===o||m<o)&&(o=m,r=u)}}))}(t),this.options.snapSegment?{latlng:Z({},this._getClosestPointOnSegment(n,e,i[0],i[1])),segment:i,distance:o}:{latlng:r,distance:o}},_getClosestLayerByPriority:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e=e.sort((function(e,t){return e._leaflet_id-t._leaflet_id}));var n=this._map.pm.globalOptions.snappingOrder||[],r=0,o={};return n.concat(["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"]).forEach((function(e){o[e]||(r+=1,o[e]=r)})),e.sort(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";if(!t||0===Object.keys(t).length)return function(e,t){return e-t};for(var r,o=Object.keys(t),i=o.length-1,a={};i>=0;)r=o[i],a[r.toLowerCase()]=t[r],i-=1;function s(e){return e instanceof L.Marker?"Marker":e instanceof L.Circle?"Circle":e instanceof L.CircleMarker?"CircleMarker":e instanceof L.Rectangle?"Rectangle":e instanceof L.Polygon?"Polygon":e instanceof L.Polyline?"Line":void 0}return function(t,r){var o,i;if("instanceofShape"===e){if(o=s(t.layer).toLowerCase(),i=s(r.layer).toLowerCase(),!o||!i)return 0}else{if(!t.hasOwnProperty(e)||!r.hasOwnProperty(e))return 0;o=t[e].toLowerCase(),i=r[e].toLowerCase()}var l=o in a?a[o]:Number.MAX_SAFE_INTEGER,u=i in a?a[i]:Number.MAX_SAFE_INTEGER,c=0;return l<u?c=-1:l>u&&(c=1),"desc"===n?-1*c:c}}("instanceofShape",o)),1===t?e[0]||{}:e.slice(0,t)},_checkPrioritiySnapping:function(e){var t=this._map,n=e.segment[0],r=e.segment[1],o=e.latlng,i=this._getDistance(t,n,o),a=this._getDistance(t,r,o),s=i<a?n:r,l=i<a?i:a;if(this.options.snapMiddle){var u=L.PM.Utils.calcMiddleLatLng(t,n,r),c=this._getDistance(t,u,o);c<i&&c<a&&(s=u,l=c)}return Z({},l<this.options.snapDistance?s:o)},_unsnap:function(){delete this._snapLatLng},_getClosestPointOnSegment:function(e,t,n,r){var o=e.getMaxZoom();o===1/0&&(o=e.getZoom());var i=e.project(t,o),a=e.project(n,o),s=e.project(r,o),l=L.LineUtil.closestPointOnSegment(i,a,s);return e.unproject(l,o)},_getDistanceToSegment:function(e,t,n,r){var o=e.latLngToLayerPoint(t),i=e.latLngToLayerPoint(n),a=e.latLngToLayerPoint(r);return L.LineUtil.pointToSegmentDistance(o,i,a)},_getDistance:function(e,t,n){return e.latLngToLayerPoint(t).distanceTo(e.latLngToLayerPoint(n))}},Q=L.Class.extend({includes:[J,S],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,resizeableCircleMarker:!1,resizableCircle:!0,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1,rectangleAngle:0},setOptions:function(e){L.Util.setOptions(this,e),this.setStyle(this.options)},setStyle:function(){},getOptions:function(){return this.options},initialize:function(e){var t=this,n=new L.Icon.Default;n.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=n,this._map=e,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach((function(e){t[e]=new L.PM.Draw[e](t._map)})),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.options.pathOptions=n?t()(this.options.pathOptions,e):e},getShapes:function(){return this.shapes},getShape:function(){return this._shape},enable:function(e,t){if(!e)throw new Error("Error: Please pass a shape as a parameter. Possible shapes are: ".concat(this.getShapes().join(",")));this.disable(),this[e].enable(t)},disable:function(){var e=this;this.shapes.forEach((function(t){e[t].disable()}))},addControls:function(){var e=this;this.shapes.forEach((function(t){e[t].addButton()}))},getActiveShape:function(){var e,t=this;return this.shapes.forEach((function(n){t[n]._enabled&&(e=n)})),e},_setGlobalDrawMode:function(){"Cut"===this._shape?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();var e=L.PM.Utils.findLayers(this._map);this._enabled?e.forEach((function(e){L.PM.Utils.disablePopup(e)})):e.forEach((function(e){L.PM.Utils.enablePopup(e)}))},createNewDrawInstance:function(e,t){var n=this._getShapeFromBtnName(t);if(this[e])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[n])throw new TypeError("There is no class L.PM.Draw.".concat(n));return this[e]=new L.PM.Draw[n](this._map),this[e].toolbarButtonName=e,this[e]._shape=e,this.shapes.push(e),this[t]&&this[e].setOptions(this[t].options),this[e].setOptions(this[e].options),this[e]},_getShapeFromBtnName:function(e){var t={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return t[e]?t[e]:this[e]?this[e]._shape:e},_finishLayer:function(e){e.pm&&(e.pm.setOptions(this.options),e.pm._shape=this._shape,e.pm._map=this._map),this._addDrawnLayerProp(e)},_addDrawnLayerProp:function(e){e._drawnByGeoman=!0},_setPane:function(e,t){"layerPane"===t?e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":"vertexPane"===t?e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":"markerPane"===t&&(e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer:function(){return 0===(this._map||this._layer._map).pm.getGeomanLayers().length}});Q.Marker=Q.extend({initialize:function(e){this._map=e,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable:function(e){var t=this;L.Util.setOptions(this,e),this._enabled=!0,this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(N("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer((function(e){t.isRelevantMarker(e)&&e.pm.enable()})),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var e=this;this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer((function(t){e.isRelevantMarker(t)&&t.pm.disable()})),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(e){this.enabled()?this.disable():this.enable(e)},isRelevantMarker:function(e){return e instanceof L.Marker&&e.pm&&!e._pmTempLayer&&!e.pm._initTextMarker},_syncHintMarker:function(e){if(this._hintMarker.setLatLng(e.latlng),this.options.snappable){var t=e;t.target=this._hintMarker,this._handleSnapping(t)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker:function(e){if(e.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var t=this._hintMarker.getLatLng(),n=new L.Marker(t,this.options.markerStyle);this._setPane(n,"markerPane"),this._finishLayer(n),n.pm||(n.options.draggable=!1),n.addTo(this._map.pm._getContainingLayer()),n.pm&&this.options.markerEditable?n.pm.enable():n.dragging&&n.dragging.disable(),this._fireCreate(n),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},setStyle:function(){var e,t;null!==(e=this.options.markerStyle)&&void 0!==e&&e.icon&&(null===(t=this._hintMarker)||void 0===t||t.setIcon(this.options.markerStyle.icon))}});var ee=6371008.8,te={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260.511392,inches:39.37*ee,kilometers:6371.0088,kilometres:6371.0088,meters:ee,metres:ee,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:ee/1852,radians:1,yards:6967335.223679999};function ne(e,t,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function re(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!le(e[0])||!le(e[1]))throw new Error("coordinates must contain numbers");return ne({type:"Point",coordinates:e},t,n)}function oe(e,t,n){if(void 0===n&&(n={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return ne({type:"LineString",coordinates:e},t,n)}function ie(e,t){void 0===t&&(t={});var n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function ae(e){return e%(2*Math.PI)*180/Math.PI}function se(e){return e%360*Math.PI/180}function le(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function ue(e){var t,n,r={type:"FeatureCollection",features:[]};if("LineString"===(n="Feature"===e.type?e.geometry:e).type)t=[n.coordinates];else if("MultiLineString"===n.type)t=n.coordinates;else if("MultiPolygon"===n.type)t=[].concat.apply([],n.coordinates);else{if("Polygon"!==n.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");t=n.coordinates}return t.forEach((function(e){t.forEach((function(t){for(var n=0;n<e.length-1;n++)for(var o=n;o<t.length-1;o++){if(e===t){if(1===Math.abs(n-o))continue;if(0===n&&o===e.length-2&&e[n][0]===e[e.length-1][0]&&e[n][1]===e[e.length-1][1])continue}var i=ce(e[n][0],e[n][1],e[n+1][0],e[n+1][1],t[o][0],t[o][1],t[o+1][0],t[o+1][1]);i&&r.features.push(re([i[0],i[1]]))}}))})),r}function ce(e,t,n,r,o,i,a,s){var l,u,c,d,h={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(l=(s-i)*(n-e)-(a-o)*(r-t))?null!==h.x&&null!==h.y&&h:(d=(n-e)*(u=t-i)-(r-t)*(c=e-o),u=((a-o)*u-(s-i)*c)/l,c=d/l,h.x=e+u*(n-e),h.y=t+u*(r-t),u>=0&&u<=1&&(h.onLine1=!0),c>=0&&c<=1&&(h.onLine2=!0),!(!h.onLine1||!h.onLine2)&&[h.x,h.y])}function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ge(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function ve(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function ye(e){return"Feature"===e.type?e.geometry:e}function be(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}function Ee(e,t,n){if(null!==e)for(var r,o,i,a,s,l,u,c,d=0,h=0,p=e.type,f="FeatureCollection"===p,m="Feature"===p,_=f?e.features.length:1,g=0;g<_;g++){s=(c=!!(u=f?e.features[g].geometry:m?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var v=0;v<s;v++){var y=0,b=0;if(null!==(a=c?u.geometries[v]:u)){l=a.coordinates;var E=a.type;switch(d=!n||"Polygon"!==E&&"MultiPolygon"!==E?0:1,E){case null:break;case"Point":if(!1===t(l,h,g,y,b))return!1;h++,y++;break;case"LineString":case"MultiPoint":for(r=0;r<l.length;r++){if(!1===t(l[r],h,g,y,b))return!1;h++,"MultiPoint"===E&&y++}"LineString"===E&&y++;break;case"Polygon":case"MultiLineString":for(r=0;r<l.length;r++){for(o=0;o<l[r].length-d;o++){if(!1===t(l[r][o],h,g,y,b))return!1;h++}"MultiLineString"===E&&y++,"Polygon"===E&&b++}"Polygon"===E&&y++;break;case"MultiPolygon":for(r=0;r<l.length;r++){for(b=0,o=0;o<l[r].length;o++){for(i=0;i<l[r][o].length-d;i++){if(!1===t(l[r][o][i],h,g,y,b))return!1;h++}b++}y++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(!1===Ee(a.geometries[r],t,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Ce(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var n=0;n<e.features.length&&!1!==t(e.features[n],n);n++);}function xe(e,t){!function(e,t){var n,r,o,i,a,s,l,u,c,d,h=0,p="FeatureCollection"===e.type,f="Feature"===e.type,m=p?e.features.length:1;for(n=0;n<m;n++){for(s=p?e.features[n].geometry:f?e.geometry:e,u=p?e.features[n].properties:f?e.properties:{},c=p?e.features[n].bbox:f?e.bbox:void 0,d=p?e.features[n].id:f?e.id:void 0,a=(l=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=l?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,h,u,c,d))return!1;break;case"GeometryCollection":for(r=0;r<i.geometries.length;r++)if(!1===t(i.geometries[r],h,u,c,d))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,h,u,c,d))return!1;h++}}(e,(function(e,n,r,o,i){var a,s=null===e?null:e.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return!1!==t(ne(e,r,{bbox:o,id:i}),n,0)&&void 0}switch(s){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u=e.coordinates[l];if(!1===t(ne({type:a,coordinates:u},r),n,l))return!1}}))}Q.Line=Q.extend({initialize:function(e){this._map=e,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable:function(e){L.Util.setOptions(this,e),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],he(he({},this.options.templineStyle),{},{pmIgnore:!1})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(N("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createVertex,this),this.options.finishOn&&"snap"!==this.options.finishOn&&this._map.on(this.options.finishOn,this._finishShape,this),"dblclick"===this.options.finishOn&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this.isRed=!1,this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&"snap"!==this.options.finishOn&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(e){this.enabled()?this.disable():this.enable(e)},_syncHintLine:function(){var e=this._layer.getLatLngs();if(e.length>0){var t=e[e.length-1];this._hintline.setLatLngs([t,this._hintMarker.getLatLng()])}},_syncHintMarker:function(e){if(this._hintMarker.setLatLng(e.latlng),this.options.snappable){var t=e;t.target=this._hintMarker,this._handleSnapping(t)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());var n=this._layer._defaultShape().slice();n.push(this._hintMarker.getLatLng()),this._change(n)},hasSelfIntersection:function(){return ue(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection:function(e,t){var n=L.polyline(this._layer.getLatLngs());e&&(t||(t=this._hintMarker.getLatLng()),n.addLatLng(t));var r=ue(n.toGeoJSON(15));this._doesSelfIntersect=r.features.length>0,this._doesSelfIntersect?this.isRed||(this.isRed=!0,this._hintline.setStyle({color:"#f00000ff"}),this._fireIntersect(r,this._map,"Draw")):this._hintline.isEmpty()||(this.isRed=!1,this._hintline.setStyle(this.options.hintlineStyle))},_createVertex:function(e){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,e.latlng),!this._doesSelfIntersect)){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var t=this._hintMarker.getLatLng(),n=this._layer.getLatLngs(),r=n[n.length-1];if(t.equals(n[0])||n.length>0&&t.equals(r))this._finishShape();else{this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:t,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(t);var o=this._createMarker(t);this._setTooltipText(),this._setHintLineAfterNewVertex(t),this._fireVertexAdded(o,void 0,t,"Draw"),this._change(this._layer.getLatLngs()),"snap"===this.options.finishOn&&this._hintMarker._snapped&&this._finishShape(e)}}},_setHintLineAfterNewVertex:function(e){this._hintline.setLatLngs([e,e])},_removeLastVertex:function(){var e=this._markers;if(e.length<=1)this.disable();else{var t=this._layer.getLatLngs(),n=e[e.length-1],r=L.PM.Utils.findDeepMarkerIndex(e,n).indexPath;e.pop(),this._layerGroup.removeLayer(n);var o=e[e.length-1],i=t.indexOf(o.getLatLng());t=t.slice(0,i+1),this._layer.setLatLngs(t),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(n,r,"Draw"),this._change(this._layer.getLatLngs())}},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!1),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var e=this._layer.getLatLngs();if(!(e.length<=1)){var t=L.polyline(e,this.options.pathOptions);this._setPane(t,"layerPane"),this._finishLayer(t),t.addTo(this._map.pm._getContainingLayer()),this._fireCreate(t),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}}},_createMarker:function(e){var t=new L.Marker(e,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(t,"vertexPane"),t._pmTempLayer=!0,this._layerGroup.addLayer(t),this._markers.push(t),t.on("click",this._finishShape,this),t},_setTooltipText:function(){var e;e=N(this._layer.getLatLngs().flat().length<=1?"tooltips.continueLine":"tooltips.finishLine"),this._hintMarker.setTooltipContent(e)},_change:function(e){this._fireChange(e,"Draw")},setStyle:function(){var e,t;null===(e=this._layer)||void 0===e||e.setStyle(this.options.templineStyle),null===(t=this._hintline)||void 0===t||t.setStyle(this.options.hintlineStyle)}}),Q.Polygon=Q.Line.extend({initialize:function(e){this._map=e,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable:function(e){L.PM.Draw.Line.prototype.enable.call(this,e),this._layer.pm._shape="Polygon"},_createMarker:function(e){var t=new L.Marker(e,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(t,"vertexPane"),t._pmTempLayer=!0,this._layerGroup.addLayer(t),this._markers.push(t),1===this._layer.getLatLngs().flat().length?(t.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(t)-1,this.options.snappable&&this._cleanupSnapping()):t.on("click",(function(){return 1})),t},_setTooltipText:function(){var e;e=N(this._layer.getLatLngs().flat().length<=2?"tooltips.continueLine":"tooltips.finishPoly"),this._hintMarker.setTooltipContent(e)},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var e=this._layer.getLatLngs();if(!(e.length<=2)){var t=L.polygon(e,this.options.pathOptions);this._setPane(t,"layerPane"),this._finishLayer(t),t.addTo(this._map.pm._getContainingLayer()),this._fireCreate(t),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}}}),Q.Rectangle=Q.extend({initialize:function(e){this._map=e,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable:function(e){if(L.Util.setOptions(this,e),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(N("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(var t=0;t<2;t+=1){var n=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(n,"vertexPane"),n._pmTempLayer=!0,this._layerGroup.addLayer(n),this._styleMarkers.push(n)}}this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(e){this.enabled()?this.disable():this.enable(e)},_placeStartingMarkers:function(e){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var t=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(t),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach((function(e){L.DomUtil.addClass(e._icon,"visible"),e.setLatLng(t)})),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(N("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin:function(){var e=this._startMarker.getLatLng();e&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([e,e]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker:function(e){if(this._hintMarker.setLatLng(e.latlng),this.options.snappable){var t=e;t.target=this._hintMarker,this._handleSnapping(t)}var n=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(n,"Draw")},_syncRectangleSize:function(){var e=this,t=V(this._startMarker.getLatLng(),this._map),n=V(this._hintMarker.getLatLng(),this._map),r=L.PM.Utils._getRotatedRectangle(t,n,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(r),this.options.cursorMarker&&this._styleMarkers){var o=[];r.forEach((function(e){e.equals(t,1e-8)||e.equals(n,1e-8)||o.push(e)})),o.forEach((function(t,n){try{e._styleMarkers[n].setLatLng(t)}catch(r){}}))}},_findCorners:function(){var e=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(e[0],e[2],this.options.rectangleAngle||0,this._map)},_finishShape:function(e){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var t=this._hintMarker.getLatLng(),n=this._startMarker.getLatLng();if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){var r=L.rectangle([n,t],this.options.pathOptions);if(this.options.rectangleAngle){var o=L.PM.Utils._getRotatedRectangle(n,t,this.options.rectangleAngle||0,this._map);r.setLatLngs(o),r.pm&&r.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(r,"layerPane"),this._finishLayer(r),r.addTo(this._map.pm._getContainingLayer()),this._fireCreate(r),this.disable(),this.options.continueDrawing&&this.enable()}},setStyle:function(){var e;null===(e=this._layer)||void 0===e||e.setStyle(this.options.pathOptions)}}),Q.CircleMarker=Q.extend({initialize:function(e){this._map=e,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1,this._BaseCircleClass=L.CircleMarker,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._defaultRadius=10},enable:function(e){if(L.Util.setOptions(this,e),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._map.getContainer().classList.add("geoman-draw-cursor"),this.options[this._editableOption]){var t={};L.extend(t,this.options.templineStyle),t.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=new this._BaseCircleClass(this._map.getCenter(),t),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(N("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this)}else this._map.on("click",this._createMarker,this),this._hintMarker=new this._BaseCircleClass(this._map.getCenter(),me({radius:this._defaultRadius},this.options.templineStyle)),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(N("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),this._extendingEnable(),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},_extendingEnable:function(){var e=this;!this.options[this._editableOption]&&this.options.markerEditable&&this._map.eachLayer((function(t){e.isRelevantMarker(t)&&t.pm.enable()})),this._layer.bringToBack()},disable:function(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this.options[this._editableOption]?(this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._extendingDisable(),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_extendingDisable:function(){var e=this;this._map.eachLayer((function(t){e.isRelevantMarker(t)&&t.pm.disable()}))},enabled:function(){return this._enabled},toggle:function(e){this.enabled()?this.disable():this.enable(e)},_placeCenterMarker:function(e){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var t=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(t),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var e=this._centerMarker.getLatLng();e&&(this._layer.setLatLng(e),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(N("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine:function(){var e=this._centerMarker.getLatLng(),t=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([e,t])},_syncCircleRadius:function(){var e=this._centerMarker.getLatLng(),t=this._hintMarker.getLatLng(),n=this._distanceCalculation(e,t);this.options[this._minRadiusOption]&&n<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&n>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(n)},_syncHintMarker:function(e){if(this._hintMarker.setLatLng(e.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var t=e;t.target=this._hintMarker,this._handleSnapping(t)}this._handleHintMarkerSnapping();var n=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(n,"Draw")},isRelevantMarker:function(e){return e instanceof L.CircleMarker&&!(e instanceof L.Circle)&&e.pm&&!e._pmTempLayer},_createMarker:function(e){if((!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())&&e.latlng&&!this._layerIsDragging){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var t=this._hintMarker.getLatLng(),n=new this._BaseCircleClass(t,me({radius:this._defaultRadius},this.options.pathOptions));this._setPane(n,"layerPane"),this._finishLayer(n),n.addTo(this._map.pm._getContainingLayer()),this._extendingCreateMarker(n),this._fireCreate(n),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},_extendingCreateMarker:function(e){e.pm&&this.options.markerEditable&&e.pm.enable()},_finishShape:function(e){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var t=this._centerMarker.getLatLng(),n=this._defaultRadius;if(this.options[this._editableOption]){var r=this._hintMarker.getLatLng();n=this._distanceCalculation(t,r),this.options[this._minRadiusOption]&&n<this.options[this._minRadiusOption]?n=this.options[this._minRadiusOption]:this.options[this._maxRadiusOption]&&n>this.options[this._maxRadiusOption]&&(n=this.options[this._maxRadiusOption])}var o=me(me({},this.options.pathOptions),{},{radius:n}),i=new this._BaseCircleClass(t,o);this._setPane(i,"layerPane"),this._finishLayer(i),i.addTo(this._map.pm._getContainingLayer()),i.pm&&i.pm._updateHiddenPolyCircle(),this._fireCreate(i),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var e=this._hintMarker.getLatLng();if(this.options[this._editableOption]){if(!this._layerGroup.hasLayer(this._centerMarker))return e;var t=this._centerMarker.getLatLng(),n=this._distanceCalculation(t,e);this.options[this._minRadiusOption]&&n<this.options[this._minRadiusOption]?e=D(this._map,t,e,this._getMinDistanceInMeter()):this.options[this._maxRadiusOption]&&n>this.options[this._maxRadiusOption]&&(e=D(this._map,t,e,this._getMaxDistanceInMeter()))}return e},_getMinDistanceInMeter:function(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,this._centerMarker.getLatLng())},_getMaxDistanceInMeter:function(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,this._centerMarker.getLatLng())},_handleHintMarkerSnapping:function(){if(this.options[this._editableOption]){if(this._hintMarker._snapped){var e=this._centerMarker.getLatLng(),t=this._hintMarker.getLatLng(),n=this._distanceCalculation(e,t);this._layerGroup.hasLayer(this._centerMarker)&&(this.options[this._minRadiusOption]&&n<this.options[this._minRadiusOption]||this.options[this._maxRadiusOption]&&n>this.options[this._maxRadiusOption])&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},setStyle:function(){var e,t,n={};L.extend(n,this.options.templineStyle),this.options[this._editableOption]&&(n.radius=0),null===(e=this._layer)||void 0===e||e.setStyle(n),null===(t=this._hintline)||void 0===t||t.setStyle(this.options.hintlineStyle)},_distanceCalculation:function(e,t){return this._map.project(e).distanceTo(this._map.project(t))}}),Q.Circle=Q.CircleMarker.extend({initialize:function(e){this._map=e,this._shape="Circle",this.toolbarButtonName="drawCircle",this._BaseCircleClass=L.Circle,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizableCircle",this._defaultRadius=100},_extendingEnable:function(){},_extendingDisable:function(){},_extendingCreateMarker:function(){},isRelevantMarker:function(){},_getMinDistanceInMeter:function(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter:function(){return this.options[this._maxRadiusOption]},_distanceCalculation:function(e,t){return this._map.distance(e,t)}});const we=function(e){if(!e)throw new Error("geojson is required");var t=[];return xe(e,(function(e){!function(e,t){var n=[],r=e.geometry;if(null!==r){switch(r.type){case"Polygon":n=ve(r);break;case"LineString":n=[ve(r)]}n.forEach((function(n){var r,o,i;(r=n,o=e.properties,i=[],r.reduce((function(e,t){var n,r,a,s,l,u,c=oe([e,t],o);return c.bbox=(r=t,a=(n=e)[0],s=n[1],[a<(l=r[0])?a:l,s<(u=r[1])?s:u,a>l?a:l,s>u?s:u]),i.push(c),t})),i).forEach((function(e){e.id=t.length,t.push(e)}))}))}}(e,t)})),ie(t)};var Se=n(1787);function Te(e,t){var n=ve(e),r=ve(t);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==r.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var o=n[0][0],i=n[0][1],a=n[1][0],s=n[1][1],l=r[0][0],u=r[0][1],c=r[1][0],d=r[1][1],h=(d-u)*(a-o)-(c-l)*(s-i);if(0===h)return null;var p=((c-l)*(i-u)-(d-u)*(o-l))/h,f=((a-o)*(i-u)-(s-i)*(o-l))/h;return p>=0&&p<=1&&f>=0&&f<=1?re([o+p*(a-o),i+p*(s-i)]):null}const ke=function(e,t){var n={},r=[];if("LineString"===e.type&&(e=ne(e)),"LineString"===t.type&&(t=ne(t)),"Feature"===e.type&&"Feature"===t.type&&null!==e.geometry&&null!==t.geometry&&"LineString"===e.geometry.type&&"LineString"===t.geometry.type&&2===e.geometry.coordinates.length&&2===t.geometry.coordinates.length){var o=Te(e,t);return o&&r.push(o),ie(r)}var i=Se();return i.load(we(t)),Ce(we(e),(function(e){Ce(i.search(e),(function(t){var o=Te(e,t);if(o){var i=ve(o).join(",");n[i]||(n[i]=!0,r.push(o))}}))})),ie(r)},Le=function(e,t,n){void 0===n&&(n={});var r=ge(e),o=ge(t),i=se(o[1]-r[1]),a=se(o[0]-r[0]),s=se(r[1]),l=se(o[1]),u=Math.pow(Math.sin(i/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(s)*Math.cos(l);return function(e,t){void 0===t&&(t="kilometers");var n=te[t];if(!n)throw new Error(t+" units is invalid");return e*n}(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)),n.units)};function Pe(e){var t=[1/0,1/0,-1/0,-1/0];return Ee(e,(function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])})),t}Pe.default=Pe;const Me=Pe;function Oe(e,t,n){if(void 0===n&&(n={}),!0===n.final)return(Oe(t,e)+180)%360;var r=ge(e),o=ge(t),i=se(r[0]),a=se(o[0]),s=se(r[1]),l=se(o[1]),u=Math.sin(a-i)*Math.cos(l),c=Math.cos(s)*Math.sin(l)-Math.sin(s)*Math.cos(l)*Math.cos(a-i);return ae(Math.atan2(u,c))}function Ne(e,t,n,r){void 0===r&&(r={});var o=ge(e),i=se(o[0]),a=se(o[1]),s=se(n),l=function(e,t){void 0===t&&(t="kilometers");var n=te[t];if(!n)throw new Error(t+" units is invalid");return e/n}(t,r.units),u=Math.asin(Math.sin(a)*Math.cos(l)+Math.cos(a)*Math.sin(l)*Math.cos(s));return re([ae(i+Math.atan2(Math.sin(s)*Math.sin(l)*Math.cos(a),Math.cos(l)-Math.sin(a)*Math.sin(u))),ae(u)],r.properties)}const Ae=function(e,t,n){void 0===n&&(n={});var r=re([1/0,1/0],{dist:1/0}),o=0;return xe(e,(function(e){for(var i=ve(e),a=0;a<i.length-1;a++){var s=re(i[a]);s.properties.dist=Le(t,s,n);var l=re(i[a+1]);l.properties.dist=Le(t,l,n);var u=Le(s,l,n),c=Math.max(s.properties.dist,l.properties.dist),d=Oe(s,l),h=Ne(t,c,d+90,n),p=Ne(t,c,d-90,n),f=ke(oe([h.geometry.coordinates,p.geometry.coordinates]),oe([s.geometry.coordinates,l.geometry.coordinates])),m=null;f.features.length>0&&((m=f.features[0]).properties.dist=Le(t,m,n),m.properties.location=o+Le(s,m,n)),s.properties.dist<r.properties.dist&&((r=s).properties.index=a,r.properties.location=o),l.properties.dist<r.properties.dist&&((r=l).properties.index=a+1,r.properties.location=o+u),m&&m.properties.dist<r.properties.dist&&((r=m).properties.index=a),o+=u}})),r};function Ie(e,t){var n=[],r=Se();return xe(t,(function(t){if(n.forEach((function(e,t){e.id=t})),n.length){var o=r.search(t);if(o.features.length){var i=$e(t,o);n=n.filter((function(e){return e.id!==i.id})),r.remove(i),Ce(Re(i,t),(function(e){n.push(e),r.insert(e)}))}}else(n=Re(e,t).features).forEach((function(e){e.bbox||(e.bbox=function(e){var t=e[0],n=e[1],r=e[2],o=e[3];if(Le(e.slice(0,2),[r,n])>=Le(e.slice(0,2),[t,o])){var i=(n+o)/2;return[t,i-(r-t)/2,r,i+(r-t)/2]}var a=(t+r)/2;return[a-(o-n)/2,n,a+(o-n)/2,o]}(Me(e)))})),r.load(ie(n))})),ie(n)}function Re(e,t){var n=[],r=ve(e)[0],o=ve(e)[e.geometry.coordinates.length-1];if(Be(r,ge(t))||Be(o,ge(t)))return ie([e]);var i=Se(),a=we(e);i.load(a);var s=i.search(t);if(!s.features.length)return ie([e]);var l,u,c=$e(t,s),d=(u=l=[r],Ce(a,(function(e,r){u=0===r&&void 0===l?e:function(e,r,o){var i=ve(r)[1],a=ge(t);return o===c.id?(e.push(a),n.push(oe(e)),Be(a,i)?[a]:[a,i]):(e.push(i),e)}(u,e,r)})),u);return d.length>1&&n.push(oe(d)),ie(n)}function $e(e,t){if(!t.features.length)throw new Error("lines must contain features");if(1===t.features.length)return t.features[0];var n,r=1/0;return Ce(t,(function(t){var o=Ae(t,e).properties.dist;o<r&&(n=t,r=o)})),n}function Be(e,t){return e[0]===t[0]&&e[1]===t[1]}const De=function(e,t){if(!e)throw new Error("line is required");if(!t)throw new Error("splitter is required");var n=be(e),r=be(t);if("LineString"!==n)throw new Error("line must be LineString");if("FeatureCollection"===r)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===r)throw new Error("splitter cannot be a GeometryCollection");var o=function(e,t){void 0===t&&(t={});var n=t.precision,r=t.coordinates,o=t.mutate;if(n=null==n||isNaN(n)?6:n,r=null==r||isNaN(r)?3:r,!e)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof r)throw new Error("<coordinates> must be a number");!1!==o&&void 0!==o||(e=JSON.parse(JSON.stringify(e)));var i=Math.pow(10,n);return Ee(e,(function(e){!function(e,t,n){e.length>n&&e.splice(n,e.length);for(var r=0;r<e.length;r++)e[r]=Math.round(e[r]*t)/t}(e,i,r)})),e}(t,{precision:7});switch(r){case"Point":return Re(e,o);case"MultiPoint":return Ie(e,o);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Ie(e,ke(e,o))}};function Fe(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");var r,o,i=ge(e),a=ye(t),s=a.type,l=t.bbox,u=a.coordinates;if(l&&!1==(r=i,(o=l)[0]<=r[0]&&o[1]<=r[1]&&o[2]>=r[0]&&o[3]>=r[1]))return!1;"Polygon"===s&&(u=[u]);for(var c=!1,d=0;d<u.length&&!c;d++)if(Ve(i,u[d][0],n.ignoreBoundary)){for(var h=!1,p=1;p<u[d].length&&!h;)Ve(i,u[d][p],!n.ignoreBoundary)&&(h=!0),p++;h||(c=!0)}return c}function Ve(e,t,n){var r=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var o=0,i=t.length-1;o<t.length;i=o++){var a=t[o][0],s=t[o][1],l=t[i][0],u=t[i][1];if(e[1]*(a-l)+s*(l-e[0])+u*(e[0]-a)==0&&(a-e[0])*(l-e[0])<=0&&(s-e[1])*(u-e[1])<=0)return!n;s>e[1]!=u>e[1]&&e[0]<(l-a)*(e[1]-s)/(u-s)+a&&(r=!r)}return r}function ze(e,t,n,r,o){var i=n[0],a=n[1],s=e[0],l=e[1],u=t[0],c=t[1],d=u-s,h=c-l,p=(n[0]-s)*h-(n[1]-l)*d;if(null!==o){if(Math.abs(p)>o)return!1}else if(0!==p)return!1;return r?"start"===r?Math.abs(d)>=Math.abs(h)?d>0?s<i&&i<=u:u<=i&&i<s:h>0?l<a&&a<=c:c<=a&&a<l:"end"===r?Math.abs(d)>=Math.abs(h)?d>0?s<=i&&i<u:u<i&&i<=s:h>0?l<=a&&a<c:c<a&&a<=l:"both"===r&&(Math.abs(d)>=Math.abs(h)?d>0?s<i&&i<u:u<i&&i<s:h>0?l<a&&a<c:c<a&&a<l):Math.abs(d)>=Math.abs(h)?d>0?s<=i&&i<=u:u<=i&&i<=s:h>0?l<=a&&a<=c:c<=a&&a<=l}const je=function(e,t,n){void 0===n&&(n={});for(var r=ge(e),o=ve(t),i=0;i<o.length-1;i++){var a=!1;if(n.ignoreEndVertices&&(0===i&&(a="start"),i===o.length-2&&(a="end"),0===i&&i+1===o.length-1&&(a="both")),ze(o[i],o[i+1],r,a,void 0===n.epsilon?null:n.epsilon))return!0}return!1};function Ue(e,t){return!(e[0]>t[0]||e[2]<t[2]||e[1]>t[1]||e[3]<t[3])}function Ge(e,t){return e[0]===t[0]&&e[1]===t[1]}function He(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}var Ke=n(2676),We=n.n(Ke);function Ye(e){var t={type:"Feature"};return t.geometry=e,t}function qe(e){return"Feature"===e.type?e.geometry:e}function Ze(e){return e&&e.geometry&&e.geometry.coordinates?e.geometry.coordinates:e}function Xe(e){return Ye({type:"Polygon",coordinates:e})}function Je(e){return Ye({type:"MultiPolygon",coordinates:e})}function Qe(e){return Array.isArray(e)?1+Qe(e[0]):-1}function et(e){e instanceof L.Polyline&&(e=e.toGeoJSON(15));var t=Ze(e),n=Qe(t),r=[];return n>1?t.forEach((function(e){r.push(Ye({type:"LineString",coordinates:e}))})):r.push(e),r}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Q.Cut=Q.Polygon.extend({initialize:function(e){this._map=e,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape:function(){var e=this;if(this._editedLayers=[],(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var t=this._layer.getLatLngs();if(!(t.length<=2)){var n=L.polygon(t,this.options.pathOptions);n._latlngInfos=this._layer._latlngInfo,this.cut(n),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach((function(t){var n=t.layer,r=t.originalLayer;e._fireCut(r,n,r),e._fireCut(e._map,n,r),r.pm._fireEdit()})),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()}}},cut:function(e){var t=this,n=this._map._layers,r=e._latlngInfos||[];Object.keys(n).map((function(e){return n[e]})).filter((function(e){return e.pm})).filter((function(e){return!e._pmTempLayer})).filter((function(e){return!L.PM.optIn&&!e.options.pmIgnore||L.PM.optIn&&!1===e.options.pmIgnore})).filter((function(e){return e instanceof L.Polyline})).filter((function(t){return t!==e})).filter((function(e){return e.pm.options.allowCutting})).filter((function(e){return!(t.options.layersToCut&&L.Util.isArray(t.options.layersToCut)&&t.options.layersToCut.length>0)||t.options.layersToCut.indexOf(e)>-1})).filter((function(e){return!t._layerGroup.hasLayer(e)})).filter((function(t){try{var n=!!ke(e.toGeoJSON(15),t.toGeoJSON(15)).features.length>0;return n||t instanceof L.Polyline&&!(t instanceof L.Polygon)?n:(r=e.toGeoJSON(15),o=t.toGeoJSON(15),i=qe(r),a=qe(o),!(0===(s=We().intersection(i.coordinates,a.coordinates)).length||!(1===s.length?Xe(s[0]):Je(s))))}catch(l){return L.Polygon,!1}var r,o,i,a,s})).forEach((function(n){var o;if(n instanceof L.Polygon){var i=(o=L.polygon(n.getLatLngs())).getLatLngs();r.forEach((function(e){if(e&&e.snapInfo){var n=e.latlng,r=t._calcClosestLayer(n,[o]);if(r&&r.segment&&r.distance<t.options.snapDistance){var a=r.segment;if(a&&2===a.length){var s=L.PM.Utils._getIndexFromSegment(i,a),l=s.indexPath,u=s.parentPath,c=s.newIndex;(l.length>1?P()(i,u):i).splice(c,0,n)}}}}))}else o=n;var a=t._cutLayer(e,o),s=L.geoJSON(a,n.options);if(1===s.getLayers().length){var l=s.getLayers();s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(l,1)[0]}t._setPane(s,"layerPane");var u=s.addTo(t._map.pm._getContainingLayer());if(u.pm.enable(n.pm.options),u.pm.disable(),n._pmTempLayer=!0,e._pmTempLayer=!0,n.remove(),n.removeFrom(t._map.pm._getContainingLayer()),e.remove(),e.removeFrom(t._map.pm._getContainingLayer()),u.getLayers&&0===u.getLayers().length&&t._map.pm.removeLayer({target:u}),u instanceof L.LayerGroup?(u.eachLayer((function(e){t._addDrawnLayerProp(e)})),t._addDrawnLayerProp(u)):t._addDrawnLayerProp(u),t.options.layersToCut&&L.Util.isArray(t.options.layersToCut)&&t.options.layersToCut.length>0){var c=t.options.layersToCut.indexOf(n);c>-1&&t.options.layersToCut.splice(c,1)}t._editedLayers.push({layer:u,originalLayer:n})}))},_cutLayer:function(e,t){var n,r,o,i,a,s,l=L.geoJSON();if(t instanceof L.Polygon)r=t.toGeoJSON(15),o=e.toGeoJSON(15),i=qe(r),a=qe(o),n=0===(s=We().difference(i.coordinates,a.coordinates)).length?null:1===s.length?Xe(s[0]):Je(s);else{var u=et(t);u.forEach((function(t){var n=De(t,e.toGeoJSON(15));(n&&n.features.length>0?L.geoJSON(n):L.geoJSON(t)).getLayers().forEach((function(t){(function(e,t){var n=ye(e),r=ye(t),o=n.type,i=r.type,a=n.coordinates,s=r.coordinates;switch(o){case"Point":if("Point"===i)return Ge(a,s);throw new Error("feature2 "+i+" geometry not supported");case"MultiPoint":switch(i){case"Point":return function(e,t){var n,r=!1;for(n=0;n<e.coordinates.length;n++)if(Ge(e.coordinates[n],t.coordinates)){r=!0;break}return r}(n,r);case"MultiPoint":return function(e,t){for(var n=0,r=t.coordinates;n<r.length;n++){for(var o=r[n],i=!1,a=0,s=e.coordinates;a<s.length;a++)if(Ge(o,s[a])){i=!0;break}if(!i)return!1}return!0}(n,r);default:throw new Error("feature2 "+i+" geometry not supported")}case"LineString":switch(i){case"Point":return je(r,n,{ignoreEndVertices:!0});case"LineString":return function(e,t){for(var n=!1,r=0,o=t.coordinates;r<o.length;r++){var i=o[r];if(je({type:"Point",coordinates:i},e,{ignoreEndVertices:!0})&&(n=!0),!je({type:"Point",coordinates:i},e,{ignoreEndVertices:!1}))return!1}return n}(n,r);case"MultiPoint":return function(e,t){for(var n=!1,r=0,o=t.coordinates;r<o.length;r++){var i=o[r];if(je(i,e,{ignoreEndVertices:!0})&&(n=!0),!je(i,e))return!1}return!!n}(n,r);default:throw new Error("feature2 "+i+" geometry not supported")}case"Polygon":switch(i){case"Point":return Fe(r,n,{ignoreBoundary:!0});case"LineString":return function(e,t){var n=!1,r=0;if(!Ue(Me(e),Me(t)))return!1;for(;r<t.coordinates.length-1;r++)if(Fe({type:"Point",coordinates:He(t.coordinates[r],t.coordinates[r+1])},e,{ignoreBoundary:!0})){n=!0;break}return n}(n,r);case"Polygon":return function(e,t){if("Feature"===e.type&&null===e.geometry)return!1;if("Feature"===t.type&&null===t.geometry)return!1;if(!Ue(Me(e),Me(t)))return!1;for(var n=0,r=ye(t).coordinates;n<r.length;n++)for(var o=0,i=r[n];o<i.length;o++)if(!Fe(i[o],e))return!1;return!0}(n,r);case"MultiPoint":return function(e,t){for(var n=0,r=t.coordinates;n<r.length;n++)if(!Fe(r[n],e,{ignoreBoundary:!0}))return!1;return!0}(n,r);default:throw new Error("feature2 "+i+" geometry not supported")}default:throw new Error("feature1 "+o+" geometry not supported")}})(e.toGeoJSON(15),t.toGeoJSON(15))||t.addTo(l)}))})),n=u.length>1?function(e){var t=[];return e.eachLayer((function(e){t.push(Ze(e.toGeoJSON(15)))})),Ye({type:"MultiLineString",coordinates:t})}(l):l.toGeoJSON(15)}return n},_change:L.Util.falseFn}),Q.Text=Q.extend({initialize:function(e){this._map=e,this._shape="Text",this.toolbarButtonName="drawText"},enable:function(e){L.Util.setOptions(this,e),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(N("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.getContainer().classList.add("geoman-draw-cursor"),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(e){this.enabled()?this.disable():this.enable(e)},_syncHintMarker:function(e){if(this._hintMarker.setLatLng(e.latlng),this.options.snappable){var t=e;t.target=this._hintMarker,this._handleSnapping(t)}},_createMarker:function(e){var t;if(e.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var n=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),null!==(t=this.options.textOptions)&&void 0!==t&&t.className){var r,o=this.options.textOptions.className.split(" ");(r=this.textArea.classList).add.apply(r,function(e){return function(e){if(Array.isArray(e))return nt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o))}var i=this._createTextIcon(this.textArea),a=new L.Marker(n,{textMarker:!0,_textMarkerOverPM:!0,icon:i});if(this._setPane(a,"markerPane"),this._finishLayer(a),a.pm||(a.options.draggable=!1),a.addTo(this._map.pm._getContainingLayer()),a.pm){var s,l,u,c,d;a.pm.textArea=this.textArea,L.setOptions(a.pm,{removeIfEmpty:null===(s=null===(l=this.options.textOptions)||void 0===l?void 0:l.removeIfEmpty)||void 0===s||s});var h=null===(u=null===(c=this.options.textOptions)||void 0===c?void 0:c.focusAfterDraw)||void 0===u||u;a.pm._createTextMarker(h),null!==(d=this.options.textOptions)&&void 0!==d&&d.text&&a.pm.setText(this.options.textOptions.text)}this._fireCreate(a),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}},_createTextArea:function(){var e=document.createElement("textarea");return e.readOnly=!0,e.classList.add("pm-textarea","pm-disabled"),e},_createTextIcon:function(e){return L.divIcon({className:"pm-text-marker",html:e})}});const rt={enableLayerDrag:function(){if(this.options.draggable&&this._layer._map){this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,z(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;var e=this._getDOMElem();e&&(z(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(e)):L.DomEvent.on(e,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()}},disableLayerDrag:function(){this._layerDragEnabled=!1,z(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();var e=this._getDOMElem();e&&(z(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(e)):L.DomEvent.off(e,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging:function(){return this._dragging},layerDragEnabled:function(){return!!this._layerDragEnabled},_simulateMouseDownEvent:function(e){var t=e.touches?e.touches[0]:e,n={originalEvent:t,target:this._layer};return n.containerPoint=this._map.mouseEventToContainerPoint(t),n.latlng=this._map.containerPointToLatLng(n.containerPoint),this._dragMixinOnMouseDown(n),!1},_simulateMouseMoveEvent:function(e){var t=e.touches?e.touches[0]:e,n={originalEvent:t,target:this._layer};return n.containerPoint=this._map.mouseEventToContainerPoint(t),n.latlng=this._map.containerPointToLatLng(n.containerPoint),this._dragMixinOnMouseMove(n),!1},_simulateMouseUpEvent:function(e){var t={originalEvent:e.touches?e.touches[0]:e,target:this._layer};return-1===e.type.indexOf("touch")&&(t.containerPoint=this._map.mouseEventToContainerPoint(e),t.latlng=this._map.containerPointToLatLng(t.containerPoint)),this._dragMixinOnMouseUp(t),!1},_dragMixinOnMouseDown:function(e){if(!(e.originalEvent.button>0)){this._overwriteEventIfItComesFromMarker(e);var t=e._fromLayerSync,n=this._syncLayers("_dragMixinOnMouseDown",e);if(this._layer instanceof L.Marker&&(!this.options.snappable||t||n?this._disableSnapping():this._initSnappableMarkers()),this._layer instanceof L.CircleMarker){var r="resizeableCircleMarker";this._layer instanceof L.Circle&&(r="resizableCircle"),!this.options.snappable||t||n?this._layer.pm.options[r]?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag():this._layer.pm.options[r]||this._initSnappableMarkersDrag()}this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=e.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)}},_dragMixinOnMouseMove:function(e){this._overwriteEventIfItComesFromMarker(e);var t=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",e),this._dragging||(this._dragging=!0,L.DomUtil.addClass(t,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=e.latlng),this._onLayerDrag(e),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp:function(e){var t=this,n=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",e),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),!!this._dragging&&(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout((function(){t._dragging=!1,n&&L.DomUtil.removeClass(n,"leaflet-pm-dragging"),t._fireDragEnd(),t._fireEdit(),t._layerEdited=!0}),10),!0)},_onLayerDrag:function(e){var t=e.latlng,n=t.lat-this._tempDragCoord.lat,r=t.lng-this._tempDragCoord.lng,o=function e(t){return t.map((function(t){if(Array.isArray(t))return e(t);var o={lat:t.lat+n,lng:t.lng+r};return(t.alt||0===t.alt)&&(o.alt=t.alt),o}))};if(this._layer instanceof L.Circle&&this._layer.options.resizableCircle||this._layer instanceof L.CircleMarker&&this._layer.options.resizeableCircleMarker){var i=o([this._layer.getLatLng()]);this._layer.setLatLng(i[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){var a=this._layer.getLatLng();this._layer._snapped&&(a=this._layer._orgLatLng);var s=o([a]);this._layer.setLatLng(s[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){var l=o([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(l),this._fireChange(this._layer.getBounds(),"Edit")}else{var u=o(this._layer.getLatLngs());this._layer.setLatLngs(u),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=t,e.layer=this._layer,this._fireDrag(e)},addDraggingClass:function(){var e=this._getDOMElem();e&&L.DomUtil.addClass(e,"leaflet-pm-draggable")},removeDraggingClass:function(){var e=this._getDOMElem();e&&L.DomUtil.removeClass(e,"leaflet-pm-draggable")},_getDOMElem:function(){var e=null;return this._layer._path?e=this._layer._path:this._layer._renderer&&this._layer._renderer._container?e=this._layer._renderer._container:this._layer._image?e=this._layer._image:this._layer._icon&&(e=this._layer._icon),e},_overwriteEventIfItComesFromMarker:function(e){e.target.getLatLng&&(!e.target._radius||e.target._radius<=10)&&(e.containerPoint=this._map.mouseEventToContainerPoint(e.originalEvent),e.latlng=this._map.containerPointToLatLng(e.containerPoint))},_syncLayers:function(e,t){var n=this;if(this.enabled())return!1;if(!t._fromLayerSync&&this._layer===t.target&&this.options.syncLayersOnDrag){t._fromLayerSync=!0;var r=[];if(L.Util.isArray(this.options.syncLayersOnDrag))r=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach((function(e){e instanceof L.LayerGroup&&(r=r.concat(e.pm.getLayers(!0)))}));else if(!0===this.options.syncLayersOnDrag&&this._parentLayerGroup)for(var o in this._parentLayerGroup){var i=this._parentLayerGroup[o];i.pm&&(r=i.pm.getLayers(!0))}return L.Util.isArray(r)&&r.length>0&&(r=r.filter((function(e){return!!e.pm})).filter((function(e){return!!e.pm.options.draggable}))).forEach((function(r){r!==n._layer&&r.pm[e]&&(r._snapped=!1,r.pm[e](t))})),r.length>0}return!1},_stopDOMImageDrag:function(e){return e.preventDefault(),!1}};function ot(e,t,n){var r,o,i,a,s=n.getMaxZoom();if(s===1/0&&(s=n.getZoom()),L.Util.isArray(e)){var l=[];return e.forEach((function(e){l.push(ot(e,t,n))})),l}return e instanceof L.LatLng?(r=e,o=t,a=s,(i=n).unproject(o.transform(i.project(r,a)),a)):null}function it(e,t){t instanceof L.Layer&&(t=t.getLatLng());var n=e.getMaxZoom();return n===1/0&&(n=e.getZoom()),e.project(t,n)}function at(e,t){var n=e.getMaxZoom();return n===1/0&&(n=e.getZoom()),e.unproject(t,n)}const st={_onRotateStart:function(e){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=it(this._map,this._rotationOriginLatLng),this._rotationStartPoint=it(this._map,e.target.getLatLng()),this._initialRotateLatLng=F(this._layer),this._startAngle=this.getAngle();var t=F(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,t),this._fireRotationStart(this._map,t)},_onRotate:function(e){var t=it(this._map,e.target.getLatLng()),n=this._rotationStartPoint,r=this._rotationOriginPoint,o=Math.atan2(t.y-r.y,t.x-r.x)-Math.atan2(n.y-r.y,n.x-r.x);this._layer.setLatLngs(this._rotateLayer(o,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var i=this;!function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(r>-1&&n.push(r),L.Util.isArray(t[0]))t.forEach((function(t,r){return e(t,n.slice(),r)}));else{var o=P()(i._markers,n);t.forEach((function(e,t){o[t].setLatLng(e)}))}}(this._layer.getLatLngs());var a=F(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(o,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var s=180*o/Math.PI,l=(s=s<0?s+360:s)+this._startAngle;this._setAngle(l),this._rotationLayer.pm._setAngle(l),this._fireRotation(this._rotationLayer,s,a),this._fireRotation(this._map,s,a),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd:function(){var e=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;var t=F(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=F(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,e,t),this._fireRotationEnd(this._map,e,t),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer:function(e,t,n,r,o){var i=it(o,n);return this._matrix=r.clone().rotate(e,i).flip(),ot(t,this._matrix,o)},_setAngle:function(e){e=e<0?e+360:e,this._angle=e%360},_getRotationCenter:function(){if(this._rotationCenter)return this._rotationCenter;var e=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),t=e.getCenter();return e.removeFrom(this._layer._map),t},enableRotate:function(){this.options.allowRotation?(this.rotateEnabled()&&this.disableRotate(),this._layer instanceof L.Rectangle&&void 0===this._angle&&this.setInitAngle(B(this._layer._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0),this._rotatePoly=L.polygon(this._layer.getLatLngs(),{fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0}),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=F(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)):this.disableRotate()},disableRotate:function(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled:function(){return this._rotateEnabled},rotateLayer:function(e){var t=this.getAngle(),n=this._layer.getLatLngs(),r=e*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(r,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+e),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(r,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());var o=this.getAngle()-t;o=o<0?o+360:o,this._startAngle=t,this._fireRotation(this._layer,o,n,this._layer),this._fireRotation(this._map||this._layer._map,o,n,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle:function(e){var t=e-this.getAngle();this.rotateLayer(t)},getAngle:function(){return this._angle||0},setInitAngle:function(e){this._setAngle(e)},getRotationCenter:function(){return this._getRotationCenter()},setRotationCenter:function(e){this._rotationCenter=e,this._rotatePoly&&this._rotatePoly.pm.setRotationCenter(e)}},lt=L.Class.extend({includes:[rt,J,st,S],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0,resizeableCircleMarker:!1,resizableCircle:!0},setOptions:function(e){L.Util.setOptions(this,e)},getOptions:function(){return this.options},applyOptions:function(){},isPolygon:function(){return this._layer instanceof L.Polygon},getShape:function(){return this._shape},_setPane:function(e,t){"layerPane"===t?e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":"vertexPane"===t?e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":"markerPane"===t&&(e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove:function(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation:function(e,t){var n=t.target,r={layer:this._layer,marker:n,event:t},o="";return"move"===e?o="moveVertexValidation":"add"===e?o="addVertexValidation":"remove"===e&&(o="removeVertexValidation"),this.options[o]&&"function"==typeof this.options[o]&&!this.options[o](r)?("move"===e&&(n._cancelDragEventChain=n.getLatLng()),!1):(n._cancelDragEventChain=null,!0)},_vertexValidationDrag:function(e){return!e._cancelDragEventChain||(e._latlng=e._cancelDragEventChain,e.update(),!1)},_vertexValidationDragEnd:function(e){return!e._cancelDragEventChain||(e._cancelDragEventChain=null,!1)}});function ut(e){return function(e){if(Array.isArray(e))return ct(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ct(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}lt.LayerGroup=L.Class.extend({initialize:function(e){var t=this;this._layerGroup=e,this._layers=this.getLayers(),this._getMap(),this._layers.forEach((function(e){return t._initLayer(e)})),this._layerGroup.on("layeradd",L.Util.throttle((function(e){if(!e.layer._pmTempLayer){t._layers=t.getLayers();var n=t._layers.filter((function(e){return!e.pm._parentLayerGroup||!(t._layerGroup._leaflet_id in e.pm._parentLayerGroup)}));n.forEach((function(e){t._initLayer(e)})),n.length>0&&t._getMap()&&t._getMap().pm.globalEditModeEnabled()&&t.enabled()&&t.enable(t.getOptions())}}),100,this),this),this._layerGroup.on("layerremove",(function(e){t._removeLayerFromGroup(e.target)}),this),this._layerGroup.on("layerremove",L.Util.throttle((function(e){e.target._pmTempLayer||(t._layers=t.getLayers())}),100,this),this)},enable:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];0===t.length&&(this._layers=this.getLayers()),this._options=e,this._layers.forEach((function(n){n instanceof L.LayerGroup?-1===t.indexOf(n._leaflet_id)&&(t.push(n._leaflet_id),n.pm.enable(e,t)):n.pm.enable(e)}))},disable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];0===e.length&&(this._layers=this.getLayers()),this._layers.forEach((function(t){t instanceof L.LayerGroup?-1===e.indexOf(t._leaflet_id)&&(e.push(t._leaflet_id),t.pm.disable(e)):t.pm.disable()}))},enabled:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return 0===e.length&&(this._layers=this.getLayers()),!!this._layers.find((function(t){return t instanceof L.LayerGroup?-1===e.indexOf(t._leaflet_id)&&(e.push(t._leaflet_id),t.pm.enabled(e)):t.pm.enabled()}))},toggleEdit:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];0===t.length&&(this._layers=this.getLayers()),this._options=e,this._layers.forEach((function(n){n instanceof L.LayerGroup?-1===t.indexOf(n._leaflet_id)&&(t.push(n._leaflet_id),n.pm.toggleEdit(e,t)):n.pm.toggleEdit(e)}))},_initLayer:function(e){var t=L.Util.stamp(this._layerGroup);e.pm._parentLayerGroup||(e.pm._parentLayerGroup={}),e.pm._parentLayerGroup[t]=this._layerGroup},_removeLayerFromGroup:function(e){if(e.pm&&e.pm._layerGroup){var t=L.Util.stamp(this._layerGroup);delete e.pm._layerGroup[t]}},dragging:function(){return this._layers=this.getLayers(),!!this._layers&&!!this._layers.find((function(e){return e.pm.dragging()}))},getOptions:function(){return this.options},_getMap:function(){var e;return this._map||(null===(e=this._layers.find((function(e){return!!e._map})))||void 0===e?void 0:e._map)||null},getLayers:function(){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=[];return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this._layerGroup.getLayers().forEach((function(e){r.push(e),e instanceof L.LayerGroup&&-1===n.indexOf(e._leaflet_id)&&(n.push(e._leaflet_id),r=r.concat(e.pm.getLayers(!0,!0,!0,n)))})):r=this._layerGroup.getLayers(),t&&(r=r.filter((function(e){return!(e instanceof L.LayerGroup)}))),e&&(r=(r=(r=r.filter((function(e){return!!e.pm}))).filter((function(e){return!e._pmTempLayer}))).filter((function(e){return!L.PM.optIn&&!e.options.pmIgnore||L.PM.optIn&&!1===e.options.pmIgnore}))),r},setOptions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];0===t.length&&(this._layers=this.getLayers()),this.options=e,this._layers.forEach((function(n){n.pm&&(n instanceof L.LayerGroup?-1===t.indexOf(n._leaflet_id)&&(t.push(n._leaflet_id),n.pm.setOptions(e,t)):n.pm.setOptions(e))}))}}),lt.Marker=lt.extend({_shape:"Marker",initialize:function(e){this._layer=e,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{draggable:!0};L.Util.setOptions(this,e),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()):this.disable()},disable:function(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(e){this.enabled()?this.disable():this.enable(e)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker:function(e){var t=e.target;t.remove(),this._fireRemove(t),this._fireRemove(this._map,t)},_onDragEnd:function(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers:function(){var e=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=void 0===this.options.snapSegment||this.options.snapSegment,e.off("pm:drag",this._handleSnapping,this),e.on("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.on("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this),e.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var e=this._layer;e.off("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this)}});const dt={filterMarkerGroup:function(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents:function(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache:function(){var e=[].concat(ut(this._markerGroup.getLayers()),ut(this.markerCache));this.markerCache=e.filter((function(e,t,n){return n.indexOf(e)===t}))},renderLimits:function(e){var t=this;this.markerCache.forEach((function(n){e.includes(n)?t._markerGroup.addLayer(n):t._markerGroup.removeLayer(n)}))},applyLimitFilters:function(e){var t=e.latlng,n=void 0===t?{lat:0,lng:0}:t;if(!this._preventRenderMarkers){var r=ut(this._filterClosestMarkers(n));this.renderLimits(r)}},_filterClosestMarkers:function(e){var t=ut(this.markerCache),n=this.options.limitMarkersToCount;return-1===n?t:(t.sort((function(t,n){return t._latlng.distanceTo(e)-n._latlng.distanceTo(e)})),t.filter((function(e,t){return!(n>-1)||t<n})))},_preventRenderMarkers:!1,_preventRenderingMarkers:function(e){this._preventRenderMarkers=!!e}};function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}lt.Line=lt.extend({includes:[dt],_shape:"Line",initialize:function(e){this._layer=e,this._enabled=!1},enable:function(e){L.Util.setOptions(this,e),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:("#f00000ff"!==this._layer.options.color?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()):this.disable())},disable:function(){if(this.enabled()&&!this._dragging){this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);var e=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(e,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(e){return this.enabled()?this.disable():this.enable(e),this.enabled()},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers:function(){var e=this,t=this._map,n=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,this._markers=function t(n){if(Array.isArray(n[0]))return n.map(t,e);var r=n.map(e._createMarker,e);return!0!==e.options.hideMiddleMarkers&&n.map((function(t,o){var i=e.isPolygon()?(o+1)%n.length:o+1;return e._createMiddleMarker(r[o],r[i])})),r}(n),this.filterMarkerGroup(),t.addLayer(this._markerGroup)},_createMarker:function(e){var t=new L.Marker(e,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(t,"vertexPane"),t._pmTempLayer=!0,this.options.rotate?(t.on("dragstart",this._onRotateStart,this),t.on("drag",this._onRotate,this),t.on("dragend",this._onRotateEnd,this)):(t.on("click",this._onVertexClick,this),t.on("dragstart",this._onMarkerDragStart,this),t.on("move",this._onMarkerDrag,this),t.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||t.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(t),t},_createMiddleMarker:function(e,t){if(!e||!t)return!1;var n=L.PM.Utils.calcMiddleLatLng(this._map,e.getLatLng(),t.getLatLng()),r=this._createMarker(n),o=L.divIcon({className:"marker-icon marker-icon-middle"});return r.setIcon(o),r.leftM=e,r.rightM=t,e._middleMarkerNext=r,t._middleMarkerPrev=r,r.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),r.on("movestart",this._onMiddleMarkerMoveStart,this),r},_onMiddleMarkerClick:function(e){var t=e.target;if(this._vertexValidation("add",e)){var n=L.divIcon({className:"marker-icon"});t.setIcon(n),this._addMarker(t,t.leftM,t.rightM)}},_onMiddleMarkerMoveStart:function(e){var t=e.target;t.on("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidation("add",e)?(t._dragging=!0,this._addMarker(t,t.leftM,t.rightM)):t.on("move",this._onMiddleMarkerMovePrevent,this)},_onMiddleMarkerMovePrevent:function(e){var t=e.target;this._vertexValidationDrag(t)},_onMiddleMarkerMoveEnd:function(e){var t=e.target;if(t.off("move",this._onMiddleMarkerMovePrevent,this),t.off("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidationDragEnd(t)){var n=L.divIcon({className:"marker-icon"});t.setIcon(n),setTimeout((function(){delete t._dragging}),100)}},_addMarker:function(e,t,n){e.off("movestart",this._onMiddleMarkerMoveStart,this),e.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);var r=e.getLatLng(),o=this._layer._latlngs;delete e.leftM,delete e.rightM;var i=L.PM.Utils.findDeepMarkerIndex(this._markers,t),a=i.indexPath,s=i.index,l=i.parentPath,u=a.length>1?P()(o,l):o,c=a.length>1?P()(this._markers,l):this._markers;u.splice(s+1,0,r),c.splice(s+1,0,e),this._layer.setLatLngs(o),!0!==this.options.hideMiddleMarkers&&(this._createMiddleMarker(t,e),this._createMiddleMarker(e,n)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(e,L.PM.Utils.findDeepMarkerIndex(this._markers,e).indexPath,r),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection:function(){return ue(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval:function(){this._handleLayerStyle(!0)&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle:function(e){var t,n,r=this._layer;if(t=!this.options.allowSelfIntersection&&(n=ue(this._layer.toGeoJSON(15))).features.length>0){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return t;e?this._flashLayer():(r.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(n)}else r.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1);return t},_flashLayer:function(){var e=this;this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout((function(){e._layer.setStyle({color:e.cachedColor}),e.isRed=!1}),200)},_updateDisabledMarkerStyle:function(e,t){var n=this;e.forEach((function(e){Array.isArray(e)?n._updateDisabledMarkerStyle(e,t):e._icon&&(t&&!n._checkMarkerAllowedToDrag(e)?L.DomUtil.addClass(e._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(e._icon,"vertexmarker-disabled"))}))},_removeMarker:function(e){var t=e.target;if(this._vertexValidation("remove",e)){this.options.allowSelfIntersection||(this._coordsBeforeEdit=F(this._layer,this._layer.getLatLngs()));var n=this._layer.getLatLngs(),r=L.PM.Utils.findDeepMarkerIndex(this._markers,t),o=r.indexPath,i=r.index,a=r.parentPath;if(o){var s=o.length>1?P()(n,a):n,l=o.length>1?P()(this._markers,a):this._markers;if(this.options.removeLayerBelowMinVertexCount||!(s.length<=2||this.isPolygon()&&s.length<=3)){s.splice(i,1),this._layer.setLatLngs(n),this.isPolygon()&&s.length<=2&&s.splice(0,s.length);var u=!1;if(s.length<=1&&(s.splice(0,s.length),a.length>1&&o.length>1&&(n=I(n)),this._layer.setLatLngs(n),this._initMarkers(),u=!0),A(n)||this._layer.remove(),n=I(n),this._layer.setLatLngs(n),this._markers=I(this._markers),!u&&(l=o.length>1?P()(this._markers,a):this._markers,t._middleMarkerPrev&&this._markerGroup.removeLayer(t._middleMarkerPrev),t._middleMarkerNext&&this._markerGroup.removeLayer(t._middleMarkerNext),this._markerGroup.removeLayer(t),l)){var c,d;if(this.isPolygon()?(c=(i+1)%l.length,d=(i+(l.length-1))%l.length):(d=i-1<0?void 0:i-1,c=i+1>=l.length?void 0:i+1),c!==d){var h=l[d],p=l[c];!0!==this.options.hideMiddleMarkers&&this._createMiddleMarker(h,p)}l.splice(i,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(t,o),this._fireChange(this._layer.getLatLngs(),"Edit")}else this._flashLayer()}}},updatePolygonCoordsFromMarkerDrag:function(e){var t=this._layer.getLatLngs(),n=e.getLatLng(),r=L.PM.Utils.findDeepMarkerIndex(this._markers,e),o=r.indexPath,i=r.index,a=r.parentPath;(o.length>1?P()(t,a):t).splice(i,1,n),this._layer.setLatLngs(t)},_getNeighborMarkers:function(e){var t=L.PM.Utils.findDeepMarkerIndex(this._markers,e),n=t.indexPath,r=t.index,o=t.parentPath,i=n.length>1?P()(this._markers,o):this._markers,a=(r+1)%i.length;return{prevMarker:i[(r+(i.length-1))%i.length],nextMarker:i[a]}},_checkMarkerAllowedToDrag:function(e){var t=this._getNeighborMarkers(e),n=t.prevMarker,r=t.nextMarker,o=L.polyline([n.getLatLng(),e.getLatLng()]),i=L.polyline([e.getLatLng(),r.getLatLng()]),a=ke(this._layer.toGeoJSON(15),o.toGeoJSON(15)).features.length,s=ke(this._layer.toGeoJSON(15),i.toGeoJSON(15)).features.length;return e.getLatLng()===this._markers[0][0].getLatLng()?s+=1:e.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(a+=1),!(a<=2&&s<=2)},_onMarkerDragStart:function(e){var t=e.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),this._vertexValidation("move",e)){var n=L.PM.Utils.findDeepMarkerIndex(this._markers,t).indexPath;this._fireMarkerDragStart(e,n),this.options.allowSelfIntersection||(this._coordsBeforeEdit=F(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(t):this._markerAllowedToDrag=null}},_onMarkerDrag:function(e){var t=e.target;if(this._vertexValidationDrag(t)){var n=L.PM.Utils.findDeepMarkerIndex(this._markers,t),r=n.indexPath,o=n.index,i=n.parentPath;if(r){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&!1===this._markerAllowedToDrag)return this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),void this._handleLayerStyle();this.updatePolygonCoordsFromMarkerDrag(t);var a=r.length>1?P()(this._markers,i):this._markers,s=(o+1)%a.length,l=(o+(a.length-1))%a.length,u=t.getLatLng(),c=a[l].getLatLng(),d=a[s].getLatLng();if(t._middleMarkerNext){var h=L.PM.Utils.calcMiddleLatLng(this._map,u,d);t._middleMarkerNext.setLatLng(h)}if(t._middleMarkerPrev){var p=L.PM.Utils.calcMiddleLatLng(this._map,u,c);t._middleMarkerPrev.setLatLng(p)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(e,r),this._fireChange(this._layer.getLatLngs(),"Edit")}}},_onMarkerDragEnd:function(e){var t=e.target;if(this._vertexValidationDragEnd(t)){var n=L.PM.Utils.findDeepMarkerIndex(this._markers,t).indexPath,r=this.hasSelfIntersection();r&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(r=!1);var o=!this.options.allowSelfIntersection&&r;if(this._fireMarkerDragEnd(e,n,o),o)return this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),void this._fireLayerReset(e,n);!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")}},_onVertexClick:function(e){var t=e.target;if(!t._dragging){var n=L.PM.Utils.findDeepMarkerIndex(this._markers,t).indexPath;this._fireVertexClick(e,n)}}}),lt.Polygon=lt.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag:function(e){var t=this._getNeighborMarkers(e),n=t.prevMarker,r=t.nextMarker,o=L.polyline([n.getLatLng(),e.getLatLng()]),i=L.polyline([e.getLatLng(),r.getLatLng()]),a=ke(this._layer.toGeoJSON(15),o.toGeoJSON(15)).features.length,s=ke(this._layer.toGeoJSON(15),i.toGeoJSON(15)).features.length;return!(a<=2&&s<=2)}}),lt.Rectangle=lt.Polygon.extend({_shape:"Rectangle",_initMarkers:function(){var e=this,t=this._map,n=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,t.addLayer(this._markerGroup),this._markers=[],this._markers[0]=n.map(this._createMarker,this);var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ht(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this._markers,1);this._cornerMarkers=r[0],this._layer.getLatLngs()[0].forEach((function(t,n){var r=e._cornerMarkers.find((function(e){return e._index===n}));r&&r.setLatLng(t)}))},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker:function(e,t){var n=new L.Marker(e,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(n,"vertexPane"),n._origLatLng=e,n._index=t,n._pmTempLayer=!0,n.on("click",this._onVertexClick,this),this._markerGroup.addLayer(n),n},_addMarkerEvents:function(){var e=this;this._markers[0].forEach((function(t){t.on("dragstart",e._onMarkerDragStart,e),t.on("drag",e._onMarkerDrag,e),t.on("dragend",e._onMarkerDragEnd,e),e.options.preventMarkerRemoval||t.on("contextmenu",e._removeMarker,e)}))},_removeMarker:function(){return null},_onMarkerDragStart:function(e){if(this._vertexValidation("move",e)){var t=e.target,n=this._cornerMarkers;t._oppositeCornerLatLng=n.find((function(e){return e._index===(t._index+2)%4})).getLatLng(),t._snapped=!1,this._fireMarkerDragStart(e)}},_onMarkerDrag:function(e){var t=e.target;this._vertexValidationDrag(t)&&void 0!==t._index&&(this._adjustRectangleForMarkerMove(t),this._fireMarkerDrag(e),this._fireChange(this._layer.getLatLngs(),"Edit"))},_onMarkerDragEnd:function(e){var t=e.target;this._vertexValidationDragEnd(t)&&(this._cornerMarkers.forEach((function(e){delete e._oppositeCornerLatLng})),this._fireMarkerDragEnd(e),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"))},_adjustRectangleForMarkerMove:function(e){L.extend(e._origLatLng,e._latlng);var t=L.PM.Utils._getRotatedRectangle(e.getLatLng(),e._oppositeCornerLatLng,this.getAngle(),this._map);this._layer.setLatLngs(t),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers:function(){var e=this,t=this._layer.getLatLngs()[0];t&&4!==t.length&&t.length>0?(t.forEach((function(t,n){e._cornerMarkers[n].setLatLng(t)})),this._cornerMarkers.slice(t.length).forEach((function(e){e.setLatLng(t[0])}))):t&&t.length&&this._cornerMarkers.forEach((function(e){e.setLatLng(t[e._index])}))},_findCorners:function(){void 0===this._angle&&this.setInitAngle(B(this._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);var e=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(e[0],e[2],this.getAngle(),this._map||this)}}),lt.CircleMarker=lt.extend({_shape:"CircleMarker",initialize:function(e){this._layer=e,this._enabled=!1,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._updateHiddenPolyCircle()},enable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,e),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._extendingEnable(),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},_extendingEnable:function(){this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this)},disable:function(){this.dragging()||(this._map||(this._map=this._layer._map),this._map&&this.enabled()&&(this.layerDragEnabled()&&this.disableLayerDrag(),this.options[this._editableOption]?(this._helperLayers&&this._helperLayers.clearLayers(),this._map.off("move",this._syncMarkers,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this._extendingDisable(),this._layer.off("remove",this.disable,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1))},_extendingDisable:function(){this._layer.off("contextmenu",this._removeMarker,this)},enabled:function(){return this._enabled},toggleEdit:function(e){this.enabled()?this.disable():this.enable(e)},applyOptions:function(){this.options[this._editableOption]?(this._initMarkers(),this._map.on("move",this._syncMarkers,this),this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()):(this.options.draggable&&this.enableLayerDrag(),this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this._initSnappableMarkersDrag():this._disableSnappingDrag()),this._extendingApplyOptions()},_extendingApplyOptions:function(){this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers:function(){var e=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(e);var t=this._layer.getLatLng(),n=this._layer._radius,r=this._getLatLngOnCircle(t,n);this._centerMarker=this._createCenterMarker(t),this._outerMarker=this._createOuterMarker(r),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle:function(e,t){var n=this._map.project(e),r=L.point(n.x+t,n.y);return this._map.unproject(r)},_createHintLine:function(e,t){var n=e.getLatLng(),r=t.getLatLng();this._hintline=L.polyline([n,r],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(e){var t=this._createMarker(e);return this.options.draggable?L.DomUtil.addClass(t._icon,"leaflet-pm-draggable"):t.dragging.disable(),t},_createOuterMarker:function(e){var t=this._createMarker(e);return t.on("drag",this._resizeCircle,this),t},_createMarker:function(e){var t=new L.Marker(e,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(t,"vertexPane"),t._origLatLng=e,t._pmTempLayer=!0,t.on("dragstart",this._onMarkerDragStart,this),t.on("drag",this._onMarkerDrag,this),t.on("dragend",this._onMarkerDragEnd,this),t.on("click",this._onVertexClick,this),this._helperLayers.addLayer(t),t},_moveCircle:function(e){if(!e.target._cancelDragEventChain){var t=this._centerMarker.getLatLng();this._layer.setLatLng(t);var n=this._layer._radius,r=this._getLatLngOnCircle(t,n);this._outerMarker._latlng=r,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")}},_syncMarkers:function(){var e=this._layer.getLatLng(),t=this._layer._radius,n=this._getLatLngOnCircle(e,t);this._outerMarker.setLatLng(n),this._centerMarker.setLatLng(e),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius:function(){var e=this._centerMarker.getLatLng(),t=this._outerMarker.getLatLng(),n=this._distanceCalculation(e,t);this.options[this._minRadiusOption]&&n<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&n>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(n),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var e=this._centerMarker.getLatLng(),t=this._outerMarker.getLatLng();this._hintline.setLatLngs([e,t])},_removeMarker:function(){this.options[this._editableOption]&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart:function(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart:function(e){this._vertexValidation("move",e)&&this._fireMarkerDragStart(e)},_onMarkerDrag:function(e){var t=e.target;t instanceof L.Marker&&!this._vertexValidationDrag(t)||this._fireMarkerDrag(e)},_onMarkerDragEnd:function(e){this._extedingMarkerDragEnd();var t=e.target;this._vertexValidationDragEnd(t)&&(this.options[this._editableOption]&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(e))},_extedingMarkerDragEnd:function(){this._map.pm.Draw.CircleMarker._layerIsDragging=!1},_initSnappableMarkersDrag:function(){var e=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=void 0===this.options.snapSegment||this.options.snapSegment,e.off("pm:drag",this._handleSnapping,this),e.on("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.on("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this),e.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag:function(){var e=this._layer;e.off("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle:function(){var e=this._layer._map||this._map;if(e){var t=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),e,this._layer.getLatLng()),n=L.circle(this._layer.getLatLng(),this._layer.options);n.setRadius(t);var r=e&&e.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(n,200,!r).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(n,200,!r),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker:function(){var e=this._centerMarker.getLatLng(),t=this._outerMarker.getLatLng(),n=this._distanceCalculation(e,t);return this.options[this._minRadiusOption]&&n<this.options[this._minRadiusOption]?t=D(this._map,e,t,this._getMinDistanceInMeter(e)):this.options[this._maxRadiusOption]&&n>this.options[this._maxRadiusOption]&&(t=D(this._map,e,t,this._getMaxDistanceInMeter(e))),t},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var e=this._centerMarker.getLatLng(),t=this._outerMarker.getLatLng(),n=this._distanceCalculation(e,t);(this.options[this._minRadiusOption]&&n<this.options[this._minRadiusOption]||this.options[this._maxRadiusOption]&&n>this.options[this._maxRadiusOption])&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_distanceCalculation:function(e,t){return this._map.project(e).distanceTo(this._map.project(t))},_getMinDistanceInMeter:function(e){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,e)},_getMaxDistanceInMeter:function(e){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,e)},_onVertexClick:function(e){e.target._dragging||this._fireVertexClick(e,void 0)}}),lt.Circle=lt.CircleMarker.extend({_shape:"Circle",initialize:function(e){this._layer=e,this._enabled=!1,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizableCircle",this._updateHiddenPolyCircle()},enable:function(e){L.PM.Edit.CircleMarker.prototype.enable.call(this,e||{})},_extendingEnable:function(){},_extendingDisable:function(){this._layer.off("remove",this.disable,this);var e=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(e,"leaflet-pm-draggable")},_extendingApplyOptions:function(){},_syncMarkers:function(){},_removeMarker:function(){},_onDragStart:function(){},_extedingMarkerDragEnd:function(){},_updateHiddenPolyCircle:function(){var e=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!e).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!e),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_distanceCalculation:function(e,t){return this._map.distance(e,t)},_getMinDistanceInMeter:function(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter:function(){return this.options[this._maxRadiusOption]},_onVertexClick:function(e){e.target._dragging||this._fireVertexClick(e,void 0)}}),lt.ImageOverlay=lt.extend({_shape:"ImageOverlay",initialize:function(e){this._layer=e,this._enabled=!1},toggleEdit:function(e){this.enabled()?this.disable():this.enable(e)},enabled:function(){return this._enabled},enable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,e),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()):this.disable())},disable:function(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners:function(){var e=this._layer.getBounds();return[e.getNorthWest(),e.getNorthEast(),e.getSouthEast(),e.getSouthWest()]}}),lt.Text=lt.extend({_shape:"Text",initialize:function(e){this._layer=e,this._enabled=!1},enable:function(e){L.Util.setOptions(this,e),this.textArea&&(this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()):this.disable())},disable:function(){if(this.enabled()){this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");var e=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),e.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1}},enabled:function(){return this._enabled},toggleEdit:function(e){this.enabled()?this.disable():this.enable(e)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers:function(){var e=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=void 0===this.options.snapSegment||this.options.snapSegment,e.off("pm:drag",this._handleSnapping,this),e.on("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.on("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this),e.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var e=this._layer;e.off("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this)},_autoResize:function(){this.textArea.style.height="1px",this.textArea.style.width="1px";var e=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,t=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height="".concat(e,"px"),this.textArea.style.width="".concat(t,"px"),this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur:function(){var e=this;this._disableOnBlurActive=!0,setTimeout((function(){e.enabled()&&L.DomEvent.on(document,"click",e._documentClick,e)}),100)},_documentClick:function(e){e.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._hasFocus;this._hasFocus="focus"===e.type,!t!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus:function(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus:function(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus:function(){return this._hasFocus},getElement:function(){return this.textArea},setText:function(e){this.textArea.value=e,this._autoResize()},getText:function(){return this.textArea.value},_initTextMarker:function(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){var e,t=this.options.className.split(" ");(e=this.textArea.classList).add.apply(e,function(e){return function(e){if(Array.isArray(e))return pt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t))}var n=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(n),this._layer.once("add",this._createTextMarker,this)},_createTextMarker:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),!0===e&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection:function(e){e.preventDefault()}});var ft=function(e,t,n,r,o,i){this._matrix=[e,t,n,r,o,i]};ft.init=function(){return new L.PM.Matrix(1,0,0,1,0,0)},ft.prototype={transform:function(e){return this._transform(e.clone())},_transform:function(e){var t=this._matrix,n=e.x,r=e.y;return e.x=t[0]*n+t[1]*r+t[4],e.y=t[2]*n+t[3]*r+t[5],e},untransform:function(e){var t=this._matrix;return new L.Point((e.x/t[0]-t[4])/t[0],(e.y/t[2]-t[5])/t[2])},clone:function(){var e=this._matrix;return new L.PM.Matrix(e[0],e[1],e[2],e[3],e[4],e[5])},translate:function(e){return void 0===e?new L.Point(this._matrix[4],this._matrix[5]):("number"==typeof e?(t=e,n=e):(t=e.x,n=e.y),this._add(1,0,0,1,t,n));var t,n},scale:function(e,t){return void 0===e?new L.Point(this._matrix[0],this._matrix[3]):(t=t||L.point(0,0),"number"==typeof e?(n=e,r=e):(n=e.x,r=e.y),this._add(n,0,0,r,t.x,t.y)._add(1,0,0,1,-t.x,-t.y));var n,r},rotate:function(e,t){var n=Math.cos(e),r=Math.sin(e);return t=t||new L.Point(0,0),this._add(n,r,-r,n,t.x,t.y)._add(1,0,0,1,-t.x,-t.y)},flip:function(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add:function(e,t,n,r,o,i){var a,s=[[],[],[]],l=this._matrix,u=[[l[0],l[2],l[4]],[l[1],l[3],l[5]],[0,0,1]],c=[[e,n,o],[t,r,i],[0,0,1]];e&&e instanceof L.PM.Matrix&&(c=[[(l=e._matrix)[0],l[2],l[4]],[l[1],l[3],l[5]],[0,0,1]]);for(var d=0;d<3;d+=1)for(var h=0;h<3;h+=1){a=0;for(var p=0;p<3;p+=1)a+=u[d][p]*c[p][h];s[d][h]=a}return this._matrix=[s[0][0],s[1][0],s[0][1],s[1][1],s[0][2],s[1][2]],this}};const mt=ft;const _t={calcMiddleLatLng:function(e,t,n){var r=e.project(t),o=e.project(n);return e.unproject(r._add(o)._divideBy(2))},findLayers:function(e){var t=[];return e.eachLayer((function(e){(e instanceof L.Polyline||e instanceof L.Marker||e instanceof L.Circle||e instanceof L.CircleMarker||e instanceof L.ImageOverlay)&&t.push(e)})),t=(t=(t=t.filter((function(e){return!!e.pm}))).filter((function(e){return!e._pmTempLayer}))).filter((function(e){return!L.PM.optIn&&!e.options.pmIgnore||L.PM.optIn&&!1===e.options.pmIgnore}))},circleToPolygon:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=$(e.getLatLng(),e.getRadius(),t,0,n),o=[],i=0;i<r.length;i+=1){var a=[r[i].lat,r[i].lng];o.push(a)}return L.polygon(o,e.options)},disablePopup:function(e){e.getPopup()&&(e._tempPopupCopy=e.getPopup(),e.unbindPopup())},enablePopup:function(e){e._tempPopupCopy&&(e.bindPopup(e._tempPopupCopy),delete e._tempPopupCopy)},_fireEvent:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.fire(t,n,r),this.getAllParentGroups(e).groups.forEach((function(e){e.fire(t,n,r)}))},getAllParentGroups:function(e){var t=[],n=[];return!e._pmLastGroupFetch||!e._pmLastGroupFetch.time||(new Date).getTime()-e._pmLastGroupFetch.time>1e3?(function e(r){for(var o in r._eventParents)if(-1===t.indexOf(o)){t.push(o);var i=r._eventParents[o];n.push(i),e(i)}}(e),e._pmLastGroupFetch={time:(new Date).getTime(),groups:n,groupIds:t},{groupIds:t,groups:n}):{groups:e._pmLastGroupFetch.groups,groupIds:e._pmLastGroupFetch.groupIds}},createGeodesicPolygon:$,getTranslation:N,findDeepCoordIndex:function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.some(function e(o){return function(i,a){var s=o.concat(a);if(r){if(i.lat&&i.lat===t.lat&&i.lng===t.lng)return n=s,!0}else if(i.lat&&L.latLng(i).equals(t))return n=s,!0;return Array.isArray(i)&&i.some(e(s))}}([]));var o={};return n&&(o={indexPath:n,index:n[n.length-1],parentPath:n.slice(0,n.length-1)}),o},findDeepMarkerIndex:function(e,t){var n;e.some(function e(r){return function(o,i){var a=r.concat(i);return o._leaflet_id===t._leaflet_id?(n=a,!0):Array.isArray(o)&&o.some(e(a))}}([]));var r={};return n&&(r={indexPath:n,index:n[n.length-1],parentPath:n.slice(0,n.length-1)}),r},_getIndexFromSegment:function(e,t){if(t&&2===t.length){var n=this.findDeepCoordIndex(e,t[0]),r=this.findDeepCoordIndex(e,t[1]),o=Math.max(n.index,r.index);return 0!==n.index&&0!==r.index||1===o||(o+=1),{indexA:n,indexB:r,newIndex:o,indexPath:n.indexPath,parentPath:n.parentPath}}return null},_getRotatedRectangle:function(e,t,n,r){var o=it(r,e),i=it(r,t),a=n*Math.PI/180,s=Math.cos(a),l=Math.sin(a),u=(i.x-o.x)*s+(i.y-o.y)*l,c=(i.y-o.y)*s-(i.x-o.x)*l,d=u*s+o.x,h=u*l+o.y,p=-c*l+o.x,f=c*s+o.y;return[at(r,o),at(r,{x:d,y:h}),at(r,i),at(r,{x:p,y:f})]},pxRadiusToMeterRadius:function(e,t,n){var r=t.project(n),o=L.point(r.x+e,r.y);return t.distance(t.unproject(o),n)}};L.PM=L.PM||{version:"2.15.0",Map:j,Toolbar:Y,Draw:Q,Edit:lt,Utils:_t,Matrix:mt,activeLang:"en",optIn:!1,initialize:function(e){this.addInitHooks(e)},setOptIn:function(e){this.optIn=!!e},addInitHooks:function(){L.Map.addInitHook((function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})})),L.LayerGroup.addInitHook((function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))})),L.Marker.addInitHook((function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))})),L.CircleMarker.addInitHook((function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))})),L.Polyline.addInitHook((function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))})),L.Polygon.addInitHook((function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))})),L.Rectangle.addInitHook((function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))})),L.Circle.addInitHook((function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))})),L.ImageOverlay.addInitHook((function(){this.pm=void 0,L.PM.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))}))},reInitLayer:function(e){var t=this;e instanceof L.LayerGroup&&e.eachLayer((function(e){t.reInitLayer(e)})),e.pm||L.PM.optIn&&!1!==e.options.pmIgnore||e.options.pmIgnore||(e instanceof L.Map?e.pm=new L.PM.Map(e):e instanceof L.Marker?e.options.textMarker?(e.pm=new L.PM.Edit.Text(e),e.pm._initTextMarker(),e.pm._createTextMarker(!1)):e.pm=new L.PM.Edit.Marker(e):e instanceof L.Circle?e.pm=new L.PM.Edit.Circle(e):e instanceof L.CircleMarker?e.pm=new L.PM.Edit.CircleMarker(e):e instanceof L.Rectangle?e.pm=new L.PM.Edit.Rectangle(e):e instanceof L.Polygon?e.pm=new L.PM.Edit.Polygon(e):e instanceof L.Polyline?e.pm=new L.PM.Edit.Line(e):e instanceof L.LayerGroup?e.pm=new L.PM.Edit.LayerGroup(e):e instanceof L.ImageOverlay&&(e.pm=new L.PM.Edit.ImageOverlay(e)))}},"1.7.1"===L.version&&L.Canvas.include({_onClick:function(e){for(var t,n,r=this._map.mouseEventToLayerPoint(e),o=this._drawFirst;o;o=o.next)(t=o.layer).options.interactive&&t._containsPoint(r)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(n=t);n&&(L.DomEvent.fakeStop(e),this._fireEvent([n],e))}}),L.PM.initialize()})()})(),
/**
 * Leaflet vector features drag functionality
 * @author Alexander Milevski <info@w8r.name>
 * @preserve
 */
L.Path.include({_transform:function(e){return this._renderer&&(e?this._renderer.transformPath(this,e):(this._renderer._resetTransformPath(this),this._update())),this},_onMouseClick:function(e){this.dragging&&this.dragging.moved()||this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(e)}});var END={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"};function distance(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function TRUE_FN(){return!0}L.Handler.PathDrag=L.Handler.extend({statics:{DRAGGING_CLS:"leaflet-path-draggable"},initialize:function(e){this._path=e,this._matrix=null,this._startPoint=null,this._dragStartPoint=null,this._mapDraggingWasEnabled=!1,this._path._dragMoved=!1},addHooks:function(){this._path.on("mousedown",this._onDragStart,this),this._path.options.className=this._path.options.className?this._path.options.className+" "+L.Handler.PathDrag.DRAGGING_CLS:L.Handler.PathDrag.DRAGGING_CLS,this._path._path&&L.DomUtil.addClass(this._path._path,L.Handler.PathDrag.DRAGGING_CLS)},removeHooks:function(){this._path.off("mousedown",this._onDragStart,this),this._path.options.className=this._path.options.className.replace(new RegExp("\\s+"+L.Handler.PathDrag.DRAGGING_CLS),""),this._path._path&&L.DomUtil.removeClass(this._path._path,L.Handler.PathDrag.DRAGGING_CLS)},moved:function(){return this._path._dragMoved},_onDragStart:function(e){var t=e.originalEvent._simulated?"touchstart":e.originalEvent.type;this._mapDraggingWasEnabled=!1,this._startPoint=e.containerPoint.clone(),this._dragStartPoint=e.containerPoint.clone(),this._matrix=[1,0,0,1,0,0],L.DomEvent.stop(e.originalEvent),L.DomUtil.addClass(this._path._renderer._container,"leaflet-interactive"),L.DomEvent.on(document,MOVE[t],this._onDrag,this).on(document,END[t],this._onDragEnd,this),this._path._map.dragging.enabled()&&(this._path._map.dragging.disable(),this._mapDraggingWasEnabled=!0),this._path._dragMoved=!1,this._path._popup&&this._path._popup.close(),this._replaceCoordGetters(e)},_onDrag:function(e){L.DomEvent.stop(e);var t=e.touches&&e.touches.length>=1?e.touches[0]:e,n=this._path._map.mouseEventToContainerPoint(t);if("touchmove"===e.type&&!this._path._dragMoved&&this._dragStartPoint.distanceTo(n)<=this._path._map.options.tapTolerance)return;var r=n.x,o=n.y,i=r-this._startPoint.x,a=o-this._startPoint.y;(i||a)&&(this._path._dragMoved||(this._path._dragMoved=!0,this._path.options.interactive=!1,this._path._map.dragging._draggable._moved=!0,this._path.fire("dragstart",e),this._path.bringToFront()),this._matrix[4]+=i,this._matrix[5]+=a,this._startPoint.x=r,this._startPoint.y=o,this._path.fire("predrag",e),this._path._transform(this._matrix),this._path.fire("drag",e))},_onDragEnd:function(e){var t=this._path._map.mouseEventToContainerPoint(e),n=this.moved();if(n&&(this._transformPoints(this._matrix),this._path._updatePath(),this._path._project(),this._path._transform(null),L.DomEvent.stop(e)),L.DomEvent.off(document,"mousemove touchmove",this._onDrag,this),L.DomEvent.off(document,"mouseup touchend",this._onDragEnd,this),this._restoreCoordGetters(),n){this._path.fire("dragend",{distance:distance(this._dragStartPoint,t)});var r=this._path._containsPoint;this._path._containsPoint=L.Util.falseFn,L.Util.requestAnimFrame((function(){this._path._dragMoved=!1,this._path.options.interactive=!0,this._path._containsPoint=r}),this)}this._mapDraggingWasEnabled&&this._path._map.dragging.enable()},_transformPoints:function(e,t){var n,r,o,i=this._path,a=L.point(e[4],e[5]),s=i._map.options.crs,l=s.transformation,u=s.scale(i._map.getZoom()),c=s.projection,d=l.untransform(a,u).subtract(l.untransform(L.point(0,0),u)),h=!t;if(i._bounds=new L.LatLngBounds,i._point)t=c.unproject(c.project(i._latlng)._add(d)),h&&(i._latlng=t,i._point._add(a));else if(i._rings||i._parts){var p=i._rings||i._parts,f=i._latlngs;for(t=t||f,L.Util.isArray(f[0])||(f=[f],t=[t]),n=0,r=p.length;n<r;n++){t[n]=t[n]||[];for(var m=0,_=p[n].length;m<_;m++)o=f[n][m],t[n][m]=c.unproject(c.project(o)._add(d)),h&&(i._bounds.extend(f[n][m]),p[n][m]._add(a))}}return t},_replaceCoordGetters:function(){this._path.getLatLng?(this._path.getLatLng_=this._path.getLatLng,this._path.getLatLng=L.Util.bind((function(){return this.dragging._transformPoints(this.dragging._matrix,{})}),this._path)):this._path.getLatLngs&&(this._path.getLatLngs_=this._path.getLatLngs,this._path.getLatLngs=L.Util.bind((function(){return this.dragging._transformPoints(this.dragging._matrix,[])}),this._path))},_restoreCoordGetters:function(){this._path.getLatLng_?(this._path.getLatLng=this._path.getLatLng_,delete this._path.getLatLng_):this._path.getLatLngs_&&(this._path.getLatLngs=this._path.getLatLngs_,delete this._path.getLatLngs_)}}),L.Handler.PathDrag.makeDraggable=function(e){return e.dragging=new L.Handler.PathDrag(e),e},L.Path.prototype.makeDraggable=function(){return L.Handler.PathDrag.makeDraggable(this)},L.Path.addInitHook((function(){this.options.draggable?(this.options.interactive=!0,this.dragging||L.Handler.PathDrag.makeDraggable(this),this.dragging.enable()):this.dragging&&this.dragging.disable()})),L.SVG.include({_resetTransformPath:function(e){e._path.setAttributeNS(null,"transform","")},transformPath:function(e,t){e._path.setAttributeNS(null,"transform","matrix("+t.join(" ")+")")}}),L.SVG.include(L.Browser.vml?{_resetTransformPath:function(e){e._skew&&(e._skew.on=!1,e._path.removeChild(e._skew),e._skew=null)},transformPath:function(e,t){var n=e._skew;n||(n=L.SVG.create("skew"),e._path.appendChild(n),n.style.behavior="url(#default#VML)",e._skew=n);var r=t[0].toFixed(8)+" "+t[1].toFixed(8)+" "+t[2].toFixed(8)+" "+t[3].toFixed(8)+" 0 0",o=Math.floor(t[4]).toFixed()+", "+Math.floor(t[5]).toFixed(),i=this._path.style,a=parseFloat(i.left),s=parseFloat(i.top),l=parseFloat(i.width),u=parseFloat(i.height);isNaN(a)&&(a=0),isNaN(s)&&(s=0),!isNaN(l)&&l||(l=1),!isNaN(u)&&u||(u=1);var c=(-a/l-.5).toFixed(8)+" "+(-s/u-.5).toFixed(8);n.on="f",n.matrix=r,n.origin=c,n.offset=o,n.on=!0}}:{}),L.Canvas.include({_resetTransformPath:function(e){this._containerCopy&&(delete this._containerCopy,e._containsPoint_&&(e._containsPoint=e._containsPoint_,delete e._containsPoint_,this._requestRedraw(e)))},transformPath:function(e,t){var n,r=this._containerCopy,o=this._ctx,i=L.Browser.retina?2:1,a=this._bounds,s=a.getSize(),l=a.min;r||(n=(r=this._containerCopy=document.createElement("canvas")).getContext("2d"),r.width=i*s.x,r.height=i*s.y,this._removePath(e),this._redraw(),n.translate(i*a.min.x,i*a.min.y),n.drawImage(this._container,0,0),this._initPath(e),e._containsPoint_=e._containsPoint,e._containsPoint=TRUE_FN),o.save(),o.clearRect(l.x,l.y,s.x*i,s.y*i),o.setTransform(1,0,0,1,0,0),o.restore(),o.save(),o.drawImage(this._containerCopy,0,0,s.x,s.y),o.transform.apply(o,t),this._drawing=!0,e._updatePath(),this._drawing=!1,o.restore()}}),
/**
 * Drag/rotate/resize handler for [leaflet](http://leafletjs.com) vector features.
 *
 * @author Alexander Milevski <info@w8r.name>
 * @license MIT
 * @preserve
 */
L.PathTransform={},L.PathTransform.pointOnLine=function(e,t,n){var r=1+n/e.distanceTo(t);return new L.Point(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},L.PathTransform.merge=function(){var e,t,n=1,r=arguments[n];function o(e){return"[object Object]"===Object.prototype.toString.call(e)}for(var i=arguments[0];r;)for(e in r=arguments[n++])r.hasOwnProperty(e)&&(o(t=r[e])&&o(i[e])?i[e]=L.PathTransform.merge(i[e],t):i[e]=t);return i},L.Matrix=function(e,t,n,r,o,i){this._matrix=[e,t,n,r,o,i]},L.Matrix.prototype={transform:function(e){return this._transform(e.clone())},_transform:function(e){var t=this._matrix,n=e.x,r=e.y;return e.x=t[0]*n+t[1]*r+t[4],e.y=t[2]*n+t[3]*r+t[5],e},untransform:function(e){var t=this._matrix;return new L.Point((e.x/t[0]-t[4])/t[0],(e.y/t[2]-t[5])/t[2])},clone:function(){var e=this._matrix;return new L.Matrix(e[0],e[1],e[2],e[3],e[4],e[5])},translate:function(e){return void 0===e?new L.Point(this._matrix[4],this._matrix[5]):("number"==typeof e?t=n=e:(t=e.x,n=e.y),this._add(1,0,0,1,t,n));var t,n},scale:function(e,t){return void 0===e?new L.Point(this._matrix[0],this._matrix[3]):(t=t||L.point(0,0),"number"==typeof e?n=r=e:(n=e.x,r=e.y),this._add(n,0,0,r,t.x,t.y)._add(1,0,0,1,-t.x,-t.y));var n,r},rotate:function(e,t){var n=Math.cos(e),r=Math.sin(e);return t=t||new L.Point(0,0),this._add(n,r,-r,n,t.x,t.y)._add(1,0,0,1,-t.x,-t.y)},flip:function(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add:function(e,t,n,r,o,i){var a,s=[[],[],[]],l=this._matrix,u=[[l[0],l[2],l[4]],[l[1],l[3],l[5]],[0,0,1]],c=[[e,n,o],[t,r,i],[0,0,1]];e&&e instanceof L.Matrix&&(c=[[(l=e._matrix)[0],l[2],l[4]],[l[1],l[3],l[5]],[0,0,1]]);for(var d=0;d<3;d++)for(var h=0;h<3;h++){a=0;for(var p=0;p<3;p++)a+=u[d][p]*c[p][h];s[d][h]=a}return this._matrix=[s[0][0],s[1][0],s[0][1],s[1][1],s[0][2],s[1][2]],this}},L.matrix=function(e,t,n,r,o,i){return new L.Matrix(e,t,n,r,o,i)},L.PathTransform.Handle=L.CircleMarker.extend({options:{className:"leaflet-path-transform-handler"},onAdd:function(e){L.CircleMarker.prototype.onAdd.call(this,e),this._path&&this.options.setCursor&&(this._path.style.cursor=L.PathTransform.Handle.CursorsByType[this.options.index])}}),L.PathTransform.Handle.CursorsByType=["nesw-resize","nwse-resize","nesw-resize","nwse-resize"],L.PathTransform.RotateHandle=L.PathTransform.Handle.extend({options:{className:"leaflet-path-transform-handler transform-handler--rotate"},onAdd:function(e){L.CircleMarker.prototype.onAdd.call(this,e),this._path&&this.options.setCursor&&(this._path.style.cursor="all-scroll")}}),L.Handler.PathTransform=L.Handler.extend({options:{rotation:!0,scaling:!0,uniformScaling:!0,maxZoom:22,handlerOptions:{radius:5,fillColor:"#ffffff",color:"#202020",fillOpacity:1,weight:2,opacity:.7,setCursor:!0},boundsOptions:{weight:1,opacity:1,dashArray:[3,3],fill:!1,noClip:!0},rotateHandleOptions:{weight:1,opacity:1,setCursor:!0},handleLength:20,edgesCount:4,handleClass:L.PathTransform.Handle,rotateHandleClass:L.PathTransform.RotateHandle},initialize:function(e){this._path=e,this._map=null,this._activeMarker=null,this._originMarker=null,this._rotationMarker=null,this._rotationOrigin=null,this._scaleOrigin=null,this._angle=0,this._scale=L.point(1,1),this._initialDist=0,this._initialDistX=0,this._initialDistY=0,this._rotationStart=null,this._rotationOriginPt=null,this._matrix=new L.Matrix(1,0,0,1,0,0),this._projectedMatrix=new L.Matrix(1,0,0,1,0,0),this._handlersGroup=null,this._rect=null,this._handlers=[],this._handleLine=null},enable:function(e){this._path._map&&(this._map=this._path._map,e&&this.setOptions(e),L.Handler.prototype.enable.call(this))},addHooks:function(){this._createHandlers(),this._path.on("dragstart",this._onDragStart,this).on("dragend",this._onDragEnd,this)},removeHooks:function(){this._hideHandlers(),this._path.off("dragstart",this._onDragStart,this).off("dragend",this._onDragEnd,this),this._handlersGroup=null,this._rect=null,this._handlers=[]},setOptions:function(e){var t=this._enabled;return t&&this.disable(),this.options=L.PathTransform.merge({},L.Handler.PathTransform.prototype.options,e),t&&this.enable(),this},rotate:function(e,t){return this.transform(e,null,t)},scale:function(e,t){return"number"==typeof e&&(e=L.point(e,e)),this.transform(0,e,null,t)},transform:function(e,t,n,r){var o=this._path.getCenter();return n=n||o,r=r||o,this._map=this._path._map,this._transformPoints(this._path,e,t,n,r),this._transformPoints(this._rect,e,t,n,r),this._transformPoints(this._handleLine,e,t,n,r),this._updateHandlers(),this},_update:function(){for(var e=this._matrix,t=0,n=this._handlers.length;t<n;t++){var r=this._handlers[t];r!==this._originMarker&&(r._point=e.transform(r._initialPoint),r._updatePath())}e=e.clone().flip(),this._applyTransform(e),this._path.fire("transform",{layer:this._path})},_applyTransform:function(e){this._path._transform(e._matrix),this._rect._transform(e._matrix),this.options.rotation&&this._handleLine._transform(e._matrix)},_apply:function(){var e=this._map,t=this._matrix.clone(),n=this._angle,r=this._scale.clone();this._transformGeometries();for(var o=0,i=this._handlers.length;o<i;o++){var a=this._handlers[o];a._latlng=e.layerPointToLatLng(a._point),delete a._initialPoint,a.redraw()}this._matrix=L.matrix(1,0,0,1,0,0),this._scale=L.point(1,1),this._angle=0,this._updateHandlers(),e.dragging.enable(),this._path.fire("transformed",{matrix:t,scale:r,rotation:n,layer:this._path})},reset:function(){this._enabled&&(this._rect&&(this._handlersGroup.removeLayer(this._rect),this._rect=this._getBoundingPolygon().addTo(this._handlersGroup)),this._updateHandlers())},_updateHandlers:function(){var e=this._handlersGroup;this._rectShape=this._rect.toGeoJSON(),this._handleLine&&this._handlersGroup.removeLayer(this._handleLine),this._rotationMarker&&this._handlersGroup.removeLayer(this._rotationMarker),this._handleLine=this._rotationMarker=null;for(var t=this._handlers.length-1;t>=0;t--)e.removeLayer(this._handlers[t]);this._createHandlers()},_transformGeometries:function(){this._path._transform(null),this._rect._transform(null),this._transformPoints(this._path),this._transformPoints(this._rect),this.options.rotation&&(this._handleLine._transform(null),this._transformPoints(this._handleLine,this._angle,null,this._origin))},_getProjectedMatrix:function(e,t,n,r){var o,i=this._map,a=i.getMaxZoom()||this.options.maxZoom,s=L.matrix(1,0,0,1,0,0);return e=e||this._angle||0,1===(t=t||this._scale||L.point(1,1)).x&&1===t.y||(r=r||this._scaleOrigin,o=i.project(r,a),s=s._add(L.matrix(1,0,0,1,o.x,o.y))._add(L.matrix(t.x,0,0,t.y,0,0))._add(L.matrix(1,0,0,1,-o.x,-o.y))),e&&(n=n||this._rotationOrigin,o=i.project(n,a),s=s.rotate(e,o).flip()),s},_transformPoint:function(e,t,n,r){return n.unproject(t.transform(n.project(e,r)),r)},_transformPoints:function(e,t,n,r,o){var i,a,s=e._map,l=s.getMaxZoom()||this.options.maxZoom,u=this._projectedMatrix=this._getProjectedMatrix(t,n,r,o);if(e._point){e._latlng=this._transformPoint(e._latlng,u,s,l);var c=this._getBoundingPolygon(),d=Math.floor(Math.abs(c._bounds._southWest.lat-c._bounds._northEast.lat)/2);e.setRadius(d)}else if(e._rings||e._parts){var h=e._rings,p=e._latlngs;for(e._bounds=new L.LatLngBounds,L.Util.isArray(p[0])||(p=[p]),i=0,a=h.length;i<a;i++)for(var f=0,m=h[i].length;f<m;f++)p[i][f]=this._transformPoint(p[i][f],u,s,l),e._bounds.extend(p[i][f])}e._reset()},_createHandlers:function(){var e=this._map;if(this._handlersGroup=this._handlersGroup||(new L.LayerGroup).addTo(e),this._rect=this._rect||this._getBoundingPolygon().addTo(this._handlersGroup),this.options.scaling){this._handlers=[];for(var t=0;t<this.options.edgesCount;t++)this._handlers.push(this._createHandler(this._rect._latlngs[0][t],2*t,t).addTo(this._handlersGroup))}this.options.rotation&&this._createRotationHandlers(),this._handlersGroup.getLayers().forEach((function(e){e.bringToFront()}))},_createRotationHandlers:function(){var e=this._map,t=this._rect._latlngs[0],n=new L.LatLng((t[0].lat+t[3].lat)/2,(t[0].lng+t[3].lng)/2),r=new L.LatLng((t[1].lat+t[2].lat)/2,(t[1].lng+t[2].lng)/2),o=e.layerPointToLatLng(L.PathTransform.pointOnLine(e.latLngToLayerPoint(n),e.latLngToLayerPoint(r),this.options.handleLength));this._handleLine=new L.Polyline([r,o],this.options.rotateHandleOptions).addTo(this._handlersGroup);var i=this.options.rotateHandleClass;this._rotationMarker=new i(o,this.options.handlerOptions).addTo(this._handlersGroup).on("mousedown",this._onRotateStart,this),this._rotationOrigin=new L.LatLng((r.lat+n.lat)/2,(r.lng+n.lng)/2),this._handlers.push(this._rotationMarker)},_getRotationOrigin:function(){var e=this._rect._latlngs[0],t=e[0],n=e[2];return new L.LatLng((t.lat+n.lat)/2,(t.lng+n.lng)/2)},_onRotateStart:function(e){var t=this._map;t.dragging.disable(),this._originMarker=null,this._rotationOriginPt=t.latLngToLayerPoint(this._getRotationOrigin()),this._rotationStart=e.layerPoint,this._initialMatrix=this._matrix.clone(),this._angle=0,this._path._map.on("mousemove",this._onRotate,this).on("mouseup",this._onRotateEnd,this),this._cachePoints(),this._path.fire("transformstart",{layer:this._path}).fire("rotatestart",{layer:this._path,rotation:0})},_onRotate:function(e){var t=e.layerPoint,n=this._rotationStart,r=this._rotationOriginPt;this._angle=Math.atan2(t.y-r.y,t.x-r.x)-Math.atan2(n.y-r.y,n.x-r.x),this._matrix=this._initialMatrix.clone().rotate(this._angle,r).flip(),this._update(),this._path.fire("rotate",{layer:this._path,rotation:this._angle})},_onRotateEnd:function(e){this._path._map.off("mousemove",this._onRotate,this).off("mouseup",this._onRotateEnd,this);var t=this._angle;this._apply(),this._path.fire("rotateend",{layer:this._path,rotation:t})},_onScaleStart:function(e){var t=e.target;this._map.dragging.disable(),this._activeMarker=t,this._originMarker=this._handlers[(t.options.index+2)%4],this._scaleOrigin=this._originMarker.getLatLng(),this._initialMatrix=this._matrix.clone(),this._cachePoints(),this._map.on("mousemove",this._onScale,this).on("mouseup",this._onScaleEnd,this),this._initialDist=this._originMarker._point.distanceTo(this._activeMarker._point),this._initialDistX=this._originMarker._point.x-this._activeMarker._point.x,this._initialDistY=this._originMarker._point.y-this._activeMarker._point.y,this._path.fire("transformstart",{layer:this._path}).fire("scalestart",{layer:this._path,scale:L.point(1,1)}),this._handleLine&&this._map.removeLayer(this._handleLine),this._rotationMarker&&this._map.removeLayer(this._rotationMarker)},_onScale:function(e){var t,n,r=this._originMarker._point;this.options.uniformScaling?n=t=r.distanceTo(e.layerPoint)/this._initialDist:(t=(r.x-e.layerPoint.x)/this._initialDistX,n=(r.y-e.layerPoint.y)/this._initialDistY),this._scale=new L.Point(t,n),this._matrix=this._initialMatrix.clone().scale(this._scale,r),this._update(),this._path.fire("scale",{layer:this._path,scale:this._scale.clone()})},_onScaleEnd:function(e){this._map.off("mousemove",this._onScale,this).off("mouseup",this._onScaleEnd,this),this._handleLine&&this._map.addLayer(this._handleLine),this._rotationMarker&&this._map.addLayer(this._rotationMarker),this._apply(),this._path.fire("scaleend",{layer:this._path,scale:this._scale.clone()})},_cachePoints:function(){this._handlersGroup.eachLayer((function(e){e.bringToFront()}));for(var e=0,t=this._handlers.length;e<t;e++){var n=this._handlers[e];n._initialPoint=n._point.clone()}},_getBoundingPolygon:function(){return this._rectShape?L.GeoJSON.geometryToLayer(this._rectShape,this.options.boundsOptions):new L.Rectangle(this._path.getBounds(),this.options.boundsOptions)},_createHandler:function(e,t,n){var r=new(0,this.options.handleClass)(e,L.Util.extend({},this.options.handlerOptions,{className:"leaflet-drag-transform-marker drag-marker--"+n+" drag-marker--"+t,index:n,type:t}));return r.on("mousedown",this._onScaleStart,this),r},_hideHandlers:function(){this._map.removeLayer(this._handlersGroup)},_onDragStart:function(){this._hideHandlers()},_onDragEnd:function(e){var t=this._rect,n=(e.layer?e.layer:this._path).dragging._matrix.slice();t.dragging||(t.dragging=new L.Handler.PathDrag(t)),t.dragging.enable(),this._map.addLayer(t),t.dragging._transformPoints(n),t._updatePath(),t._project(),t.dragging.disable(),this._map.addLayer(this._handlersGroup),this._updateHandlers(),this._path.fire("transformed",{scale:L.point(1,1),rotation:0,matrix:L.matrix.apply(void 0,n),translate:L.point(n[4],n[5]),layer:this._path})}}),L.Path.addInitHook((function(){this.options.transform&&(this.transform=new L.Handler.PathTransform(this,this.options.transform))})),function(e,t,n){var r;L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(e,t){this._map=e,this._container=e._container,this._overlayPane=e._panes.overlayPane,this._popupPane=e._panes.popupPane,t&&t.shapeOptions&&(t.shapeOptions=L.Util.extend({},this.options.shapeOptions,t.shapeOptions)),L.setOptions(this,t);var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var e=this._map;e&&(L.DomUtil.disableTextSelection(),e.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(e){L.setOptions(this,e)},_fireCreatedEvent:function(e){this._map.fire(L.Draw.Event.CREATED,{layer:e,layerType:this.type})},_cancelDrawing:function(e){27===e.keyCode&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(e,t){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,t&&t.drawError&&(t.drawError=L.Util.extend({},this.options.drawError,t.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,e,t)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var e=this._markers.pop(),t=this._poly,n=t.getLatLngs(),r=n.splice(-1,1)[0];this._poly.setLatLngs(n),this._markerGroup.removeLayer(e),t.getLatLngs().length<2&&this._map.removeLayer(t),this._vertexChanged(r,!1)}},addVertex:function(e){this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(e)?this._showErrorTooltip():(this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(e)),this._poly.addLatLng(e),2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly),this._vertexChanged(e,!0))},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var e=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),t=this._poly.newLatLngIntersects(e[e.length-1]);!this.options.allowIntersection&&t||!this._shapeIsValid()?this._showErrorTooltip():(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_shapeIsValid:function(){return!0},_onZoomEnd:function(){null!==this._markers&&this._updateGuide()},_onMouseMove:function(e){var t=this._map.mouseEventToLayerPoint(e.originalEvent),n=this._map.layerPointToLatLng(t);this._currentLatLng=n,this._updateTooltip(n),this._updateGuide(t),this._mouseMarker.setLatLng(n),L.DomEvent.preventDefault(e.originalEvent)},_vertexChanged:function(e,t){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(e,t),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(e){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(e),this._clickHandled=!0,this._disableNewMarkers();var t=e.originalEvent,n=t.clientX,r=t.clientY;this._startPoint.call(this,n,r)}},_startPoint:function(e,t){this._mouseDownOrigin=L.point(e,t)},_onMouseUp:function(e){var t=e.originalEvent,n=t.clientX,r=t.clientY;this._endPoint.call(this,n,r,e),this._clickHandled=null},_endPoint:function(t,n,r){if(this._mouseDownOrigin){var o=L.point(t,n).distanceTo(this._mouseDownOrigin),i=this._calculateFinishDistance(r.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(r.latlng),this._finishShape()):i<10&&L.Browser.touch?this._finishShape():Math.abs(o)<9*(e.devicePixelRatio||1)&&this.addVertex(r.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(e){var t,n,r=e.originalEvent;!r.touches||!r.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(t=r.touches[0].clientX,n=r.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,t,n),this._endPoint.call(this,t,n,e),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(e){var t;if(this._markers.length>0){var n;if(this.type===L.Draw.Polyline.TYPE)n=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;n=this._markers[0]}var r=this._map.latLngToContainerPoint(n.getLatLng()),o=new L.Marker(e,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),i=this._map.latLngToContainerPoint(o.getLatLng());t=r.distanceTo(i)}else t=1/0;return t},_updateFinishHandler:function(){var e=this._markers.length;e>1&&this._markers[e-1].on("click",this._finishShape,this),e>2&&this._markers[e-2].off("click",this._finishShape,this)},_createMarker:function(e){var t=new L.Marker(e,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(t),t},_updateGuide:function(e){var t=this._markers?this._markers.length:0;t>0&&(e=e||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[t-1].getLatLng()),e))},_updateTooltip:function(e){var t=this._getTooltipText();e&&this._tooltip.updatePosition(e),this._errorShown||this._tooltip.updateContent(t)},_drawGuide:function(e,t){var n,r,o,i=Math.floor(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))),a=this.options.guidelineDistance,s=this.options.maxGuideLineLength,l=i>s?i-s:a;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));l<i;l+=this.options.guidelineDistance)n=l/i,r={x:Math.floor(e.x*(1-n)+n*t.x),y:Math.floor(e.y*(1-n)+n*t.y)},(o=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer)).style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(o,r)},_updateGuideColor:function(e){if(this._guidesContainer)for(var t=0,n=this._guidesContainer.childNodes.length;t<n;t++)this._guidesContainer.childNodes[t].style.backgroundColor=e},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var e,t,n=this.options.showLength;return 0===this._markers.length?e={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(t=n?this._getMeasurementString():"",e=1===this._markers.length?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:t}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:t}),e},_updateRunningMeasure:function(e,t){var n,r,o=this._markers.length;1===this._markers.length?this._measurementRunningTotal=0:(n=o-(t?2:1),r=L.GeometryUtil.isVersion07x()?e.distanceTo(this._markers[n].getLatLng())*(this.options.factor||1):this._map.distance(e,this._markers[n].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=r*(t?1:-1))},_getMeasurementString:function(){var e,t=this._currentLatLng,n=this._markers[this._markers.length-1].getLatLng();return e=L.GeometryUtil.isVersion07x()?n&&t&&t.distanceTo?this._measurementRunningTotal+t.distanceTo(n)*(this.options.factor||1):this._measurementRunningTotal||0:n&&t?this._measurementRunningTotal+this._map.distance(t,n)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(e,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout(function(){this._disableMarkers=!1}.bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var e=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,e)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(e,t){L.Draw.Polyline.prototype.initialize.call(this,e,t),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var e=this._markers.length;1===e&&this._markers[0].on("click",this._finishShape,this),e>2&&(this._markers[e-1].on("dblclick",this._finishShape,this),e>3&&this._markers[e-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var e,t;return 0===this._markers.length?e=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(e=L.drawLocal.draw.handlers.polygon.tooltip.cont,t=this._getMeasurementString()):(e=L.drawLocal.draw.handlers.polygon.tooltip.end,t=this._getMeasurementString()),{text:e,subtext:t}},_getMeasurementString:function(){var e=this._area,t="";return e||this.options.showLength?(this.options.showLength&&(t=L.Draw.Polyline.prototype._getMeasurementString.call(this)),e&&(t+="<br>"+L.GeometryUtil.readableArea(e,this.options.metric,this.options.precision)),t):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(e,t){var n;!this.options.allowIntersection&&this.options.showArea&&(n=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(n)),L.Draw.Polyline.prototype._vertexChanged.call(this,e,t)},_cleanUpShape:function(){var e=this._markers.length;e>0&&(this._markers[0].off("click",this._finishShape,this),e>2&&this._markers[e-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(e,t){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,e,t)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),t.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(t,"mouseup",this._onMouseUp,this),L.DomEvent.off(t,"touchend",this._onMouseUp,this),t.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(e){this._isDrawing=!0,this._startLatLng=e.latlng,L.DomEvent.on(t,"mouseup",this._onMouseUp,this).on(t,"touchend",this._onMouseUp,this).preventDefault(e.originalEvent)},_onMouseMove:function(e){var t=e.latlng;this._tooltip.updatePosition(t),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(t))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(e,t){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,e,t)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(e){this._shape||this._isCurrentlyTwoClickDrawing?this._isCurrentlyTwoClickDrawing&&!function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}(e.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this):this._isCurrentlyTwoClickDrawing=!0},_drawShape:function(e){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,e)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,e),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var e=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,e)},_getTooltipText:function(){var e,t,n,r=L.Draw.SimpleShape.prototype._getTooltipText.call(this),o=this._shape,i=this.options.showArea;return o&&(e=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),t=L.GeometryUtil.geodesicArea(e),n=i?L.GeometryUtil.readableArea(t,this.options.metric):""),{text:r.text,subtext:n}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(e,t){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,e,t)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(e){var t=e.latlng;this._tooltip.updatePosition(t),this._mouseMarker.setLatLng(t),this._marker?(t=this._mouseMarker.getLatLng(),this._marker.setLatLng(t)):(this._marker=this._createMarker(t),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(e){return new L.Marker(e,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(e){this._onMouseMove(e),this._onClick()},_fireCreatedEvent:function(){var e=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,e)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(e,t){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,e,t)},_fireCreatedEvent:function(){var e=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,e)},_createMarker:function(e){return new L.CircleMarker(e,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(e,t){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,e,t)},_drawShape:function(e){if(L.GeometryUtil.isVersion07x())var t=this._startLatLng.distanceTo(e);else t=this._map.distance(this._startLatLng,e);this._shape?this._shape.setRadius(t):(this._shape=new L.Circle(this._startLatLng,t,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var e=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,e)},_onMouseMove:function(e){var t,n=e.latlng,r=this.options.showRadius,o=this.options.metric;if(this._tooltip.updatePosition(n),this._isDrawing){this._drawShape(n),t=this._shape.getRadius().toFixed(1);var i="";r&&(i=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(t,o,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:i})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(e,t){this._marker=e,L.setOptions(this,t)},addHooks:function(){var e=this._marker;e.dragging.enable(),e.on("dragend",this._onDragEnd,e),this._toggleMarkerHighlight()},removeHooks:function(){var e=this._marker;e.dragging.disable(),e.off("dragend",this._onDragEnd,e),this._toggleMarkerHighlight()},_onDragEnd:function(e){var t=e.target;t.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:t})},_toggleMarkerHighlight:function(){var e=this._marker._icon;e&&(e.style.display="none",L.DomUtil.hasClass(e,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(e,"leaflet-edit-marker-selected"),this._offsetMarker(e,-4)):(L.DomUtil.addClass(e,"leaflet-edit-marker-selected"),this._offsetMarker(e,4)),e.style.display="")},_offsetMarker:function(e,t){var n=parseInt(e.style.marginTop,10)-t,r=parseInt(e.style.marginLeft,10)-t;e.style.marginTop=n+"px",e.style.marginLeft=r+"px"}}),L.Marker.addInitHook((function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())})),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(e){this.latlngs=[e._latlngs],e._holes&&(this.latlngs=this.latlngs.concat(e._holes)),this._poly=e,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(e){for(var t=0;t<this._verticesHandlers.length;t++)e(this._verticesHandlers[t])},addHooks:function(){this._initHandlers(),this._eachVertexHandler((function(e){e.addHooks()}))},removeHooks:function(){this._eachVertexHandler((function(e){e.removeHooks()}))},updateMarkers:function(){this._eachVertexHandler((function(e){e.updateMarkers()}))},_initHandlers:function(){this._verticesHandlers=[];for(var e=0;e<this.latlngs.length;e++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[e],this._poly.options.poly))},_updateLatLngs:function(e){this.latlngs=[e.layer._latlngs],e.layer._holes&&(this.latlngs=this.latlngs.concat(e.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(e,t,n){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=e,n&&n.drawError&&(n.drawError=L.Util.extend({},this.options.drawError,n.drawError)),this._latlngs=t,L.setOptions(this,n)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var e=this._poly,t=e._path;e instanceof L.Polygon||(e.options.fill=!1,e.options.editing&&(e.options.editing.fill=!1)),t&&e.options.editing&&e.options.editing.className&&(e.options.original.className&&e.options.original.className.split(" ").forEach((function(e){L.DomUtil.removeClass(t,e)})),e.options.editing.className.split(" ").forEach((function(e){L.DomUtil.addClass(t,e)}))),e.setStyle(e.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var e=this._poly,t=e._path;t&&e.options.editing&&e.options.editing.className&&(e.options.editing.className.split(" ").forEach((function(e){L.DomUtil.removeClass(t,e)})),e.options.original.className&&e.options.original.className.split(" ").forEach((function(e){L.DomUtil.addClass(t,e)}))),e.setStyle(e.options.original),e._map&&(e._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var e,t,n,r,o,i,a=this._defaultShape();for(e=0,n=a.length;e<n;e++)(r=this._createMarker(a[e],e)).on("click",this._onMarkerClick,this),r.on("contextmenu",this._onContextMenu,this),this._markers.push(r);for(e=0,t=n-1;e<n;t=e++)(0!==e||L.Polygon&&this._poly instanceof L.Polygon)&&(o=this._markers[t],i=this._markers[e],this._createMiddleMarker(o,i),this._updatePrevNext(o,i))},_createMarker:function(e,t){var n=new L.Marker.Touch(e,{draggable:!0,icon:this.options.icon});return n._origLatLng=e,n._index=t,n.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(n),n},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var e=this._defaultShape(),t=[].splice.apply(e,arguments);return this._poly._convertLatLngs(e,!0),this._poly.redraw(),t},_removeMarker:function(e){var t=e._index;this._markerGroup.removeLayer(e),this._markers.splice(t,1),this._spliceLatLngs(t,1),this._updateIndexes(t,-1),e.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(e){var t=e.target,n=this._poly,r=L.LatLngUtil.cloneLatLng(t._origLatLng);if(L.extend(t._origLatLng,t._latlng),n.options.poly){var o=n._map._editTooltip;if(!n.options.poly.allowIntersection&&n.intersects()){L.extend(t._origLatLng,r),t.setLatLng(r);var i=n.options.color;n.setStyle({color:this.options.drawError.color}),o&&o.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout((function(){n.setStyle({color:i}),o&&o.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})}),1e3)}}t._middleLeft&&t._middleLeft.setLatLng(this._getMiddleLatLng(t._prev,t)),t._middleRight&&t._middleRight.setLatLng(this._getMiddleLatLng(t,t._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var a=this._poly.getLatLngs();this._poly._convertLatLngs(a,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(e){var t=L.Polygon&&this._poly instanceof L.Polygon?4:3,n=e.target;this._defaultShape().length<t||(this._removeMarker(n),this._updatePrevNext(n._prev,n._next),n._middleLeft&&this._markerGroup.removeLayer(n._middleLeft),n._middleRight&&this._markerGroup.removeLayer(n._middleRight),n._prev&&n._next?this._createMiddleMarker(n._prev,n._next):n._prev?n._next||(n._prev._middleRight=null):n._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(e){var t=e.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:t,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(e){var t=this._map.mouseEventToLayerPoint(e.originalEvent.touches[0]),n=this._map.layerPointToLatLng(t),r=e.target;L.extend(r._origLatLng,n),r._middleLeft&&r._middleLeft.setLatLng(this._getMiddleLatLng(r._prev,r)),r._middleRight&&r._middleRight.setLatLng(this._getMiddleLatLng(r,r._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(e,t){this._markerGroup.eachLayer((function(n){n._index>e&&(n._index+=t)}))},_createMiddleMarker:function(e,t){var n,r,o,i=this._getMiddleLatLng(e,t),a=this._createMarker(i);a.setOpacity(.6),e._middleRight=t._middleLeft=a,r=function(){a.off("touchmove",r,this);var o=t._index;a._index=o,a.off("click",n,this).on("click",this._onMarkerClick,this),i.lat=a.getLatLng().lat,i.lng=a.getLatLng().lng,this._spliceLatLngs(o,0,i),this._markers.splice(o,0,a),a.setOpacity(1),this._updateIndexes(o,1),t._index++,this._updatePrevNext(e,a),this._updatePrevNext(a,t),this._poly.fire("editstart")},o=function(){a.off("dragstart",r,this),a.off("dragend",o,this),a.off("touchmove",r,this),this._createMiddleMarker(e,a),this._createMiddleMarker(a,t)},n=function(){r.call(this),o.call(this),this._fireEdit()},a.on("click",n,this).on("dragstart",r,this).on("dragend",o,this).on("touchmove",r,this),this._markerGroup.addLayer(a)},_updatePrevNext:function(e,t){e&&(e._next=t),t&&(t._prev=e)},_getMiddleLatLng:function(e,t){var n=this._poly._map,r=n.project(e.getLatLng()),o=n.project(t.getLatLng());return n.unproject(r._add(o)._divideBy(2))}}),L.Polyline.addInitHook((function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",(function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()})),this.on("remove",(function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})))})),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(e,t){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=e,L.Util.setOptions(this,t)},addHooks:function(){var e=this._shape;this._shape._map&&(this._map=this._shape._map,e.setStyle(e.options.editing),e._map&&(this._map=e._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var e=this._shape;if(e.setStyle(e.options.original),e._map){this._unbindMarker(this._moveMarker);for(var t=0,n=this._resizeMarkers.length;t<n;t++)this._unbindMarker(this._resizeMarkers[t]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(e,t){var n=new L.Marker.Touch(e,{draggable:!0,icon:t,zIndexOffset:10});return this._bindMarker(n),this._markerGroup.addLayer(n),n},_bindMarker:function(e){e.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(e){e.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(e){e.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(e){var t=e.target,n=t.getLatLng();t===this._moveMarker?this._move(n):this._resize(n),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(e){e.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(e){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,e),"function"==typeof this._getCorners){var t=this._getCorners(),n=e.target,r=n._cornerIndex;n.setOpacity(0),this._oppositeCorner=t[(r+2)%4],this._toggleCornerMarkers(0,r)}this._shape.fire("editstart")},_onTouchMove:function(e){var t=this._map.mouseEventToLayerPoint(e.originalEvent.touches[0]),n=this._map.layerPointToLatLng(t);return e.target===this._moveMarker?this._move(n):this._resize(n),this._shape.redraw(),!1},_onTouchEnd:function(e){e.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var e=this._shape.getBounds().getCenter();this._moveMarker=this._createMarker(e,this.options.moveIcon)},_createResizeMarker:function(){var e=this._getCorners();this._resizeMarkers=[];for(var t=0,n=e.length;t<n;t++)this._resizeMarkers.push(this._createMarker(e[t],this.options.resizeIcon)),this._resizeMarkers[t]._cornerIndex=t},_onMarkerDragStart:function(e){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,e);var t=this._getCorners(),n=e.target._cornerIndex;this._oppositeCorner=t[(n+2)%4],this._toggleCornerMarkers(0,n)},_onMarkerDragEnd:function(e){var t,n=e.target;n===this._moveMarker&&(t=this._shape.getBounds().getCenter(),n.setLatLng(t)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,e)},_move:function(e){for(var t,n=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),r=this._shape.getBounds().getCenter(),o=[],i=0,a=n.length;i<a;i++)t=[n[i].lat-r.lat,n[i].lng-r.lng],o.push([e.lat+t[0],e.lng+t[1]]);this._shape.setLatLngs(o),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(e){var t;this._shape.setBounds(L.latLngBounds(e,this._oppositeCorner)),t=this._shape.getBounds(),this._moveMarker.setLatLng(t.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var e=this._shape.getBounds();return[e.getNorthWest(),e.getNorthEast(),e.getSouthEast(),e.getSouthWest()]},_toggleCornerMarkers:function(e){for(var t=0,n=this._resizeMarkers.length;t<n;t++)this._resizeMarkers[t].setOpacity(e)},_repositionCornerMarkers:function(){for(var e=this._getCorners(),t=0,n=this._resizeMarkers.length;t<n;t++)this._resizeMarkers[t].setLatLng(e[t])}}),L.Rectangle.addInitHook((function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())})),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var e=this._shape.getLatLng();this._moveMarker=this._createMarker(e,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(e){if(this._resizeMarkers.length){var t=this._getResizeMarkerPoint(e);this._resizeMarkers[0].setLatLng(t)}this._shape.setLatLng(e),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook((function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",(function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()})),this.on("remove",(function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))})),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var e=this._shape.getLatLng(),t=this._getResizeMarkerPoint(e);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(t,this.options.resizeIcon))},_getResizeMarkerPoint:function(e){var t=this._shape._radius*Math.cos(Math.PI/4),n=this._map.project(e);return this._map.unproject([n.x+t,n.y-t])},_resize:function(e){var t=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=t.distanceTo(e):radius=this._map.distance(t,e),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook((function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())})),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(e,t){var n={};if(void 0!==e.touches){if(!e.touches.length)return;n=e.touches[0]}else{if("touch"!==e.pointerType)return;if(n=e,!this._filterClick(e))return}var r=this._map.mouseEventToContainerPoint(n),o=this._map.mouseEventToLayerPoint(n),i=this._map.layerPointToLatLng(o);this._map.fire(t,{latlng:i,layerPoint:o,containerPoint:r,pageX:n.pageX,pageY:n.pageY,originalEvent:e})},_filterClick:function(e){var t=e.timeStamp||e.originalEvent.timeStamp,n=L.DomEvent._lastClick&&t-L.DomEvent._lastClick;return n&&n>100&&n<500||e.target._simulatedClick&&!e._simulated?(L.DomEvent.stop(e),!1):(L.DomEvent._lastClick=t,!0)},_onTouchStart:function(e){this._map._loaded&&this._touchEvent(e,"touchstart")},_onTouchEnd:function(e){this._map._loaded&&this._touchEvent(e,"touchend")},_onTouchCancel:function(e){if(this._map._loaded){var t="touchcancel";this._detectIE()&&(t="pointercancel"),this._touchEvent(e,t)}},_onTouchLeave:function(e){this._map._loaded&&this._touchEvent(e,"touchleave")},_onTouchMove:function(e){this._map._loaded&&this._touchEvent(e,"touchmove")},_detectIE:function(){var t=e.navigator.userAgent,n=t.indexOf("MSIE ");if(n>0)return parseInt(t.substring(n+5,t.indexOf(".",n)),10);if(t.indexOf("Trident/")>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var o=t.indexOf("Edge/");return o>0&&parseInt(t.substring(o+5,t.indexOf(".",o)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var e=this._icon,t=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?t.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):t.concat(["touchcancel"]),L.DomUtil.addClass(e,"leaflet-clickable"),L.DomEvent.on(e,"click",this._onMouseClick,this),L.DomEvent.on(e,"keypress",this._onKeyPress,this);for(var n=0;n<t.length;n++)L.DomEvent.on(e,t[n],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var t=e.navigator.userAgent,n=t.indexOf("MSIE ");if(n>0)return parseInt(t.substring(n+5,t.indexOf(".",n)),10);if(t.indexOf("Trident/")>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var o=t.indexOf("Edge/");return o>0&&parseInt(t.substring(o+5,t.indexOf(".",o)),10)}}),L.LatLngUtil={cloneLatLngs:function(e){for(var t=[],n=0,r=e.length;n<r;n++)Array.isArray(e[n])?t.push(L.LatLngUtil.cloneLatLngs(e[n])):t.push(this.cloneLatLng(e[n]));return t},cloneLatLng:function(e){return L.latLng(e.lat,e.lng)}},r={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2},L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(e){var t,n,r=e.length,o=0,i=Math.PI/180;if(r>2){for(var a=0;a<r;a++)t=e[a],o+=((n=e[(a+1)%r]).lng-t.lng)*i*(2+Math.sin(t.lat*i)+Math.sin(n.lat*i));o=6378137*o*6378137/2}return Math.abs(o)},formattedNumber:function(e,t){var n=parseFloat(e).toFixed(t),r=L.drawLocal.format&&L.drawLocal.format.numeric,o=r&&r.delimiters,i=o&&o.thousands,a=o&&o.decimal;if(i||a){var s=n.split(".");n=i?s[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+i):s[0],a=a||".",s.length>1&&(n=n+a+s[1])}return n},readableArea:function(e,t,n){var o,i;return n=L.Util.extend({},r,n),t?(i=["ha","m"],type=typeof t,"string"===type?i=[t]:"boolean"!==type&&(i=t),o=e>=1e6&&-1!==i.indexOf("km")?L.GeometryUtil.formattedNumber(1e-6*e,n.km)+" km":e>=1e4&&-1!==i.indexOf("ha")?L.GeometryUtil.formattedNumber(1e-4*e,n.ha)+" ha":L.GeometryUtil.formattedNumber(e,n.m)+" m"):o=(e/=.836127)>=3097600?L.GeometryUtil.formattedNumber(e/3097600,n.mi)+" mi":e>=4840?L.GeometryUtil.formattedNumber(e/4840,n.ac)+" acres":L.GeometryUtil.formattedNumber(e,n.yd)+" yd",o},readableDistance:function(e,t,n,o,i){var a;switch(i=L.Util.extend({},r,i),t?"string"==typeof t?t:"metric":n?"feet":o?"nauticalMile":"yards"){case"metric":a=e>1e3?L.GeometryUtil.formattedNumber(e/1e3,i.km)+" km":L.GeometryUtil.formattedNumber(e,i.m)+" m";break;case"feet":e*=3.28083,a=L.GeometryUtil.formattedNumber(e,i.ft)+" ft";break;case"nauticalMile":e*=.53996,a=L.GeometryUtil.formattedNumber(e/1e3,i.nm)+" nm";break;default:a=(e*=1.09361)>1760?L.GeometryUtil.formattedNumber(e/1760,i.mi)+" miles":L.GeometryUtil.formattedNumber(e,i.yd)+" yd"}return a},isVersion07x:function(){var e=L.version.split(".");return 0===parseInt(e[0],10)&&7===parseInt(e[1],10)}}),L.Util.extend(L.LineUtil,{segmentsIntersect:function(e,t,n,r){return this._checkCounterclockwise(e,n,r)!==this._checkCounterclockwise(t,n,r)&&this._checkCounterclockwise(e,t,n)!==this._checkCounterclockwise(e,t,r)},_checkCounterclockwise:function(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}}),L.Polyline.include({intersects:function(){var e,t,n,r=this._getProjectedPoints(),o=r?r.length:0;if(this._tooFewPointsForIntersection())return!1;for(e=o-1;e>=3;e--)if(t=r[e-1],n=r[e],this._lineSegmentsIntersectsRange(t,n,e-2))return!0;return!1},newLatLngIntersects:function(e,t){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(e),t)},newPointIntersects:function(e,t){var n=this._getProjectedPoints(),r=n?n.length:0,o=n?n[r-1]:null,i=r-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(o,e,i,t?1:0)},_tooFewPointsForIntersection:function(e){var t=this._getProjectedPoints(),n=t?t.length:0;return!t||(n+=e||0)<=3},_lineSegmentsIntersectsRange:function(e,t,n,r){var o,i,a=this._getProjectedPoints();r=r||0;for(var s=n;s>r;s--)if(o=a[s-1],i=a[s],L.LineUtil.segmentsIntersect(e,t,o,i))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var e=[],t=this._defaultShape(),n=0;n<t.length;n++)e.push(this._map.latLngToLayerPoint(t[n]));return e}}),L.Polygon.include({intersects:function(){var e,t,n,r,o=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(e=o.length,t=o[0],n=o[e-1],r=e-2,this._lineSegmentsIntersectsRange(n,t,r,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(e){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");var t;L.Control.prototype.initialize.call(this,e),this._toolbars={},L.DrawToolbar&&this.options.draw&&(t=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=t,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(t=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=t,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(e){var t,n=L.DomUtil.create("div","leaflet-draw"),r=!1;for(var o in this._toolbars)this._toolbars.hasOwnProperty(o)&&(t=this._toolbars[o].addToolbar(e))&&(r||(L.DomUtil.hasClass(t,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(t.childNodes[0],"leaflet-draw-toolbar-top"),r=!0),n.appendChild(t));return n},onRemove:function(){for(var e in this._toolbars)this._toolbars.hasOwnProperty(e)&&this._toolbars[e].removeToolbar()},setDrawingOptions:function(e){for(var t in this._toolbars)this._toolbars[t]instanceof L.DrawToolbar&&this._toolbars[t].setOptions(e)},_toolbarEnabled:function(e){var t=e.target;for(var n in this._toolbars)this._toolbars[n]!==t&&this._toolbars[n].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook((function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))})),L.Toolbar=L.Class.extend({initialize:function(e){L.setOptions(this,e),this._modes={},this._actionButtons=[],this._activeMode=null;var t=L.version.split(".");1===parseInt(t[0],10)&&parseInt(t[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return null!==this._activeMode},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(e){var t,n=L.DomUtil.create("div","leaflet-draw-section"),r=0,o=this._toolbarClass||"",i=this.getModeHandlers(e);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=e,t=0;t<i.length;t++)i[t].enabled&&this._initModeHandler(i[t].handler,this._toolbarContainer,r++,o,i[t].title);if(r)return this._lastButtonIndex=--r,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),n.appendChild(this._toolbarContainer),n.appendChild(this._actionsContainer),n},removeToolbar:function(){for(var e in this._modes)this._modes.hasOwnProperty(e)&&(this._disposeButton(this._modes[e].button,this._modes[e].handler.enable,this._modes[e].handler),this._modes[e].handler.disable(),this._modes[e].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var t=0,n=this._actionButtons.length;t<n;t++)this._disposeButton(this._actionButtons[t].button,this._actionButtons[t].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(e,t,n,r,o){var i=e.type;this._modes[i]={},this._modes[i].handler=e,this._modes[i].button=this._createButton({type:i,title:o,className:r+"-"+i,container:t,callback:this._modes[i].handler.enable,context:this._modes[i].handler}),this._modes[i].buttonIndex=n,this._modes[i].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!e.MSStream},_createButton:function(e){var t=L.DomUtil.create("a",e.className||"",e.container),n=L.DomUtil.create("span","sr-only",e.container);t.href="#",t.appendChild(n),e.title&&(t.title=e.title,n.innerHTML=e.title),e.text&&(t.innerHTML=e.text,n.innerHTML=e.text);var r=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(t,"click",L.DomEvent.stopPropagation).on(t,"mousedown",L.DomEvent.stopPropagation).on(t,"dblclick",L.DomEvent.stopPropagation).on(t,"touchstart",L.DomEvent.stopPropagation).on(t,"click",L.DomEvent.preventDefault).on(t,r,e.callback,e.context),t},_disposeButton:function(e,t){var n=this._detectIOS()?"touchstart":"click";L.DomEvent.off(e,"click",L.DomEvent.stopPropagation).off(e,"mousedown",L.DomEvent.stopPropagation).off(e,"dblclick",L.DomEvent.stopPropagation).off(e,"touchstart",L.DomEvent.stopPropagation).off(e,"click",L.DomEvent.preventDefault).off(e,n,t)},_handlerActivated:function(e){this.disable(),this._activeMode=this._modes[e.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(e){var t,n,r,o,i=this._actionsContainer,a=this.getActions(e),s=a.length;for(n=0,r=this._actionButtons.length;n<r;n++)this._disposeButton(this._actionButtons[n].button,this._actionButtons[n].callback);for(this._actionButtons=[];i.firstChild;)i.removeChild(i.firstChild);for(var l=0;l<s;l++)"enabled"in a[l]&&!a[l].enabled||(t=L.DomUtil.create("li","",i),o=this._createButton({title:a[l].title,text:a[l].text,container:t,callback:a[l].callback,context:a[l].context}),this._actionButtons.push({button:o,callback:a[l].callback}))},_showActionsToolbar:function(){var e=this._activeMode.buttonIndex,t=this._lastButtonIndex,n=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=n+"px",0===e&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),e===t&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(e){this._map=e,this._popupPane=e._panes.popupPane,this._visible=!1,this._container=e.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(e){return this._container?(e.subtext=e.subtext||"",0!==e.subtext.length||this._singleLineLabel?e.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(e.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+e.subtext+"</span><br />":"")+"<span>"+e.text+"</span>",e.text||e.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(e){var t=this._map.latLngToLayerPoint(e),n=this._container;return this._container&&(this._visible&&(n.style.visibility="inherit"),L.DomUtil.setPosition(n,t)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(e){for(var t in this.options)this.options.hasOwnProperty(t)&&e[t]&&(e[t]=L.extend({},this.options[t],e[t]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,e)},getModeHandlers:function(e){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(e,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(e,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(e,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(e,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(e,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(e,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(e){return[{enabled:e.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:e.completeShape,context:e},{enabled:e.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:e.deleteLastVertex,context:e},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(e){for(var t in L.setOptions(this,e),this._modes)this._modes.hasOwnProperty(t)&&e.hasOwnProperty(t)&&this._modes[t].handler.setOptions(e[t])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(e){e.edit&&(void 0===e.edit.selectedPathOptions&&(e.edit.selectedPathOptions=this.options.edit.selectedPathOptions),e.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,e.edit.selectedPathOptions)),e.remove&&(e.remove=L.extend({},this.options.remove,e.remove)),e.poly&&(e.poly=L.extend({},this.options.poly,e.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,e),this._selectedFeatureCount=0},getModeHandlers:function(e){var t=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(e,{featureGroup:t,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(e,{featureGroup:t}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(e){var t=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return e.removeAllLayers&&t.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),t},addToolbar:function(e){var t=L.Toolbar.prototype.addToolbar.call(this,e);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),t},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var e,t=0!==this.options.featureGroup.getLayers().length;this.options.edit&&(e=this._modes[L.EditToolbar.Edit.TYPE].button,t?L.DomUtil.removeClass(e,"leaflet-disabled"):L.DomUtil.addClass(e,"leaflet-disabled"),e.setAttribute("title",t?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(e=this._modes[L.EditToolbar.Delete.TYPE].button,t?L.DomUtil.removeClass(e,"leaflet-disabled"):L.DomUtil.addClass(e,"leaflet-disabled"),e.setAttribute("title",t?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(e,t){if(L.Handler.prototype.initialize.call(this,e),L.setOptions(this,t),this._featureGroup=t.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var e=this._map;e&&(e.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),e._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer((function(e){this._revertLayer(e)}),this)},save:function(){var e=new L.LayerGroup;this._featureGroup.eachLayer((function(t){t.edited&&(e.addLayer(t),t.edited=!1)})),this._map.fire(L.Draw.Event.EDITED,{layers:e})},_backupLayer:function(e){var t=L.Util.stamp(e);this._uneditedLayerProps[t]||(e instanceof L.Polyline||e instanceof L.Polygon||e instanceof L.Rectangle?this._uneditedLayerProps[t]={latlngs:L.LatLngUtil.cloneLatLngs(e.getLatLngs())}:e instanceof L.Circle?this._uneditedLayerProps[t]={latlng:L.LatLngUtil.cloneLatLng(e.getLatLng()),radius:e.getRadius()}:(e instanceof L.Marker||e instanceof L.CircleMarker)&&(this._uneditedLayerProps[t]={latlng:L.LatLngUtil.cloneLatLng(e.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(e){var t=L.Util.stamp(e);e.edited=!1,this._uneditedLayerProps.hasOwnProperty(t)&&(e instanceof L.Polyline||e instanceof L.Polygon||e instanceof L.Rectangle?e.setLatLngs(this._uneditedLayerProps[t].latlngs):e instanceof L.Circle?(e.setLatLng(this._uneditedLayerProps[t].latlng),e.setRadius(this._uneditedLayerProps[t].radius)):(e instanceof L.Marker||e instanceof L.CircleMarker)&&e.setLatLng(this._uneditedLayerProps[t].latlng),e.fire("revert-edited",{layer:e}))},_enableLayerEdit:function(e){var t,n,r=e.layer||e.target||e;this._backupLayer(r),this.options.poly&&(n=L.Util.extend({},this.options.poly),r.options.poly=n),this.options.selectedPathOptions&&((t=L.Util.extend({},this.options.selectedPathOptions)).maintainColor&&(t.color=r.options.color,t.fillColor=r.options.fillColor),r.options.original=L.extend({},r.options),r.options.editing=t),r instanceof L.Marker?(r.editing&&r.editing.enable(),r.dragging.enable(),r.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):r.editing.enable()},_disableLayerEdit:function(e){var t=e.layer||e.target||e;t.edited=!1,t.editing&&t.editing.disable(),delete t.options.editing,delete t.options.original,this._selectedPathOptions&&(t instanceof L.Marker?this._toggleMarkerHighlight(t):(t.setStyle(t.options.previousOptions),delete t.options.previousOptions)),t instanceof L.Marker?(t.dragging.disable(),t.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):t.editing.disable()},_onMouseMove:function(e){this._tooltip.updatePosition(e.latlng)},_onMarkerDragEnd:function(e){var t=e.target;t.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:t})},_onTouchMove:function(e){var t=e.originalEvent.changedTouches[0],n=this._map.mouseEventToLayerPoint(t),r=this._map.layerPointToLatLng(n);e.target.setLatLng(r)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(e,t){if(L.Handler.prototype.initialize.call(this,e),L.Util.setOptions(this,t),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var e=this._map;e&&(e.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer((function(e){this._deletableLayers.addLayer(e),e.fire("revert-deleted",{layer:e})}),this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer((function(e){this._removeLayer({layer:e})}),this),this.save()},_enableLayerDelete:function(e){(e.layer||e.target||e).on("click",this._removeLayer,this)},_disableLayerDelete:function(e){var t=e.layer||e.target||e;t.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(t)},_removeLayer:function(e){var t=e.layer||e.target||e;this._deletableLayers.removeLayer(t),this._deletedLayers.addLayer(t),t.fire("deleted")},_onMouseMove:function(e){this._tooltip.updatePosition(e.latlng)},_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length}})}(window,document);var leaflet_fullscreen2={exports:{}},n;self,n=e=>(()=>{var t={303:t=>{t.exports=e}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{r.r(o),r.d(o,{isFullscreenSupported:()=>l});var e=r(303);const t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=(()=>{const e=t[0],n={};for(const r of t)if((null==r?void 0:r[1])in document){for(const[t,o]of r.entries())n[e[t]]=o;return n}return!1})(),i={change:n.fullscreenchange,error:n.fullscreenerror};let a={request:(e=document.documentElement,t)=>new Promise(((r,o)=>{const i=()=>{a.off("change",i),r()};a.on("change",i);const s=e[n.requestFullscreen](t);s instanceof Promise&&s.then(i).catch(o)})),exit:()=>new Promise(((e,t)=>{if(!a.isFullscreen)return void e();const r=()=>{a.off("change",r),e()};a.on("change",r);const o=document[n.exitFullscreen]();o instanceof Promise&&o.then(r).catch(t)})),toggle:(e,t)=>a.isFullscreen?a.exit():a.request(e,t),onchange(e){a.on("change",e)},onerror(e){a.on("error",e)},on(e,t){const n=i[e];n&&document.addEventListener(n,t,!1)},off(e,t){const n=i[e];n&&document.removeEventListener(n,t,!1)},raw:n};Object.defineProperties(a,{isFullscreen:{get:()=>Boolean(document[n.fullscreenElement])},element:{enumerable:!0,get:()=>document[n.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>Boolean(document[n.fullscreenEnabled])}}),n||(a={isEnabled:!1});const s=a;function l(){return s.isEnabled}e&&"undefined"!=typeof window&&(e.Control.FullScreen=e.Control.extend({options:{position:"topleft",title:"Enter fullscreen mode",titleCancel:"Exit fullscreen mode",content:null,forceSeparateButton:!1,forcePseudoFullscreen:!1,fullscreenElement:!1},willUseFullscreen:function(){return l()&&!this.options.forcePseudoFullscreen},onAdd:function(t){var n,r="leaflet-control-zoom-fullscreen",o="";return n=t.zoomControl&&!this.options.forceSeparateButton?t.zoomControl.getContainer():e.DomUtil.create("div","leaflet-bar"),this.options.content?o=this.options.content:r+=" fullscreen-icon",this._createButton(this.options.title,r,o,n,this.toggleFullScreen,this),this._map.fullScreenControl=this,this._map.on("enterFullscreen exitFullscreen",this._toggleState,this),n},onRemove:function(){e.DomEvent.off(this._link,"click",e.DomEvent.stop).off(this._link,"click",this.toggleFullScreen,this),this.willUseFullscreen()&&(e.DomEvent.off(this._container,s.raw.fullscreenchange,e.DomEvent.stop).off(this._container,s.raw.fullscreenchange,this._handleFullscreenChange,this),e.DomEvent.off(document,s.raw.fullscreenchange,e.DomEvent.stop).off(document,s.raw.fullscreenchange,this._handleFullscreenChange,this))},_createButton:function(t,n,r,o,i,a){return this._link=e.DomUtil.create("a",n,o),this._link.href="#",this._link.title=t,this._link.innerHTML=r,this._link.setAttribute("role","button"),this._link.setAttribute("aria-label",t),e.DomEvent.disableClickPropagation(o),e.DomEvent.on(this._link,"click",e.DomEvent.stop).on(this._link,"click",i,a),this.willUseFullscreen()&&(e.DomEvent.on(o,s.raw.fullscreenchange,e.DomEvent.stop).on(o,s.raw.fullscreenchange,this._handleFullscreenChange,a),e.DomEvent.on(document,s.raw.fullscreenchange,e.DomEvent.stop).on(document,s.raw.fullscreenchange,this._handleFullscreenChange,a)),this._link},toggleFullScreen:function(){var t=this._map;t._exitFired=!1;var n=this.options.fullscreenElement?this.options.fullscreenElement:t.getContainer();t.isFullscreen?(this.willUseFullscreen()?s.exit():(e.DomUtil.removeClass(n,"leaflet-pseudo-fullscreen"),t.invalidateSize()),t._exitFired=!0,t.isFullscreen=!1,t.fire("exitFullscreen")):(s.isEnabled&&!this.options.forcePseudoFullscreen?s.request(n):(e.DomUtil.addClass(n,"leaflet-pseudo-fullscreen"),t.invalidateSize()),t.isFullscreen=!0,t.fire("enterFullscreen"))},_toggleState:function(){this._map.isFullscreen?(this._link.title=this.options.titleCancel,e.DomUtil.addClass(this._link,"leaflet-fullscreen-on")):(this._link.title=this.options.title,e.DomUtil.removeClass(this._link,"leaflet-fullscreen-on"))},_handleFullscreenChange:function(){var e=this._map;e.invalidateSize(),s.isFullscreen||e._exitFired||(e._exitFired=!0,e.isFullscreen=!1,e.fire("exitFullscreen"))}}),e.Map.include({toggleFullscreen:function(){var e;null===(e=this.fullScreenControl)||void 0===e||e.toggleFullScreen()}}),e.Map.addInitHook((function(){this.options.fullScreenControl&&this.addControl(e.fullScreen(this.options.fullScreenControlOptions))})),e.fullScreen=function(t){return new e.Control.FullScreen(t)})})(),o})(),leaflet_fullscreen2.exports=n(leafletSrcExports),function(){try{if("undefined"!=typeof document){var t=document.createElement("style");t.appendChild(document.createTextNode(".leaflet-grid-label .gridlabel-vert {\n    margin-left: 8px;\n    -webkit-transform: rotate(90deg);\n    transform: rotate(90deg);\n}\n\n.leaflet-grid-label .gridlabel-vert,\n.leaflet-grid-label .gridlabel-horiz {\n    padding-left:2px;\n    text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}")),document.head.appendChild(t)}}catch(e){}}();var __defProp=Object.defineProperty,__defNormalProp=(e,t,n)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,__publicField=(e,t,n)=>(__defNormalProp(e,"symbol"!=typeof t?t+"":t,n),n);const _AutoGraticule=class extends leafletSrcExports.LayerGroup{constructor(e){super(),__publicField(this,"options",{redraw:"moveend",minDistance:100}),__publicField(this,"lineStyle",{stroke:!0,color:"#111",opacity:.6,weight:1,interactive:!1}),__publicField(this,"_bounds"),leafletSrcExports.Util.setOptions(this,e)}onAdd(e){return this._map=e,this.redraw(),this._map.on("viewreset "+this.options.redraw,this.redraw,this),this.eachLayer(e.addLayer,e),this}onRemove(e){return e.off("viewreset "+this.options.redraw,this.redraw,this),this.eachLayer(this.removeLayer,this),this}redraw(){return this._bounds=this._map.getBounds().pad(.5),this.clearLayers(),this.constructLines(),this}constructLines(){const e=this._map.getBounds(),t=this._map.getZoom();this._bounds=_AutoGraticule.bboxIntersect(e,[[-85,-180],[85,180]]);const n=this._map.getBounds;try{this._map.getBounds=function(){return _AutoGraticule.bboxIntersect(n.apply(this),[[-85,-180],[85,180]])};const r=this._map.project(e.getCenter(),t),o=_AutoGraticule.getGridDivisor(this._map.unproject(r.add([this.options.minDistance/2,0]),t).lng-this._map.unproject(r.subtract([this.options.minDistance/2,0]),t).lng,!1),i=Math.max(e.getWest(),-180),a=Math.min(e.getEast(),180);for(let e=_AutoGraticule.fixFloatingPoint(Math.ceil(i/o)*o);e<=a;e+=o)this.addLayer(this.buildXLine(e)),this.addLayer(this.buildLabel("gridlabel-horiz",_AutoGraticule.fixFloatingPoint(e)));if(e.getNorth()>0){let n=Math.max(0,e.getSouth()),r=!0;for(;n<e.getNorth()&&n<85;){const o=this._map.project([n,e.getCenter().lng],t),i=this._map.unproject(o.subtract([0,this.options.minDistance]),t),a=_AutoGraticule.getGridDivisor(i.lat-n,!0);n=_AutoGraticule.fixFloatingPoint(r?Math.ceil(n/a)*a:Math.ceil(i.lat/a)*a),r=!1,this.addLayer(this.buildYLine(n)),this.addLayer(this.buildLabel("gridlabel-vert",n))}}if(e.getSouth()<0){let n=Math.min(0,e.getNorth()),r=!0;for(;n>e.getSouth()&&n>-85;){const o=this._map.project([n,e.getCenter().lng],t),i=this._map.unproject(o.add([0,this.options.minDistance]),t),a=_AutoGraticule.getGridDivisor(_AutoGraticule.fixFloatingPoint(n-i.lat),!0);n=_AutoGraticule.fixFloatingPoint(r?Math.floor(n/a)*a:Math.floor(i.lat/a)*a),r=!1,this.addLayer(this.buildYLine(n)),this.addLayer(this.buildLabel("gridlabel-vert",n))}}}finally{this._map.getBounds=n}}buildXLine(e){const t=new leafletSrcExports.LatLng(this._bounds.getSouth(),e),n=new leafletSrcExports.LatLng(this._bounds.getNorth(),e);return new leafletSrcExports.Polyline([t,n],this.lineStyle)}buildYLine(e){const t=new leafletSrcExports.LatLng(e,this._bounds.getWest()),n=new leafletSrcExports.LatLng(e,this._bounds.getEast());return new leafletSrcExports.Polyline([t,n],this.lineStyle)}buildLabel(e,t){const n=this._map.getBounds().pad(-.003);let r;return r="gridlabel-horiz"==e?new leafletSrcExports.LatLng(n.getNorth(),t):new leafletSrcExports.LatLng(t,n.getWest()),leafletSrcExports.marker(r,{interactive:!1,icon:leafletSrcExports.divIcon({iconSize:[0,0],className:"leaflet-grid-label",html:'<div class="'+e+'">'+t+"&#8239;</div>"})})}static fixFloatingPoint(e){return _AutoGraticule.round(e,12)}static round(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}static getGridDivisor(e,t){if(e<=0||!isFinite(e))throw new Error("Invalid number "+e);if(t&&e>=5)return 5;if(e<=10){let t=1;for(;e>1;)t*=10,e/=10;for(;e<=.1;)t/=10,e*=10;return.1==e?_AutoGraticule.fixFloatingPoint(.1*t):e<=.2?_AutoGraticule.fixFloatingPoint(.2*t):e<=.5?_AutoGraticule.fixFloatingPoint(.5*t):t}return e<=30?30:e<=45?45:e<=60?60:90}static bboxIntersect(e,t){const n=e instanceof leafletSrcExports.LatLngBounds?e:leafletSrcExports.latLngBounds(e),r=t instanceof leafletSrcExports.LatLngBounds?t:leafletSrcExports.latLngBounds(t);return leafletSrcExports.latLngBounds([[Math.max(n.getSouth(),r.getSouth()),Math.max(n.getWest(),r.getWest())],[Math.min(n.getNorth(),r.getNorth()),Math.min(n.getEast(),r.getEast())]])}};let AutoGraticule=_AutoGraticule;__publicField(AutoGraticule,"niceRound",_AutoGraticule.getGridDivisor),function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=28)}([function(e,t,n){var r=n(4),o=n(38),i=n(39),a="[object Null]",s="[object Undefined]",l=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:l&&l in Object(e)?o(e):i(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){function r(e,t,n){if(!u(n=n||{}))throw new Error("options is invalid");var r=n.bbox,o=n.id;if(void 0===e)throw new Error("geometry is required");if(t&&t.constructor!==Object)throw new Error("properties must be an Object");r&&function(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((function(e){if(!l(e))throw new Error("bbox must only contain numbers")}))}(r),o&&function(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}(o);var i={type:"Feature"};return o&&(i.id=o),r&&(i.bbox=r),i.properties=t||{},i.geometry=e,i}function o(e,t,n){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!l(e[0])||!l(e[1]))throw new Error("coordinates must contain numbers");return r({type:"Point",coordinates:e},t,n)}function i(e,t,n){if(!e)throw new Error("coordinates is required");if(e.length<2)throw new Error("coordinates must be an array of two or more positions");if(!l(e[0][1])||!l(e[0][1]))throw new Error("coordinates must contain numbers");return r({type:"LineString",coordinates:e},t,n)}function a(e,t){if(null==e)throw new Error("radians is required");if(t&&"string"!=typeof t)throw new Error("units must be a string");var n=c[t||"kilometers"];if(!n)throw new Error(t+" units is invalid");return e*n}function s(e){if(null==e)throw new Error("degrees is required");return e%360*Math.PI/180}function l(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function u(e){return!!e&&e.constructor===Object}n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"g",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return u}));var c={meters:6371008.8,metres:6371008.8,millimeters:6371008800,millimetres:6371008800,centimeters:637100880,centimetres:637100880,kilometers:6371.0088,kilometres:6371.0088,miles:3958.761333810546,nauticalmiles:6371008.8/1852,inches:6371008.8*39.37,yards:6371008.8/1.0936,feet:20902260.511392,radians:1,degrees:6371008.8/111325}},function(e,t,n){var r=n(5).Symbol;e.exports=r},function(e,t,n){var r=n(11),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(10),o=n(16);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){var r=n(9);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(35),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=o},function(e,t,n){var r=n(0),o=n(2),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";e.exports=function(e){if(!o(e))return!1;var t=r(e);return t==a||t==s||t==i||t==l}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(37))},function(e,t,n){var r=n(13),o=n(45),i=n(46);e.exports=function(e,t){return i(o(e,t,r),e+"")}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(6),o=n(7),i=n(17),a=n(2);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?o(n)&&i(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var o=typeof e;return!!(t=null==t?n:t)&&("number"==o||"symbol"!=o&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(51),o=n(52),i=n(19),a=n(54),s=n(17),l=n(56),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),c=!n&&o(e),d=!n&&!c&&a(e),h=!n&&!c&&!d&&l(e),p=n||c||d||h,f=p?r(e.length,String):[],m=f.length;for(var _ in e)!t&&!u.call(e,_)||p&&("length"==_||d&&("offset"==_||"parent"==_)||h&&("buffer"==_||"byteLength"==_||"byteOffset"==_)||s(_,m))||f.push(_);return f}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(0),o=n(1),i=n(63),a="[object DOMException]",s="[object Error]";e.exports=function(e){if(!o(e))return!1;var t=r(e);return t==s||t==a||"string"==typeof e.message&&"string"==typeof e.name&&!i(e)}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t){e.exports=/<%=([\s\S]+?)%>/g},function(e,t,n){var r=n(75);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){function r(e,t,n){if(null!==e)for(var o,i,a,s,l,u,c,d,h=0,p=0,f=e.type,m="FeatureCollection"===f,_="Feature"===f,g=m?e.features.length:1,v=0;v<g;v++){l=(d=!!(c=m?e.features[v].geometry:_?e.geometry:e)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var y=0;y<l;y++){var b=0,E=0;if(null!==(s=d?c.geometries[y]:c)){u=s.coordinates;var C=s.type;switch(h=!n||"Polygon"!==C&&"MultiPolygon"!==C?0:1,C){case null:break;case"Point":if(!1===t(u,p,v,b,E))return!1;p++,b++;break;case"LineString":case"MultiPoint":for(o=0;o<u.length;o++){if(!1===t(u[o],p,v,b,E))return!1;p++,"MultiPoint"===C&&b++}"LineString"===C&&b++;break;case"Polygon":case"MultiLineString":for(o=0;o<u.length;o++){for(i=0;i<u[o].length-h;i++){if(!1===t(u[o][i],p,v,b,E))return!1;p++}"MultiLineString"===C&&b++,"Polygon"===C&&E++}"Polygon"===C&&b++;break;case"MultiPolygon":for(o=0;o<u.length;o++){for("MultiPolygon"===C&&(E=0),i=0;i<u[o].length;i++){for(a=0;a<u[o][i].length-h;a++){if(!1===t(u[o][i][a],p,v,b,E))return!1;p++}E++}b++}break;case"GeometryCollection":for(o=0;o<s.geometries.length;o++)if(!1===r(s.geometries[o],t,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(e,t){var n,r,o,i,a,s,l,u,c,d,h=0,p="FeatureCollection"===e.type,f="Feature"===e.type,m=p?e.features.length:1;for(n=0;n<m;n++){for(s=p?e.features[n].geometry:f?e.geometry:e,u=p?e.features[n].properties:f?e.properties:{},c=p?e.features[n].bbox:f?e.bbox:void 0,d=p?e.features[n].id:f?e.id:void 0,a=(l=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=l?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,h,u,c,d))return!1;break;case"GeometryCollection":for(r=0;r<i.geometries.length;r++)if(!1===t(i.geometries[r],h,u,c,d))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,h,u,c,d))return!1;h++}}function i(e,t,n){var r=n;return o(e,(function(e,o,i,a,s){r=0===o&&void 0===n?e:t(r,e,o,i,a,s)})),r}function a(e,t){!function(e,t){o(e,(function(e,n,r,o,i){var a,s=null===e?null:e.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return!1!==t(Object(l.b)(e,r,{bbox:o,id:i}),n,0)&&void 0}switch(s){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var u=0;u<e.coordinates.length;u++){var c={type:a,coordinates:e.coordinates[u]};if(!1===t(Object(l.b)(c,r),n,u))return!1}}))}(e,(function(e,n,o){var i=0;if(e.geometry){var a,s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s)return!1!==r(e,(function(r,s,u,c,d){if(void 0!==a){var h=Object(l.e)([a,r],e.properties);if(!1===t(h,n,o,d,i))return!1;i++,a=r}else a=r}))&&void 0}}))}function s(e,t,n){var r=n,o=!1;return a(e,(function(e,i,a,s,l){r=!1===o&&void 0===n?e:t(r,e,i,a,s,l),o=!0})),r}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var l=n(3)},function(e,t,n){e.exports=n(29)},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}n(30);var o=r(n(31)),i=r(n(79)),a=r(n(80)),s=n(85),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),u=r(n(86)),c=n(87),d=n(88),h={imports:{numberFormat:c.numberFormat},interpolate:/{{([\s\S]+?)}}/g},p=(0,o.default)(d.controlTemplate,h),f=(0,o.default)(d.resultsTemplate,h),m=(0,o.default)(d.pointPopupTemplate,h),_=(0,o.default)(d.linePopupTemplate,h),g=(0,o.default)(d.areaPopupTemplate,h);L.Control.Measure=L.Control.extend({_className:"leaflet-control-measure",options:{units:{},position:"topright",primaryLengthUnit:"feet",secondaryLengthUnit:"miles",primaryAreaUnit:"acres",activeColor:"#ABE67E",completedColor:"#C8F2BE",captureZIndex:1e4,popupOptions:{className:"leaflet-measure-resultpopup",autoPanPadding:[10,10]}},initialize:function(e){L.setOptions(this,e);var t=this.options,n=t.activeColor,r=t.completedColor;this._symbols=new u.default({activeColor:n,completedColor:r}),this.options.units=L.extend({},i.default,this.options.units)},onAdd:function(e){return this._map=e,this._latlngs=[],this._initLayout(),e.on("click",this._collapse,this),this._layer=L.layerGroup().addTo(e),this._container},onRemove:function(e){e.off("click",this._collapse,this),e.removeLayer(this._layer)},_initLayout:function(){var e=this._className,t=this._container=L.DomUtil.create("div",e+" leaflet-bar");t.innerHTML=p({model:{className:e}}),t.setAttribute("aria-haspopup",!0),L.DomEvent.disableClickPropagation(t),L.DomEvent.disableScrollPropagation(t);var n=this.$toggle=(0,s.selectOne)(".js-toggle",t);this.$interaction=(0,s.selectOne)(".js-interaction",t);var r=(0,s.selectOne)(".js-start",t),o=(0,s.selectOne)(".js-cancel",t),i=(0,s.selectOne)(".js-finish",t);this.$startPrompt=(0,s.selectOne)(".js-startprompt",t),this.$measuringPrompt=(0,s.selectOne)(".js-measuringprompt",t),this.$startHelp=(0,s.selectOne)(".js-starthelp",t),this.$results=(0,s.selectOne)(".js-results",t),this.$measureTasks=(0,s.selectOne)(".js-measuretasks",t),this._collapse(),this._updateMeasureNotStarted(),L.Browser.android||(L.DomEvent.on(t,"mouseenter",this._expand,this),L.DomEvent.on(t,"mouseleave",this._collapse,this)),L.DomEvent.on(n,"click",L.DomEvent.stop),L.Browser.touch?L.DomEvent.on(n,"click",this._expand,this):L.DomEvent.on(n,"focus",this._expand,this),L.DomEvent.on(r,"click",L.DomEvent.stop),L.DomEvent.on(r,"click",this._startMeasure,this),L.DomEvent.on(o,"click",L.DomEvent.stop),L.DomEvent.on(o,"click",this._finishMeasure,this),L.DomEvent.on(i,"click",L.DomEvent.stop),L.DomEvent.on(i,"click",this._handleMeasureDoubleClick,this)},_expand:function(){l.hide(this.$toggle),l.show(this.$interaction)},_collapse:function(){this._locked||(l.hide(this.$interaction),l.show(this.$toggle))},_updateMeasureNotStarted:function(){l.hide(this.$startHelp),l.hide(this.$results),l.hide(this.$measureTasks),l.hide(this.$measuringPrompt),l.show(this.$startPrompt)},_updateMeasureStartedNoPoints:function(){l.hide(this.$results),l.show(this.$startHelp),l.show(this.$measureTasks),l.hide(this.$startPrompt),l.show(this.$measuringPrompt)},_updateMeasureStartedWithPoints:function(){l.hide(this.$startHelp),l.show(this.$results),l.show(this.$measureTasks),l.hide(this.$startPrompt),l.show(this.$measuringPrompt)},_startMeasure:function(){this._locked=!0,this._measureVertexes=L.featureGroup().addTo(this._layer),this._captureMarker=L.marker(this._map.getCenter(),{clickable:!0,zIndexOffset:this.options.captureZIndex,opacity:0}).addTo(this._layer),this._setCaptureMarkerIcon(),this._captureMarker.on("mouseout",this._handleMapMouseOut,this).on("dblclick",this._handleMeasureDoubleClick,this).on("click",this._handleMeasureClick,this),this._map.on("mousemove",this._handleMeasureMove,this).on("mouseout",this._handleMapMouseOut,this).on("move",this._centerCaptureMarker,this).on("resize",this._setCaptureMarkerIcon,this),L.DomEvent.on(this._container,"mouseenter",this._handleMapMouseOut,this),this._updateMeasureStartedNoPoints(),this._map.fire("measurestart",null,!1)},_finishMeasure:function(){var e=L.extend({},this._resultsModel,{points:this._latlngs});this._locked=!1,L.DomEvent.off(this._container,"mouseover",this._handleMapMouseOut,this),this._clearMeasure(),this._captureMarker.off("mouseout",this._handleMapMouseOut,this).off("dblclick",this._handleMeasureDoubleClick,this).off("click",this._handleMeasureClick,this),this._map.off("mousemove",this._handleMeasureMove,this).off("mouseout",this._handleMapMouseOut,this).off("move",this._centerCaptureMarker,this).off("resize",this._setCaptureMarkerIcon,this),this._layer.removeLayer(this._measureVertexes).removeLayer(this._captureMarker),this._measureVertexes=null,this._updateMeasureNotStarted(),this._collapse(),this._map.fire("measurefinish",e,!1)},_clearMeasure:function(){this._latlngs=[],this._resultsModel=null,this._measureVertexes.clearLayers(),this._measureDrag&&this._layer.removeLayer(this._measureDrag),this._measureArea&&this._layer.removeLayer(this._measureArea),this._measureBoundary&&this._layer.removeLayer(this._measureBoundary),this._measureDrag=null,this._measureArea=null,this._measureBoundary=null},_centerCaptureMarker:function(){this._captureMarker.setLatLng(this._map.getCenter())},_setCaptureMarkerIcon:function(){this._captureMarker.setIcon(L.divIcon({iconSize:this._map.getSize().multiplyBy(2)}))},_getMeasurementDisplayStrings:function(e){function t(e,t,o,i,a){if(t&&r[t]){var s=n(e,r[t],i,a);return o&&r[o]&&(s=s+" ("+n(e,r[o],i,a)+")"),s}return n(e,null,i,a)}function n(e,t,n,r){var o=L.extend({factor:1,decimals:0},t);return[(0,c.numberFormat)(e*o.factor,o.decimals,n||".",r||","),{acres:"",feet:"",kilometers:"",hectares:"",meters:"",miles:"",sqfeet:"",sqmeters:"",sqmiles:""}[o.display]||o.display].join(" ")}var r=this.options.units;return{lengthDisplay:t(e.length,this.options.primaryLengthUnit,this.options.secondaryLengthUnit,this.options.decPoint,this.options.thousandsSep),areaDisplay:t(e.area,this.options.primaryAreaUnit,this.options.secondaryAreaUnit,this.options.decPoint,this.options.thousandsSep)}},_updateResults:function(){var e=(0,a.default)(this._latlngs),t=this._resultsModel=L.extend({},e,this._getMeasurementDisplayStrings(e),{pointCount:this._latlngs.length});this.$results.innerHTML=f({model:t})},_handleMeasureMove:function(e){this._measureDrag?this._measureDrag.setLatLng(e.latlng):this._measureDrag=L.circleMarker(e.latlng,this._symbols.getSymbol("measureDrag")).addTo(this._layer),this._measureDrag.bringToFront()},_handleMeasureDoubleClick:function(){var e=this._latlngs,t=void 0,n=void 0;if(this._finishMeasure(),e.length){e.length>2&&e.push(e[0]);var r=(0,a.default)(e);1===e.length?(t=L.circleMarker(e[0],this._symbols.getSymbol("resultPoint")),n=m({model:r})):2===e.length?(t=L.polyline(e,this._symbols.getSymbol("resultLine")),n=_({model:L.extend({},r,this._getMeasurementDisplayStrings(r))})):(t=L.polygon(e,this._symbols.getSymbol("resultArea")),n=g({model:L.extend({},r,this._getMeasurementDisplayStrings(r))}));var o=L.DomUtil.create("div","");o.innerHTML=n;var i=(0,s.selectOne)(".js-zoomto",o);i&&(L.DomEvent.on(i,"click",L.DomEvent.stop),L.DomEvent.on(i,"click",(function(){t.getBounds?this._map.fitBounds(t.getBounds(),{padding:[20,20],maxZoom:17}):t.getLatLng&&this._map.panTo(t.getLatLng())}),this));var l=(0,s.selectOne)(".js-deletemarkup",o);l&&(L.DomEvent.on(l,"click",L.DomEvent.stop),L.DomEvent.on(l,"click",(function(){this._layer.removeLayer(t)}),this)),t.addTo(this._layer),t.bindPopup(o,this.options.popupOptions),t.getBounds?t.openPopup(t.getBounds().getCenter()):t.getLatLng&&t.openPopup(t.getLatLng())}},_handleMeasureClick:function(e){var t=this._map.mouseEventToLatLng(e.originalEvent),n=this._latlngs[this._latlngs.length-1],r=this._symbols.getSymbol("measureVertex");n&&t.equals(n)||(this._latlngs.push(t),this._addMeasureArea(this._latlngs),this._addMeasureBoundary(this._latlngs),this._measureVertexes.eachLayer((function(e){e.setStyle(r),e._path&&e._path.setAttribute("class",r.className)})),this._addNewVertex(t),this._measureBoundary&&this._measureBoundary.bringToFront(),this._measureVertexes.bringToFront()),this._updateResults(),this._updateMeasureStartedWithPoints()},_handleMapMouseOut:function(){this._measureDrag&&(this._layer.removeLayer(this._measureDrag),this._measureDrag=null)},_addNewVertex:function(e){L.circleMarker(e,this._symbols.getSymbol("measureVertexActive")).addTo(this._measureVertexes)},_addMeasureArea:function(e){e.length<3?this._measureArea&&(this._layer.removeLayer(this._measureArea),this._measureArea=null):this._measureArea?this._measureArea.setLatLngs(e):this._measureArea=L.polygon(e,this._symbols.getSymbol("measureArea")).addTo(this._layer)},_addMeasureBoundary:function(e){e.length<2?this._measureBoundary&&(this._layer.removeLayer(this._measureBoundary),this._measureBoundary=null):this._measureBoundary?this._measureBoundary.setLatLngs(e):this._measureBoundary=L.polyline(e,this._symbols.getSymbol("measureBoundary")).addTo(this._layer)}}),L.Map.mergeOptions({measureControl:!1}),L.Map.addInitHook((function(){this.options.measureControl&&(this.measureControl=(new L.Control.Measure).addTo(this))})),L.control.measure=function(e){return new L.Control.Measure(e)}},function(e,t){},function(e,t,n){var r=n(32),o=n(62),i=n(65),a=n(66),s=n(67),l=n(22),u=n(15),c=n(68),d=n(25),h=n(71),p=n(26),f=/\b__p \+= '';/g,m=/\b(__p \+=) '' \+/g,_=/(__e\(.*?\)|\b__t\)) \+\n'';/g,g=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,v=/($^)/,y=/['\n\r\u2028\u2029\\]/g;e.exports=function(e,t,n){var b=h.imports._.templateSettings||h;n&&u(e,t,n)&&(t=void 0),e=p(e),t=r({},t,b,a);var E,C,x=r({},t.imports,b.imports,a),w=c(x),S=i(x,w),T=0,k=t.interpolate||v,L="__p += '",P=RegExp((t.escape||v).source+"|"+k.source+"|"+(k===d?g:v).source+"|"+(t.evaluate||v).source+"|$","g"),M="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";e.replace(P,(function(t,n,r,o,i,a){return r||(r=o),L+=e.slice(T,a).replace(y,s),n&&(E=!0,L+="' +\n__e("+n+") +\n'"),i&&(C=!0,L+="';\n"+i+";\n__p += '"),r&&(L+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),T=a+t.length,t})),L+="';\n";var O=t.variable;O||(L="with (obj) {\n"+L+"\n}\n"),L=(C?L.replace(f,""):L).replace(m,"$1").replace(_,"$1;"),L="function("+(O||"obj")+") {\n"+(O?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(E?", __e = _.escape":"")+(C?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+L+"return __p\n}";var N=o((function(){return Function(w,M+"return "+L).apply(void 0,S)}));if(N.source=L,l(N))throw N;return N}},function(e,t,n){var r=n(33),o=n(44),i=n(50),a=o((function(e,t,n,o){r(t,i(t),e,o)}));e.exports=a},function(e,t,n){var r=n(34),o=n(8);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=i?i(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?o(n,u,c):r(n,u,c)}return n}},function(e,t,n){var r=n(8),o=n(6),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(36),o=n(43);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(10),o=n(40),i=n(2),a=n(42),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,h=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?h:s).test(a(e))}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(4),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r,o=n(41),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},function(e,t,n){var r=n(5)["__core-js_shared__"];e.exports=r},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(12),o=n(15);e.exports=function(e){return r((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var l=n[r];l&&e(t,l,r,a)}return t}))}},function(e,t,n){var r=n(14),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),l=Array(s);++a<s;)l[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=n(l),r(e,this,u)}}},function(e,t,n){var r=n(47),o=n(49)(r);e.exports=o},function(e,t,n){var r=n(48),o=n(9),i=n(13),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var n=800,r=16,o=Date.now;e.exports=function(e){var t=0,i=0;return function(){var a=o(),s=r-(a-i);if(i=a,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(18),o=n(60),i=n(7);e.exports=function(e){return i(e)?r(e,!0):o(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(53),o=n(1),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){var r=n(0),o=n(1),i="[object Arguments]";e.exports=function(e){return o(e)&&r(e)==i}},function(e,t,n){(function(e){var r=n(5),o=n(55),i="object"==typeof t&&t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||o;e.exports=l}).call(t,n(20)(e))},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(57),o=n(58),i=n(59),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},function(e,t,n){var r=n(0),o=n(16),i=n(1),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(11),o="object"==typeof t&&t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{return a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(t,n(20)(e))},function(e,t,n){var r=n(2),o=n(21),i=n(61),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(14),o=n(12),i=n(22),a=o((function(e,t){try{return r(e,void 0,t)}catch(n){return i(n)?n:new Error(n)}}));e.exports=a},function(e,t,n){var r=n(0),o=n(64),i=n(1),a="[object Object]",s=Function.prototype,l=Object.prototype,u=s.toString,c=l.hasOwnProperty,d=u.call(Object);e.exports=function(e){if(!i(e)||r(e)!=a)return!1;var t=o(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==d}},function(e,t,n){var r=n(23)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(24);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},function(e,t,n){var r=n(6),o=Object.prototype,i=o.hasOwnProperty;e.exports=function(e,t,n,a){return void 0===e||r(e,o[n])&&!i.call(a,n)?t:e}},function(e,t){var n={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};e.exports=function(e){return"\\"+n[e]}},function(e,t,n){var r=n(18),o=n(69),i=n(7);e.exports=function(e){return i(e)?r(e):o(e)}},function(e,t,n){var r=n(21),o=n(70),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(23)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(72),o={escape:n(77),evaluate:n(78),interpolate:n(25),variable:"",imports:{_:{escape:r}}};e.exports=o},function(e,t,n){var r=n(73),o=n(26),i=/[&<>"']/g,a=RegExp(i.source);e.exports=function(e){return(e=o(e))&&a.test(e)?e.replace(i,r):e}},function(e,t,n){var r=n(74)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=r},function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},function(e,t,n){var r=n(4),o=n(24),i=n(19),a=n(76),s=1/0,l=r?r.prototype:void 0,u=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}},function(e,t,n){var r=n(0),o=n(1),i="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||o(e)&&r(e)==i}},function(e,t){e.exports=/<%-([\s\S]+?)%>/g},function(e,t){e.exports=/<%([\s\S]+?)%>/g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default={acres:{factor:24711e-8,display:"acres",decimals:2},feet:{factor:3.2808,display:"feet",decimals:0},kilometers:{factor:.001,display:"kilometers",decimals:2},hectares:{factor:1e-4,display:"hectares",decimals:2},meters:{factor:1,display:"meters",decimals:0},miles:{factor:3.2808/5280,display:"miles",decimals:2},sqfeet:{factor:10.7639,display:"sqfeet",decimals:0},sqmeters:{factor:1,display:"sqmeters",decimals:0},sqmiles:{factor:3.86102e-7,display:"sqmiles",decimals:2}}},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return e<10?"0"+e.toString():e.toString()}function i(e,t,n){var r=Math.abs(e),i=Math.floor(r),a=Math.floor(60*(r-i)),s=Math.round(3600*(r-i-a/60)*100)/100,l=r===e?t:n;return o(i)+"&deg; "+o(a)+"' "+o(s)+'" '+l}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e[e.length-1],n=e.map((function(e){return[e.lat,e.lng]})),r=L.polyline(n),o=L.polygon(n),l=1e3*(0,a.default)(r.toGeoJSON(),{units:"kilometers"}),u=(0,s.default)(o.toGeoJSON());return{lastCoord:{dd:{x:t.lng,y:t.lat},dms:{x:i(t.lng,"E","W"),y:i(t.lat,"N","S")}},length:l,area:u}};var a=r(n(81)),s=r(n(84))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(82),o=n(27),i=n(3);t.default=function(e,t){if(t=t||{},!Object(i.d)(t))throw new Error("options is invalid");if(!e)throw new Error("geojson is required");return Object(o.b)(e,(function(e,n){var o=n.geometry.coordinates;return e+Object(r.a)(o[0],o[1],t)}),0)}},function(e,t,n){var r=n(83),o=n(3);t.a=function(e,t,n){if(n=n||{},!Object(o.d)(n))throw new Error("options is invalid");var i=n.units,a=Object(r.a)(e),s=Object(r.a)(t),l=Object(o.a)(s[1]-a[1]),u=Object(o.a)(s[0]-a[0]),c=Object(o.a)(a[1]),d=Object(o.a)(s[1]),h=Math.pow(Math.sin(l/2),2)+Math.pow(Math.sin(u/2),2)*Math.cos(c)*Math.cos(d);return Object(o.g)(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),i)}},function(e,t,n){function r(e){if(!e)throw new Error("coord is required");if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates;if(Array.isArray(e)&&e.length>=2&&void 0===e[0].length&&void 0===e[1].length)return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}n.d(t,"a",(function(){return r})),n(3)},function(e,t,n){function r(e){var t,n=0;switch(e.type){case"Polygon":return o(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)n+=o(e.coordinates[t]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(t=0;t<e.geometries.length;t++)n+=r(e.geometries[t]);return n}}function o(e){var t=0;if(e&&e.length>0){t+=Math.abs(i(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(i(e[n]))}return t}function i(e){var t,n,r,o,i,s,u=0,c=e.length;if(c>2){for(s=0;s<c;s++)s===c-2?(r=c-2,o=c-1,i=0):s===c-1?(r=c-1,o=0,i=1):(r=s,o=s+1,i=s+2),t=e[r],n=e[o],u+=(a(e[i][0])-a(t[0]))*Math.sin(a(n[1]));u=u*l*l/2}return u}function a(e){return e*Math.PI/180}Object.defineProperty(t,"__esModule",{value:!0});var s=n(27),l=6378137;t.default=function(e){return Object(s.a)(e,(function(e,t){return e+r(t)}),0)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.selectOne=function(e,t){return t||(t=document),t.querySelector(e)},t.selectAll=function(e,t){return t||(t=document),Array.prototype.slice.call(t.querySelectorAll(e))},t.hide=function(e){if(e)return e.setAttribute("style","display:none;"),e},t.show=function(e){if(e)return e.removeAttribute("style"),e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o={activeColor:"#ABE67E",completedColor:"#C8F2BE"},i=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._options=L.extend({},o,this._options,t)}return r(e,[{key:"getSymbol",value:function(e){return{measureDrag:{clickable:!1,radius:4,color:this._options.activeColor,weight:2,opacity:.7,fillColor:this._options.activeColor,fillOpacity:.5,className:"layer-measuredrag"},measureArea:{clickable:!1,stroke:!1,fillColor:this._options.activeColor,fillOpacity:.2,className:"layer-measurearea"},measureBoundary:{clickable:!1,color:this._options.activeColor,weight:2,opacity:.9,fill:!1,className:"layer-measureboundary"},measureVertex:{clickable:!1,radius:4,color:this._options.activeColor,weight:2,opacity:1,fillColor:this._options.activeColor,fillOpacity:.7,className:"layer-measurevertex"},measureVertexActive:{clickable:!1,radius:4,color:this._options.activeColor,weight:2,opacity:1,fillColor:this._options.activeColor,fillOpacity:1,className:"layer-measurevertex active"},resultArea:{clickable:!0,color:this._options.completedColor,weight:2,opacity:.9,fillColor:this._options.completedColor,fillOpacity:.2,className:"layer-measure-resultarea"},resultLine:{clickable:!0,color:this._options.completedColor,weight:3,opacity:.9,fill:!1,className:"layer-measure-resultline"},resultPoint:{clickable:!0,radius:4,color:this._options.completedColor,weight:2,opacity:1,fillColor:this._options.completedColor,fillOpacity:.7,className:"layer-measure-resultpoint"}}[e]}}]),e}();t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.numberFormat=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:",",o=e<0?"-":"",i=Math.abs(+e||0),a=parseInt(i.toFixed(t),10)+"",s=a.length>3?a.length%3:0;return[o,s?a.substr(0,s)+r:"",a.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+r),t?""+n+Math.abs(i-a).toFixed(t).slice(2):""].join("")}},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(89);Object.defineProperty(t,"controlTemplate",{enumerable:!0,get:function(){return r(o).default}});var i=n(90);Object.defineProperty(t,"resultsTemplate",{enumerable:!0,get:function(){return r(i).default}});var a=n(91);Object.defineProperty(t,"pointPopupTemplate",{enumerable:!0,get:function(){return r(a).default}});var s=n(92);Object.defineProperty(t,"linePopupTemplate",{enumerable:!0,get:function(){return r(s).default}});var l=n(93);Object.defineProperty(t,"areaPopupTemplate",{enumerable:!0,get:function(){return r(l).default}})},function(e,t,n){e.exports='<a class="{{ model.className }}-toggle js-toggle" href=# title=""></a> <div class="{{ model.className }}-interaction js-interaction"> <div class="js-startprompt startprompt"> <h3></h3> <ul class=tasks> <a href=# class="js-start start"></a> </ul> </div> <div class=js-measuringprompt> <h3></h3> <p class=js-starthelp></p> <div class="js-results results"></div> <ul class="js-measuretasks tasks"> <li><a href=# class="js-cancel cancel"></a></li> <li><a href=# class="js-finish finish"></a></li> </ul> </div> </div> '},function(e,t,n){e.exports='<div class=group> <p class="lastpoint heading"></p> <p>{{ model.lastCoord.dms.y }} <span class=coorddivider>/</span> {{ model.lastCoord.dms.x }}</p> <p>{{ numberFormat(model.lastCoord.dd.y, 6) }} <span class=coorddivider>/</span> {{ numberFormat(model.lastCoord.dd.x, 6) }}</p> </div> <% if (model.pointCount > 1) { %> <div class=group> <p><span class=heading></span> {{ model.lengthDisplay }}</p> </div> <% } %> <% if (model.pointCount > 2) { %> <div class=group> <p><span class=heading></span> {{ model.areaDisplay }}</p> </div> <% } %> '},function(e,t,n){e.exports='<h3></h3> <p>{{ model.lastCoord.dms.y }} <span class=coorddivider>/</span> {{ model.lastCoord.dms.x }}</p> <p>{{ numberFormat(model.lastCoord.dd.y, 6) }} <span class=coorddivider>/</span> {{ numberFormat(model.lastCoord.dd.x, 6) }}</p> <ul class=tasks> <li><a href=# class="js-zoomto zoomto"></a></li> <li><a href=# class="js-deletemarkup deletemarkup"></a></li> </ul> '},function(e,t,n){e.exports='<h3></h3> <p>{{ model.lengthDisplay }}</p> <ul class=tasks> <li><a href=# class="js-zoomto zoomto"></a></li> <li><a href=# class="js-deletemarkup deletemarkup"></a></li> </ul> '},function(e,t,n){e.exports='<h3></h3> <p>{{ model.areaDisplay }}</p> <p>{{ model.lengthDisplay }} </p> <ul class=tasks> <li><a href=# class="js-zoomto zoomto"></a></li> <li><a href=# class="js-deletemarkup deletemarkup"></a></li> </ul> '}]);var Control_MiniMap_min={exports:{}},factory,window2;factory=function(e){var t=e.Control.extend({includes:e.Evented?e.Evented.prototype:e.Mixin.Events,options:{position:"bottomright",toggleDisplay:!1,zoomLevelOffset:-5,zoomLevelFixed:!1,centerFixed:!1,zoomAnimation:!1,autoToggleDisplay:!1,minimized:!1,width:150,height:150,collapsedWidth:19,collapsedHeight:19,aimingRectOptions:{color:"#ff7800",weight:1,clickable:!1},shadowRectOptions:{color:"#000000",weight:1,clickable:!1,opacity:0,fillOpacity:0},strings:{hideText:"Hide MiniMap",showText:"Show MiniMap"},mapOptions:{}},initialize:function(t,n){e.Util.setOptions(this,n),this.options.aimingRectOptions.clickable=!1,this.options.shadowRectOptions.clickable=!1,this._layer=t},onAdd:function(t){this._mainMap=t,this._container=e.DomUtil.create("div","leaflet-control-minimap"),this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",e.DomEvent.disableClickPropagation(this._container),e.DomEvent.on(this._container,"mousewheel",e.DomEvent.stopPropagation);var n={attributionControl:!1,dragging:!this.options.centerFixed,zoomControl:!1,zoomAnimation:this.options.zoomAnimation,autoToggleDisplay:this.options.autoToggleDisplay,touchZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),scrollWheelZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),doubleClickZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),boxZoom:!this._isZoomLevelFixed(),crs:t.options.crs};return n=e.Util.extend(this.options.mapOptions,n),this._miniMap=new e.Map(this._container,n),this._miniMap.addLayer(this._layer),this._mainMapMoving=!1,this._miniMapMoving=!1,this._userToggledDisplay=!1,this._minimized=!1,this.options.toggleDisplay&&this._addToggleButton(),this._miniMap.whenReady(e.Util.bind((function(){this._aimingRect=e.rectangle(this._mainMap.getBounds(),this.options.aimingRectOptions).addTo(this._miniMap),this._shadowRect=e.rectangle(this._mainMap.getBounds(),this.options.shadowRectOptions).addTo(this._miniMap),this._mainMap.on("moveend",this._onMainMapMoved,this),this._mainMap.on("move",this._onMainMapMoving,this),this._miniMap.on("movestart",this._onMiniMapMoveStarted,this),this._miniMap.on("move",this._onMiniMapMoving,this),this._miniMap.on("moveend",this._onMiniMapMoved,this)}),this)),this._container},addTo:function(t){e.Control.prototype.addTo.call(this,t);var n=this.options.centerFixed||this._mainMap.getCenter();return this._miniMap.setView(n,this._decideZoom(!0)),this._setDisplay(this.options.minimized),this},onRemove:function(e){this._mainMap.off("moveend",this._onMainMapMoved,this),this._mainMap.off("move",this._onMainMapMoving,this),this._miniMap.off("moveend",this._onMiniMapMoved,this),this._miniMap.removeLayer(this._layer)},changeLayer:function(e){this._miniMap.removeLayer(this._layer),this._layer=e,this._miniMap.addLayer(this._layer)},_addToggleButton:function(){this._toggleDisplayButton=this.options.toggleDisplay?this._createButton("",this._toggleButtonInitialTitleText(),"leaflet-control-minimap-toggle-display leaflet-control-minimap-toggle-display-"+this.options.position,this._container,this._toggleDisplayButtonClicked,this):void 0,this._toggleDisplayButton.style.width=this.options.collapsedWidth+"px",this._toggleDisplayButton.style.height=this.options.collapsedHeight+"px"},_toggleButtonInitialTitleText:function(){return this.options.minimized?this.options.strings.showText:this.options.strings.hideText},_createButton:function(t,n,r,o,i,a){var s=e.DomUtil.create("a",r,o);s.innerHTML=t,s.href="#",s.title=n;var l=e.DomEvent.stopPropagation;return e.DomEvent.on(s,"click",l).on(s,"mousedown",l).on(s,"dblclick",l).on(s,"click",e.DomEvent.preventDefault).on(s,"click",i,a),s},_toggleDisplayButtonClicked:function(){this._userToggledDisplay=!0,this._minimized?this._restore():this._minimize()},_setDisplay:function(e){e!==this._minimized&&(this._minimized?this._restore():this._minimize())},_minimize:function(){this.options.toggleDisplay?(this._container.style.width=this.options.collapsedWidth+"px",this._container.style.height=this.options.collapsedHeight+"px",this._toggleDisplayButton.className+=" minimized-"+this.options.position,this._toggleDisplayButton.title=this.options.strings.showText):this._container.style.display="none",this._minimized=!0,this._onToggle()},_restore:function(){this.options.toggleDisplay?(this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",this._toggleDisplayButton.className=this._toggleDisplayButton.className.replace("minimized-"+this.options.position,""),this._toggleDisplayButton.title=this.options.strings.hideText):this._container.style.display="block",this._minimized=!1,this._onToggle()},_onMainMapMoved:function(e){if(this._miniMapMoving)this._miniMapMoving=!1;else{var t=this.options.centerFixed||this._mainMap.getCenter();this._mainMapMoving=!0,this._miniMap.setView(t,this._decideZoom(!0)),this._setDisplay(this._decideMinimized())}this._aimingRect.setBounds(this._mainMap.getBounds())},_onMainMapMoving:function(e){this._aimingRect.setBounds(this._mainMap.getBounds())},_onMiniMapMoveStarted:function(e){if(!this.options.centerFixed){var t=this._aimingRect.getBounds(),n=this._miniMap.latLngToContainerPoint(t.getSouthWest()),r=this._miniMap.latLngToContainerPoint(t.getNorthEast());this._lastAimingRectPosition={sw:n,ne:r}}},_onMiniMapMoving:function(t){this.options.centerFixed||!this._mainMapMoving&&this._lastAimingRectPosition&&(this._shadowRect.setBounds(new e.LatLngBounds(this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.sw),this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.ne))),this._shadowRect.setStyle({opacity:1,fillOpacity:.3}))},_onMiniMapMoved:function(e){this._mainMapMoving?this._mainMapMoving=!1:(this._miniMapMoving=!0,this._mainMap.setView(this._miniMap.getCenter(),this._decideZoom(!1)),this._shadowRect.setStyle({opacity:0,fillOpacity:0}))},_isZoomLevelFixed:function(){var e=this.options.zoomLevelFixed;return this._isDefined(e)&&this._isInteger(e)},_decideZoom:function(e){if(this._isZoomLevelFixed())return e?this.options.zoomLevelFixed:this._mainMap.getZoom();if(e)return this._mainMap.getZoom()+this.options.zoomLevelOffset;var t,n=this._miniMap.getZoom()-this._mainMap.getZoom(),r=this._miniMap.getZoom()-this.options.zoomLevelOffset;return n>this.options.zoomLevelOffset&&this._mainMap.getZoom()<this._miniMap.getMinZoom()-this.options.zoomLevelOffset?this._miniMap.getZoom()>this._lastMiniMapZoom?(t=this._mainMap.getZoom()+1,this._miniMap.setZoom(this._miniMap.getZoom()-1)):t=this._mainMap.getZoom():t=r,this._lastMiniMapZoom=this._miniMap.getZoom(),t},_decideMinimized:function(){return this._userToggledDisplay?this._minimized:this.options.autoToggleDisplay?!!this._mainMap.getBounds().contains(this._miniMap.getBounds()):this._minimized},_isInteger:function(e){return"number"==typeof e},_isDefined:function(e){return void 0!==e},_onToggle:function(){e.Util.requestAnimFrame((function(){e.DomEvent.on(this._container,"transitionend",this._fireToggleEvents,this),e.Browser.any3d||e.Util.requestAnimFrame(this._fireToggleEvents,this)}),this)},_fireToggleEvents:function(){e.DomEvent.off(this._container,"transitionend",this._fireToggleEvents,this);var t={minimized:this._minimized};this.fire(this._minimized?"minimize":"restore",t),this.fire("toggle",t)}});return e.Map.mergeOptions({miniMapControl:!1}),e.Map.addInitHook((function(){this.options.miniMapControl&&(this.miniMapControl=(new t).addTo(this))})),t},window2=window,Control_MiniMap_min.exports=factory(leafletSrcExports),void 0!==window2&&window2.L&&(window2.L.Control.MiniMap=factory(L),window2.L.control.minimap=function(e,t){return new window2.L.Control.MiniMap(e,t)});var Control_MiniMap_minExports=Control_MiniMap_min.exports;const MiniMap=getDefaultExportFromCjs(Control_MiniMap_minExports);L.Control.NavBar=L.Control.extend({options:{position:"topleft",forwardTitle:"",backTitle:"",homeTitle:""},onAdd:function(e){this.options.center||(this.options.center=e.getCenter()),this.options.zoom||(this.options.zoom=e.getZoom());var t=this.options,n="leaflet-control-navbar",r=L.DomUtil.create("div",n+" leaflet-bar");return this._homeButton=this._createButton(t.homeTitle,n+"-home",r,this._goHome),this._fwdButton=this._createButton(t.forwardTitle,n+"-fwd",r,this._goFwd),this._backButton=this._createButton(t.backTitle,n+"-back",r,this._goBack),this._viewHistory=[{center:this.options.center,zoom:this.options.zoom}],this._curIndx=0,this._updateDisabled(),e.once("moveend",(function(){this._map.on("moveend",this._updateHistory,this)}),this),e.setView(t.center,t.zoom),r},onRemove:function(e){e.off("moveend",this._updateHistory,this)},_goHome:function(){if(this.options.bbox)try{this._map.fitBounds(this.options.bbox)}catch(e){this._map.setView(this.options.center,this.options.zoom)}this._map.setView(this.options.center,this.options.zoom)},_goBack:function(){if(0!==this._curIndx){this._map.off("moveend",this._updateHistory,this),this._map.once("moveend",(function(){this._map.on("moveend",this._updateHistory,this)}),this),this._curIndx--,this._updateDisabled();var e=this._viewHistory[this._curIndx];this._map.setView(e.center,e.zoom)}},_goFwd:function(){if(this._curIndx!=this._viewHistory.length-1){this._map.off("moveend",this._updateHistory,this),this._map.once("moveend",(function(){this._map.on("moveend",this._updateHistory,this)}),this),this._curIndx++,this._updateDisabled();var e=this._viewHistory[this._curIndx];this._map.setView(e.center,e.zoom)}},_createButton:function(e,t,n,r){var o=L.DomUtil.create("a",t,n);return o.href="#",o.title=e,L.DomEvent.on(o,"mousedown dblclick",L.DomEvent.stopPropagation).on(o,"click",L.DomEvent.stop).on(o,"click",r,this).on(o,"click",this._refocusOnMap,this),o},_updateHistory:function(){var e={center:this._map.getCenter(),zoom:this._map.getZoom()},t=this._curIndx+1;this._viewHistory.splice(t,this._viewHistory.length-t,e),this._curIndx++,this._updateDisabled()},_setFwdEnabled:function(e){var t="leaflet-disabled",n="leaflet-control-navbar-fwd-disabled";!0===e?(L.DomUtil.removeClass(this._fwdButton,n),L.DomUtil.removeClass(this._fwdButton,t)):(L.DomUtil.addClass(this._fwdButton,n),L.DomUtil.addClass(this._fwdButton,t))},_setBackEnabled:function(e){var t="leaflet-disabled",n="leaflet-control-navbar-back-disabled";!0===e?(L.DomUtil.removeClass(this._backButton,n),L.DomUtil.removeClass(this._backButton,t)):(L.DomUtil.addClass(this._backButton,n),L.DomUtil.addClass(this._backButton,t))},_updateDisabled:function(){this._curIndx==this._viewHistory.length-1?this._setFwdEnabled(!1):this._setFwdEnabled(!0),this._curIndx<=0?this._setBackEnabled(!1):this._setBackEnabled(!0)}}),L.control.navbar=function(e){return new L.Control.NavBar(e)};var gpx={exports:{}},module2,L2,_SECOND_IN_MILLIS,_MINUTE_IN_MILLIS,_HOUR_IN_MILLIS,_DAY_IN_MILLIS,_DEFAULT_MARKER_OPTS,_DEFAULT_POLYLINE_OPTS,_DEFAULT_GPX_OPTS;module2=gpx,L2=L2||leafletSrcExports,_SECOND_IN_MILLIS=1e3,_MINUTE_IN_MILLIS=6e4,_HOUR_IN_MILLIS=36e5,_DAY_IN_MILLIS=864e5,_DEFAULT_MARKER_OPTS={startIconUrl:"pin-icon-start.png",endIconUrl:"pin-icon-end.png",shadowUrl:"pin-shadow.png",wptIcons:[],wptIconsType:[],wptIconUrls:{"":"pin-icon-wpt.png"},wptIconTypeUrls:{"":"pin-icon-wpt.png"},pointMatchers:[],iconSize:[33,45],shadowSize:[50,50],iconAnchor:[16,45],shadowAnchor:[16,47],clickable:!1},_DEFAULT_POLYLINE_OPTS={color:"blue"},_DEFAULT_GPX_OPTS={parseElements:["track","route","waypoint"],joinTrackSegments:!0},L2.GPX=L2.FeatureGroup.extend({initialize:function(e,t){t.max_point_interval=t.max_point_interval||15e3,t.marker_options=this._merge_objs(_DEFAULT_MARKER_OPTS,t.marker_options||{}),t.polyline_options=t.polyline_options||{},t.gpx_options=this._merge_objs(_DEFAULT_GPX_OPTS,t.gpx_options||{}),L2.Util.setOptions(this,t),L2.GPXTrackIcon=L2.Icon.extend({options:t.marker_options}),this._gpx=e,this._layers={},this._init_info(),e&&this._parse(e,t,this.options.async)},get_duration_string:function(e,t){var n="";e>=_DAY_IN_MILLIS&&(n+=Math.floor(e/_DAY_IN_MILLIS)+"d ",e%=_DAY_IN_MILLIS),e>=_HOUR_IN_MILLIS&&(n+=Math.floor(e/_HOUR_IN_MILLIS)+":",e%=_HOUR_IN_MILLIS);var r=Math.floor(e/_MINUTE_IN_MILLIS);e%=_MINUTE_IN_MILLIS,r<10&&(n+="0"),n+=r+"'";var o=Math.floor(e/_SECOND_IN_MILLIS);return e%=_SECOND_IN_MILLIS,o<10&&(n+="0"),n+=o,n+=!t&&e>0?"."+Math.round(1e3*Math.floor(e))/1e3:'"'},get_duration_string_iso:function(e,t){return this.get_duration_string(e,t).replace("'",":").replace('"',"")},to_miles:function(e){return e/1.60934},to_ft:function(e){return 3.28084*e},m_to_km:function(e){return e/1e3},m_to_mi:function(e){return e/1609.34},ms_to_kmh:function(e){return 3.6*e},ms_to_mih:function(e){return e/1609.34*3600},get_name:function(){return this._info.name},get_desc:function(){return this._info.desc},get_author:function(){return this._info.author},get_copyright:function(){return this._info.copyright},get_distance:function(){return this._info.length},get_distance_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))},get_start_time:function(){return this._info.duration.start},get_end_time:function(){return this._info.duration.end},get_moving_time:function(){return this._info.duration.moving},get_total_time:function(){return this._info.duration.total},get_moving_pace:function(){return this.get_moving_time()/this.m_to_km(this.get_distance())},get_moving_pace_imp:function(){return this.get_moving_time()/this.get_distance_imp()},get_moving_speed:function(){return this.m_to_km(this.get_distance())/(this.get_moving_time()/36e5)},get_moving_speed_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))/(this.get_moving_time()/36e5)},get_total_speed:function(){return this.m_to_km(this.get_distance())/(this.get_total_time()/36e5)},get_total_speed_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))/(this.get_total_time()/36e5)},get_elevation_gain:function(){return this._info.elevation.gain},get_elevation_loss:function(){return this._info.elevation.loss},get_elevation_gain_imp:function(){return this.to_ft(this.get_elevation_gain())},get_elevation_loss_imp:function(){return this.to_ft(this.get_elevation_loss())},get_elevation_data:function(){var e=this;return this._info.elevation._points.map((function(t){return e._prepare_data_point(t,e.m_to_km,null,(function(e,t){return e.toFixed(2)+" km, "+t.toFixed(0)+" m"}))}))},get_elevation_data_imp:function(){var e=this;return this._info.elevation._points.map((function(t){return e._prepare_data_point(t,e.m_to_mi,e.to_ft,(function(e,t){return e.toFixed(2)+" mi, "+t.toFixed(0)+" ft"}))}))},get_elevation_max:function(){return this._info.elevation.max},get_elevation_min:function(){return this._info.elevation.min},get_elevation_max_imp:function(){return this.to_ft(this.get_elevation_max())},get_elevation_min_imp:function(){return this.to_ft(this.get_elevation_min())},get_speed_data:function(){var e=this;return this._info.speed._points.map((function(t){return e._prepare_data_point(t,e.m_to_km,e.ms_to_kmh,(function(e,t){return e.toFixed(2)+" km, "+t.toFixed(2)+" km/h"}))}))},get_speed_data_imp:function(){var e=this;return this._info.speed._points.map((function(t){return e._prepare_data_point(t,e.m_to_mi,e.ms_to_mih,(function(e,t){return e.toFixed(2)+" mi, "+t.toFixed(2)+" mi/h"}))}))},get_speed_max:function(){return 3600*this.m_to_km(this._info.speed.max)},get_speed_max_imp:function(){return this.to_miles(this.get_speed_max())},get_average_hr:function(){return this._info.hr.avg},get_average_temp:function(){return this._info.atemp.avg},get_average_cadence:function(){return this._info.cad.avg},get_heartrate_data:function(){var e=this;return this._info.hr._points.map((function(t){return e._prepare_data_point(t,e.m_to_km,null,(function(e,t){return e.toFixed(2)+" km, "+t.toFixed(0)+" bpm"}))}))},get_heartrate_data_imp:function(){var e=this;return this._info.hr._points.map((function(t){return e._prepare_data_point(t,e.m_to_mi,null,(function(e,t){return e.toFixed(2)+" mi, "+t.toFixed(0)+" bpm"}))}))},get_cadence_data:function(){var e=this;return this._info.cad._points.map((function(t){return e._prepare_data_point(t,e.m_to_km,null,(function(e,t){return e.toFixed(2)+" km, "+t.toFixed(0)+" rpm"}))}))},get_temp_data:function(){var e=this;return this._info.atemp._points.map((function(t){return e._prepare_data_point(t,e.m_to_km,null,(function(e,t){return e.toFixed(2)+" km, "+t.toFixed(0)+" degrees"}))}))},get_cadence_data_imp:function(){var e=this;return this._info.cad._points.map((function(t){return e._prepare_data_point(t,e.m_to_mi,null,(function(e,t){return e.toFixed(2)+" mi, "+t.toFixed(0)+" rpm"}))}))},get_temp_data_imp:function(){var e=this;return this._info.atemp._points.map((function(t){return e._prepare_data_point(t,e.m_to_mi,null,(function(e,t){return e.toFixed(2)+" mi, "+t.toFixed(0)+" degrees"}))}))},reload:function(){this._init_info(),this.clearLayers(),this._parse(this._gpx,this.options,this.options.async)},_merge_objs:function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n},_prepare_data_point:function(e,t,n,r){var o=[t&&t(e[0])||e[0],n&&n(e[1])||e[1]];return o.push(r&&r(o[0],o[1])||o[0]+": "+o[1]),o},_init_info:function(){this._info={name:null,length:0,elevation:{gain:0,loss:0,max:0,min:1/0,_points:[]},speed:{max:0,_points:[]},hr:{avg:0,_total:0,_points:[]},duration:{start:null,end:null,moving:0,total:0},atemp:{avg:0,_total:0,_points:[]},cad:{avg:0,_total:0,_points:[]}}},_load_xml:function(t,n,r,o){null==o&&(o=this.options.async),null==r&&(r=this.options);var i=new window.XMLHttpRequest;i.open("GET",t,o);try{i.overrideMimeType("text/xml")}catch(e){}i.onreadystatechange=function(){4==i.readyState&&200==i.status&&n(i.responseXML,r)},i.send(null)},_parse:function(e,t,n){var r=this,o=function(e,t){var n=r._parse_gpx_data(e,t);n?(r.addLayer(n),r.fire("loaded",{layers:n,element:e})):r.fire("error",{err:"No parseable layers of type(s) "+JSON.stringify(t.gpx_options.parseElements)})};if("<"===e.substr(0,1)){var i=new DOMParser;n?setTimeout((function(){o(i.parseFromString(e,"text/xml"),t)})):o(i.parseFromString(e,"text/xml"),t)}else this._load_xml(e,o,t,n)},_parse_gpx_data:function(e,t){var n,r,o=[];(_=e.getElementsByTagName("name")).length>0&&(this._info.name=_[0].textContent),(v=e.getElementsByTagName("desc")).length>0&&(this._info.desc=v[0].textContent);var i=e.getElementsByTagName("author");i.length>0&&(this._info.author=i[0].textContent);var a=e.getElementsByTagName("copyright");a.length>0&&(this._info.copyright=a[0].textContent);var s=t.gpx_options.parseElements;if(s.indexOf("route")>-1){var l=e.getElementsByTagName("rte");for(n=0;n<l.length;n++)o=o.concat(this._parse_segment(l[n],t,{},"rtept"))}if(s.indexOf("track")>-1){var u=e.getElementsByTagName("trk");for(n=0;n<u.length;n++){var c=u[n],d=this._extract_styling(c);if(t.gpx_options.joinTrackSegments)o=o.concat(this._parse_segment(c,t,d,"trkpt"));else{var h=c.getElementsByTagName("trkseg");for(L=0;L<h.length;L++)o=o.concat(this._parse_segment(h[L],t,d,"trkpt"))}}}if(this._info.hr.avg=Math.round(this._info.hr._total/this._info.hr._points.length),this._info.cad.avg=Math.round(this._info.cad._total/this._info.cad._points.length),this._info.atemp.avg=Math.round(this._info.atemp._total/this._info.atemp._points.length),s.indexOf("waypoint")>-1)for(r=e.getElementsByTagName("wpt"),n=0;n<r.length;n++){var p,f=new L2.LatLng(r[n].getAttribute("lat"),r[n].getAttribute("lon")),m=r[n].getElementsByTagName("name"),_=m.length>0?m[0].textContent:"",g=r[n].getElementsByTagName("desc"),v=g.length>0?g[0].textContent:"",y=r[n].getElementsByTagName("sym"),b=y.length>0?y[0].textContent:null,E=r[n].getElementsByTagName("type"),C=E.length>0?E[0].textContent:null,x=t.marker_options.wptIcons,w=t.marker_options.wptIconUrls,S=t.marker_options.wptIconsType,T=t.marker_options.wptIconTypeUrls,k=t.marker_options.pointMatchers||[];if(x&&b&&x[b])p=x[b];else if(S&&C&&S[C])p=S[C];else if(w&&b&&w[b])p=new L2.GPXTrackIcon({iconUrl:w[b]});else if(T&&C&&T[C])p=new L2.GPXTrackIcon({iconUrl:T[C]});else if(k.length>0){for(var L=0;L<k.length;L++)if(k[L].regex.test(_)){p=k[L].icon;break}}else x&&x[""]?p=x[""]:w&&w[""]&&(p=new L2.GPXTrackIcon({iconUrl:w[""]}));if(p){var P=new L2.Marker(f,{clickable:t.marker_options.clickable,title:_,icon:p,type:"waypoint"});P.bindPopup("<b>"+_+"</b>"+(v.length>0?"<br>"+v:"")).openPopup(),this.fire("addpoint",{point:P,point_type:"waypoint",element:r[n]}),o.push(P)}}return o.length>1?new L2.FeatureGroup(o):1==o.length?o[0]:void 0},_parse_segment:function(e,t,n,r){var o=e.getElementsByTagName(r);if(!o.length)return[];for(var i=[],a=[],s=[],l=null,u=0;u<o.length;u++){var c,d=new L2.LatLng(o[u].getAttribute("lat"),o[u].getAttribute("lon"));d.meta={time:null,ele:null,hr:null,cad:null,atemp:null,speed:null},(c=o[u].getElementsByTagName("time")).length>0?d.meta.time=new Date(Date.parse(c[0].textContent)):d.meta.time=new Date("1970-01-01T00:00:00");var h=null!=l?Math.abs(d.meta.time-l.meta.time):0;(c=o[u].getElementsByTagName("ele")).length>0?d.meta.ele=parseFloat(c[0].textContent):d.meta.ele=null!=l?l.meta.ele:null;var p=null!=l?d.meta.ele-l.meta.ele:0,f=null!=l?this._dist3d(l,d):0;if((c=o[u].getElementsByTagName("speed")).length>0?d.meta.speed=parseFloat(c[0].textContent):d.meta.speed=h>0?1e3*f/h:0,(c=o[u].getElementsByTagName("name")).length>0)for(var m=c[0].textContent,_=t.marker_options.pointMatchers||[],g=0;g<_.length;g++)if(_[g].regex.test(m)){a.push({label:m,coords:d,icon:_[g].icon,element:o[u]});break}(c=o[u].getElementsByTagNameNS("*","hr")).length>0&&(d.meta.hr=parseInt(c[0].textContent),this._info.hr._points.push([this._info.length,d.meta.hr]),this._info.hr._total+=d.meta.hr),(c=o[u].getElementsByTagNameNS("*","cad")).length>0&&(d.meta.cad=parseInt(c[0].textContent),this._info.cad._points.push([this._info.length,d.meta.cad]),this._info.cad._total+=d.meta.cad),(c=o[u].getElementsByTagNameNS("*","atemp")).length>0&&(d.meta.atemp=parseInt(c[0].textContent),this._info.atemp._points.push([this._info.length,d.meta.atemp]),this._info.atemp._total+=d.meta.atemp),d.meta.ele>this._info.elevation.max&&(this._info.elevation.max=d.meta.ele),d.meta.ele<this._info.elevation.min&&(this._info.elevation.min=d.meta.ele),this._info.elevation._points.push([this._info.length,d.meta.ele]),d.meta.speed>this._info.speed.max&&(this._info.speed.max=d.meta.speed),this._info.speed._points.push([this._info.length,d.meta.speed]),null==l&&null==this._info.duration.start&&(this._info.duration.start=d.meta.time),this._info.duration.end=d.meta.time,this._info.duration.total+=h,h<t.max_point_interval&&(this._info.duration.moving+=h),this._info.length+=f,p>0?this._info.elevation.gain+=p:this._info.elevation.loss+=Math.abs(p),l=d,i.push(d)}var v=new L2.Polyline(i,this._extract_styling(e,n,t.polyline_options));if(this.fire("addline",{line:v,element:e}),s.push(v),t.marker_options.startIcon||t.marker_options.startIconUrl){var y=new L2.Marker(i[0],{clickable:t.marker_options.clickable,icon:t.marker_options.startIcon||new L2.GPXTrackIcon({iconUrl:t.marker_options.startIconUrl})});this.fire("addpoint",{point:y,point_type:"start",element:o[0]}),s.push(y)}for((t.marker_options.endIcon||t.marker_options.endIconUrl)&&(y=new L2.Marker(i[i.length-1],{clickable:t.marker_options.clickable,icon:t.marker_options.endIcon||new L2.GPXTrackIcon({iconUrl:t.marker_options.endIconUrl})}),this.fire("addpoint",{point:y,point_type:"end",element:o[o.length-1]}),s.push(y)),u=0;u<a.length;u++)y=new L2.Marker(a[u].coords,{clickable:t.marker_options.clickable,title:a[u].label,icon:a[u].icon}),this.fire("addpoint",{point:y,point_type:"label",element:a[u].element}),s.push(y);return s},_extract_styling:function(e,t,n){var r,o=this._merge_objs(_DEFAULT_POLYLINE_OPTS,t),i=e.getElementsByTagNameNS("http://www.topografix.com/GPX/gpx_style/0/2","line");return i.length>0&&((r=i[0].getElementsByTagName("color")).length>0&&(o.color="#"+r[0].textContent),(r=i[0].getElementsByTagName("opacity")).length>0&&(o.opacity=r[0].textContent),(r=i[0].getElementsByTagName("weight")).length>0&&(o.weight=r[0].textContent),(r=i[0].getElementsByTagName("linecap")).length>0&&(o.lineCap=r[0].textContent),(r=i[0].getElementsByTagName("linejoin")).length>0&&(o.lineJoin=r[0].textContent),(r=i[0].getElementsByTagName("dasharray")).length>0&&(o.dashArray=r[0].textContent),(r=i[0].getElementsByTagName("dashoffset")).length>0&&(o.dashOffset=r[0].textContent)),this._merge_objs(o,n)},_dist2d:function(e,t){var n=this._deg2rad(t.lat-e.lat),r=this._deg2rad(t.lng-e.lng),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(this._deg2rad(e.lat))*Math.cos(this._deg2rad(t.lat))*Math.sin(r/2)*Math.sin(r/2);return 2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))*6371e3},_dist3d:function(e,t){var n=this._dist2d(e,t),r=Math.abs(t.meta.ele-e.meta.ele);return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))},_deg2rad:function(e){return e*Math.PI/180}}),module2.exports=L2,
/*!
	Copyright (c) 2011-2015, Pavel Shramov, Bruno Bergot - MIT licence
*/
L.KML=L.FeatureGroup.extend({initialize:function(e){this._kml=e,this._layers={},e&&this.addKML(e)},addKML:function(e){var t=L.KML.parseKML(e);if(t&&t.length){for(var n=0;n<t.length;n++)this.fire("addlayer",{layer:t[n]}),this.addLayer(t[n]);this.latLngs=L.KML.getLatLngs(e),this.fire("loaded")}},latLngs:[]}),L.Util.extend(L.KML,{parseKML:function(e){var t=this.parseStyles(e);this.parseStyleMap(e,t);for(var n,r=e.getElementsByTagName("Folder"),o=[],i=0;i<r.length;i++)this._check_folder(r[i])&&(n=this.parseFolder(r[i],t))&&o.push(n);r=e.getElementsByTagName("Placemark");for(var a=0;a<r.length;a++)this._check_folder(r[a])&&(n=this.parsePlacemark(r[a],e,t))&&o.push(n);r=e.getElementsByTagName("GroundOverlay");for(var s=0;s<r.length;s++)(n=this.parseGroundOverlay(r[s]))&&o.push(n);return o},_check_folder:function(e,t){for(e=e.parentNode;e&&"Folder"!==e.tagName;)e=e.parentNode;return!e||e===t},parseStyles:function(e){for(var t={},n=e.getElementsByTagName("Style"),r=0,o=n.length;r<o;r++){var i=this.parseStyle(n[r]);if(i)t["#"+i.id]=i}return t},parseStyle:function(e){var t,n,r={},o={},i={},a={color:!0,width:!0,Icon:!0,href:!0,hotSpot:!0};function s(e){for(var t={},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n],o=r.tagName;if(a[o])if("hotSpot"===o)for(var l=0;l<r.attributes.length;l++)t[r.attributes[l].name]=r.attributes[l].nodeValue;else{var u=r.childNodes[0].nodeValue;"color"===o?(t.opacity=parseInt(u.substring(0,2),16)/255,t.color="#"+u.substring(6,8)+u.substring(4,6)+u.substring(2,4)):"width"===o?t.weight=u:"Icon"===o?(i=s(r)).href&&(t.href=i.href):"href"===o&&(t.href=u)}}return t}return(t=e.getElementsByTagName("LineStyle"))&&t[0]&&(r=s(t[0])),(t=e.getElementsByTagName("PolyStyle"))&&t[0]&&(o=s(t[0])),o.color&&(r.fillColor=o.color),o.opacity&&(r.fillOpacity=o.opacity),(t=e.getElementsByTagName("IconStyle"))&&t[0]&&(i=s(t[0])),i.href&&(r.icon=new L.KMLIcon({iconUrl:i.href,shadowUrl:null,anchorRef:{x:i.x,y:i.y},anchorType:{x:i.xunits,y:i.yunits}})),(n=e.getAttribute("id"))&&r&&(r.id=n),r},parseStyleMap:function(e,t){for(var n=e.getElementsByTagName("StyleMap"),r=0;r<n.length;r++){var o,i,a,s=n[r];(o=s.getElementsByTagName("key"))&&o[0]&&(i=o[0].textContent),(o=s.getElementsByTagName("styleUrl"))&&o[0]&&(a=o[0].textContent),"normal"===i&&(t["#"+s.getAttribute("id")]=t[a])}},parseFolder:function(e,t){var n,r,o=[];n=e.getElementsByTagName("Folder");for(var i=0;i<n.length;i++)this._check_folder(n[i],e)&&(r=this.parseFolder(n[i],t))&&o.push(r);n=e.getElementsByTagName("Placemark");for(var a=0;a<n.length;a++)this._check_folder(n[a],e)&&(r=this.parsePlacemark(n[a],e,t))&&o.push(r);n=e.getElementsByTagName("GroundOverlay");for(var s=0;s<n.length;s++)this._check_folder(n[s],e)&&(r=this.parseGroundOverlay(n[s]))&&o.push(r);if(o.length)return 1===o.length?o[0]:new L.FeatureGroup(o)},parsePlacemark:function(e,t,n,r){var o,i,a,s,l,u=r||{};for(l=e.getElementsByTagName("styleUrl"),i=0;i<l.length;i++){var c=l[i].childNodes[0].nodeValue;for(var d in n[c])u[d]=n[c][d]}if(e.getElementsByTagName("Style")[0]){var h=this.parseStyle(e);if(h)for(s in h)u[s]=h[s]}var p=["MultiGeometry","MultiTrack","gx:MultiTrack"];for(o in p)for(l=e.getElementsByTagName(p[o]),i=0;i<l.length;i++)return this.parsePlacemark(l[i],t,n,u);var f=[],m=["LineString","Polygon","Point","Track","gx:Track"];for(a in m){var _=m[a];for(l=e.getElementsByTagName(_),i=0;i<l.length;i++){var g=this["parse"+_.replace(/gx:/,"")](l[i],t,u);g&&f.push(g)}}if(f.length){var v=f[0];f.length>1&&(v=new L.FeatureGroup(f));var y,b="";for((l=e.getElementsByTagName("name")).length&&l[0].childNodes.length&&(y=l[0].childNodes[0].nodeValue),l=e.getElementsByTagName("description"),i=0;i<l.length;i++)for(a=0;a<l[i].childNodes.length;a++)b+=l[i].childNodes[a].nodeValue;return y&&v.on("add",(function(){v.bindPopup("<h2>"+y+"</h2>"+b,{className:"kml-popup"})})),v}},parseCoords:function(e){var t=e.getElementsByTagName("coordinates");return this._read_coords(t[0])},parseLineString:function(e,t,n){var r=this.parseCoords(e);if(r.length)return new L.Polyline(r,n)},parseTrack:function(e,t,n){var r=t.getElementsByTagName("gx:coord");0===r.length&&(r=t.getElementsByTagName("coord"));for(var o=[],i=0;i<r.length;i++)o=o.concat(this._read_gxcoords(r[i]));if(o.length)return new L.Polyline(o,n)},parsePoint:function(e,t,n){var r=e.getElementsByTagName("coordinates");if(r.length){var o=r[0].childNodes[0].nodeValue.split(",");return new L.KMLMarker(new L.LatLng(o[1],o[0]),n)}},parsePolygon:function(e,t,n){var r,o,i,a=[],s=[];for(r=e.getElementsByTagName("outerBoundaryIs"),o=0;o<r.length;o++)(i=this.parseCoords(r[o]))&&a.push(i);for(r=e.getElementsByTagName("innerBoundaryIs"),o=0;o<r.length;o++)(i=this.parseCoords(r[o]))&&s.push(i);if(a.length)return n.fillColor&&(n.fill=!0),1===a.length?new L.Polygon(a.concat(s),n):new L.MultiPolygon(a,n)},getLatLngs:function(e){for(var t=e.getElementsByTagName("coordinates"),n=[],r=0;r<t.length;r++)n=n.concat(this._read_coords(t[r]));return n},_read_coords:function(e){var t,n="",r=[];for(t=0;t<e.childNodes.length;t++)n+=e.childNodes[t].nodeValue;for(n=n.split(/[\s\n]+/),t=0;t<n.length;t++){var o=n[t].split(",");o.length<2||r.push(new L.LatLng(o[1],o[0]))}return r},_read_gxcoords:function(e){var t,n=[];return t=e.firstChild.nodeValue.split(" "),n.push(new L.LatLng(t[1],t[0])),n},parseGroundOverlay:function(e){var t=e.getElementsByTagName("LatLonBox")[0],n=new L.LatLngBounds([t.getElementsByTagName("south")[0].childNodes[0].nodeValue,t.getElementsByTagName("west")[0].childNodes[0].nodeValue],[t.getElementsByTagName("north")[0].childNodes[0].nodeValue,t.getElementsByTagName("east")[0].childNodes[0].nodeValue]),r={Icon:!0,href:!0,color:!0};var o={};if(o=function e(t){for(var n={},o={},i=0;i<t.childNodes.length;i++){var a=t.childNodes[i],s=a.tagName;if(r[s]){var l=a.childNodes[0].nodeValue;"Icon"===s?(o=e(a)).href&&(n.href=o.href):"href"===s?n.href=l:"color"===s&&(n.opacity=parseInt(l.substring(0,2),16)/255,n.color="#"+l.substring(6,8)+l.substring(4,6)+l.substring(2,4))}}return n}(e),void 0!==t.getElementsByTagName("rotation")[0]){var i=t.getElementsByTagName("rotation")[0].childNodes[0].nodeValue;o.rotation=parseFloat(i)}return new L.RotatedImageOverlay(o.href,n,{opacity:o.opacity,angle:o.rotation})}}),L.KMLIcon=L.Icon.extend({options:{iconSize:[32,32],iconAnchor:[16,16]},_setIconStyles:function(e,t){L.Icon.prototype._setIconStyles.apply(this,[e,t]),e.complete?this.applyCustomStyles(e):e.onload=this.applyCustomStyles.bind(this,e)},applyCustomStyles:function(e){var t=this.options;this.options.popupAnchor=[0,-.83*e.height],"fraction"===t.anchorType.x&&(e.style.marginLeft=-t.anchorRef.x*e.width+"px"),"fraction"===t.anchorType.y&&(e.style.marginTop=-(1-t.anchorRef.y)*e.height+1+"px"),"pixels"===t.anchorType.x&&(e.style.marginLeft=-t.anchorRef.x+"px"),"pixels"===t.anchorType.y&&(e.style.marginTop=t.anchorRef.y-e.height+1+"px")}}),L.KMLMarker=L.Marker.extend({options:{icon:new L.KMLIcon.Default}}),L.RotatedImageOverlay=L.ImageOverlay.extend({options:{angle:0},_reset:function(){L.ImageOverlay.prototype._reset.call(this),this._rotate()},_animateZoom:function(e){L.ImageOverlay.prototype._animateZoom.call(this,e),this._rotate()},_rotate:function(){if(L.DomUtil.TRANSFORM)this._image.style[L.DomUtil.TRANSFORM]+=" rotate("+this.options.angle+"deg)";else if(L.Browser.ie){var e=this.options.angle*(Math.PI/180),t=Math.cos(e),n=Math.sin(e);this._image.style.filter+=" progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand', M11="+t+", M12="+-n+", M21="+n+", M22="+t+")"}},getBounds:function(){return this._bounds}});var proj4leaflet={exports:{}};const require$$1=getAugmentedNamespace(lib);!function(e){!function(t){var n,r;n=leafletSrcExports,r=require$$1,e.exports=function(e,t){t.__esModule&&t.default&&(t=t.default);return e.Proj={},e.Proj._isProj4Obj=function(e){return void 0!==e.inverse&&void 0!==e.forward},e.Proj.Projection=e.Class.extend({initialize:function(t,n,r){var o=e.Proj._isProj4Obj(t);this._proj=o?t:this._projFromCodeDef(t,n),this.bounds=o?n:r},project:function(t){var n=this._proj.forward([t.lng,t.lat]);return new e.Point(n[0],n[1])},unproject:function(t,n){var r=this._proj.inverse([t.x,t.y]);return new e.LatLng(r[1],r[0],n)},_projFromCodeDef:function(e,n){if(n)t.defs(e,n);else if(void 0===t.defs[e]){var r=e.split(":");if(r.length>3&&(e=r[r.length-3]+":"+r[r.length-1]),void 0===t.defs[e])throw"No projection definition for code "+e}return t(e)}}),e.Proj.CRS=e.Class.extend({includes:e.CRS,options:{transformation:new e.Transformation(1,0,-1,0)},initialize:function(t,n,r){var o,i,a,s;if(e.Proj._isProj4Obj(t)?(o=(i=t).srsCode,s=n||{},this.projection=new e.Proj.Projection(i,s.bounds)):(o=t,a=n,s=r||{},this.projection=new e.Proj.Projection(o,a,s.bounds)),e.Util.setOptions(this,s),this.code=o,this.transformation=this.options.transformation,this.options.origin&&(this.transformation=new e.Transformation(1,-this.options.origin[0],-1,this.options.origin[1])),this.options.scales)this._scales=this.options.scales;else if(this.options.resolutions){this._scales=[];for(var l=this.options.resolutions.length-1;l>=0;l--)this.options.resolutions[l]&&(this._scales[l]=1/this.options.resolutions[l])}this.infinite=!this.options.bounds},scale:function(e){var t,n=Math.floor(e);return e===n?this._scales[e]:(t=this._scales[n])+(this._scales[n+1]-t)*(e-n)},zoom:function(e){var t,n,r=this._closestElement(this._scales,e),o=this._scales.indexOf(r);return e===r?o:void 0===r?-1/0:(n=o+1,void 0===(t=this._scales[n])?1/0:(e-r)/(t-r)+o)},distance:e.CRS.Earth.distance,R:e.CRS.Earth.R,_closestElement:function(e,t){for(var n,r=e.length;r--;)e[r]<=t&&(void 0===n||n<e[r])&&(n=e[r]);return n}}),e.Proj.GeoJSON=e.GeoJSON.extend({initialize:function(t,n){this._callLevel=0,e.GeoJSON.prototype.initialize.call(this,t,n)},addData:function(t){var n;t&&(t.crs&&"name"===t.crs.type?n=new e.Proj.CRS(t.crs.properties.name):t.crs&&t.crs.type&&(n=new e.Proj.CRS(t.crs.type+":"+t.crs.properties.code)),void 0!==n&&(this.options.coordsToLatLng=function(t){var r=e.point(t[0],t[1]);return n.projection.unproject(r)})),this._callLevel++;try{e.GeoJSON.prototype.addData.call(this,t)}finally{this._callLevel--,0===this._callLevel&&delete this.options.coordsToLatLng}}}),e.Proj.geoJson=function(t,n){return new e.Proj.GeoJSON(t,n)},e.Proj.ImageOverlay=e.ImageOverlay.extend({initialize:function(t,n,r){e.ImageOverlay.prototype.initialize.call(this,t,null,r),this._projectedBounds=n},_animateZoom:function(t){var n=this._map.getZoomScale(t.zoom),r=e.point(this._projectedBounds.min.x,this._projectedBounds.max.y),o=this._projectedToNewLayerPoint(r,t.zoom,t.center);e.DomUtil.setTransform(this._image,o,n)},_reset:function(){var t=this._map.getZoom(),n=this._map.getPixelOrigin(),r=e.bounds(this._transform(this._projectedBounds.min,t)._subtract(n),this._transform(this._projectedBounds.max,t)._subtract(n)),o=r.getSize();e.DomUtil.setPosition(this._image,r.min),this._image.style.width=o.x+"px",this._image.style.height=o.y+"px"},_projectedToNewLayerPoint:function(e,t,n){var r=this._map.getSize()._divideBy(2),o=this._map.project(n,t)._subtract(r)._round().add(this._map._getMapPanePos());return this._transform(e,t)._subtract(o)},_transform:function(e,t){var n=this._map.options.crs,r=n.transformation,o=n.scale(t);return r.transform(e,o)}}),e.Proj.imageOverlay=function(t,n,r){return new e.Proj.ImageOverlay(t,n,r)},e.Proj}(n,r)}()}(proj4leaflet);var fetchJsonp$1={exports:{}};!function(t,n){!function(t,n){var r={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function o(){return"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random())}function i(t){try{delete window[t]}catch(e){window[t]=void 0}}function a(e){var t=document.getElementById(e);t&&document.getElementsByTagName("head")[0].removeChild(t)}function s(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=e,s=t.timeout||r.timeout,l=t.jsonpCallback||r.jsonpCallback,u=void 0;return new Promise((function(r,c){var d=t.jsonpCallbackFunction||o(),h=l+"_"+d;window[d]=function(e){r({ok:!0,json:function(){return Promise.resolve(e)}}),u&&clearTimeout(u),a(h),i(d)},n+=-1===n.indexOf("?")?"?":"&";var p=document.createElement("script");p.setAttribute("src",""+n+l+"="+d),t.charset&&p.setAttribute("charset",t.charset),t.nonce&&p.setAttribute("nonce",t.nonce),t.referrerPolicy&&p.setAttribute("referrerPolicy",t.referrerPolicy),t.crossorigin&&p.setAttribute("crossorigin","true"),p.id=h,document.getElementsByTagName("head")[0].appendChild(p),u=setTimeout((function(){c(new Error("JSONP request to "+e+" timed out")),i(d),a(h),window[d]=function(){i(d)}}),s),p.onerror=function(){c(new Error("JSONP request to "+e+" failed")),i(d),a(h),u&&clearTimeout(u)}}))}n.exports=s}(0,t)}(fetchJsonp$1,fetchJsonp$1.exports);var fetchJsonpExports=fetchJsonp$1.exports,bboxIntersect$1=function(e,t){return!(e[0]>t[2]||e[2]<t[0]||e[3]<t[1]||e[1]>t[3])},L$2=leafletSrcExports,fetchJsonp=fetchJsonpExports,bboxIntersect=bboxIntersect$1;function toQuadKey(e,t,n){for(var r="",o=n;o>0;o--){var i=0,a=1<<o-1;0!=(e&a)&&i++,0!=(t&a)&&(i+=2),r+=i.toString()}return r}function toBingBBox(e){var t=e.split(",");return[t[1],t[0],t[3],t[2]]}var VALID_IMAGERY_SETS=["Aerial","AerialWithLabels","AerialWithLabelsOnDemand","Road","RoadOnDemand","CanvasLight","CanvasDark","CanvasGray","OrdnanceSurvey"],DYNAMIC_IMAGERY_SETS=["AerialWithLabelsOnDemand","RoadOnDemand"];L$2.TileLayer.Bing=L$2.TileLayer.extend({options:{bingMapsKey:null,imagerySet:"Aerial",culture:"en-US",minZoom:1,minNativeZoom:1,maxNativeZoom:19},statics:{METADATA_URL:"https://dev.virtualearth.net/REST/v1/Imagery/Metadata/{imagerySet}?key={bingMapsKey}&include=ImageryProviders&uriScheme=https&c={culture}",POINT_METADATA_URL:"https://dev.virtualearth.net/REST/v1/Imagery/Metadata/{imagerySet}/{lat},{lng}?zl={z}&key={bingMapsKey}&uriScheme=https&c={culture}"},initialize:function(e){if("string"==typeof e&&(e={bingMapsKey:e}),e&&e.BingMapsKey&&(e.bingMapsKey=e.BingMapsKey),!e||!e.bingMapsKey)throw new Error("Must supply options.BingMapsKey");if(e=L$2.setOptions(this,e),VALID_IMAGERY_SETS.indexOf(e.imagerySet)<0)throw new Error("'"+e.imagerySet+"' is an invalid imagerySet, see https://github.com/digidem/leaflet-bing-layer#parameters");e&&e.style&&DYNAMIC_IMAGERY_SETS.indexOf(e.imagerySet);var t=L$2.Util.template(L$2.TileLayer.Bing.METADATA_URL,{bingMapsKey:this.options.bingMapsKey,imagerySet:this.options.imagerySet,culture:this.options.culture});this._imageryProviders=[],this._attributions=[],this._fetch=fetchJsonp(t,{jsonpCallback:"jsonp"}).then((function(e){return e.json()})).then(this._metaDataOnLoad.bind(this)).catch(void 0),L$2.Browser.android||this.on("tileunload",this._onTileRemove)},createTile:function(e,t){var n=document.createElement("img");return L$2.DomEvent.on(n,"load",L$2.bind(this._tileOnLoad,this,t,n)),L$2.DomEvent.on(n,"error",L$2.bind(this._tileOnError,this,t,n)),this.options.crossOrigin&&(n.crossOrigin=""),n.alt="",this._url?n.src=this.getTileUrl(e):this._fetch.then(function(){n.src=this.getTileUrl(e)}.bind(this)).catch((function(e){t(e)})),n},getTileUrl:function(e){var t=toQuadKey(e.x,e.y,e.z),n=L$2.Util.template(this._url,{quadkey:t,subdomain:this._getSubdomain(e),culture:this.options.culture});return"string"==typeof this.options.style&&(n+="&st="+this.options.style),n},onAdd:function(e){e.on("moveend",this._updateAttribution,this),L$2.TileLayer.prototype.onAdd.call(this,e),this._attributions.forEach((function(t){e.attributionControl.addAttribution(t)}))},onRemove:function(e){e.off("moveend",this._updateAttribution,this),this._attributions.forEach((function(t){e.attributionControl.removeAttribution(t)})),L$2.TileLayer.prototype.onRemove.call(this,e)},getMetaData:function(e,t){if(!(this._map||e&&t))return Promise.reject(new Error("If layer is not attached to map, you must provide LatLng and zoom"));e=e||this._map.getCenter(),t=t||this._map.getZoom();var n=L$2.Util.template(L$2.TileLayer.Bing.POINT_METADATA_URL,{bingMapsKey:this.options.bingMapsKey,imagerySet:this.options.imagerySet,z:t,lat:e.lat,lng:e.lng});return fetchJsonp(n,{jsonpCallback:"jsonp"}).then((function(e){return e.json()})).catch(void 0)},_metaDataOnLoad:function(e){if(200!==e.statusCode)throw new Error("Bing Imagery Metadata error: \n"+JSON.stringify(e,null,"  "));var t=e.resourceSets[0].resources[0];return this._url=t.imageUrl,this._imageryProviders=t.imageryProviders||[],this.options.subdomains=t.imageUrlSubdomains,this._updateAttribution(),Promise.resolve()},_updateAttribution:function(){var e=this._map;if(e&&e.attributionControl){var t=e.getZoom(),n=toBingBBox(e.getBounds().toBBoxString());this._fetch.then(function(){var r=this._getAttributions(n,t),o=this._attributions;r.forEach((function(t){o.indexOf(t)>-1||e.attributionControl.addAttribution(t)})),o.filter((function(t){r.indexOf(t)>-1||e.attributionControl.removeAttribution(t)})),this._attributions=r}.bind(this))}},_getAttributions:function(e,t){return this._imageryProviders.reduce((function(n,r){for(var o=0;o<r.coverageAreas.length;o++)if(bboxIntersect(e,r.coverageAreas[o].bbox)&&t>=r.coverageAreas[o].zoomMin&&t<=r.coverageAreas[o].zoomMax)return n.push(r.attribution),n;return n}),[])}}),L$2.tileLayer.bing=function(e){return new L$2.TileLayer.Bing(e)},L$2.TileLayer.Bing,L.Proj&&(L.CRS.Baidu=new L.Proj.CRS("EPSG:900913","+proj=merc +a=6378206 +b=6356584.314245179 +lat_ts=0.0 +lon_0=0.0 +x_0=0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs",{resolutions:function(){var e=[];e[0]=Math.pow(2,18);for(var t=1;t<19;t++)e[t]=Math.pow(2,18-t);return e}(),origin:[0,0],bounds:L.bounds([20037508.342789244,0],[0,20037508.342789244])})),L.TileLayer.ChinaProvider=L.TileLayer.extend({initialize:function(e,t){var n=L.TileLayer.ChinaProvider.providers;t=t||{};var r=e.split("."),o=r[0],i=r[1],a=r[2],s=n[o][i][a];t.subdomains=n[o].Subdomains,t.key=t.key||n[o].key,"tms"in n[o]&&(t.tms=n[o].tms),L.TileLayer.prototype.initialize.call(this,s,t)},getTileUrl:function(e){var t={s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=n),t["-y"]=n}return t.sx=t.x>>4,t.sy=(1<<t.z)-t.y>>4,L.Util.template(this._url,L.Util.extend(t,this.options))}}),L.TileLayer.ChinaProvider.providers={TianDiTu:{Normal:{Map:"//t{s}.tianditu.gov.cn/DataServer?T=vec_w&X={x}&Y={y}&L={z}&tk={key}",Annotion:"//t{s}.tianditu.gov.cn/DataServer?T=cva_w&X={x}&Y={y}&L={z}&tk={key}"},Satellite:{Map:"//t{s}.tianditu.gov.cn/DataServer?T=img_w&X={x}&Y={y}&L={z}&tk={key}",Annotion:"//t{s}.tianditu.gov.cn/DataServer?T=cia_w&X={x}&Y={y}&L={z}&tk={key}"},Terrain:{Map:"//t{s}.tianditu.gov.cn/DataServer?T=ter_w&X={x}&Y={y}&L={z}&tk={key}",Annotion:"//t{s}.tianditu.gov.cn/DataServer?T=cta_w&X={x}&Y={y}&L={z}&tk={key}"},Subdomains:["0","1","2","3","4","5","6","7"],key:"174705aebfe31b79b3587279e211cb9a"},GaoDe:{Normal:{Map:"//webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}"},Satellite:{Map:"//webst0{s}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",Annotion:"//webst0{s}.is.autonavi.com/appmaptile?style=8&x={x}&y={y}&z={z}"},Subdomains:["1","2","3","4"]},Google:{Normal:{Map:"//www.google.cn/maps/vt?lyrs=m@189&gl=cn&x={x}&y={y}&z={z}"},Satellite:{Map:"//www.google.cn/maps/vt?lyrs=s@189&gl=cn&x={x}&y={y}&z={z}",Annotion:"//www.google.cn/maps/vt?lyrs=y@189&gl=cn&x={x}&y={y}&z={z}"},Subdomains:[]},Geoq:{Normal:{Map:"//map.geoq.cn/ArcGIS/rest/services/ChinaOnlineCommunity/MapServer/tile/{z}/{y}/{x}",PurplishBlue:"//map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetPurplishBlue/MapServer/tile/{z}/{y}/{x}",Gray:"//map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetGray/MapServer/tile/{z}/{y}/{x}",Warm:"//map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetWarm/MapServer/tile/{z}/{y}/{x}"},Theme:{Hydro:"//thematic.geoq.cn/arcgis/rest/services/ThematicMaps/WorldHydroMap/MapServer/tile/{z}/{y}/{x}"},Subdomains:[]},OSM:{Normal:{Map:"//{s}.tile.osm.org/{z}/{x}/{y}.png"},Subdomains:["a","b","c"]},Baidu:{Normal:{Map:"//online{s}.map.bdimg.com/onlinelabel/?qt=tile&x={x}&y={y}&z={z}&styles=pl&scaler=1&p=1"},Satellite:{Map:"//shangetu{s}.map.bdimg.com/it/u=x={x};y={y};z={z};v=009;type=sate&fm=46",Annotion:"//online{s}.map.bdimg.com/tile/?qt=tile&x={x}&y={y}&z={z}&styles=sl&v=020"},Subdomains:"0123456789",tms:!0},Tencent:{Normal:{Map:"//rt{s}.map.gtimg.com/tile?z={z}&x={x}&y={-y}&type=vector&styleid=3"},Satellite:{Map:"//p{s}.map.gtimg.com/sateTiles/{z}/{sx}/{sy}/{x}_{-y}.jpg"},Terrain:{Map:"//p{s}.map.gtimg.com/demTiles/{z}/{sx}/{sy}/{x}_{-y}.jpg"},Subdomains:"0123"}},L.tileLayer.chinaProvider=function(e,t){return new L.TileLayer.ChinaProvider(e,t)};var leaflet_markercluster={exports:{}};!function(e){var t=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(e){L.Util.setOptions(this,e),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var t=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,t?this._withAnimation:this._noAnimation),this._markerCluster=t?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(e){if(e instanceof L.LayerGroup)return this.addLayers([e]);if(!e.getLatLng)return this._nonPointGroup.addLayer(e),this.fire("layeradd",{layer:e}),this;if(!this._map)return this._needsClustering.push(e),this.fire("layeradd",{layer:e}),this;if(this.hasLayer(e))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(e,this._maxZoom),this.fire("layeradd",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var t=e,n=this._zoom;if(e.__parent)for(;t.__parent._zoom>=n;)t=t.__parent;return this._currentShownBounds.contains(t.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(e,t):this._animationAddLayerNonAnimated(e,t)),this},removeLayer:function(e){return e instanceof L.LayerGroup?this.removeLayers([e]):(e.getLatLng?this._map?e.__parent&&(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(e)),this._removeLayer(e,!0),this.fire("layerremove",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),e.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(e)&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow())):(!this._arraySplice(this._needsClustering,e)&&this.hasLayer(e)&&this._needsRemoving.push({layer:e,latlng:e._latlng}),this.fire("layerremove",{layer:e})):(this._nonPointGroup.removeLayer(e),this.fire("layerremove",{layer:e})),this)},addLayers:function(e,t){if(!L.Util.isArray(e))return this.addLayer(e);var n,r=this._featureGroup,o=this._nonPointGroup,i=this.options.chunkedLoading,a=this.options.chunkInterval,s=this.options.chunkProgress,l=e.length,u=0,c=!0;if(this._map){var d=(new Date).getTime(),h=L.bind((function(){var p=(new Date).getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();u<l;u++){if(i&&u%200==0){var f=(new Date).getTime()-p;if(a<f)break}if((n=e[u])instanceof L.LayerGroup)c&&(e=e.slice(),c=!1),this._extractNonGroupLayers(n,e),l=e.length;else if(n.getLatLng){if(!this.hasLayer(n)&&(this._addLayer(n,this._maxZoom),t||this.fire("layeradd",{layer:n}),n.__parent&&2===n.__parent.getChildCount())){var m=n.__parent.getAllChildMarkers(),_=m[0]===n?m[1]:m[0];r.removeLayer(_)}}else o.addLayer(n),t||this.fire("layeradd",{layer:n})}s&&s(u,l,(new Date).getTime()-d),u===l?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(h,this.options.chunkDelay)}),this);h()}else for(var p=this._needsClustering;u<l;u++)(n=e[u])instanceof L.LayerGroup?(c&&(e=e.slice(),c=!1),this._extractNonGroupLayers(n,e),l=e.length):n.getLatLng?this.hasLayer(n)||p.push(n):o.addLayer(n);return this},removeLayers:function(e){var t,n,r=e.length,o=this._featureGroup,i=this._nonPointGroup,a=!0;if(!this._map){for(t=0;t<r;t++)(n=e[t])instanceof L.LayerGroup?(a&&(e=e.slice(),a=!1),this._extractNonGroupLayers(n,e),r=e.length):(this._arraySplice(this._needsClustering,n),i.removeLayer(n),this.hasLayer(n)&&this._needsRemoving.push({layer:n,latlng:n._latlng}),this.fire("layerremove",{layer:n}));return this}if(this._unspiderfy){this._unspiderfy();var s=e.slice(),l=r;for(t=0;t<l;t++)(n=s[t])instanceof L.LayerGroup?(this._extractNonGroupLayers(n,s),l=s.length):this._unspiderfyLayer(n)}for(t=0;t<r;t++)(n=e[t])instanceof L.LayerGroup?(a&&(e=e.slice(),a=!1),this._extractNonGroupLayers(n,e),r=e.length):n.__parent?(this._removeLayer(n,!0,!0),this.fire("layerremove",{layer:n}),o.hasLayer(n)&&(o.removeLayer(n),n.clusterShow&&n.clusterShow())):(i.removeLayer(n),this.fire("layerremove",{layer:n}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer((function(e){e.off(this._childMarkerEventHandlers,this),delete e.__parent}),this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var e=new L.LatLngBounds;this._topClusterLevel&&e.extend(this._topClusterLevel._bounds);for(var t=this._needsClustering.length-1;0<=t;t--)e.extend(this._needsClustering[t].getLatLng());return e.extend(this._nonPointGroup.getBounds()),e},eachLayer:function(e,t){var n,r,o,i=this._needsClustering.slice(),a=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(i),r=i.length-1;0<=r;r--){for(n=!0,o=a.length-1;0<=o;o--)if(a[o].layer===i[r]){n=!1;break}n&&e.call(t,i[r])}this._nonPointGroup.eachLayer(e,t)},getLayers:function(){var e=[];return this.eachLayer((function(t){e.push(t)})),e},getLayer:function(e){var t=null;return e=parseInt(e,10),this.eachLayer((function(n){L.stamp(n)===e&&(t=n)})),t},hasLayer:function(e){if(!e)return!1;var t,n=this._needsClustering;for(t=n.length-1;0<=t;t--)if(n[t]===e)return!0;for(t=(n=this._needsRemoving).length-1;0<=t;t--)if(n[t].layer===e)return!1;return!(!e.__parent||e.__parent._group!==this)||this._nonPointGroup.hasLayer(e)},zoomToShowLayer:function(e,t){var n=this._map;"function"!=typeof t&&(t=function(){});var r=function(){!n.hasLayer(e)&&!n.hasLayer(e.__parent)||this._inZoomAnimation||(this._map.off("moveend",r,this),this.off("animationend",r,this),n.hasLayer(e)?t():e.__parent._icon&&(this.once("spiderfied",t,this),e.__parent.spiderfy()))};e._icon&&this._map.getBounds().contains(e.getLatLng())?t():e.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",r,this),this._map.panTo(e.getLatLng())):(this._map.on("moveend",r,this),this.on("animationend",r,this),e.__parent.zoomToBounds())},onAdd:function(e){var t,n,r;if(this._map=e,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(e),this._nonPointGroup.addTo(e),this._gridClusters||this._generateInitialClusters(),this._maxLat=e.options.crs.projection.MAX_LATITUDE,t=0,n=this._needsRemoving.length;t<n;t++)(r=this._needsRemoving[t]).newlatlng=r.layer._latlng,r.layer._latlng=r.latlng;for(t=0,n=this._needsRemoving.length;t<n;t++)r=this._needsRemoving[t],this._removeLayer(r.layer,!0),r.layer._latlng=r.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),n=this._needsClustering,this._needsClustering=[],this.addLayers(n,!0)},onRemove:function(e){e.off("zoomend",this._zoomEnd,this),e.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(e){for(var t=e;t&&!t._icon;)t=t.__parent;return t||null},_arraySplice:function(e,t){for(var n=e.length-1;0<=n;n--)if(e[n]===t)return e.splice(n,1),!0},_removeFromGridUnclustered:function(e,t){for(var n=this._map,r=this._gridUnclustered,o=Math.floor(this._map.getMinZoom());o<=t&&r[t].removeObject(e,n.project(e.getLatLng(),t));t--);},_childMarkerDragStart:function(e){e.target.__dragStart=e.target._latlng},_childMarkerMoved:function(e){if(!this._ignoreMove&&!e.target.__dragStart){var t=e.target._popup&&e.target._popup.isOpen();this._moveChild(e.target,e.oldLatLng,e.latlng),t&&e.target.openPopup()}},_moveChild:function(e,t,n){e._latlng=t,this.removeLayer(e),e._latlng=n,this.addLayer(e)},_childMarkerDragEnd:function(e){var t=e.target.__dragStart;delete e.target.__dragStart,t&&this._moveChild(e.target,t,e.target._latlng)},_removeLayer:function(e,t,n){var r=this._gridClusters,o=this._gridUnclustered,i=this._featureGroup,a=this._map,s=Math.floor(this._map.getMinZoom());t&&this._removeFromGridUnclustered(e,this._maxZoom);var l,u=e.__parent,c=u._markers;for(this._arraySplice(c,e);u&&(u._childCount--,u._boundsNeedUpdate=!0,!(u._zoom<s));)t&&u._childCount<=1?(l=u._markers[0]===e?u._markers[1]:u._markers[0],r[u._zoom].removeObject(u,a.project(u._cLatLng,u._zoom)),o[u._zoom].addObject(l,a.project(l.getLatLng(),u._zoom)),this._arraySplice(u.__parent._childClusters,u),u.__parent._markers.push(l),l.__parent=u.__parent,u._icon&&(i.removeLayer(u),n||i.addLayer(l))):u._iconNeedsUpdate=!0,u=u.__parent;delete e.__parent},_isOrIsParent:function(e,t){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},fire:function(e,t,n){if(t&&t.layer instanceof L.MarkerCluster){if(t.originalEvent&&this._isOrIsParent(t.layer._icon,t.originalEvent.relatedTarget))return;e="cluster"+e}L.FeatureGroup.prototype.fire.call(this,e,t,n)},listens:function(e,t){return L.FeatureGroup.prototype.listens.call(this,e,t)||L.FeatureGroup.prototype.listens.call(this,"cluster"+e,t)},_defaultIconCreateFunction:function(e){var t=e.getChildCount(),n=" marker-cluster-";return n+=t<10?"small":t<100?"medium":"large",new L.DivIcon({html:"<div><span>"+t+"</span></div>",className:"marker-cluster"+n,iconSize:new L.Point(40,40)})},_bindEvents:function(){var e=this._map,t=this.options.spiderfyOnMaxZoom,n=this.options.showCoverageOnHover,r=this.options.zoomToBoundsOnClick,o=this.options.spiderfyOnEveryZoom;(t||r||o)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),n&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),e.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(e){var t=e.layer,n=t;if("clusterkeypress"!==e.type||!e.originalEvent||13===e.originalEvent.keyCode){for(;1===n._childClusters.length;)n=n._childClusters[0];n._zoom===this._maxZoom&&n._childCount===t._childCount&&this.options.spiderfyOnMaxZoom?t.spiderfy():this.options.zoomToBoundsOnClick&&t.zoomToBounds(),this.options.spiderfyOnEveryZoom&&t.spiderfy(),e.originalEvent&&13===e.originalEvent.keyCode&&this._map._container.focus()}},_showCoverage:function(e){var t=this._map;this._inZoomAnimation||(this._shownPolygon&&t.removeLayer(this._shownPolygon),2<e.layer.getChildCount()&&e.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(e.layer.getConvexHull(),this.options.polygonOptions),t.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var e=this.options.spiderfyOnMaxZoom,t=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick,r=this.options.spiderfyOnEveryZoom,o=this._map;(e||n||r)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),t&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),o.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var e=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),e),this._currentShownBounds=e}},_generateInitialClusters:function(){var e=Math.ceil(this._map.getMaxZoom()),t=Math.floor(this._map.getMinZoom()),n=this.options.maxClusterRadius,r=n;"function"!=typeof n&&(r=function(){return n}),null!==this.options.disableClusteringAtZoom&&(e=this.options.disableClusteringAtZoom-1),this._maxZoom=e,this._gridClusters={},this._gridUnclustered={};for(var o=e;t<=o;o--)this._gridClusters[o]=new L.DistanceGrid(r(o)),this._gridUnclustered[o]=new L.DistanceGrid(r(o));this._topClusterLevel=new this._markerCluster(this,t-1)},_addLayer:function(e,t){var n,r,o=this._gridClusters,i=this._gridUnclustered,a=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(e),e.on(this._childMarkerEventHandlers,this);a<=t;t--){n=this._map.project(e.getLatLng(),t);var s=o[t].getNearObject(n);if(s)return s._addChild(e),void(e.__parent=s);if(s=i[t].getNearObject(n)){var l=s.__parent;l&&this._removeLayer(s,!1);var u=new this._markerCluster(this,t,s,e);o[t].addObject(u,this._map.project(u._cLatLng,t)),s.__parent=u;var c=e.__parent=u;for(r=t-1;r>l._zoom;r--)c=new this._markerCluster(this,r,c),o[r].addObject(c,this._map.project(s.getLatLng(),r));return l._addChild(c),void this._removeFromGridUnclustered(s,t)}i[t].addObject(e,n)}this._topClusterLevel._addChild(e),e.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer((function(e){e instanceof L.MarkerCluster&&e._iconNeedsUpdate&&e._updateIcon()}))},_enqueue:function(e){this._queue.push(e),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var e=0;e<this._queue.length;e++)this._queue[e].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var e=Math.round(this._map._zoom);this._processQueue(),this._zoom<e&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,e)):this._zoom>e?(this._animationStart(),this._animationZoomOut(this._zoom,e)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(e){var t=this._maxLat;return void 0!==t&&(e.getNorth()>=t&&(e._northEast.lat=1/0),e.getSouth()<=-t&&(e._southWest.lat=-1/0)),e},_animationAddLayerNonAnimated:function(e,t){if(t===e)this._featureGroup.addLayer(e);else if(2===t._childCount){t._addToMap();var n=t.getAllChildMarkers();this._featureGroup.removeLayer(n[0]),this._featureGroup.removeLayer(n[1])}else t._updateIcon()},_extractNonGroupLayers:function(e,t){var n,r=e.getLayers(),o=0;for(t=t||[];o<r.length;o++)(n=r[o])instanceof L.LayerGroup?this._extractNonGroupLayers(n,t):t.push(n);return t},_overrideMarkerIcon:function(e){return e.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[e]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(e,t){this._animationAddLayerNonAnimated(e,t)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(e,t){var n,r=this._getExpandedVisibleBounds(),o=this._featureGroup,i=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(r,e,i,(function(i){var a,s=i._latlng,l=i._markers;for(r.contains(s)||(s=null),i._isSingleParent()&&e+1===t?(o.removeLayer(i),i._recursivelyAddChildrenToMap(null,t,r)):(i.clusterHide(),i._recursivelyAddChildrenToMap(s,t,r)),n=l.length-1;0<=n;n--)a=l[n],r.contains(a._latlng)||o.removeLayer(a)})),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(r,t),o.eachLayer((function(e){e instanceof L.MarkerCluster||!e._icon||e.clusterShow()})),this._topClusterLevel._recursively(r,e,t,(function(e){e._recursivelyRestoreChildPositions(t)})),this._ignoreMove=!1,this._enqueue((function(){this._topClusterLevel._recursively(r,e,i,(function(e){o.removeLayer(e),e.clusterShow()})),this._animationEnd()}))},_animationZoomOut:function(e,t){this._animationZoomOutSingle(this._topClusterLevel,e-1,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e,this._getExpandedVisibleBounds())},_animationAddLayer:function(e,t){var n=this,r=this._featureGroup;r.addLayer(e),t!==e&&(2<t._childCount?(t._updateIcon(),this._forceLayout(),this._animationStart(),e._setPos(this._map.latLngToLayerPoint(t.getLatLng())),e.clusterHide(),this._enqueue((function(){r.removeLayer(e),e.clusterShow(),n._animationEnd()}))):(this._forceLayout(),n._animationStart(),n._animationZoomOutSingle(t,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(e,t,n){var r=this._getExpandedVisibleBounds(),o=Math.floor(this._map.getMinZoom());e._recursivelyAnimateChildrenInAndAddSelfToMap(r,o,t+1,n);var i=this;this._forceLayout(),e._recursivelyBecomeVisible(r,n),this._enqueue((function(){if(1===e._childCount){var a=e._markers[0];this._ignoreMove=!0,a.setLatLng(a.getLatLng()),this._ignoreMove=!1,a.clusterShow&&a.clusterShow()}else e._recursively(r,n,o,(function(e){e._recursivelyRemoveChildrenFromMap(r,o,t+1)}));i._animationEnd()}))},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(e){return new L.MarkerClusterGroup(e)};var n=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(e,t,n,r){L.Marker.prototype.initialize.call(this,n?n._cLatLng||n.getLatLng():new L.LatLng(0,0),{icon:this,pane:e.options.clusterPane}),this._group=e,this._zoom=t,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,n&&this._addChild(n),r&&this._addChild(r)},getAllChildMarkers:function(e,t){e=e||[];for(var n=this._childClusters.length-1;0<=n;n--)this._childClusters[n].getAllChildMarkers(e,t);for(var r=this._markers.length-1;0<=r;r--)t&&this._markers[r].__dragStart||e.push(this._markers[r]);return e},getChildCount:function(){return this._childCount},zoomToBounds:function(e){for(var t,n=this._childClusters.slice(),r=this._group._map,o=r.getBoundsZoom(this._bounds),i=this._zoom+1,a=r.getZoom();0<n.length&&i<o;){i++;var s=[];for(t=0;t<n.length;t++)s=s.concat(n[t]._childClusters);n=s}i<o?this._group._map.setView(this._latlng,i):o<=a?this._group._map.setView(this._latlng,a+1):this._group._map.fitBounds(this._bounds,e)},getBounds:function(){var e=new L.LatLngBounds;return e.extend(this._bounds),e},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(e,t){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(e),e instanceof L.MarkerCluster?(t||(this._childClusters.push(e),e.__parent=this),this._childCount+=e._childCount):(t||this._markers.push(e),this._childCount++),this.__parent&&this.__parent._addChild(e,!0)},_setClusterCenter:function(e){this._cLatLng||(this._cLatLng=e._cLatLng||e._latlng)},_resetBounds:function(){var e=this._bounds;e._southWest&&(e._southWest.lat=1/0,e._southWest.lng=1/0),e._northEast&&(e._northEast.lat=-1/0,e._northEast.lng=-1/0)},_recalculateBounds:function(){var e,t,n,r,o=this._markers,i=this._childClusters,a=0,s=0,l=this._childCount;if(0!==l){for(this._resetBounds(),e=0;e<o.length;e++)n=o[e]._latlng,this._bounds.extend(n),a+=n.lat,s+=n.lng;for(e=0;e<i.length;e++)(t=i[e])._boundsNeedUpdate&&t._recalculateBounds(),this._bounds.extend(t._bounds),n=t._wLatLng,r=t._childCount,a+=n.lat*r,s+=n.lng*r;this._latlng=this._wLatLng=new L.LatLng(a/l,s/l),this._boundsNeedUpdate=!1}},_addToMap:function(e){e&&(this._backupLatlng=this._latlng,this.setLatLng(e)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(e,t,n){this._recursively(e,this._group._map.getMinZoom(),n-1,(function(e){var n,r,o=e._markers;for(n=o.length-1;0<=n;n--)(r=o[n])._icon&&(r._setPos(t),r.clusterHide())}),(function(e){var n,r,o=e._childClusters;for(n=o.length-1;0<=n;n--)(r=o[n])._icon&&(r._setPos(t),r.clusterHide())}))},_recursivelyAnimateChildrenInAndAddSelfToMap:function(e,t,n,r){this._recursively(e,r,t,(function(o){o._recursivelyAnimateChildrenIn(e,o._group._map.latLngToLayerPoint(o.getLatLng()).round(),n),o._isSingleParent()&&n-1===r?(o.clusterShow(),o._recursivelyRemoveChildrenFromMap(e,t,n)):o.clusterHide(),o._addToMap()}))},_recursivelyBecomeVisible:function(e,t){this._recursively(e,this._group._map.getMinZoom(),t,null,(function(e){e.clusterShow()}))},_recursivelyAddChildrenToMap:function(e,t,n){this._recursively(n,this._group._map.getMinZoom()-1,t,(function(r){if(t!==r._zoom)for(var o=r._markers.length-1;0<=o;o--){var i=r._markers[o];n.contains(i._latlng)&&(e&&(i._backupLatlng=i.getLatLng(),i.setLatLng(e),i.clusterHide&&i.clusterHide()),r._group._featureGroup.addLayer(i))}}),(function(t){t._addToMap(e)}))},_recursivelyRestoreChildPositions:function(e){for(var t=this._markers.length-1;0<=t;t--){var n=this._markers[t];n._backupLatlng&&(n.setLatLng(n._backupLatlng),delete n._backupLatlng)}if(e-1===this._zoom)for(var r=this._childClusters.length-1;0<=r;r--)this._childClusters[r]._restorePosition();else for(var o=this._childClusters.length-1;0<=o;o--)this._childClusters[o]._recursivelyRestoreChildPositions(e)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(e,t,n,r){var o,i;this._recursively(e,t-1,n-1,(function(e){for(i=e._markers.length-1;0<=i;i--)o=e._markers[i],r&&r.contains(o._latlng)||(e._group._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())}),(function(e){for(i=e._childClusters.length-1;0<=i;i--)o=e._childClusters[i],r&&r.contains(o._latlng)||(e._group._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())}))},_recursively:function(e,t,n,r,o){var i,a,s=this._childClusters,l=this._zoom;if(t<=l&&(r&&r(this),o&&l===n&&o(this)),l<t||l<n)for(i=s.length-1;0<=i;i--)(a=s[i])._boundsNeedUpdate&&a._recalculateBounds(),e.intersects(a._bounds)&&a._recursively(e,t,n,r,o)},_isSingleParent:function(){return 0<this._childClusters.length&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var e=this.options.opacity;return this.setOpacity(0),this.options.opacity=e,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(e){this._cellSize=e,this._sqCellSize=e*e,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(e,t){var n=this._getCoord(t.x),r=this._getCoord(t.y),o=this._grid,i=o[r]=o[r]||{},a=i[n]=i[n]||[],s=L.Util.stamp(e);this._objectPoint[s]=t,a.push(e)},updateObject:function(e,t){this.removeObject(e),this.addObject(e,t)},removeObject:function(e,t){var n,r,o=this._getCoord(t.x),i=this._getCoord(t.y),a=this._grid,s=a[i]=a[i]||{},l=s[o]=s[o]||[];for(delete this._objectPoint[L.Util.stamp(e)],n=0,r=l.length;n<r;n++)if(l[n]===e)return l.splice(n,1),1===r&&delete s[o],!0},eachObject:function(e,t){var n,r,o,i,a,s,l=this._grid;for(n in l)for(r in a=l[n])for(o=0,i=(s=a[r]).length;o<i;o++)e.call(t,s[o])&&(o--,i--)},getNearObject:function(e){var t,n,r,o,i,a,s,l,u=this._getCoord(e.x),c=this._getCoord(e.y),d=this._objectPoint,h=this._sqCellSize,p=null;for(t=c-1;t<=c+1;t++)if(o=this._grid[t])for(n=u-1;n<=u+1;n++)if(i=o[n])for(r=0,a=i.length;r<a;r++)s=i[r],((l=this._sqDist(d[L.Util.stamp(s)],e))<h||l<=h&&null===p)&&(h=l,p=s);return p},_getCoord:function(e){var t=Math.floor(e/this._cellSize);return isFinite(t)?t:e},_sqDist:function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}},L.QuickHull={getDistant:function(e,t){var n=t[1].lat-t[0].lat;return(t[0].lng-t[1].lng)*(e.lat-t[0].lat)+n*(e.lng-t[0].lng)},findMostDistantPointFromBaseLine:function(e,t){var n,r,o,i=0,a=null,s=[];for(n=t.length-1;0<=n;n--)r=t[n],0<(o=this.getDistant(r,e))&&(s.push(r),i<o&&(i=o,a=r));return{maxPoint:a,newPoints:s}},buildConvexHull:function(e,t){var n=[],r=this.findMostDistantPointFromBaseLine(e,t);return r.maxPoint?n=(n=n.concat(this.buildConvexHull([e[0],r.maxPoint],r.newPoints))).concat(this.buildConvexHull([r.maxPoint,e[1]],r.newPoints)):[e[0]]},getConvexHull:function(e){var t,n=!1,r=!1,o=!1,i=!1,a=null,s=null,l=null,u=null,c=null,d=null;for(t=e.length-1;0<=t;t--){var h=e[t];(!1===n||h.lat>n)&&(n=(a=h).lat),(!1===r||h.lat<r)&&(r=(s=h).lat),(!1===o||h.lng>o)&&(o=(l=h).lng),(!1===i||h.lng<i)&&(i=(u=h).lng)}return c=r!==n?(d=s,a):(d=u,l),[].concat(this.buildConvexHull([d,c],e),this.buildConvexHull([c,d],e))}},L.MarkerCluster.include({getConvexHull:function(){var e,t,n=this.getAllChildMarkers(),r=[];for(t=n.length-1;0<=t;t--)e=n[t].getLatLng(),r.push(e);return L.QuickHull.getConvexHull(r)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var e,t=this.getAllChildMarkers(null,!0),n=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),e=(this._group._spiderfied=this)._group.options.spiderfyShapePositions?this._group.options.spiderfyShapePositions(t.length,n):t.length>=this._circleSpiralSwitchover?this._generatePointsSpiral(t.length,n):(n.y+=10,this._generatePointsCircle(t.length,n)),this._animationSpiderfy(t,e)}},unspiderfy:function(e){this._group._inZoomAnimation||(this._animationUnspiderfy(e),this._group._spiderfied=null)},_generatePointsCircle:function(e,t){var n,r,o=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+e)/this._2PI,i=this._2PI/e,a=[];for(o=Math.max(o,35),a.length=e,n=0;n<e;n++)r=this._circleStartAngle+n*i,a[n]=new L.Point(t.x+o*Math.cos(r),t.y+o*Math.sin(r))._round();return a},_generatePointsSpiral:function(e,t){var n,r=this._group.options.spiderfyDistanceMultiplier,o=r*this._spiralLengthStart,i=r*this._spiralFootSeparation,a=r*this._spiralLengthFactor*this._2PI,s=0,l=[];for(n=l.length=e;0<=n;n--)n<e&&(l[n]=new L.Point(t.x+o*Math.cos(s),t.y+o*Math.sin(s))._round()),o+=a/(s+=i/o+5e-4*n);return l},_noanimationUnspiderfy:function(){var e,t,n=this._group,r=n._map,o=n._featureGroup,i=this.getAllChildMarkers(null,!0);for(n._ignoreMove=!0,this.setOpacity(1),t=i.length-1;0<=t;t--)e=i[t],o.removeLayer(e),e._preSpiderfyLatlng&&(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng),e.setZIndexOffset&&e.setZIndexOffset(0),e._spiderLeg&&(r.removeLayer(e._spiderLeg),delete e._spiderLeg);n.fire("unspiderfied",{cluster:this,markers:i}),n._ignoreMove=!1,n._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(e,t){var n,r,o,i,a=this._group,s=a._map,l=a._featureGroup,u=this._group.options.spiderLegPolylineOptions;for(a._ignoreMove=!0,n=0;n<e.length;n++)i=s.layerPointToLatLng(t[n]),r=e[n],o=new L.Polyline([this._latlng,i],u),s.addLayer(o),r._spiderLeg=o,r._preSpiderfyLatlng=r._latlng,r.setLatLng(i),r.setZIndexOffset&&r.setZIndexOffset(1e6),l.addLayer(r);this.setOpacity(.3),a._ignoreMove=!1,a.fire("spiderfied",{cluster:this,markers:e})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(e,t){var n,r,o,i,a,s,l=this,u=this._group,c=u._map,d=u._featureGroup,h=this._latlng,p=c.latLngToLayerPoint(h),f=L.Path.SVG,m=L.extend({},this._group.options.spiderLegPolylineOptions),_=m.opacity;for(void 0===_&&(_=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),f?(m.opacity=0,m.className=(m.className||"")+" leaflet-cluster-spider-leg"):m.opacity=_,u._ignoreMove=!0,n=0;n<e.length;n++)r=e[n],s=c.layerPointToLatLng(t[n]),o=new L.Polyline([h,s],m),c.addLayer(o),r._spiderLeg=o,f&&(a=(i=o._path).getTotalLength()+.1,i.style.strokeDasharray=a,i.style.strokeDashoffset=a),r.setZIndexOffset&&r.setZIndexOffset(1e6),r.clusterHide&&r.clusterHide(),d.addLayer(r),r._setPos&&r._setPos(p);for(u._forceLayout(),u._animationStart(),n=e.length-1;0<=n;n--)s=c.layerPointToLatLng(t[n]),(r=e[n])._preSpiderfyLatlng=r._latlng,r.setLatLng(s),r.clusterShow&&r.clusterShow(),f&&((i=(o=r._spiderLeg)._path).style.strokeDashoffset=0,o.setStyle({opacity:_}));this.setOpacity(.3),u._ignoreMove=!1,setTimeout((function(){u._animationEnd(),u.fire("spiderfied",{cluster:l,markers:e})}),200)},_animationUnspiderfy:function(e){var t,n,r,o,i,a,s=this,l=this._group,u=l._map,c=l._featureGroup,d=e?u._latLngToNewLayerPoint(this._latlng,e.zoom,e.center):u.latLngToLayerPoint(this._latlng),h=this.getAllChildMarkers(null,!0),p=L.Path.SVG;for(l._ignoreMove=!0,l._animationStart(),this.setOpacity(1),n=h.length-1;0<=n;n--)(t=h[n])._preSpiderfyLatlng&&(t.closePopup(),t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng,a=!0,t._setPos&&(t._setPos(d),a=!1),t.clusterHide&&(t.clusterHide(),a=!1),a&&c.removeLayer(t),p&&(i=(o=(r=t._spiderLeg)._path).getTotalLength()+.1,o.style.strokeDashoffset=i,r.setStyle({opacity:0})));l._ignoreMove=!1,setTimeout((function(){var e=0;for(n=h.length-1;0<=n;n--)(t=h[n])._spiderLeg&&e++;for(n=h.length-1;0<=n;n--)(t=h[n])._spiderLeg&&(t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),1<e&&c.removeLayer(t),u.removeLayer(t._spiderLeg),delete t._spiderLeg);l._animationEnd(),l.fire("unspiderfied",{cluster:s,markers:h})}),200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(e){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(e))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(e){this._spiderfied&&this._spiderfied.unspiderfy(e)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(e){e._spiderLeg&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),this._map.removeLayer(e._spiderLeg),delete e._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(e){return e?e instanceof L.MarkerClusterGroup?e=e._topClusterLevel.getAllChildMarkers():e instanceof L.LayerGroup?e=e._layers:e instanceof L.MarkerCluster?e=e.getAllChildMarkers():e instanceof L.Marker&&(e=[e]):e=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(e),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(e),this},_flagParentsIconsNeedUpdate:function(e){var t,n;for(t in e)for(n=e[t].__parent;n;)n._iconNeedsUpdate=!0,n=n.__parent},_refreshSingleMarkerModeMarkers:function(e){var t,n;for(t in e)n=e[t],this.hasLayer(n)&&n.setIcon(this._overrideMarkerIcon(n))}}),L.Marker.include({refreshIconOptions:function(e,t){var n=this.options.icon;return L.setOptions(n,e),this.setIcon(n),t&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),e.MarkerClusterGroup=t,e.MarkerCluster=n,Object.defineProperty(e,"__esModule",{value:!0})}(leaflet_markercluster.exports),
/*!
 * 
 *  leaflet.browser.print - v2.0.2 (https://github.com/Igor-Vladyka/leaflet.browser.print) 
 *  A leaflet plugin which allows users to print the map directly from the browser
 *  
 *  MIT (http://www.opensource.org/licenses/mit-license.php)
 *  (c) 2022  Igor Vladyka <igor.vladyka@gmail.com> (https://github.com/Igor-Vladyka/)
 * 
 */
function(){!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}({"./src/leaflet.browser.print.control.js":
/*!**********************************************!*\
        !*** ./src/leaflet.browser.print.control.js ***!
        \**********************************************/
/*! no static exports found */function(module,exports){eval("/**\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Igor Vladyka <igor.vladyka@gmail.com> (https://github.com/Igor-Vladyka/leaflet.browser.print)\r\n**/\r\n\r\nL.Control.BrowserPrint = L.Control.extend({\r\n\toptions: {\r\n\t\ttitle: 'Print map',\r\n\t\tposition: 'topleft',\r\n\t\tprintModes: [\"Portrait\", \"Landscape\", \"Auto\", \"Custom\"],\r\n\t},\r\n\tbrowserPrint: undefined,\r\n\tinitialize: function(options,browserPrint){\r\n\t\tL.setOptions(this,options);\r\n\t\tif(browserPrint) {\r\n\t\t\tthis.browserPrint = browserPrint;\r\n\t\t\tL.setOptions(this.browserPrint, options);\r\n\t\t}\r\n\t},\r\n\tonAdd: function (map) {\r\n\t\tif(!this.browserPrint){\r\n\t\t\tthis.browserPrint = new L.BrowserPrint(map,this.options);\r\n\t\t}\r\n\r\n\t\tvar container = L.DomUtil.create('div', 'leaflet-control-browser-print leaflet-bar leaflet-control');\r\n\t\tL.DomEvent.disableClickPropagation(container);\r\n\r\n\r\n\t\tif (this.options.printModes.length > 1) {\r\n\t\t\tL.DomEvent.on(container, 'mouseover', this._displayPageSizeButtons, this);\r\n\t\t\tL.DomEvent.on(container, 'mouseout', this._hidePageSizeButtons, this);\r\n\t\t} else {\r\n\t\t\tcontainer.style.cursor = \"pointer\";\r\n\t\t}\r\n\r\n\t\tif (this.options.position.indexOf(\"left\") > 0) {\r\n\t\t\tthis._createIcon(container);\r\n\t\t\tthis._createMenu(container);\r\n\t\t} else {\r\n\t\t\tthis._createMenu(container);\r\n\t\t\tthis._createIcon(container);\r\n\t\t}\r\n\r\n\t\tmap.printControl = this; // Make control available from the map object itself;\r\n\t\treturn container;\r\n\t},\r\n\t\r\n\tcancel: function () {\r\n\t\tthis.browserPrint.cancel();\r\n\t},\r\n\r\n\t_createIcon: function (container) {\r\n\t\tthis.__link__ = L.DomUtil.create('a', '', container);\r\n\t\tthis.__link__.className = \"leaflet-browser-print\";\r\n\t\tif (this.options.title) {\r\n\t\t\tthis.__link__.title = this.options.title;\r\n\t\t}\r\n\t\treturn this.__link__;\r\n\t},\r\n\r\n\t_createMenu: function (container) {\r\n\t\tvar domPrintModes = [];\r\n\r\n\t\tfor (var i = 0; i < this.options.printModes.length; i++) {\r\n\t\t\tvar mode = this.options.printModes[i];\r\n\r\n\t\t\t/*\r\n\t\t\t\tMode:\r\n\t\t\t\t\tMode: Portrait/Landscape/Auto/Custom\r\n\t\t\t\t\tTitle: 'Portrait'/'Landscape'/'Auto'/'Custom'\r\n\t\t\t\t\tPageSize: 'A3'/'A4'\r\n\t\t\t\t\tAction: '_printPortrait'/...\r\n\t\t\t\t\tInvalidateBounds: true/false\r\n\t\t\t*/\r\n\t\t\tif (mode.length) {\r\n\t\t\t\tvar key = mode[0].toUpperCase() + mode.substring(1).toLowerCase();\r\n\r\n\t\t\t\tmode = L.BrowserPrint.Mode[mode]('A4',this._getDefaultTitle(key));\r\n\r\n\t\t\t} else if (mode instanceof L.BrowserPrint.Mode) {\r\n\t\t\t\t// Looks like everythin is fine.\r\n\t\t\t} else {\r\n\t\t\t\tthrow \"Invalid Print Mode. Can't construct logic to print current map.\"\r\n\t\t\t}\r\n\r\n\t\t\tvar clickContainer = container;\r\n\t\t\tif (this.options.printModes.length === 1) {\r\n\t\t\t\tmode.Element = container;\r\n\t\t\t} else {\r\n\t\t\t\tclickContainer = L.DomUtil.create('ul', 'browser-print-holder', container);\r\n\t\t\t\tmode.Element = L.DomUtil.create('li', 'browser-print-mode', clickContainer);\r\n\t\t\t\tmode.Element.innerHTML = mode.options.title;\r\n\t\t\t}\r\n\r\n\t\t\tL.DomEvent.on(clickContainer, 'click', mode.options.action(this.browserPrint, mode), this.browserPrint);\r\n\r\n\t\t\tdomPrintModes.push(mode);\r\n\t\t}\r\n\r\n\t\tthis.options.printModes = domPrintModes;\r\n\t},\r\n\r\n\t_getDefaultTitle: function(key) {\r\n\t\treturn this.options.printModesNames && this.options.printModesNames[key] || key;\r\n\t},\r\n\r\n    _displayPageSizeButtons: function() {\r\n\t\tif (this.options.position.indexOf(\"left\") > 0) {\r\n\t        this.__link__.style.borderTopRightRadius = \"0px\";\r\n\t    \tthis.__link__.style.borderBottomRightRadius = \"0px\";\r\n\t\t} else {\r\n\t\t\tthis.__link__.style.borderTopLeftRadius = \"0px\";\r\n\t    \tthis.__link__.style.borderBottomLeftRadius = \"0px\";\r\n\t\t}\r\n\r\n\t\tthis.options.printModes.forEach(function(mode){\r\n\t\t\tmode.Element.style.display = \"inline-block\";\r\n\t\t});\r\n    },\r\n\r\n    _hidePageSizeButtons: function () {\r\n\t\tif (this.options.position.indexOf(\"left\") > 0) {\r\n\t    \tthis.__link__.style.borderTopRightRadius = \"\";\r\n\t    \tthis.__link__.style.borderBottomRightRadius = \"\";\r\n\t\t} else {\r\n\t    \tthis.__link__.style.borderTopLeftRadius = \"\";\r\n\t    \tthis.__link__.style.borderBottomLeftRadius = \"\";\r\n\t\t}\r\n\r\n\t\tthis.options.printModes.forEach(function(mode){\r\n\t\t\tmode.Element.style.display = \"\";\r\n\t\t});\r\n    },\r\n});\r\n\r\n\r\nL.control.browserPrint = function(options, browserPrint) {\r\n\tif (!options || !options.printModes) {\r\n\t\toptions = options || {};\r\n\t\toptions.printModes = [\r\n\t\t\tL.BrowserPrint.Mode.Portrait(),\r\n\t\t\tL.BrowserPrint.Mode.Landscape(),\r\n\t\t\tL.BrowserPrint.Mode.Auto(),\r\n\t\t\tL.BrowserPrint.Mode.Custom()\r\n\t\t]\r\n\t}\r\n\r\n\tif (options && options.printModes && (!options.printModes.filter || !options.printModes.length)) {\r\n\t\tthrow \"Please specify valid print modes for Print action. Example: printModes: [L.BrowserPrint.Mode.Portrait(), L.control.BrowserPrint.Mode.Auto('Automatic'), 'Custom']\";\r\n\t}\r\n\r\n\treturn new L.Control.BrowserPrint(options,browserPrint);\r\n};\r\n\n\n//# sourceURL=webpack:///./src/leaflet.browser.print.control.js?")},"./src/leaflet.browser.print.helpers.js":
/*!**********************************************!*\
        !*** ./src/leaflet.browser.print.helpers.js ***!
        \**********************************************/
/*! no static exports found */function(module,exports){eval("/**\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Igor Vladyka <igor.vladyka@gmail.com> (https://github.com/Igor-Vladyka/leaflet.browser.print)\r\n**/\r\n\r\nL.BrowserPrint.Helper = {\r\n\tgetPageMargin: function (mode,type) {\r\n\t\tvar margin = mode.options.margin;\r\n\t\tvar size = this.getPaperSize(mode);\r\n\t\tvar marginInMm = ((size.Width + size.Height) / 39.9);\r\n\t\tif (!type && type !== 0) {\r\n\t\t\ttype = \"\";\r\n\t\t}\r\n\r\n\t\tif (margin >= 0) {\r\n\t\t\tmargin = {\r\n\t\t\t\ttop: margin,\r\n\t\t\t\tright: margin,\r\n\t\t\t\tbottom: margin,\r\n\t\t\t\tleft: margin\r\n\t\t\t}\r\n\t\t} else if (!margin) {\r\n\t\t\tmargin = {};\r\n\t\t}\r\n\r\n\t\tvar faktor = 1;\r\n\t\tif (type === \"in\") {\r\n\t\t\tfaktor = 25.4;\r\n\t\t}\r\n\r\n\t\tvar topMargin = margin.top >= 0 ? margin.top : marginInMm;\r\n\t\tvar rightMargin = margin.right >= 0 ? margin.right : marginInMm;\r\n\t\tvar bottomMargin = margin.bottom >= 0 ? margin.bottom : marginInMm;\r\n\t\tvar leftMargin = margin.left >= 0 ? margin.left : marginInMm;\r\n\r\n\r\n\t\tvar top = (topMargin / faktor).toFixed(2) + type;\r\n\t\tvar right = (rightMargin / faktor).toFixed(2) + type;\r\n\t\tvar bottom = (bottomMargin / faktor).toFixed(2) + type;\r\n\t\tvar left = (leftMargin / faktor).toFixed(2) + type;\r\n\r\n\t\treturn {\r\n\t\t\ttop,\r\n\t\t\tright,\r\n\t\t\tbottom,\r\n\t\t\tleft\r\n\t\t};\r\n\t},\r\n\tgetPaperSize: function (mode) {\r\n\t\tif (mode.options.pageSeries) {\r\n\t\t\tvar series = L.BrowserPrint.Size[mode.options.pageSeries];\r\n\t\t\tvar w = series.Width;\r\n\t\t\tvar h = series.Height;\r\n\t\t\tvar switchSides = false;\r\n\t\t\tif (mode.options.pageSeriesSize && mode.options.pageSeriesSize !== '0') {\r\n\t\t\t\tmode.options.pageSeriesSize = +mode.options.pageSeriesSize;\r\n\t\t\t\tswitchSides = mode.options.pageSeriesSize % 2 === 1;\r\n\t\t\t\tif (switchSides) {\r\n\t\t\t\t\tw = w / (mode.options.pageSeriesSize - 1 || 1);\r\n\t\t\t\t\th = h / (mode.options.pageSeriesSize + 1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tw = w / mode.options.pageSeriesSize;\r\n\t\t\t\t\th = h / mode.options.pageSeriesSize;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tWidth: switchSides ? h : w,\r\n\t\t\t\tHeight: switchSides ? w : h\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tvar size = L.BrowserPrint.Size[mode.options.pageSeriesSize];\r\n\t\t\treturn {\r\n\t\t\t\tWidth: size.Width,\r\n\t\t\t\tHeight: size.Height\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\tgetSize: function (mode, orientaion = 'Portrait') {\r\n\t\tvar size = this.getPaperSize(mode);\r\n\t\tvar pageMargin = this.getPageMargin(mode, 0);\r\n\r\n\t\tvar topbottom = orientaion === 'Portrait' ? parseFloat(pageMargin.top) + parseFloat(pageMargin.bottom) : parseFloat(pageMargin.left) + parseFloat(pageMargin.right);\r\n\t\tvar leftright = orientaion === 'Portrait' ? parseFloat(pageMargin.left) + parseFloat(pageMargin.right) : parseFloat(pageMargin.top) + parseFloat(pageMargin.bottom);\r\n\r\n\t\tvar height = Math.floor(size.Height - topbottom);\r\n\t\tvar width = Math.floor(size.Width - leftright);\r\n\r\n\t\tsize.Width = width * (window.devicePixelRatio || 1) + 'mm';\r\n\t\tsize.Height = height * (window.devicePixelRatio || 1) + 'mm';\r\n\r\n\t\treturn size;\r\n\t}\r\n};\r\n\r\n\n\n//# sourceURL=webpack:///./src/leaflet.browser.print.helpers.js?")},"./src/leaflet.browser.print.js":
/*!**************************************!*\
        !*** ./src/leaflet.browser.print.js ***!
        \**************************************/
/*! no static exports found */function(module,exports){eval('/**\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Igor Vladyka <igor.vladyka@gmail.com> (https://github.com/Igor-Vladyka/leaflet.browser.print)\r\n**/\r\n\r\nL.BrowserPrint = L.Class.extend({\r\n\toptions: {\r\n\t\tdocumentTitle: \'\',\r\n\t\tprintLayer: null,\r\n\t\tclosePopupsOnPrint: true,\r\n\t\tcontentSelector: "[leaflet-browser-print-content]",\r\n\t\tpagesSelector: "[leaflet-browser-print-pages]",\r\n\t\tmanualMode: false,\r\n\t\tcustomPrintStyle: { color: "gray", dashArray: \'5, 10\', pane: "customPrintPane" },\r\n\t\tcancelWithEsc: true,\r\n\t\tprintFunction: window.print,\r\n\t\tdebug: false\r\n\t},\r\n\tinitialize: function(map, options){\r\n\t\tthis._map = map;\r\n\t\tL.setOptions(this,options);\r\n\r\n\t\tif (this.options.customPrintStyle.pane && !map.getPane(this.options.customPrintStyle.pane)) {\r\n\t\t\tmap.createPane(this.options.customPrintStyle.pane).style.zIndex = 9999;\r\n\t\t}\r\n\r\n\t\tif(!document.getElementById(\'browser-print-css\')) {\r\n\t\t\tthis._appendControlStyles(document.head);\r\n\t\t}\r\n\t},\r\n\tcancel: function(){\r\n\t\tthis._printCancel();\r\n\t},\r\n\tprint: function(pageMode) {\r\n\t\tpageMode.options.action(this, pageMode)(pageMode);\r\n\t},\r\n\r\n\t_getMode: function(expectedOrientation, mode) {\r\n\t\treturn new L.BrowserPrint.Mode(expectedOrientation, mode.options);\r\n\t},\r\n\r\n\t_printLandscape: function (mode) {\r\n\t\tthis._addPrintClassToContainer(this._map, "leaflet-browser-print--landscape");\r\n\t\tthis._print(mode);\r\n\t},\r\n\r\n\t_printPortrait: function (mode) {\r\n\t\tthis._addPrintClassToContainer(this._map, "leaflet-browser-print--portrait");\r\n\t\tthis._print(mode);\r\n\t},\r\n\r\n\t_printAuto: function (mode) {\r\n\t\tthis._addPrintClassToContainer(this._map, "leaflet-browser-print--auto");\r\n\r\n\t\tvar autoBounds = this._getBoundsForAllVisualLayers();\r\n\t\tvar orientation;\r\n\t\tif(mode.options.orientation === "Portrait" || mode.options.orientation === "Landscape" ){\r\n\t\t\torientation = mode.options.orientation;\r\n\t\t}else {\r\n\t\t\torientation = this._getPageSizeFromBounds(autoBounds);\r\n\t\t}\r\n\t\tthis._print(this._getMode(orientation, mode), autoBounds);\r\n\t},\r\n\r\n\t_printCustom: function (mode, options) {\r\n\t\tthis._addPrintClassToContainer(this._map, "leaflet-browser-print--custom");\r\n\t\tthis.options.custom = { mode: mode, options: options};\r\n\t\tthis._map.on(\'mousedown\', this._startAutoPolygon, this);\r\n\t},\r\n\r\n\t_addPrintClassToContainer: function (map, printClassName) {\r\n\t\tvar container = map.getContainer();\r\n\r\n\t\tif (container.className.indexOf(printClassName) === -1) {\r\n\t\t\tcontainer.className += " " + printClassName;\r\n\t\t}\r\n\t},\r\n\r\n\t_removePrintClassFromContainer: function (map, printClassName) {\r\n\t\tvar container = map.getContainer();\r\n\r\n\t\tif (container.className && container.className.indexOf(printClassName) > -1) {\r\n\t\t\tcontainer.className = container.className.replace(" " + printClassName, "");\r\n\t\t}\r\n\t},\r\n\r\n\t_startAutoPolygon: function (e) {\r\n\t\tL.DomEvent.stop(e);\r\n\r\n\t\tthis._map.dragging.disable();\r\n\r\n\t\tthis.options.custom.start = e.latlng;\r\n\r\n\t\tthis._map.getPane(this.options.customPrintStyle.pane).style.display = "initial";\r\n\r\n\t\tthis._map.off(\'mousedown\', this._startAutoPolygon, this);\r\n\t\tthis._map.on(\'mousemove\', this._moveAutoPolygon, this);\r\n\t\tthis._map.on(\'mouseup\', this._endAutoPolygon, this);\r\n\t},\r\n\r\n\t_moveAutoPolygon: function (e) {\r\n\t\tif (this.options.custom) {\r\n\t\t\tL.DomEvent.stop(e);\r\n\t\t\tif (this.options.custom.rectangle) {\r\n\t\t\t\tthis.options.custom.rectangle.setBounds(L.latLngBounds(this.options.custom.start, e.latlng));\r\n\t\t\t} else {\r\n\t\t\t\tthis.options.custom.rectangle = L.rectangle([this.options.custom.start, e.latlng], this.options.customPrintStyle);\r\n\t\t\t}\r\n\t\t\tthis.options.custom.rectangle.addTo(this._map);\r\n\t\t}\r\n\t},\r\n\r\n\t_endAutoPolygon: function (e) {\r\n\t\tL.DomEvent.stop(e);\r\n\t\tthis._removeAutoPolygon();\r\n\r\n\t\tif (this.options.custom && this.options.custom.rectangle) {\r\n\t\t\tvar autoBounds = this.options.custom.rectangle.getBounds();\r\n\r\n\t\t\tthis._map.removeLayer(this.options.custom.rectangle);\r\n\r\n\t\t\tvar orientation;\r\n\t\t\tif(this.options.custom.mode.options.orientation === "Portrait" || this.options.custom.mode.options.orientation === "Landscape" ){\r\n\t\t\t\torientation = this.options.custom.mode.options.orientation;\r\n\t\t\t}else {\r\n\t\t\t\torientation = this._getPageSizeFromBounds(autoBounds);\r\n\t\t\t}\r\n\t\t\tthis._print(this._getMode(orientation, this.options.custom.mode), autoBounds);\r\n\r\n\t\t\tdelete this.options.custom;\r\n\t\t} else {\r\n\t\t\tthis._clearPrint();\r\n\t\t}\r\n\t},\r\n\t_removeAutoPolygon: function(){\r\n\r\n\t\tthis._map.off(\'mousedown\', this._startAutoPolygon, this);\r\n\t\tthis._map.off(\'mousemove\', this._moveAutoPolygon, this);\r\n\t\tthis._map.off(\'mouseup\', this._endAutoPolygon, this);\r\n\r\n\t\tthis._map.dragging.enable();\r\n\r\n\t\t// we hide the pane because it destorys sometimes interactions with layers if printing is finished\r\n\t\tthis._map.getPane(this.options.customPrintStyle.pane).style.display = "none";\r\n\t},\r\n\r\n\t_getPageSizeFromBounds: function(bounds) {\r\n\t\tvar height = Math.abs(bounds.getNorth() - bounds.getSouth());\r\n\t\tvar width = Math.abs(bounds.getEast() - bounds.getWest());\r\n\t\tif (height > width) {\r\n\t\t\treturn "Portrait";\r\n\t\t} else {\r\n\t\t\treturn "Landscape";\r\n\t\t}\r\n\t},\r\n\r\n\t_setupPrintPagesWidth: function(pagesContainer, size, pageOrientation) {\r\n\t\tpagesContainer.style.width = pageOrientation === "Landscape" ? size.Height : size.Width;\r\n\t},\r\n\r\n\t_setupPrintMapHeight: function(mapContainer, size, pageOrientation, options) {\r\n\t\tvar header = options.header && options.header.enabled && options.header.size && !options.header.overTheMap ? options.header.size+" - 1mm" : "0mm";\r\n\t\tvar footer = options.footer && options.footer.enabled && options.footer.size && !options.footer.overTheMap ? options.footer.size+" - 1mm" : "0mm";\r\n\r\n\t\tmapContainer.style.height =  "calc("+(pageOrientation === "Landscape" ? size.Width : size.Height) + " - "+header+" - " +footer+ ")";\r\n\t},\r\n\r\n\t_printCancel: function() {\r\n\t\tclearInterval(self.printInterval);\r\n\t\tL.DomEvent.off(document,\'keyup\',this._keyUpCancel,this);\r\n\t\tvar activeMode = this.activeMode;\r\n\t\tdelete this.options.custom;\r\n\t\tthis._removeAutoPolygon();\r\n\t\tthis.activeMode = null;\r\n\t\tdelete this.cancelNextPrinting;\r\n\t\tthis._map.fire(L.BrowserPrint.Event.PrintCancel, { mode: activeMode });\r\n\t\tthis._printEnd();\r\n\t},\r\n\r\n\t_keyUpCancel: function(e){\r\n\t\tif(e.which === 27){ //ESC\r\n\t\t\tthis.cancel();\r\n\t\t}\r\n\t},\r\n\r\n\t_printMode: function(mode){\r\n\t\tif(this._map.isPrinting){\r\n\t\t\tconsole.error("printing is already active");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis._map.isPrinting = true;\r\n\t\tthis.cancelNextPrinting = false;\r\n\t\tthis.activeMode = mode;\r\n\t\tthis[\'_print\' + mode.mode](mode);\r\n\t},\r\n\r\n\t_print: function (printMode, autoBounds) {\r\n\t\tthis._map.fire(L.BrowserPrint.Event.PrintInit, { mode: printMode });\r\n\t\tif(this.options.cancelWithEsc) {\r\n\t\t\tL.DomEvent.on(document, \'keyup\', this._keyUpCancel, this);\r\n\t\t}\r\n\t\tL.BrowserPrint.Utils.initialize();\r\n\r\n\t\tvar self = this;\r\n\t\tvar mapContainer = this._map.getContainer();\r\n\t\tvar options = printMode.options;\r\n\t\tvar pageOrientation = options.orientation;\r\n\r\n\t\tvar origins = {\r\n\t\t\tbounds: autoBounds || this._map.getBounds(),\r\n\t\t\twidth: mapContainer.style.width,\r\n\t\t\theight: mapContainer.style.height,\r\n\t\t\tdocumentTitle: document.title,\r\n\t\t\tprintLayer: L.BrowserPrint.Utils.cloneLayer(this.options.printLayer),\r\n\t\t\tpanes: []\r\n\t\t};\r\n\r\n\t\tvar mapPanes = this._map.getPanes();\r\n\t\tfor (var pane in mapPanes) {\r\n\t\t\torigins.panes.push({name: pane, container: undefined});\r\n\t\t}\r\n\r\n\t\torigins.printObjects = this._getPrintObjects(origins.printLayer);\r\n\r\n\t\tthis._map.fire(L.BrowserPrint.Event.PrePrint, { printLayer: origins.printLayer, printObjects: origins.printObjects, pageOrientation, printMode: options.mode, pageBounds: origins.bounds});\r\n\r\n\t\tif (this.cancelNextPrinting) {\r\n\t\t\tthis._printCancel();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar overlay = this._addPrintMapOverlay(printMode, pageOrientation, origins);\r\n\r\n\t\tif (this.options.documentTitle) {\r\n\t\t\tdocument.title = this.options.documentTitle;\r\n\t\t}\r\n\r\n\t\tthis._map.fire(L.BrowserPrint.Event.PrintStart, { printLayer: origins.printLayer, printMap: overlay.map, printObjects: overlay.objects });\r\n\r\n\t\tif (options.invalidateBounds) {\r\n\t\t\toverlay.map.fitBounds(origins.bounds, overlay.map.options);\r\n\t\t\toverlay.map.invalidateSize({reset: true, animate: false, pan: false});\r\n\t\t} else {\r\n\t\t\toverlay.map.setView(this._map.getCenter(), this._map.getZoom());\r\n\t\t}\r\n\r\n\t\tif(options.zoom){\r\n\t\t\toverlay.map.setZoom(options.zoom);\r\n\t\t}else if(!options.enableZoom){\r\n\t\t\toverlay.map.setZoom(this._map.getZoom());\r\n\t\t}\r\n\r\n\t\tif(!this.options.debug) {\r\n\t\t\tthis.printInterval = setInterval(function () {\r\n\t\t\t\tif (self.cancelNextPrinting || !self._map.isPrinting) {\r\n\t\t\t\t\tclearInterval(self.printInterval);\r\n\t\t\t\t} else if (self._map.isPrinting && !self._isTilesLoading(overlay.map)) {\r\n\t\t\t\t\tclearInterval(self.printInterval);\r\n\t\t\t\t\tif (self.options.manualMode) {\r\n\t\t\t\t\t\tself._setupManualPrintButton(overlay.map, origins, overlay.objects);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tself._completePrinting(overlay.map, origins, overlay.objects);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}, 50);\r\n\t\t}\r\n\t},\r\n\r\n\t_completePrinting: function (overlayMap, origins, printObjects) {\r\n\t\tvar self = this;\r\n\t\tsetTimeout(function(){\r\n\t\t\tif(!self._map.isPrinting){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tself._map.fire(L.BrowserPrint.Event.Print, { printLayer: origins.printLayer, printMap: overlayMap, printObjects: printObjects });\r\n\t\t\tvar printFunction = self.options.printFunction || window.print;\r\n\t\t\tvar printPromise = printFunction();\r\n\t\t\tif (printPromise) {\r\n\t\t\t\tPromise.all([printPromise]).then(function(){\r\n\t\t\t\t\tself._printEnd(overlayMap, origins);\r\n\t\t\t\t\tself._map.fire(L.BrowserPrint.Event.PrintEnd, { printLayer: origins.printLayer, printMap: overlayMap, printObjects: printObjects });\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tself._printEnd(overlayMap, origins);\r\n\t\t\t\tself._map.fire(L.BrowserPrint.Event.PrintEnd, { printLayer: origins.printLayer, printMap: overlayMap, printObjects: printObjects });\r\n\t\t\t}\r\n\t\t}, 1000);\r\n\t},\r\n\r\n\t_getBoundsForAllVisualLayers: function () {\r\n\t\tvar fitBounds = null;\r\n\r\n\t\t// Getting all layers without URL -> not tiles.\r\n\t\tfor (var layerId in this._map._layers){\r\n\t\t\tvar layer = this._map._layers[layerId];\r\n\t\t\tif (!layer._url && !layer._mutant) {\r\n\t\t\t\tif (fitBounds) {\r\n\t\t\t\t\tif (layer.getBounds) {\r\n\t\t\t\t\t\tfitBounds.extend(layer.getBounds());\r\n\t\t\t\t\t} else if(layer.getLatLng){\r\n\t\t\t\t\t\tfitBounds.extend(layer.getLatLng());\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (layer.getBounds) {\r\n\t\t\t\t\t\tfitBounds = layer.getBounds();\r\n\t\t\t\t\t} else if(layer.getLatLng){\r\n\t\t\t\t\t\tfitBounds = L.latLngBounds(layer.getLatLng(), layer.getLatLng());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!fitBounds || !fitBounds._southWest) {\r\n\t\t\tfitBounds = this._map.getBounds();\r\n\t\t}\r\n\r\n\t\treturn fitBounds;\r\n\t},\r\n\r\n\t_clearPrint: function () {\r\n\t\tthis._removePrintClassFromContainer(this._map, "leaflet-browser-print--landscape");\r\n\t\tthis._removePrintClassFromContainer(this._map, "leaflet-browser-print--portrait");\r\n\t\tthis._removePrintClassFromContainer(this._map, "leaflet-browser-print--auto");\r\n\t\tthis._removePrintClassFromContainer(this._map, "leaflet-browser-print--custom");\r\n\t},\r\n\r\n\t_printEnd: function (overlayMap, origins) {\r\n\t\tthis._clearPrint();\r\n\r\n\t\tif (overlayMap) {\r\n\t\t\toverlayMap.remove();\r\n\t\t\toverlayMap = null;\r\n\t\t}\r\n\r\n\t\tif (this.__overlay__) {\r\n\t\t\tdocument.body.removeChild(this.__overlay__);\r\n\t\t\tthis.__overlay__ = null;\r\n\t\t}\r\n\r\n\t\tdocument.body.className = document.body.className.replace(" leaflet--printing", "");\r\n\t\tif (this.options.documentTitle) {\r\n\t\t\tdocument.title = origins.documentTitle;\r\n\t\t}\r\n\r\n\t\tthis._map.invalidateSize({reset: true, animate: false, pan: false});\r\n\t\tthis._map.isPrinting = false;\r\n\t},\r\n\r\n\t_getPrintObjects: function(printLayer) {\r\n\t\tvar printObjects = {};\r\n\t\tfor (var id in this._map._layers){\r\n\t\t\tvar layer = this._map._layers[id];\r\n\t\t\tif (!printLayer || !layer._url || layer instanceof L.TileLayer.WMS) {\r\n\t\t\t\tvar type = L.BrowserPrint.Utils.getType(layer);\r\n\t\t\t\tif (type) {\r\n\t\t\t\t\tif (!printObjects[type]) {\r\n\t\t\t\t\t\tprintObjects[type] = [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tprintObjects[type].push(layer);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn printObjects;\r\n\t},\r\n\r\n\t_addPrintCss: function (pageSize, pageMargin, pageOrientation) {\r\n\r\n\t\tvar printStyleSheet = document.createElement(\'style\');\r\n\t\tprintStyleSheet.className = "leaflet-browser-print-css";\r\n\t\tprintStyleSheet.setAttribute(\'type\', \'text/css\');\r\n\t\tprintStyleSheet.innerHTML = \' @media print { .leaflet-popup-content-wrapper, .leaflet-popup-tip { box-shadow: none; }\';\r\n\t\tprintStyleSheet.innerHTML += \' .leaflet-browser-print--manualMode-button { display: none; }\';\r\n\t\tprintStyleSheet.innerHTML += \' * { -webkit-print-color-adjust: exact!important; printer-colors: exact!important; color-adjust: exact!important; }\';\r\n\r\n\t\tif (pageMargin) {\r\n\t\t\tvar margin = pageMargin.top+" "+pageMargin.right+" "+pageMargin.bottom+" "+pageMargin.left;\r\n\t\t\tprintStyleSheet.innerHTML += \' @page { margin: \' + margin + \'; }\';\r\n\t\t}\r\n\t\tprintStyleSheet.innerHTML += \' @page :first { page-break-after: always; }\';\r\n\r\n\t\tswitch (pageOrientation) {\r\n\t\t\tcase "Landscape":\r\n\t\t\t\tprintStyleSheet.innerText += " @page { size : " + pageSize + " landscape; }";\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\tcase "Portrait":\r\n\t\t\t\tprintStyleSheet.innerText += " @page { size : " + pageSize + " portrait; }";\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn printStyleSheet;\r\n\t},\r\n\r\n\t_addPrintMapOverlay: function (printMode, pageOrientation, origins) {\r\n\t\tthis.__overlay__ = document.createElement("div");\r\n\t\tthis.__overlay__.className = this._map.getContainer().className + " leaflet-print-overlay";\r\n\t\tdocument.body.appendChild(this.__overlay__);\r\n\r\n\t\tif(this.options.debug){\r\n\t\t\tvar cancelBtn = L.DomUtil.create("button","",this.__overlay__);\r\n\t\t\tcancelBtn.innerHTML = "Cancel";\r\n\t\t\tL.DomEvent.on(cancelBtn,"click",()=>{this.cancel()});\r\n\t\t}\r\n\r\n\t\tvar options = printMode.options;\r\n\r\n\t\tvar pageSize = options.pageSize;\r\n\t\tvar pageMargin = L.BrowserPrint.Helper.getPageMargin(printMode,"mm");\r\n\t\tvar printSize = L.BrowserPrint.Helper.getSize(printMode,pageOrientation);\r\n\t\tvar rotate = options.rotate;\r\n\t\tvar scale = options.scale;\r\n\r\n\t\tthis.__overlay__.appendChild(this._addPrintCss(pageSize, pageMargin, pageOrientation));\r\n\r\n\t\tif(options.header && options.header.enabled) {\r\n\t\t\tvar headerContainer = document.createElement("div");\r\n\t\t\theaderContainer.id = "print-header";\r\n\t\t\tif(options.header.overTheMap){\r\n\t\t\t\theaderContainer.className = "over-the-map";\r\n\t\t\t}\r\n\t\t\theaderContainer.style.height = options.header.size;\r\n\t\t\theaderContainer.style.lineHeight = options.header.size;\r\n\t\t\tvar header = document.createElement("span");\r\n\t\t\theader.innerHTML = options.header.text;\r\n\t\t\theaderContainer.appendChild(header);\r\n\t\t\tthis._setupPrintPagesWidth(headerContainer, printSize, pageOrientation);\r\n\t\t\tthis.__overlay__.appendChild(headerContainer);\r\n\t\t}\r\n\r\n\t\tvar gridContainer = document.createElement("div");\r\n\t\tgridContainer.className = "grid-print-container";\r\n\t\tgridContainer.style.width = "100%";\r\n\t\tgridContainer.style.display = "grid";\r\n\t\tthis._setupPrintMapHeight(gridContainer, printSize, pageOrientation, options);\r\n\r\n\t\tif (this.options.contentSelector) {\r\n\t\t\tvar content = document.querySelectorAll(this.options.contentSelector);\r\n\t\t\tif (content && content.length) {\r\n\t\t\t\tfor (var i = 0; i < content.length; i++) {\r\n\t\t\t\t\tvar printContentItem = content[i].cloneNode(true);\r\n\t\t\t\t\tgridContainer.appendChild(printContentItem);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar isMultipage = this.options.pagesSelector && document.querySelectorAll(this.options.pagesSelector).length;\r\n\t\tif (isMultipage) {\r\n\t\t\tvar pagesContainer = document.createElement("div");\r\n\t\t\tpagesContainer.className = "pages-print-container";\r\n\t\t\tpagesContainer.style.margin = "0!important";\r\n\t\t\tthis._setupPrintPagesWidth(pagesContainer, printSize, pageOrientation);\r\n\r\n\t\t\tthis.__overlay__.appendChild(pagesContainer);\r\n\t\t\tpagesContainer.appendChild(gridContainer);\r\n\r\n\t\t\tvar pages = document.querySelectorAll(this.options.pagesSelector);\r\n\t\t\tif (pages && pages.length) {\r\n\t\t\t\tfor (var i = 0; i < pages.length; i++) {\r\n\t\t\t\t\tvar printPageItem = pages[i].cloneNode(true);\r\n\t\t\t\t\tpagesContainer.appendChild(printPageItem);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis._setupPrintPagesWidth(gridContainer, printSize, pageOrientation);\r\n\t\t\tthis.__overlay__.appendChild(gridContainer);\r\n\t\t}\r\n\r\n\t\tvar overlayMapDom = document.createElement("div");\r\n\t\toverlayMapDom.id = this._map.getContainer().id + "-print";\r\n\t\toverlayMapDom.className = "grid-map-print";\r\n\t\toverlayMapDom.style.width = "100%";\r\n\t\toverlayMapDom.style.height = "100%";\r\n\r\n\t\tif(scale && scale !== 1){\r\n\t\t\toverlayMapDom.style.transform += " scale("+scale+")";\r\n\t\t}\r\n\t\tif(rotate){\r\n\t\t\toverlayMapDom.style.transform += " rotate("+(90*rotate)+"deg)";\r\n\t\t}\r\n\r\n\t\tgridContainer.appendChild(overlayMapDom);\r\n\r\n\t\tif(options.footer && options.footer.enabled) {\r\n\t\t\tvar footerContainer = document.createElement("div");\r\n\t\t\tfooterContainer.id = "print-footer";\r\n\t\t\tif(options.footer.overTheMap){\r\n\t\t\t\tfooterContainer.className = "over-the-map";\r\n\t\t\t\tfooterContainer.style.bottom = "0";\r\n\t\t\t}\r\n\t\t\tfooterContainer.style.height = options.footer.size;\r\n\t\t\tfooterContainer.style.lineHeight = options.footer.size;\r\n\t\t\tvar footer = document.createElement("span");\r\n\t\t\tfooter.innerHTML = options.footer.text;\r\n\t\t\tfooterContainer.appendChild(footer);\r\n\t\t\tthis._setupPrintPagesWidth(footerContainer, printSize, pageOrientation);\r\n\t\t\tthis.__overlay__.appendChild(footerContainer);\r\n\t\t}\r\n\r\n\t\tdocument.body.className += " leaflet--printing";\r\n\r\n\t\treturn this._setupPrintMap(overlayMapDom.id, this._combineBasicOptions(origins.printLayer), origins.printLayer, origins.printObjects, origins.panes);\r\n\t},\r\n\r\n\t_combineBasicOptions: function (printLayer) {\r\n\t\tvar options = L.BrowserPrint.Utils.cloneBasicOptionsWithoutLayers(this._map.options);\r\n\r\n\t\tif (printLayer) {\r\n\t\t\toptions.maxZoom = printLayer.options.maxZoom;\r\n\t\t} else {\r\n\t\t\toptions.maxZoom = this._map.getMaxZoom();\r\n\t\t}\r\n\r\n\t\toptions.zoomControl = false;\r\n\t\toptions.dragging = false;\r\n\t\toptions.zoomAnimation = false;\r\n\t\toptions.fadeAnimation = false;\r\n\t\toptions.markerZoomAnimation = false;\r\n\t\toptions.keyboard = false;\r\n\t\toptions.scrollWheelZoom = false;\r\n\t\toptions.tap = false;\r\n\t\toptions.touchZoom = false;\r\n\r\n\t\treturn options;\r\n\t},\r\n\r\n\t_setupPrintMap: function (id, options, printLayer, printObjects, panes) {\r\n\t\tvar overlayMap = L.map(id, options);\r\n\r\n\t\tif (printLayer) {\r\n\t\t\tprintLayer.addTo(overlayMap);\r\n\t\t}\r\n\r\n\t\tpanes.forEach(function(p) { overlayMap.createPane(p.name, p.container); });\r\n\t\tvar clones = {};\r\n\t\tvar popupsToOpen = [];\r\n\t\tfor (var type in printObjects){\r\n\t\t\tvar closePopupsOnPrint = this.options.closePopupsOnPrint;\r\n\t\t\tprintObjects[type] = printObjects[type].map(function(pLayer){\r\n\t\t\t\tvar clone = L.BrowserPrint.Utils.cloneLayer(pLayer);\r\n\r\n\t\t\t\tif (clone) {\r\n\t\t\t\t\t/* Workaround for apropriate handling of popups. */\r\n\t\t\t\t\tif (pLayer instanceof L.Popup){\r\n\t\t\t\t\t\tif(!pLayer.isOpen) {\r\n\t\t\t\t\t\t\tpLayer.isOpen = function () { return this._isOpen; };\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (pLayer.isOpen() && !closePopupsOnPrint) {\r\n\t\t\t\t\t\t\tpopupsToOpen.push({source: pLayer._source, popup: clone});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tclone.addTo(overlayMap);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tclones[pLayer._leaflet_id] = clone;\r\n\r\n\t\t\t\t\tif (pLayer instanceof L.Layer) {\r\n\t\t\t\t\t\tvar tooltip = pLayer.getTooltip();\r\n\t\t\t\t\t\tif (tooltip) {\r\n\t\t\t\t\t\t\tclone.bindTooltip(tooltip.getContent(), tooltip.options);\r\n\t\t\t\t\t\t\tif (pLayer.isTooltipOpen()) {\r\n\t\t\t\t\t\t\t\tclone.openTooltip(tooltip.getLatLng());\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn clone;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfor (var p = 0; p < popupsToOpen.length; p++) {\r\n\t\t\tvar popupModel = popupsToOpen[p];\r\n\t\t\tif (popupModel.source) {\r\n\t\t\t\tvar element = clones[popupModel.source._leaflet_id];\r\n\t\t\t\tif (element && element.bindPopup && element.openPopup) {\r\n\t\t\t\t\tclones[popupModel.source._leaflet_id].bindPopup(popupModel.popup).openPopup(popupModel.popup.getLatLng());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {map: overlayMap, objects: printObjects};\r\n\t},\r\n\r\n\t// Get all layers that is tile layers and is still loading;\r\n\t_isTilesLoading: function(overlayMap){\r\n\t\tvar isLoading = false;\r\n\t\tvar mapMajorVersion = parseFloat(L.version);\r\n\t\tif (mapMajorVersion > 1) {\r\n\t\t\tisLoading = this._getLoadingLayers(overlayMap);\r\n\t\t} else {\r\n\t\t\tisLoading = overlayMap._tilesToLoad || overlayMap._tileLayersToLoad;\r\n\t\t}\r\n\r\n\t\treturn isLoading;\r\n\t},\r\n\r\n\t_getLoadingLayers: function(map) {\r\n\t\tfor (var l in map._layers) {\r\n\t\t\tvar layer = map._layers[l];\r\n\t\t\tif ((layer._url || layer._mutant) && layer._loading) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t},\r\n\r\n\t_appendControlStyles:  function (container) {\r\n\t\tvar printControlStyleSheet = document.createElement(\'style\');\r\n\t\tprintControlStyleSheet.setAttribute(\'type\', \'text/css\');\r\n\t\tprintControlStyleSheet.id = "browser-print-css";\r\n\t\tprintControlStyleSheet.innerHTML += " .leaflet-control-browser-print { display: flex; } .leaflet-control-browser-print a { background: #fff url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gcCCi8Vjp+aNAAAAGhJREFUOMvFksENgDAMA68RC7BBN+Cf/ZU33QAmYAT6BolAGxB+RrrIsg1BpfNBVXcPMLMDI/ytpKozMHWwK7BJJ7yYWQbGdBea9wTIkRDzKy0MT7r2NiJACRgotCzxykFI34QY2Ea7KmtxGJ+uX4wfAAAAAElFTkSuQmCC\') no-repeat 5px; background-size: 16px 16px; display: block; border-radius: 2px; }";\r\n\t\tprintControlStyleSheet.innerHTML += " .leaflet-control-browser-print a.leaflet-browser-print { background-position: center; }";\r\n\t\tprintControlStyleSheet.innerHTML += " .browser-print-holder { background-color: #919187; margin: 0px; padding: 0px; list-style: none; white-space: nowrap; align-items: center; display: flex; } .browser-print-holder-left li:last-child { border-top-right-radius: 2px; border-bottom-right-radius: 2px; } .browser-print-holder-right li:first-child { border-top-left-radius: 2px; border-bottom-left-radius: 2px; }";\r\n\t\tprintControlStyleSheet.innerHTML += " .browser-print-mode { display: none; color: #FFF; text-decoration: none; padding: 0 10px; text-align: center; } .browser-print-holder:hover { background-color: #757570; cursor: pointer; }";\r\n\t\tprintControlStyleSheet.innerHTML += " .leaflet-browser-print--custom, .leaflet-browser-print--custom path { cursor: crosshair!important; }";\r\n\t\tprintControlStyleSheet.innerHTML += " .leaflet-print-overlay { width: 100%; height:auto; min-height: 100%; position: absolute; top: 0; background-color: white!important; left: 0; z-index: 1001; display: block!important; } ";\r\n\t\tprintControlStyleSheet.innerHTML += " .leaflet--printing { height:auto; min-height: 100%; margin: 0px!important; padding: 0px!important; } body.leaflet--printing > * { display: none; box-sizing: border-box; }";\r\n\t\tprintControlStyleSheet.innerHTML += " .grid-print-container { grid-template: 1fr / 1fr; box-sizing: border-box; overflow: hidden; } .grid-map-print { grid-row: 1; grid-column: 1; } body.leaflet--printing .grid-print-container [leaflet-browser-print-content]:not(style) { display: unset!important; }";\r\n\t\tprintControlStyleSheet.innerHTML += " .pages-print-container { box-sizing: border-box; }";\r\n\t\tprintControlStyleSheet.innerHTML += \' #print-header, #print-footer { text-align: center; font-size: 20px; }\';\r\n\t\tprintControlStyleSheet.innerHTML += \' .over-the-map { position: absolute; left: 0; z-index: 10000; }\';\r\n\r\n\t\tcontainer.appendChild(printControlStyleSheet);\r\n\t},\r\n\t_setupManualPrintButton: function(map, origins, objects) {\r\n\t\tvar manualPrintButton = document.createElement(\'button\');\r\n\t\tmanualPrintButton.className = "leaflet-browser-print--manualMode-button";\r\n\t\tmanualPrintButton.innerHTML = "Print";\r\n\t\tmanualPrintButton.style.position = "absolute";\r\n\t\tmanualPrintButton.style.top = "20px";\r\n\t\tmanualPrintButton.style.right = "20px";\r\n\t\tthis.__overlay__.appendChild(manualPrintButton);\r\n\r\n\t\tvar self = this;\r\n\t\tL.DomEvent.on(manualPrintButton, \'click\', function () {\r\n\t\t\tself.browserPrint._completePrinting(map, origins, objects);\r\n\t\t});\r\n\t},\r\n});\r\n\r\n\r\nL.browserPrint = function(map,options){\r\n\treturn new L.BrowserPrint(map,options);\r\n};\r\n\r\n\r\nL.BrowserPrint.Event =  {\r\n\tPrintInit: \'browser-print-init\',\r\n\tPrePrint: \'browser-pre-print\',\r\n\tPrintStart: \'browser-print-start\',\r\n\tPrint: \'browser-print\',\r\n\tPrintEnd: \'browser-print-end\',\r\n\tPrintCancel: \'browser-print-cancel\'\r\n};\r\n\n\n//# sourceURL=webpack:///./src/leaflet.browser.print.js?')},"./src/leaflet.browser.print.modes.js":
/*!********************************************!*\
        !*** ./src/leaflet.browser.print.modes.js ***!
        \********************************************/
/*! no static exports found */function(module,exports){eval('/**\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Igor Vladyka <igor.vladyka@gmail.com> (https://github.com/Igor-Vladyka/leaflet.browser.print)\r\n**/\r\n\r\nL.BrowserPrint.Mode = L.Class.extend({\r\n\toptions: {\r\n\t\ttitle: \'\',\r\n\t\tinvalidateBounds: false,\r\n\t\tmargin: {},\r\n\t\tenableZoom: true,\r\n\t\tzoom: 0,\r\n\t\trotate: 0,\r\n\t\tscale: 1,\r\n\t\torientation: \'\',\r\n\t\tpageSize: \'A4\',\r\n\t\tpageSeries: \'\',\r\n\t\tpageSeriesSize: \'\',\r\n\t\taction: null,\r\n\t\theader: {\r\n\t\t\tenabled: false,\r\n\t\t\ttext: "",\r\n\t\t\tsize: "10mm",\r\n\t\t\toverTheMap: false,\r\n\t\t},\r\n\t\tfooter: {\r\n\t\t\tenabled: false,\r\n\t\t\ttext: "",\r\n\t\t\tsize: "10mm",\r\n\t\t\toverTheMap: false,\r\n\t\t},\r\n\t},\r\n\tinitialize: function (mode, options = {}) {\r\n\t\tif (!mode) {\r\n\t\t\tthrow \'Print mode have to be set. Default modes: "Portrait", "Landscape", "Auto" or "Custom". The shortcut functions "L.BrowserPrint.Mode.Portrait" are preferred.\';\r\n\t\t}\r\n\r\n\t\tthis.mode = mode;\r\n\t\tthis.setOptions(options);\r\n\t},\r\n    setOptions: function(options){\r\n        L.setOptions(this, options);\r\n\r\n        if(!this.options.title){\r\n            this.options.title = this.mode;\r\n        }\r\n\r\n        if(this.mode === "Portrait" || this.mode === "Landscape"){\r\n            this.options.orientation = this.mode;\r\n        }\r\n\r\n        this.options.pageSize = (this.options.pageSize || \'A4\').toUpperCase();\r\n        this.options.pageSeries = ["A", "B", "C", "D"].indexOf(this.options.pageSize[0]) !== -1 ? this.options.pageSize[0] : "";\r\n        this.options.pageSeriesSize = this.options.pageSize.substring(this.options.pageSeries.length);\r\n        this.options.action = this.options.action || function (context, element) {\r\n            return function () {\r\n                context._printMode(element)\r\n            };\r\n        };\r\n    }\r\n});\r\n\r\nL.browserPrint.mode = function(mode, options){\r\n\treturn new L.BrowserPrint.Mode(mode,options);\r\n};\r\n\r\nL.BrowserPrint.Mode.Name = {\r\n\tLandscape: "Landscape",\r\n\tPortrait: "Portrait",\r\n\tAuto: "Auto",\r\n\tCustom: "Custom",\r\n};\r\n\r\n\r\nL.BrowserPrint.Mode.Portrait = function(pageSize, options = {}) {\r\n\toptions.pageSize = pageSize;\r\n\toptions.invalidateBounds = options.invalidateBounds === true || options.invalidateBounds === false ?  options.invalidateBounds : false;\r\n\treturn new L.BrowserPrint.Mode(L.BrowserPrint.Mode.Name.Portrait, options);\r\n};\r\nL.BrowserPrint.Mode.Landscape = function(pageSize, options = {}) {\r\n\toptions.pageSize = pageSize;\r\n\toptions.invalidateBounds = options.invalidateBounds === true || options.invalidateBounds === false ?  options.invalidateBounds : false;\r\n\treturn new L.BrowserPrint.Mode(L.BrowserPrint.Mode.Name.Landscape, options);\r\n};\r\nL.BrowserPrint.Mode.Auto = function(pageSize, options = {}) {\r\n\toptions.pageSize = pageSize;\r\n\toptions.invalidateBounds = options.invalidateBounds === true || options.invalidateBounds === false ?  options.invalidateBounds : true;\r\n\treturn new L.BrowserPrint.Mode(L.BrowserPrint.Mode.Name.Auto, options);\r\n};\r\nL.BrowserPrint.Mode.Custom = function(pageSize, options = {}) {\r\n\toptions.pageSize = pageSize;\r\n\toptions.invalidateBounds = options.invalidateBounds === true || options.invalidateBounds === false ?  options.invalidateBounds : true;\r\n\treturn new L.BrowserPrint.Mode(L.BrowserPrint.Mode.Name.Custom, options);\r\n};\r\n\n\n//# sourceURL=webpack:///./src/leaflet.browser.print.modes.js?')},"./src/leaflet.browser.print.sizes.js":
/*!********************************************!*\
        !*** ./src/leaflet.browser.print.sizes.js ***!
        \********************************************/
/*! no static exports found */function(module,exports){eval("/**\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Igor Vladyka <igor.vladyka@gmail.com> (https://github.com/Igor-Vladyka/leaflet.browser.print)\r\n**/\r\n\r\n/* Portrait mode sizes in mm for 0 lvl*/\r\nL.BrowserPrint.Size =  {\r\n\tA: {\r\n\t\tWidth: 840,\r\n\t\tHeight: 1188\r\n\t},\r\n\tB: {\r\n\t\tWidth: 1000,\r\n\t\tHeight: 1414\r\n\t},\r\n\tC: {\r\n\t\tWidth: 916,\r\n\t\tHeight: 1296\r\n\t},\r\n\tD: {\r\n\t\tWidth: 770,\r\n\t\tHeight: 1090\r\n\t},\r\n\tLETTER: {\r\n\t\tWidth: 216,\r\n\t\tHeight: 279\r\n\t},\r\n\tHALFLETTER: {\r\n\t\tWidth: 140,\r\n\t\tHeight: 216\r\n\t},\r\n\tLEGAL: {\r\n\t\tWidth: 216,\r\n\t\tHeight: 356\r\n\t},\r\n\tJUNIORLEGAL: {\r\n\t\tWidth: 127,\r\n\t\tHeight: 203\r\n\t},\r\n\tTABLOID: {\r\n\t\tWidth: 279,\r\n\t\tHeight: 432\r\n\t},\r\n\tLEDGER: {\r\n\t\tWidth: 432,\r\n\t\tHeight: 279\r\n\t}\r\n};\r\n\n\n//# sourceURL=webpack:///./src/leaflet.browser.print.sizes.js?")},"./src/leaflet.browser.print.utils.js":
/*!********************************************!*\
        !*** ./src/leaflet.browser.print.utils.js ***!
        \********************************************/
/*! no static exports found */function(module,exports){eval("/**\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Igor Vladyka <igor.vladyka@gmail.com> (https://github.com/Igor-Vladyka/leaflet.browser.print)\r\n**/\r\n\r\nL.BrowserPrint.Utils = {\r\n\r\n\t_ignoreArray: [],\r\n\r\n\t_cloneFactoryArray: [],\r\n\t_cloneRendererArray: [],\r\n\t_knownRenderers: {},\r\n\r\n\tcloneOptions: function(options) {\r\n\t\tvar utils = this;\r\n\t    var retOptions = {};\r\n\t    for (var name in options) {\r\n\t        var item = options[name];\r\n\t\t\tif (item && item.clone) {\r\n\t\t\t\tretOptions[name] = item.clone();\r\n\t\t\t} else if (item && item.onAdd) {\r\n\t\t\t\tretOptions[name] = utils.cloneLayer(item);\r\n\t\t\t} else {\r\n\t\t\t\tretOptions[name] = item;\r\n\t\t\t}\r\n\t    }\r\n\t    return retOptions;\r\n\t},\r\n\r\n\tcloneBasicOptionsWithoutLayers: function(options) {\r\n\t    var retOptions = {};\r\n\t\tvar optionNames = Object.getOwnPropertyNames(options);\r\n\t\tif (optionNames.length) {\r\n\t\t\tfor (var i = 0; i < optionNames.length; i++) {\r\n\t\t\t\tvar optName = optionNames[i];\r\n\t\t\t\tif (optName && optName != \"layers\") {\r\n\t\t\t        retOptions[optName] = options[optName];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t    return this.cloneOptions(retOptions);\r\n\t\t}\r\n\r\n\t\treturn retOptions;\r\n\t},\r\n\r\n\tcloneInnerLayers: function (layer) {\r\n\t\tvar utils = this;\r\n\t\tvar layers = [];\r\n\r\n\t\tlayer.eachLayer(function (inner) {\r\n\t\t\tvar l = utils.cloneLayer(inner);\r\n\r\n\t\t\tif (l) {\r\n\t\t\t\tlayers.push(l);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn layers;\r\n\t},\r\n\r\n\tinitialize: function () {\r\n\r\n\t\tthis._knownRenderers = {};\r\n\r\n\t\t// Renderers\r\n\t\tthis.registerRenderer(L.SVG, 'L.SVG');\r\n\t\tthis.registerRenderer(L.Canvas, 'L.Canvas');\r\n\r\n\t\tthis.registerLayer(L.TileLayer.WMS, 'L.TileLayer.WMS', function(layer, utils) { \treturn L.tileLayer.wms(layer._url, utils.cloneOptions(layer.options)); });\r\n\t\tthis.registerLayer(L.TileLayer, 'L.TileLayer', function(layer, utils) { \t\t\treturn L.tileLayer(layer._url, utils.cloneOptions(layer.options)); });\r\n\t\tthis.registerLayer(L.GridLayer, 'L.GridLayer', function(layer, utils) { \t\t\treturn L.gridLayer(utils.cloneOptions(layer.options)); });\r\n\t\tthis.registerLayer(L.ImageOverlay, 'L.ImageOverlay', function(layer, utils) { \t\treturn L.imageOverlay(layer._url, layer._bounds, utils.cloneOptions(layer.options)); });\r\n\t\tthis.registerLayer(L.Marker, 'L.Marker', function(layer, utils) { \t\t\t\t\treturn L.marker(layer.getLatLng(), utils.cloneOptions(layer.options)); });\r\n\t\tthis.registerLayer(L.Popup, 'L.Popup', function(layer, utils) { \t\t\t\t\treturn L.popup(utils.cloneOptions(layer.options)).setLatLng(layer.getLatLng()).setContent(layer.getContent()); });\r\n\t\tthis.registerLayer(L.Circle, 'L.Circle', function(layer, utils) { \t\t\t\t\treturn L.circle(layer.getLatLng(), layer.getRadius(), utils.cloneOptions(layer.options)); });\r\n\t\tthis.registerLayer(L.CircleMarker, 'L.CircleMarker', function(layer, utils) { \t\treturn L.circleMarker(layer.getLatLng(), utils.cloneOptions(layer.options)); });\r\n\t\tthis.registerLayer(L.Rectangle, 'L.Rectangle', function(layer, utils) { \t\t\treturn L.rectangle(layer.getBounds(), utils.cloneOptions(layer.options)); });\r\n\t\tthis.registerLayer(L.Polygon, 'L.Polygon', function(layer, utils) { \t\t\t\treturn L.polygon(layer.getLatLngs(), utils.cloneOptions(layer.options)); });\r\n\r\n\t\t// MultiPolyline is removed in leaflet 1.0.0\r\n\t\tthis.registerLayer(L.MultiPolyline, 'L.MultiPolyline', function(layer, utils) { \treturn L.polyline(layer.getLatLngs(), utils.cloneOptions(layer.options)); });\r\n\t\t// MultiPolygon is removed in leaflet 1.0.0\r\n\t\tthis.registerLayer(L.MultiPolygon, 'L.MultiPolygon', function(layer, utils) { \t\treturn L.multiPolygon(layer.getLatLngs(), utils.cloneOptions(layer.options)); });\r\n\r\n\t\tthis.registerLayer(L.Polyline, 'L.Polyline', function(layer, utils) { \t\t\t\treturn L.polyline(layer.getLatLngs(), utils.cloneOptions(layer.options)); });\r\n\t\tthis.registerLayer(L.GeoJSON, 'L.GeoJSON', function(layer, utils) { \t\t\t\treturn L.geoJson(layer.toGeoJSON(), utils.cloneOptions(layer.options)); });\r\n\r\n\t\tthis.registerIgnoreLayer(L.FeatureGroup, 'L.FeatureGroup');\r\n\t\tthis.registerIgnoreLayer(L.LayerGroup, 'L.LayerGroup');\r\n\r\n\t\t// There is no point to clone tooltips here;  L.tooltip(options);\r\n\t\tthis.registerLayer(L.Tooltip, 'L.Tooltip', function(){\treturn null; });\r\n\t},\r\n\r\n\t_register: function(array, type, identifier, builderFunction) {\r\n\t\tif (type &&\r\n\t\t\t!array.filter(function(l){ return l.identifier === identifier; }).length) {\r\n\r\n\t\t\tarray.push({\r\n\t\t\t\ttype: type,\r\n\t\t\t\tidentifier: identifier,\r\n\t\t\t\tbuilder: builderFunction || function (layer) { return new type(layer.options); }\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\r\n\tregisterLayer: function(type, identifier, builderFunction) {\r\n\t\tthis._register(this._cloneFactoryArray, type, identifier, builderFunction);\r\n\t},\r\n\r\n\tregisterRenderer: function(type, identifier, builderFunction) {\r\n\t\tthis._register(this._cloneRendererArray, type, identifier, builderFunction);\r\n\t},\r\n\r\n\tregisterIgnoreLayer: function(type, identifier) {\r\n\t\tthis._register(this._ignoreArray, type, identifier);\r\n\t},\r\n\r\n\tcloneLayer: function(layer) {\r\n\t\tif (!layer) return null;\r\n\r\n\t\t// First we check if this layer is actual renderer\r\n\t\tvar renderer = this.__getRenderer(layer);\r\n\t\tif (renderer) {\r\n\t\t\treturn renderer;\r\n\t\t}\r\n\r\n\t\tvar factoryObject;\r\n\t\tif (layer._group) { // Exceptional check for L.MarkerClusterGroup\r\n\t\t\tfactoryObject = this.__getFactoryObject(layer._group, true);\r\n\t\t} else {\r\n\t\t\tfactoryObject = this.__getFactoryObject(layer);\r\n\t\t}\r\n\r\n\t\t// We clone and recreate layer if it's simple overlay\r\n\t\tif (factoryObject) {\r\n\t\t\tfactoryObject = factoryObject.builder(layer, this);\r\n\t\t}\r\n\r\n\t\treturn factoryObject;\r\n\t},\r\n\r\n\tgetType: function(layer) {\r\n\t\tif (!layer) return null;\r\n\r\n\t\tvar factoryObject = this.__getFactoryObject(layer);\r\n\t\tif (factoryObject) {\r\n\t\t\tfactoryObject = factoryObject.identifier;\r\n\t\t}\r\n\r\n\t\treturn factoryObject;\r\n\t},\r\n\r\n\t__getRenderer: function(oldRenderer) {\r\n\t\tvar renderer = this._knownRenderers[oldRenderer._leaflet_id];\r\n\t\tif (!renderer) {\r\n\t\t\tfor (var i = 0; i < this._cloneRendererArray.length; i++) {\r\n\t\t\t\tvar factoryObject = this._cloneRendererArray[i];\r\n\t\t\t\tif (oldRenderer instanceof factoryObject.type) {\r\n\t\t\t\t\tthis._knownRenderers[oldRenderer._leaflet_id] = factoryObject.builder(oldRenderer.options);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\trenderer = this._knownRenderers[oldRenderer._leaflet_id];\r\n\t\t}\r\n\r\n\t\treturn renderer;\r\n\t},\r\n\r\n\t__getFactoryObject: function (layer, skipIgnore) {\r\n\t\tif (!skipIgnore) {\r\n\t\t\tfor (var i = 0; i < this._ignoreArray.length; i++) {\r\n\t\t\t\tvar ignoreObject = this._ignoreArray[i];\r\n\t\t\t\tif (ignoreObject.type && layer instanceof ignoreObject.type) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (var i = 0; i < this._cloneFactoryArray.length; i++) {\r\n\t\t\tvar factoryObject = this._cloneFactoryArray[i];\r\n\t\t\tif (factoryObject.type && layer instanceof factoryObject.type) {\r\n\t\t\t\treturn factoryObject;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (var i = 0; i < this._cloneRendererArray.length; i++) {\r\n\t\t\tvar factoryObject = this._cloneRendererArray[i];\r\n\t\t\tif (factoryObject.type && layer instanceof factoryObject.type) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.__unknownLayer__();\r\n\r\n\t\treturn null;\r\n\t},\r\n\r\n\t__unknownLayer__: function(){\r\n\t   console.warn('Unknown layer, cannot clone this layer. Leaflet version: ' + L.version);\r\n\t   console.info('For additional information please refer to documentation on: https://github.com/Igor-Vladyka/leaflet.browser.print.');\r\n\t   console.info('-------------------------------------------------------------------------------------------------------------------');\r\n   }\r\n};\r\n\n\n//# sourceURL=webpack:///./src/leaflet.browser.print.utils.js?")},0:
/*!*****************************************************************************************************************************************************************************************************************************************!*\
        !*** multi ./src/leaflet.browser.print.js ./src/leaflet.browser.print.control.js ./src/leaflet.browser.print.utils.js ./src/leaflet.browser.print.sizes.js ./src/leaflet.browser.print.modes.js ./src/leaflet.browser.print.helpers.js ***!
        \*****************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('__webpack_require__(/*! ./src/leaflet.browser.print.js */"./src/leaflet.browser.print.js");\n__webpack_require__(/*! ./src/leaflet.browser.print.control.js */"./src/leaflet.browser.print.control.js");\n__webpack_require__(/*! ./src/leaflet.browser.print.utils.js */"./src/leaflet.browser.print.utils.js");\n__webpack_require__(/*! ./src/leaflet.browser.print.sizes.js */"./src/leaflet.browser.print.sizes.js");\n__webpack_require__(/*! ./src/leaflet.browser.print.modes.js */"./src/leaflet.browser.print.modes.js");\nmodule.exports = __webpack_require__(/*! ./src/leaflet.browser.print.helpers.js */"./src/leaflet.browser.print.helpers.js");\n\n\n//# sourceURL=webpack:///multi_./src/leaflet.browser.print.js_./src/leaflet.browser.print.control.js_./src/leaflet.browser.print.utils.js_./src/leaflet.browser.print.sizes.js_./src/leaflet.browser.print.modes.js_./src/leaflet.browser.print.helpers.js?')}})}();var domToImage={exports:{}};!function(t){!function(n){var r=function(){return{escape:function(e){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:t,mimeType:function(e){var n=t(e).toLowerCase();return(r="application/font-woff",o="image/jpeg",{woff:r,woff2:r,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:o,jpeg:o,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"})[n]||"";var r,o},dataAsUrl:function(e,t){return"data:"+t+";base64,"+e},isDataUrl:function(e){return-1!==e.search(/^(data:)/)},canvasToBlob:function(e){return e.toBlob?new Promise((function(t){e.toBlob(t)})):function(e){return new Promise((function(t){for(var n=window.atob(e.toDataURL().split(",")[1]),r=n.length,o=new Uint8Array(r),i=0;i<r;i++)o[i]=n.charCodeAt(i);t(new Blob([o],{type:"image/png"}))}))}(e)},resolveUrl:function(e,t){var n=document.implementation.createHTMLDocument(),r=n.createElement("base");n.head.appendChild(r);var o=n.createElement("a");return n.body.appendChild(o),r.href=t,o.href=e,o.href},getAndEncode:function(e){var t=3e4;l.impl.options.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());return new Promise((function(n){var r,o=new XMLHttpRequest;if(o.onreadystatechange=a,o.ontimeout=s,o.responseType="blob",o.timeout=t,o.open("GET",e,!0),o.send(),l.impl.options.imagePlaceholder){var i=l.impl.options.imagePlaceholder.split(/,/);i&&i[1]&&(r=i[1])}function a(){if(4===o.readyState)if(200===o.status){var t=new FileReader;t.onloadend=function(){var e=t.result.split(/,/)[1];n(e)},t.readAsDataURL(o.response)}else r?n(r):u("cannot fetch resource: "+e+", status: "+o.status)}function s(){r?n(r):u("timeout of "+t+"ms occured while fetching resource: "+e)}function u(e){n("")}}))},uid:(e=0,function(){return"u"+t()+e++;function t(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}),delay:function(e){return function(t){return new Promise((function(n){setTimeout((function(){n(t)}),e)}))}},asArray:function(e){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t},escapeXhtml:function(e){return e.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src=e}))},width:function(e){var t=n(e,"border-left-width"),r=n(e,"border-right-width");return e.scrollWidth+t+r},height:function(e){var t=n(e,"border-top-width"),r=n(e,"border-bottom-width");return e.scrollHeight+t+r}};var e;function t(e){var t=/\.([^\.\/]*?)$/g.exec(e);return t?t[1]:""}function n(e,t){var n=window.getComputedStyle(e).getPropertyValue(t);return parseFloat(n.replace("px",""))}}(),o=function(){var e=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(e,r,i){return a()?Promise.resolve(e):Promise.resolve(e).then(n).then((function(t){var n=Promise.resolve(e);return t.forEach((function(e){n=n.then((function(t){return o(t,e,r,i)}))})),n}));function a(){return!t(e)}},shouldProcess:t,impl:{readUrls:n,inline:o}};function t(t){return-1!==t.search(e)}function n(t){for(var n,o=[];null!==(n=e.exec(t));)o.push(n[1]);return o.filter((function(e){return!r.isDataUrl(e)}))}function o(e,t,n,o){return Promise.resolve(t).then((function(e){return n?r.resolveUrl(e,n):e})).then(o||r.getAndEncode).then((function(e){return r.dataAsUrl(e,r.mimeType(t))})).then((function(n){return e.replace((o=t,new RegExp("(url\\(['\"]?)("+r.escape(o)+")(['\"]?\\))","g")),"$1"+n+"$3");var o}))}}(),i=function(){return{resolveAll:function(){return t().then((function(e){return Promise.all(e.map((function(e){return e.resolve()})))})).then((function(e){return e.join("\n")}))},impl:{readAll:t}};function t(){return Promise.resolve(r.asArray(document.styleSheets)).then((function(t){var n=[];return t.forEach((function(t){try{r.asArray(t.cssRules||[]).forEach(n.push.bind(n))}catch(e){}})),n})).then((function(e){return e.filter((function(e){return e.type===CSSRule.FONT_FACE_RULE})).filter((function(e){return o.shouldProcess(e.style.getPropertyValue("src"))}))})).then((function(e){return e.map(t)}));function t(e){return{resolve:function(){var t=(e.parentStyleSheet||{}).href;return o.inlineAll(e.cssText,t)},src:function(){return e.style.getPropertyValue("src")}}}}}(),a=function(){return{inlineAll:function t(n){return n instanceof Element?i(n).then((function(){return n instanceof HTMLImageElement?e(n).inline():Promise.all(r.asArray(n.childNodes).map((function(e){return t(e)})))})):Promise.resolve(n);function i(e){var t=e.style.getPropertyValue("background");return t?o.inlineAll(t).then((function(t){e.style.setProperty("background",t,e.style.getPropertyPriority("background"))})).then((function(){return e})):Promise.resolve(e)}},impl:{newImage:e}};function e(e){return{inline:function(t){return r.isDataUrl(e.src)?Promise.resolve():Promise.resolve(e.src).then(t||r.getAndEncode).then((function(t){return r.dataAsUrl(t,r.mimeType(e.src))})).then((function(t){return new Promise((function(n,r){e.onload=n,e.onerror=r,e.src=t}))}))}}}}(),s={imagePlaceholder:void 0,cacheBust:!1},l={toSvg:u,toPng:function(e,t){return c(e,t||{}).then((function(e){return e.toDataURL()}))},toJpeg:function(e,t){return c(e,t=t||{}).then((function(e){return e.toDataURL("image/jpeg",t.quality||1)}))},toBlob:function(e,t){return c(e,t||{}).then(r.canvasToBlob)},toPixelData:function(e,t){return c(e,t||{}).then((function(t){return t.getContext("2d").getImageData(0,0,r.width(e),r.height(e)).data}))},impl:{fontFaces:i,images:a,util:r,inliner:o,options:{}}};function u(e,t){return function(e){void 0===e.imagePlaceholder?l.impl.options.imagePlaceholder=s.imagePlaceholder:l.impl.options.imagePlaceholder=e.imagePlaceholder;void 0===e.cacheBust?l.impl.options.cacheBust=s.cacheBust:l.impl.options.cacheBust=e.cacheBust}(t=t||{}),Promise.resolve(e).then((function(e){return d(e,t.filter,!0)})).then(h).then(p).then((function(e){t.bgcolor&&(e.style.backgroundColor=t.bgcolor);t.width&&(e.style.width=t.width+"px");t.height&&(e.style.height=t.height+"px");t.style&&Object.keys(t.style).forEach((function(n){e.style[n]=t.style[n]}));return e})).then((function(n){return function(e,t,n){return Promise.resolve(e).then((function(e){return e.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(e)})).then(r.escapeXhtml).then((function(e){return'<foreignObject x="0" y="0" width="100%" height="100%">'+e+"</foreignObject>"})).then((function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+n+'">'+e+"</svg>"})).then((function(e){return"data:image/svg+xml;charset=utf-8,"+e}))}(n,t.width||r.width(e),t.height||r.height(e))}))}function c(e,t){return u(e,t).then(r.makeImage).then(r.delay(100)).then((function(n){var o=function(e){var n=document.createElement("canvas");if(n.width=t.width||r.width(e),n.height=t.height||r.height(e),t.bgcolor){var o=n.getContext("2d");o.fillStyle=t.bgcolor,o.fillRect(0,0,n.width,n.height)}return n}(e);return o.getContext("2d").drawImage(n,0,0),o}))}function d(e,t,n){return n||!t||t(e)?Promise.resolve(e).then((function(e){return e instanceof HTMLCanvasElement?r.makeImage(e.toDataURL()):e.cloneNode(!1)})).then((function(n){return function(e,t,n){var o=e.childNodes;return 0===o.length?Promise.resolve(t):i(t,r.asArray(o),n).then((function(){return t}));function i(e,t,n){var r=Promise.resolve();return t.forEach((function(t){r=r.then((function(){return d(t,n)})).then((function(t){t&&e.appendChild(t)}))})),r}}(e,n,t)})).then((function(t){return function(e,t){return t instanceof Element?Promise.resolve().then(n).then(o).then(i).then(a).then((function(){return t})):t;function n(){function n(e,t){function n(e,t){r.asArray(e).forEach((function(n){t.setProperty(n,e.getPropertyValue(n),e.getPropertyPriority(n))}))}e.cssText?t.cssText=e.cssText:n(e,t)}n(window.getComputedStyle(e),t.style)}function o(){function n(n){var o=window.getComputedStyle(e,n),i=o.getPropertyValue("content");if(""!==i&&"none"!==i){var a=r.uid();t.className=t.className+" "+a;var s=document.createElement("style");s.appendChild(l(a,n,o)),t.appendChild(s)}function l(e,t,n){var o="."+e+":"+t,i=n.cssText?a(n):s(n);return document.createTextNode(o+"{"+i+"}");function a(e){var t=e.getPropertyValue("content");return e.cssText+" content: "+t+";"}function s(e){return r.asArray(e).map(t).join("; ")+";";function t(t){return t+": "+e.getPropertyValue(t)+(e.getPropertyPriority(t)?" !important":"")}}}}[":before",":after"].forEach((function(e){n(e)}))}function i(){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value),e instanceof HTMLInputElement&&t.setAttribute("value",e.value)}function a(){t instanceof SVGElement&&(t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t instanceof SVGRectElement&&["width","height"].forEach((function(e){var n=t.getAttribute(e);n&&t.style.setProperty(e,n)})))}}(e,t)})):Promise.resolve()}function h(e){return i.resolveAll().then((function(t){var n=document.createElement("style");return e.appendChild(n),n.appendChild(document.createTextNode(t)),e}))}function p(e){return a.inlineAll(e).then((function(){return e}))}t.exports=l}()}(domToImage);var domToImageExports=domToImage.exports;const domtoimage=getDefaultExportFromCjs(domToImageExports);L.MagnifyingGlass=L.Layer.extend({options:{radius:100,zoomOffset:3,layers:[],fixedPosition:!1,latLng:[0,0],fixedZoom:-1},initialize:function(e){L.Util.setOptions(this,e),this._fixedZoom=-1!=this.options.fixedZoom,this._mainMap=null,this._glassMap=null},getMap:function(){return this._glassMap},_createMiniMap:function(e){return new L.Map(e,{layers:this.options.layers,zoom:this._getZoom(),maxZoom:this._mainMap.getMaxZoom(),minZoom:this._mainMap.getMinZoom(),crs:this._mainMap.options.crs,fadeAnimation:!1,attributionControl:!1,zoomControl:!1,boxZoom:!1,touchZoom:!1,scrollWheelZoom:!1,doubleClickZoom:!1,dragging:!1,keyboard:!1})},_getZoom:function(){return this._fixedZoom?this.options.fixedZoom:this._mainMap.getZoom()+this.options.zoomOffset},_updateZoom:function(){this._glassMap.setZoom(this._getZoom())},setRadius:function(e){this.options.radius=e,this._wrapperElt&&(this._wrapperElt.style.width=2*this.options.radius+"px",this._wrapperElt.style.height=2*this.options.radius+"px")},setLatLng:function(e){this.options.latLng=e,this._update(e)},_updateFromMouse:function(e){this._update(e.latlng,e.layerPoint)},_updateFixed:function(){this._update(this.options.latLng)},_update:function(e,t){this._glassMap.setView(e,this._getZoom(),{pan:{animate:!1}}),t=t||this._mainMap.latLngToLayerPoint(e),this._wrapperElt.style.left=t.x-this.options.radius+"px",this._wrapperElt.style.top=t.y-this.options.radius+"px"},onAdd:function(e){this._mainMap=e,this._wrapperElt=L.DomUtil.create("div","leaflet-magnifying-glass");var t=L.DomUtil.create("div","",this._wrapperElt);L.Browser.webkit&&L.DomUtil.addClass(t,"leaflet-magnifying-glass-webkit"),this._glassMap=this._createMiniMap(t),L.DomEvent.addListener(this._wrapperElt,"click",this._fireClick,this);var n=this.options;return this.setRadius(n.radius),this.setLatLng(n.latLng),this._glassMap.whenReady((function(){n.fixedPosition?(this._mainMap.on("zoomend",this._updateFixed,this),L.DomUtil.addClass(this._wrapperElt,"leaflet-zoom-hide")):(this._mainMap.on("mousemove",this._updateFromMouse,this),this._fixedZoom||this._mainMap.on("zoomend",this._updateZoom,this))}),this),e.getPanes().popupPane.appendChild(this._wrapperElt),this._glassMap.invalidateSize(),this},_fireClick:function(e){this.fire("click",e),L.DomEvent.stopPropagation(e)},onRemove:function(e){e.off("viewreset",this._updateFixed,this),e.off("mousemove",this._updateFromMouse,this),e.off("zoomend",this._updateZoom,this);for(var t=0,n=this.options.layers.length;t<n;t++)this._glassMap.removeLayer(this.options.layers[t]);return this._glassMap.remove(),L.DomEvent.removeListener(this._wrapperElt,"click",this._fireClick),e.getPanes().popupPane.removeChild(this._wrapperElt),this._mainMap=null,this}}),L.magnifyingGlass=function(e){return new L.MagnifyingGlass(e)};const localSearchIndex={root:()=>__vitePreload((()=>import("../js/@localSearchIndexroot/@localSearchIndexroot.zx1i8ykN.js")),__vite__mapDeps([]))};
/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var candidateSelectors=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],candidateSelector=candidateSelectors.join(","),NoElement="undefined"==typeof Element,matches=NoElement?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,getRootNode=!NoElement&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},isInert=function e(t,n){var r;void 0===n&&(n=!0);var o=null==t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,"inert");return""===o||"true"===o||n&&t&&e(t.parentNode)},isContentEditable=function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n},getCandidates=function(e,t,n){if(isInert(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(candidateSelector));return t&&matches.call(e,candidateSelector)&&r.unshift(e),r=r.filter(n)},getCandidatesIteratively=function e(t,n,r){for(var o=[],i=Array.from(t);i.length;){var a=i.shift();if(!isInert(a,!1))if("SLOT"===a.tagName){var s=a.assignedElements(),l=e(s.length?s:a.children,!0,r);r.flatten?o.push.apply(o,l):o.push({scopeParent:a,candidates:l})}else{matches.call(a,candidateSelector)&&r.filter(a)&&(n||!t.includes(a))&&o.push(a);var u=a.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(a),c=!isInert(u,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(u&&c){var d=e(!0===u?a.children:u.children,!0,r);r.flatten?o.push.apply(o,d):o.push({scopeParent:a,candidates:d})}else i.unshift.apply(i,a.children)}}return o},hasTabIndex=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},getTabIndex=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||isContentEditable(e))&&!hasTabIndex(e)?0:e.tabIndex},getSortOrderTabIndex=function(e,t){var n=getTabIndex(e);return n<0&&t&&!hasTabIndex(e)?0:n},sortOrderedTabbables=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},isInput=function(e){return"INPUT"===e.tagName},isHiddenInput=function(e){return isInput(e)&&"hidden"===e.type},isDetailsWithSummary=function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))},getCheckedRadio=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]},isTabbableRadio=function(e){if(!e.name)return!0;var t,n=e.form||getRootNode(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(i){return!1}var o=getCheckedRadio(t,e.form);return!o||o===e},isRadio=function(e){return isInput(e)&&"radio"===e.type},isNonTabbableRadio=function(e){return isRadio(e)&&!isTabbableRadio(e)},isNodeAttached=function(e){var t,n,r,o,i=e&&getRootNode(e),a=null===(t=i)||void 0===t?void 0:t.host,s=!1;if(i&&i!==e)for(s=!!(null!==(n=a)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(a)||null!=e&&null!==(o=e.ownerDocument)&&void 0!==o&&o.contains(e));!s&&a;){var l,u,c;s=!(null===(u=a=null===(l=i=getRootNode(a))||void 0===l?void 0:l.host)||void 0===u||null===(c=u.ownerDocument)||void 0===c||!c.contains(a))}return s},isZeroArea=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},isHidden=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var o=matches.call(e,"details>summary:first-of-type")?e.parentElement:e;if(matches.call(o,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return isZeroArea(e)}else{if("function"==typeof r){for(var i=e;e;){var a=e.parentElement,s=getRootNode(e);if(a&&!a.shadowRoot&&!0===r(a))return isZeroArea(e);e=e.assignedSlot?e.assignedSlot:a||s===e.ownerDocument?a:s.host}e=i}if(isNodeAttached(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1},isDisabledFromFieldset=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!matches.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1},isNodeMatchingSelectorFocusable=function(e,t){return!(t.disabled||isInert(t)||isHiddenInput(t)||isHidden(t,e)||isDetailsWithSummary(t)||isDisabledFromFieldset(t))},isNodeMatchingSelectorTabbable=function(e,t){return!(isNonTabbableRadio(t)||getTabIndex(t)<0||!isNodeMatchingSelectorFocusable(e,t))},isValidShadowRootTabbable=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},sortByOrder=function e(t){var n=[],r=[];return t.forEach((function(t,o){var i=!!t.scopeParent,a=i?t.scopeParent:t,s=getSortOrderTabIndex(a,i),l=i?e(t.candidates):a;0===s?i?n.push.apply(n,l):n.push(a):r.push({documentOrder:o,tabIndex:s,item:t,isScope:i,content:l})})),r.sort(sortOrderedTabbables).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},tabbable=function(e,t){var n;return n=(t=t||{}).getShadowRoot?getCandidatesIteratively([e],t.includeContainer,{filter:isNodeMatchingSelectorTabbable.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:isValidShadowRootTabbable}):getCandidates(e,t.includeContainer,isNodeMatchingSelectorTabbable.bind(null,t)),sortByOrder(n)},focusable=function(e,t){return(t=t||{}).getShadowRoot?getCandidatesIteratively([e],t.includeContainer,{filter:isNodeMatchingSelectorFocusable.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):getCandidates(e,t.includeContainer,isNodeMatchingSelectorFocusable.bind(null,t))},isTabbable=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==matches.call(e,candidateSelector)&&isNodeMatchingSelectorTabbable(t,e)},focusableCandidateSelector=candidateSelectors.concat("iframe").join(","),isFocusable=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==matches.call(e,focusableCandidateSelector)&&isNodeMatchingSelectorFocusable(t,e)};
/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/
function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}var activeFocusTraps={activateTrap:function(e,t){if(e.length>0){var n=e[e.length-1];n!==t&&n.pause()}var r=e.indexOf(t);-1===r||e.splice(r,1),e.push(t)},deactivateTrap:function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},isSelectableInput=function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"==typeof e.select},isEscapeEvent=function(e){return"Escape"===(null==e?void 0:e.key)||"Esc"===(null==e?void 0:e.key)||27===(null==e?void 0:e.keyCode)},isTabEvent=function(e){return"Tab"===(null==e?void 0:e.key)||9===(null==e?void 0:e.keyCode)},isKeyForward=function(e){return isTabEvent(e)&&!e.shiftKey},isKeyBackward=function(e){return isTabEvent(e)&&e.shiftKey},delay=function(e){return setTimeout(e,0)},findIndex=function(e,t){var n=-1;return e.every((function(e,r){return!t(e)||(n=r,!1)})),n},valueOrHandler=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"==typeof e?e.apply(void 0,n):e},getActualTarget=function(e){return e.target.shadowRoot&&"function"==typeof e.composedPath?e.composedPath()[0]:e.target},internalTrapStack=[],createFocusTrap=function(e,t){var n,r=(null==t?void 0:t.document)||document,o=(null==t?void 0:t.trapStack)||internalTrapStack,i=_objectSpread2({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:isKeyForward,isKeyBackward:isKeyBackward},t),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},s=function(e,t,n){return e&&void 0!==e[t]?e[t]:i[n||t]},l=function(e,t){var n="function"==typeof(null==t?void 0:t.composedPath)?t.composedPath():void 0;return a.containerGroups.findIndex((function(t){var r=t.container,o=t.tabbableNodes;return r.contains(e)||(null==n?void 0:n.includes(r))||o.find((function(t){return t===e}))}))},u=function(e){var t=i[e];if("function"==typeof t){for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];t=t.apply(void 0,o)}if(!0===t&&(t=void 0),!t){if(void 0===t||!1===t)return t;throw new Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var s=t;if("string"==typeof t&&!(s=r.querySelector(t)))throw new Error("`".concat(e,"` as selector refers to no known node"));return s},c=function(){var e=u("initialFocus");if(!1===e)return!1;if(void 0===e||!isFocusable(e,i.tabbableOptions))if(l(r.activeElement)>=0)e=r.activeElement;else{var t=a.tabbableGroups[0];e=t&&t.firstTabbableNode||u("fallbackFocus")}if(!e)throw new Error("Your focus-trap needs to have at least one focusable element");return e},d=function(){if(a.containerGroups=a.containers.map((function(e){var t=tabbable(e,i.tabbableOptions),n=focusable(e,i.tabbableOptions),r=t.length>0?t[0]:void 0,o=t.length>0?t[t.length-1]:void 0,a=n.find((function(e){return isTabbable(e)})),s=n.slice().reverse().find((function(e){return isTabbable(e)})),l=!!t.find((function(e){return getTabIndex(e)>0}));return{container:e,tabbableNodes:t,focusableNodes:n,posTabIndexesFound:l,firstTabbableNode:r,lastTabbableNode:o,firstDomTabbableNode:a,lastDomTabbableNode:s,nextTabbableNode:function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=t.indexOf(e);return o<0?r?n.slice(n.indexOf(e)+1).find((function(e){return isTabbable(e)})):n.slice(0,n.indexOf(e)).reverse().find((function(e){return isTabbable(e)})):t[o+(r?1:-1)]}}})),a.tabbableGroups=a.containerGroups.filter((function(e){return e.tabbableNodes.length>0})),a.tabbableGroups.length<=0&&!u("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find((function(e){return e.posTabIndexesFound}))&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},h=function e(t){var n=t.activeElement;if(n)return n.shadowRoot&&null!==n.shadowRoot.activeElement?e(n.shadowRoot):n},p=function e(t){!1!==t&&t!==h(document)&&(t&&t.focus?(t.focus({preventScroll:!!i.preventScroll}),a.mostRecentlyFocusedNode=t,isSelectableInput(t)&&t.select()):e(c()))},f=function(e){var t=u("setReturnFocus",e);return t||!1!==t&&e},m=function(e){var t=e.target,n=e.event,r=e.isBackward,o=void 0!==r&&r;t=t||getActualTarget(n),d();var s=null;if(a.tabbableGroups.length>0){var c=l(t,n),h=c>=0?a.containerGroups[c]:void 0;if(c<0)s=o?a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:a.tabbableGroups[0].firstTabbableNode;else if(o){var p=findIndex(a.tabbableGroups,(function(e){var n=e.firstTabbableNode;return t===n}));if(p<0&&(h.container===t||isFocusable(t,i.tabbableOptions)&&!isTabbable(t,i.tabbableOptions)&&!h.nextTabbableNode(t,!1))&&(p=c),p>=0){var f=0===p?a.tabbableGroups.length-1:p-1,m=a.tabbableGroups[f];s=getTabIndex(t)>=0?m.lastTabbableNode:m.lastDomTabbableNode}else isTabEvent(n)||(s=h.nextTabbableNode(t,!1))}else{var _=findIndex(a.tabbableGroups,(function(e){var n=e.lastTabbableNode;return t===n}));if(_<0&&(h.container===t||isFocusable(t,i.tabbableOptions)&&!isTabbable(t,i.tabbableOptions)&&!h.nextTabbableNode(t))&&(_=c),_>=0){var g=_===a.tabbableGroups.length-1?0:_+1,v=a.tabbableGroups[g];s=getTabIndex(t)>=0?v.firstTabbableNode:v.firstDomTabbableNode}else isTabEvent(n)||(s=h.nextTabbableNode(t))}}else s=u("fallbackFocus");return s},_=function(e){var t=getActualTarget(e);l(t,e)>=0||(valueOrHandler(i.clickOutsideDeactivates,e)?n.deactivate({returnFocus:i.returnFocusOnDeactivate}):valueOrHandler(i.allowOutsideClick,e)||e.preventDefault())},g=function(e){var t=getActualTarget(e),n=l(t,e)>=0;if(n||t instanceof Document)n&&(a.mostRecentlyFocusedNode=t);else{var r;e.stopImmediatePropagation();var o=!0;if(a.mostRecentlyFocusedNode)if(getTabIndex(a.mostRecentlyFocusedNode)>0){var s=l(a.mostRecentlyFocusedNode),u=a.containerGroups[s].tabbableNodes;if(u.length>0){var d=u.findIndex((function(e){return e===a.mostRecentlyFocusedNode}));d>=0&&(i.isKeyForward(a.recentNavEvent)?d+1<u.length&&(r=u[d+1],o=!1):d-1>=0&&(r=u[d-1],o=!1))}}else a.containerGroups.some((function(e){return e.tabbableNodes.some((function(e){return getTabIndex(e)>0}))}))||(o=!1);else o=!1;o&&(r=m({target:a.mostRecentlyFocusedNode,isBackward:i.isKeyBackward(a.recentNavEvent)})),p(r||(a.mostRecentlyFocusedNode||c()))}a.recentNavEvent=void 0},v=function(e){if(isEscapeEvent(e)&&!1!==valueOrHandler(i.escapeDeactivates,e))return e.preventDefault(),void n.deactivate();(i.isKeyForward(e)||i.isKeyBackward(e))&&function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a.recentNavEvent=e;var n=m({event:e,isBackward:t});n&&(isTabEvent(e)&&e.preventDefault(),p(n))}(e,i.isKeyBackward(e))},y=function(e){var t=getActualTarget(e);l(t,e)>=0||valueOrHandler(i.clickOutsideDeactivates,e)||valueOrHandler(i.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},b=function(){if(a.active)return activeFocusTraps.activateTrap(o,n),a.delayInitialFocusTimer=i.delayInitialFocus?delay((function(){p(c())})):p(c()),r.addEventListener("focusin",g,!0),r.addEventListener("mousedown",_,{capture:!0,passive:!1}),r.addEventListener("touchstart",_,{capture:!0,passive:!1}),r.addEventListener("click",y,{capture:!0,passive:!1}),r.addEventListener("keydown",v,{capture:!0,passive:!1}),n},E=function(){if(a.active)return r.removeEventListener("focusin",g,!0),r.removeEventListener("mousedown",_,!0),r.removeEventListener("touchstart",_,!0),r.removeEventListener("click",y,!0),r.removeEventListener("keydown",v,!0),n},C="undefined"!=typeof window&&"MutationObserver"in window?new MutationObserver((function(e){e.some((function(e){return Array.from(e.removedNodes).some((function(e){return e===a.mostRecentlyFocusedNode}))}))&&p(c())})):void 0,x=function(){C&&(C.disconnect(),a.active&&!a.paused&&a.containers.map((function(e){C.observe(e,{subtree:!0,childList:!0})})))};return(n={get active(){return a.active},get paused(){return a.paused},activate:function(e){if(a.active)return this;var t=s(e,"onActivate"),n=s(e,"onPostActivate"),o=s(e,"checkCanFocusTrap");o||d(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=r.activeElement,null==t||t();var i=function(){o&&d(),b(),x(),null==n||n()};return o?(o(a.containers.concat()).then(i,i),this):(i(),this)},deactivate:function(e){if(!a.active)return this;var t=_objectSpread2({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},e);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,E(),a.active=!1,a.paused=!1,x(),activeFocusTraps.deactivateTrap(o,n);var r=s(t,"onDeactivate"),l=s(t,"onPostDeactivate"),u=s(t,"checkCanReturnFocus"),c=s(t,"returnFocus","returnFocusOnDeactivate");null==r||r();var d=function(){delay((function(){c&&p(f(a.nodeFocusedBeforeActivation)),null==l||l()}))};return c&&u?(u(f(a.nodeFocusedBeforeActivation)).then(d,d),this):(d(),this)},pause:function(e){if(a.paused||!a.active)return this;var t=s(e,"onPause"),n=s(e,"onPostPause");return a.paused=!0,null==t||t(),E(),x(),null==n||n(),this},unpause:function(e){if(!a.paused||!a.active)return this;var t=s(e,"onUnpause"),n=s(e,"onPostUnpause");return a.paused=!1,null==t||t(),d(),b(),x(),null==n||n(),this},updateContainerElements:function(e){var t=[].concat(e).filter(Boolean);return a.containers=t.map((function(e){return"string"==typeof e?r.querySelector(e):e})),a.active&&d(),x(),this}}).updateContainerElements(e),n};function useFocusTrap(e,t={}){let n;const{immediate:r,...o}=t,i=ref(!1),a=ref(!1),s=e=>n&&n.activate(e),l=e=>n&&n.deactivate(e);return watch((()=>unrefElement(e)),(e=>{e&&(n=createFocusTrap(e,{...o,onActivate(){i.value=!0,t.onActivate&&t.onActivate()},onDeactivate(){i.value=!1,t.onDeactivate&&t.onDeactivate()}}),r&&s())}),{flush:"post"}),tryOnScopeDispose((()=>l())),{hasFocus:i,isPaused:a,activate:s,deactivate:l,pause:()=>{n&&(n.pause(),a.value=!0)},unpause:()=>{n&&(n.unpause(),a.value=!1)}}}class DOMIterator{constructor(e,t=!0,n=[],r=5e3){this.ctx=e,this.iframes=t,this.exclude=n,this.iframesTimeout=r}static matches(e,t){const n="string"==typeof t?[t]:t,r=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;if(r){let t=!1;return n.every((n=>!r.call(e,n)||(t=!0,!1))),t}return!1}getContexts(){let e,t=[];return e=void 0!==this.ctx&&this.ctx?NodeList.prototype.isPrototypeOf(this.ctx)?Array.prototype.slice.call(this.ctx):Array.isArray(this.ctx)?this.ctx:"string"==typeof this.ctx?Array.prototype.slice.call(document.querySelectorAll(this.ctx)):[this.ctx]:[],e.forEach((e=>{const n=t.filter((t=>t.contains(e))).length>0;-1!==t.indexOf(e)||n||t.push(e)})),t}getIframeContents(t,n,r=(()=>{})){let o;try{const e=t.contentWindow;if(o=e.document,!e||!o)throw new Error("iframe inaccessible")}catch(e){r()}o&&n(o)}isIframeBlank(e){const t="about:blank",n=e.getAttribute("src").trim();return e.contentWindow.location.href===t&&n!==t&&n}observeIframeLoad(t,n,r){let o=!1,i=null;const a=()=>{if(!o){o=!0,clearTimeout(i);try{this.isIframeBlank(t)||(t.removeEventListener("load",a),this.getIframeContents(t,n,r))}catch(e){r()}}};t.addEventListener("load",a),i=setTimeout(a,this.iframesTimeout)}onIframeReady(t,n,r){try{"complete"===t.contentWindow.document.readyState?this.isIframeBlank(t)?this.observeIframeLoad(t,n,r):this.getIframeContents(t,n,r):this.observeIframeLoad(t,n,r)}catch(e){r()}}waitForIframes(e,t){let n=0;this.forEachIframe(e,(()=>!0),(e=>{n++,this.waitForIframes(e.querySelector("html"),(()=>{--n||t()}))}),(e=>{e||t()}))}forEachIframe(e,t,n,r=(()=>{})){let o=e.querySelectorAll("iframe"),i=o.length,a=0;o=Array.prototype.slice.call(o);const s=()=>{--i<=0&&r(a)};i||s(),o.forEach((e=>{DOMIterator.matches(e,this.exclude)?s():this.onIframeReady(e,(r=>{t(e)&&(a++,n(r)),s()}),s)}))}createIterator(e,t,n){return document.createNodeIterator(e,t,n,!1)}createInstanceOnIframe(e){return new DOMIterator(e.querySelector("html"),this.iframes)}compareNodeIframe(e,t,n){if(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_PRECEDING){if(null===t)return!0;if(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING)return!0}return!1}getIteratorNode(e){const t=e.previousNode();let n;return n=(null===t||e.nextNode())&&e.nextNode(),{prevNode:t,node:n}}checkIframeFilter(e,t,n,r){let o=!1,i=!1;return r.forEach(((e,t)=>{e.val===n&&(o=t,i=e.handled)})),this.compareNodeIframe(e,t,n)?(!1!==o||i?!1===o||i||(r[o].handled=!0):r.push({val:n,handled:!0}),!0):(!1===o&&r.push({val:n,handled:!1}),!1)}handleOpenIframes(e,t,n,r){e.forEach((e=>{e.handled||this.getIframeContents(e.val,(e=>{this.createInstanceOnIframe(e).forEachNode(t,n,r)}))}))}iterateThroughNodes(e,t,n,r,o){const i=this.createIterator(t,e,r);let a,s,l=[],u=[],c=()=>(({prevNode:s,node:a}=this.getIteratorNode(i)),a);for(;c();)this.iframes&&this.forEachIframe(t,(e=>this.checkIframeFilter(a,s,e,l)),(t=>{this.createInstanceOnIframe(t).forEachNode(e,(e=>u.push(e)),r)})),u.push(a);u.forEach((e=>{n(e)})),this.iframes&&this.handleOpenIframes(l,e,n,r),o()}forEachNode(e,t,n,r=(()=>{})){const o=this.getContexts();let i=o.length;i||r(),o.forEach((o=>{const a=()=>{this.iterateThroughNodes(e,o,t,n,(()=>{--i<=0&&r()}))};this.iframes?this.waitForIframes(o,a):a()}))}}let Mark$1=class{constructor(e){this.ctx=e,this.ie=!1;const t=window.navigator.userAgent;(t.indexOf("MSIE")>-1||t.indexOf("Trident")>-1)&&(this.ie=!0)}set opt(e){this._opt=Object.assign({},{element:"",className:"",exclude:[],iframes:!1,iframesTimeout:5e3,separateWordSearch:!0,diacritics:!0,synonyms:{},accuracy:"partially",acrossElements:!1,caseSensitive:!1,ignoreJoiners:!1,ignoreGroups:0,ignorePunctuation:[],wildcards:"disabled",each:()=>{},noMatch:()=>{},filter:()=>!0,done:()=>{},debug:!1,log:window.console},e)}get opt(){return this._opt}get iterator(){return new DOMIterator(this.ctx,this.opt.iframes,this.opt.exclude,this.opt.iframesTimeout)}log(e,t="debug"){const n=this.opt.log;this.opt.debug&&"object"==typeof n&&"function"==typeof n[t]&&n[t](`mark.js: ${e}`)}escapeStr(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}createRegExp(e){return"disabled"!==this.opt.wildcards&&(e=this.setupWildcardsRegExp(e)),e=this.escapeStr(e),Object.keys(this.opt.synonyms).length&&(e=this.createSynonymsRegExp(e)),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(e=this.setupIgnoreJoinersRegExp(e)),this.opt.diacritics&&(e=this.createDiacriticsRegExp(e)),e=this.createMergedBlanksRegExp(e),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(e=this.createJoinersRegExp(e)),"disabled"!==this.opt.wildcards&&(e=this.createWildcardsRegExp(e)),e=this.createAccuracyRegExp(e)}createSynonymsRegExp(e){const t=this.opt.synonyms,n=this.opt.caseSensitive?"":"i",r=this.opt.ignoreJoiners||this.opt.ignorePunctuation.length?"\0":"";for(let o in t)if(t.hasOwnProperty(o)){const i=t[o],a="disabled"!==this.opt.wildcards?this.setupWildcardsRegExp(o):this.escapeStr(o),s="disabled"!==this.opt.wildcards?this.setupWildcardsRegExp(i):this.escapeStr(i);""!==a&&""!==s&&(e=e.replace(new RegExp(`(${this.escapeStr(a)}|${this.escapeStr(s)})`,`gm${n}`),r+`(${this.processSynomyms(a)}|${this.processSynomyms(s)})`+r))}return e}processSynomyms(e){return(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(e=this.setupIgnoreJoinersRegExp(e)),e}setupWildcardsRegExp(e){return(e=e.replace(/(?:\\)*\?/g,(e=>"\\"===e.charAt(0)?"?":""))).replace(/(?:\\)*\*/g,(e=>"\\"===e.charAt(0)?"*":""))}createWildcardsRegExp(e){let t="withSpaces"===this.opt.wildcards;return e.replace(/\u0001/g,t?"[\\S\\s]?":"\\S?").replace(/\u0002/g,t?"[\\S\\s]*?":"\\S*")}setupIgnoreJoinersRegExp(e){return e.replace(/[^(|)\\]/g,((e,t,n)=>{let r=n.charAt(t+1);return/[(|)\\]/.test(r)||""===r?e:e+"\0"}))}createJoinersRegExp(e){let t=[];const n=this.opt.ignorePunctuation;return Array.isArray(n)&&n.length&&t.push(this.escapeStr(n.join(""))),this.opt.ignoreJoiners&&t.push("\\u00ad\\u200b\\u200c\\u200d"),t.length?e.split(/\u0000+/).join(`[${t.join("")}]*`):e}createDiacriticsRegExp(e){const t=this.opt.caseSensitive?"":"i",n=this.opt.caseSensitive?["a","A","c","C","d","D","e","E","i","I","l","L","n","N","o","O","r","R","s","S","t","T","u","U","y","Y","z","Z"]:["aA","cC","dD","eE","iI","lL","nN","oO","rR","sS","tT","uU","yY","zZ"];let r=[];return e.split("").forEach((o=>{n.every((n=>{if(-1!==n.indexOf(o)){if(r.indexOf(n)>-1)return!1;e=e.replace(new RegExp(`[${n}]`,`gm${t}`),`[${n}]`),r.push(n)}return!0}))})),e}createMergedBlanksRegExp(e){return e.replace(/[\s]+/gim,"[\\s]+")}createAccuracyRegExp(e){let t=this.opt.accuracy,n="string"==typeof t?t:t.value,r="string"==typeof t?[]:t.limiters,o="";switch(r.forEach((e=>{o+=`|${this.escapeStr(e)}`})),n){case"partially":default:return`()(${e})`;case"complementary":return o="\\s"+(o||this.escapeStr("!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~")),`()([^${o}]*${e}[^${o}]*)`;case"exactly":return`(^|\\s${o})(${e})(?=$|\\s${o})`}}getSeparatedKeywords(e){let t=[];return e.forEach((e=>{this.opt.separateWordSearch?e.split(" ").forEach((e=>{e.trim()&&-1===t.indexOf(e)&&t.push(e)})):e.trim()&&-1===t.indexOf(e)&&t.push(e)})),{keywords:t.sort(((e,t)=>t.length-e.length)),length:t.length}}isNumeric(e){return Number(parseFloat(e))==e}checkRanges(e){if(!Array.isArray(e)||"[object Object]"!==Object.prototype.toString.call(e[0]))return this.log("markRanges() will only accept an array of objects"),this.opt.noMatch(e),[];const t=[];let n=0;return e.sort(((e,t)=>e.start-t.start)).forEach((e=>{let{start:r,end:o,valid:i}=this.callNoMatchOnInvalidRanges(e,n);i&&(e.start=r,e.length=o-r,t.push(e),n=o)})),t}callNoMatchOnInvalidRanges(e,t){let n,r,o=!1;return e&&void 0!==e.start?(n=parseInt(e.start,10),r=n+parseInt(e.length,10),this.isNumeric(e.start)&&this.isNumeric(e.length)&&r-t>0&&r-n>0?o=!0:(this.log(`Ignoring invalid or overlapping range: ${JSON.stringify(e)}`),this.opt.noMatch(e))):(this.log(`Ignoring invalid range: ${JSON.stringify(e)}`),this.opt.noMatch(e)),{start:n,end:r,valid:o}}checkWhitespaceRanges(e,t,n){let r,o=!0,i=n.length,a=t-i,s=parseInt(e.start,10)-a;return s=s>i?i:s,r=s+parseInt(e.length,10),r>i&&(r=i,this.log(`End range automatically set to the max value of ${i}`)),s<0||r-s<0||s>i||r>i?(o=!1,this.log(`Invalid range: ${JSON.stringify(e)}`),this.opt.noMatch(e)):""===n.substring(s,r).replace(/\s+/g,"")&&(o=!1,this.log("Skipping whitespace only range: "+JSON.stringify(e)),this.opt.noMatch(e)),{start:s,end:r,valid:o}}getTextNodes(e){let t="",n=[];this.iterator.forEachNode(NodeFilter.SHOW_TEXT,(e=>{n.push({start:t.length,end:(t+=e.textContent).length,node:e})}),(e=>this.matchesExclude(e.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT),(()=>{e({value:t,nodes:n})}))}matchesExclude(e){return DOMIterator.matches(e,this.opt.exclude.concat(["script","style","title","head","html"]))}wrapRangeInTextNode(e,t,n){const r=this.opt.element?this.opt.element:"mark",o=e.splitText(t),i=o.splitText(n-t);let a=document.createElement(r);return a.setAttribute("data-markjs","true"),this.opt.className&&a.setAttribute("class",this.opt.className),a.textContent=o.textContent,o.parentNode.replaceChild(a,o),i}wrapRangeInMappedTextNode(e,t,n,r,o){e.nodes.every(((i,a)=>{const s=e.nodes[a+1];if(void 0===s||s.start>t){if(!r(i.node))return!1;const s=t-i.start,l=(n>i.end?i.end:n)-i.start,u=e.value.substr(0,i.start),c=e.value.substr(l+i.start);if(i.node=this.wrapRangeInTextNode(i.node,s,l),e.value=u+c,e.nodes.forEach(((t,n)=>{n>=a&&(e.nodes[n].start>0&&n!==a&&(e.nodes[n].start-=l),e.nodes[n].end-=l)})),n-=l,o(i.node.previousSibling,i.start),!(n>i.end))return!1;t=i.end}return!0}))}wrapMatches(e,t,n,r,o){const i=0===t?0:t+1;this.getTextNodes((t=>{t.nodes.forEach((t=>{let o;for(t=t.node;null!==(o=e.exec(t.textContent))&&""!==o[i];){if(!n(o[i],t))continue;let a=o.index;if(0!==i)for(let e=1;e<i;e++)a+=o[e].length;t=this.wrapRangeInTextNode(t,a,a+o[i].length),r(t.previousSibling),e.lastIndex=0}})),o()}))}wrapMatchesAcrossElements(e,t,n,r,o){const i=0===t?0:t+1;this.getTextNodes((t=>{let a;for(;null!==(a=e.exec(t.value))&&""!==a[i];){let o=a.index;if(0!==i)for(let e=1;e<i;e++)o+=a[e].length;const s=o+a[i].length;this.wrapRangeInMappedTextNode(t,o,s,(e=>n(a[i],e)),((t,n)=>{e.lastIndex=n,r(t)}))}o()}))}wrapRangeFromIndex(e,t,n,r){this.getTextNodes((o=>{const i=o.value.length;e.forEach(((e,r)=>{let{start:a,end:s,valid:l}=this.checkWhitespaceRanges(e,i,o.value);l&&this.wrapRangeInMappedTextNode(o,a,s,(n=>t(n,e,o.value.substring(a,s),r)),(t=>{n(t,e)}))})),r()}))}unwrapMatches(e){const t=e.parentNode;let n=document.createDocumentFragment();for(;e.firstChild;)n.appendChild(e.removeChild(e.firstChild));t.replaceChild(n,e),this.ie?this.normalizeTextNode(t):t.normalize()}normalizeTextNode(e){if(e){if(3===e.nodeType)for(;e.nextSibling&&3===e.nextSibling.nodeType;)e.nodeValue+=e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);else this.normalizeTextNode(e.firstChild);this.normalizeTextNode(e.nextSibling)}}markRegExp(e,t){this.opt=t,this.log(`Searching with expression "${e}"`);let n=0,r="wrapMatches";this.opt.acrossElements&&(r="wrapMatchesAcrossElements"),this[r](e,this.opt.ignoreGroups,((e,t)=>this.opt.filter(t,e,n)),(e=>{n++,this.opt.each(e)}),(()=>{0===n&&this.opt.noMatch(e),this.opt.done(n)}))}mark(e,t){this.opt=t;let n=0,r="wrapMatches";const{keywords:o,length:i}=this.getSeparatedKeywords("string"==typeof e?[e]:e),a=this.opt.caseSensitive?"":"i",s=e=>{let t=new RegExp(this.createRegExp(e),`gm${a}`),l=0;this.log(`Searching with expression "${t}"`),this[r](t,1,((t,r)=>this.opt.filter(r,e,n,l)),(e=>{l++,n++,this.opt.each(e)}),(()=>{0===l&&this.opt.noMatch(e),o[i-1]===e?this.opt.done(n):s(o[o.indexOf(e)+1])}))};this.opt.acrossElements&&(r="wrapMatchesAcrossElements"),0===i?this.opt.done(n):s(o[0])}markRanges(e,t){this.opt=t;let n=0,r=this.checkRanges(e);r&&r.length?(this.log("Starting to mark with the following ranges: "+JSON.stringify(r)),this.wrapRangeFromIndex(r,((e,t,n,r)=>this.opt.filter(e,t,n,r)),((e,t)=>{n++,this.opt.each(e,t)}),(()=>{this.opt.done(n)}))):this.opt.done(n)}unmark(e){this.opt=e;let t=this.opt.element?this.opt.element:"*";t+="[data-markjs]",this.opt.className&&(t+=`.${this.opt.className}`),this.log(`Removal selector "${t}"`),this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT,(e=>{this.unwrapMatches(e)}),(e=>{const n=DOMIterator.matches(e,t),r=this.matchesExclude(e);return!n||r?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}),this.opt.done)}};function Mark(e){const t=new Mark$1(e);return this.mark=(e,n)=>(t.mark(e,n),this),this.markRegExp=(e,n)=>(t.markRegExp(e,n),this),this.markRanges=(e,n)=>(t.markRanges(e,n),this),this.unmark=e=>(t.unmark(e),this),this}var __assign=function(){return __assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},__assign.apply(this,arguments)};function __awaiter(t,n,r,o){return new(r||(r=Promise))((function(i,a){function s(t){try{u(o.next(t))}catch(e){a(e)}}function l(t){try{u(o.throw(t))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,l)}u((o=o.apply(t,n||[])).next())}))}function __generator(t,n){var r,o,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(u){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(s=0)),s;)try{if(r=1,o&&(i=2&l[0]?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,o=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){s=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){s.label=l[1];break}if(6===l[0]&&s.label<i[1]){s.label=i[1],i=l;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(l);break}i[2]&&s.ops.pop(),s.trys.pop();continue}l=n.call(t,s)}catch(e){l=[6,e],o=0}finally{r=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}function __values(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}"function"==typeof SuppressedError&&SuppressedError;var ENTRIES="ENTRIES",KEYS="KEYS",VALUES="VALUES",LEAF="",TreeIterator=function(){function e(e,t){var n=e._tree,r=Array.from(n.keys());this.set=e,this._type=t,this._path=r.length>0?[{node:n,keys:r}]:[]}return e.prototype.next=function(){var e=this.dive();return this.backtrack(),e},e.prototype.dive=function(){if(0===this._path.length)return{done:!0,value:void 0};var e=last$1(this._path),t=e.node,n=e.keys;if(last$1(n)===LEAF)return{done:!1,value:this.result()};var r=t.get(last$1(n));return this._path.push({node:r,keys:Array.from(r.keys())}),this.dive()},e.prototype.backtrack=function(){if(0!==this._path.length){var e=last$1(this._path).keys;e.pop(),e.length>0||(this._path.pop(),this.backtrack())}},e.prototype.key=function(){return this.set._prefix+this._path.map((function(e){var t=e.keys;return last$1(t)})).filter((function(e){return e!==LEAF})).join("")},e.prototype.value=function(){return last$1(this._path).node.get(LEAF)},e.prototype.result=function(){switch(this._type){case VALUES:return this.value();case KEYS:return this.key();default:return[this.key(),this.value()]}},e.prototype[Symbol.iterator]=function(){return this},e}(),last$1=function(e){return e[e.length-1]},fuzzySearch=function(e,t,n){var r=new Map;if(void 0===t)return r;for(var o=t.length+1,i=o+n,a=new Uint8Array(i*o).fill(n+1),s=0;s<o;++s)a[s]=s;for(var l=1;l<i;++l)a[l*o]=l;return recurse(e,t,n,r,a,1,o,""),r},recurse=function(e,t,n,r,o,i,a,s){var l,u,c=i*a;try{e:for(var d=__values(e.keys()),h=d.next();!h.done;h=d.next()){var p=h.value;if(p===LEAF){var f=o[c-1];f<=n&&r.set(s,[e.get(p),f])}else{for(var m=i,_=0;_<p.length;++_,++m){for(var g=p[_],v=a*m,y=v-a,b=o[v],E=Math.max(0,m-n-1),C=Math.min(a-1,m+n),x=E;x<C;++x){var w=g!==t[x],S=o[y+x]+ +w,T=o[y+x+1]+1,k=o[v+x]+1,L=o[v+x+1]=Math.min(S,T,k);L<b&&(b=L)}if(b>n)continue e}recurse(e.get(p),t,n,r,o,m,a,s+p)}}}catch(P){l={error:P}}finally{try{h&&!h.done&&(u=d.return)&&u.call(d)}finally{if(l)throw l.error}}},SearchableMap=function(){function e(e,t){void 0===e&&(e=new Map),void 0===t&&(t=""),this._size=void 0,this._tree=e,this._prefix=t}return e.prototype.atPrefix=function(t){var n,r;if(!t.startsWith(this._prefix))throw new Error("Mismatched prefix");var o=__read(trackDown(this._tree,t.slice(this._prefix.length)),2),i=o[0],a=o[1];if(void 0===i){var s=__read(last(a),2),l=s[0],u=s[1];try{for(var c=__values(l.keys()),d=c.next();!d.done;d=c.next()){var h=d.value;if(h!==LEAF&&h.startsWith(u)){var p=new Map;return p.set(h.slice(u.length),l.get(h)),new e(p,t)}}}catch(f){n={error:f}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}return new e(i,t)},e.prototype.clear=function(){this._size=void 0,this._tree.clear()},e.prototype.delete=function(e){return this._size=void 0,remove(this._tree,e)},e.prototype.entries=function(){return new TreeIterator(this,ENTRIES)},e.prototype.forEach=function(e){var t,n;try{for(var r=__values(this),o=r.next();!o.done;o=r.next()){var i=__read(o.value,2);e(i[0],i[1],this)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.fuzzyGet=function(e,t){return fuzzySearch(this._tree,e,t)},e.prototype.get=function(e){var t=lookup(this._tree,e);return void 0!==t?t.get(LEAF):void 0},e.prototype.has=function(e){var t=lookup(this._tree,e);return void 0!==t&&t.has(LEAF)},e.prototype.keys=function(){return new TreeIterator(this,KEYS)},e.prototype.set=function(e,t){if("string"!=typeof e)throw new Error("key must be a string");return this._size=void 0,createPath(this._tree,e).set(LEAF,t),this},Object.defineProperty(e.prototype,"size",{get:function(){if(this._size)return this._size;this._size=0;for(var e=this.entries();!e.next().done;)this._size+=1;return this._size},enumerable:!1,configurable:!0}),e.prototype.update=function(e,t){if("string"!=typeof e)throw new Error("key must be a string");this._size=void 0;var n=createPath(this._tree,e);return n.set(LEAF,t(n.get(LEAF))),this},e.prototype.fetch=function(e,t){if("string"!=typeof e)throw new Error("key must be a string");this._size=void 0;var n=createPath(this._tree,e),r=n.get(LEAF);return void 0===r&&n.set(LEAF,r=t()),r},e.prototype.values=function(){return new TreeIterator(this,VALUES)},e.prototype[Symbol.iterator]=function(){return this.entries()},e.from=function(t){var n,r,o=new e;try{for(var i=__values(t),a=i.next();!a.done;a=i.next()){var s=__read(a.value,2),l=s[0],u=s[1];o.set(l,u)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o},e.fromObject=function(t){return e.from(Object.entries(t))},e}(),trackDown=function(e,t,n){var r,o;if(void 0===n&&(n=[]),0===t.length||null==e)return[e,n];try{for(var i=__values(e.keys()),a=i.next();!a.done;a=i.next()){var s=a.value;if(s!==LEAF&&t.startsWith(s))return n.push([e,s]),trackDown(e.get(s),t.slice(s.length),n)}}catch(l){r={error:l}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return n.push([e,t]),trackDown(void 0,"",n)},lookup=function(e,t){var n,r;if(0===t.length||null==e)return e;try{for(var o=__values(e.keys()),i=o.next();!i.done;i=o.next()){var a=i.value;if(a!==LEAF&&t.startsWith(a))return lookup(e.get(a),t.slice(a.length))}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},createPath=function(e,t){var n,r,o=t.length;e:for(var i=0;e&&i<o;){try{for(var a=(n=void 0,__values(e.keys())),s=a.next();!s.done;s=a.next()){var l=s.value;if(l!==LEAF&&t[i]===l[0]){for(var u=Math.min(o-i,l.length),c=1;c<u&&t[i+c]===l[c];)++c;var d=e.get(l);if(c===l.length)e=d;else{var h=new Map;h.set(l.slice(c),d),e.set(t.slice(i,i+c),h),e.delete(l),e=h}i+=c;continue e}}}catch(f){n={error:f}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}var p=new Map;return e.set(t.slice(i),p),p}return e},remove=function(e,t){var n=__read(trackDown(e,t),2),r=n[0],o=n[1];if(void 0!==r)if(r.delete(LEAF),0===r.size)cleanup(o);else if(1===r.size){var i=__read(r.entries().next().value,2),a=i[0],s=i[1];merge(o,a,s)}},cleanup=function(e){if(0!==e.length){var t=__read(last(e),2),n=t[0],r=t[1];if(n.delete(r),0===n.size)cleanup(e.slice(0,-1));else if(1===n.size){var o=__read(n.entries().next().value,2),i=o[0],a=o[1];i!==LEAF&&merge(e.slice(0,-1),i,a)}}},merge=function(e,t,n){if(0!==e.length){var r=__read(last(e),2),o=r[0],i=r[1];o.set(i+t,n),o.delete(i)}},last=function(e){return e[e.length-1]},_a,OR="or",AND="and",AND_NOT="and_not",MiniSearch=function(){function e(e){if(null==(null==e?void 0:e.fields))throw new Error('MiniSearch: option "fields" must be provided');var t=null==e.autoVacuum||!0===e.autoVacuum?defaultAutoVacuumOptions:e.autoVacuum;this._options=__assign(__assign(__assign({},defaultOptions),e),{autoVacuum:t,searchOptions:__assign(__assign({},defaultSearchOptions),e.searchOptions||{}),autoSuggestOptions:__assign(__assign({},defaultAutoSuggestOptions),e.autoSuggestOptions||{})}),this._index=new SearchableMap,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=defaultVacuumConditions,this.addFields(this._options.fields)}return e.prototype.add=function(e){var t,n,r,o,i,a,s=this._options,l=s.extractField,u=s.tokenize,c=s.processTerm,d=s.fields,h=s.idField,p=l(e,h);if(null==p)throw new Error('MiniSearch: document does not have ID field "'.concat(h,'"'));if(this._idToShortId.has(p))throw new Error("MiniSearch: duplicate ID ".concat(p));var f=this.addDocumentId(p);this.saveStoredFields(f,e);try{for(var m=__values(d),_=m.next();!_.done;_=m.next()){var g=_.value,v=l(e,g);if(null!=v){var y=u(v.toString(),g),b=this._fieldIds[g],E=new Set(y).size;this.addFieldLength(f,b,this._documentCount-1,E);try{for(var C=(r=void 0,__values(y)),x=C.next();!x.done;x=C.next()){var w=c(x.value,g);if(Array.isArray(w))try{for(var S=(i=void 0,__values(w)),T=S.next();!T.done;T=S.next()){var k=T.value;this.addTerm(b,f,k)}}catch(L){i={error:L}}finally{try{T&&!T.done&&(a=S.return)&&a.call(S)}finally{if(i)throw i.error}}else w&&this.addTerm(b,f,w)}}catch(P){r={error:P}}finally{try{x&&!x.done&&(o=C.return)&&o.call(C)}finally{if(r)throw r.error}}}}}catch(M){t={error:M}}finally{try{_&&!_.done&&(n=m.return)&&n.call(m)}finally{if(t)throw t.error}}},e.prototype.addAll=function(e){var t,n;try{for(var r=__values(e),o=r.next();!o.done;o=r.next()){var i=o.value;this.add(i)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.addAllAsync=function(e,t){var n=this;void 0===t&&(t={});var r=t.chunkSize,o=void 0===r?10:r,i={chunk:[],promise:Promise.resolve()},a=e.reduce((function(e,t,r){var i=e.chunk,a=e.promise;return i.push(t),(r+1)%o==0?{chunk:[],promise:a.then((function(){return new Promise((function(e){return setTimeout(e,0)}))})).then((function(){return n.addAll(i)}))}:{chunk:i,promise:a}}),i),s=a.chunk;return a.promise.then((function(){return n.addAll(s)}))},e.prototype.remove=function(e){var t,n,r,o,i,a,s=this._options,l=s.tokenize,u=s.processTerm,c=s.extractField,d=s.fields,h=s.idField,p=c(e,h);if(null==p)throw new Error('MiniSearch: document does not have ID field "'.concat(h,'"'));var f=this._idToShortId.get(p);if(null==f)throw new Error("MiniSearch: cannot remove document with ID ".concat(p,": it is not in the index"));try{for(var m=__values(d),_=m.next();!_.done;_=m.next()){var g=_.value,v=c(e,g);if(null!=v){var y=l(v.toString(),g),b=this._fieldIds[g],E=new Set(y).size;this.removeFieldLength(f,b,this._documentCount,E);try{for(var C=(r=void 0,__values(y)),x=C.next();!x.done;x=C.next()){var w=u(x.value,g);if(Array.isArray(w))try{for(var S=(i=void 0,__values(w)),T=S.next();!T.done;T=S.next()){var k=T.value;this.removeTerm(b,f,k)}}catch(L){i={error:L}}finally{try{T&&!T.done&&(a=S.return)&&a.call(S)}finally{if(i)throw i.error}}else w&&this.removeTerm(b,f,w)}}catch(P){r={error:P}}finally{try{x&&!x.done&&(o=C.return)&&o.call(C)}finally{if(r)throw r.error}}}}}catch(M){t={error:M}}finally{try{_&&!_.done&&(n=m.return)&&n.call(m)}finally{if(t)throw t.error}}this._storedFields.delete(f),this._documentIds.delete(f),this._idToShortId.delete(p),this._fieldLength.delete(f),this._documentCount-=1},e.prototype.removeAll=function(e){var t,n;if(e)try{for(var r=__values(e),o=r.next();!o.done;o=r.next()){var i=o.value;this.remove(i)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new SearchableMap,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}},e.prototype.discard=function(e){var t=this,n=this._idToShortId.get(e);if(null==n)throw new Error("MiniSearch: cannot discard document with ID ".concat(e,": it is not in the index"));this._idToShortId.delete(e),this._documentIds.delete(n),this._storedFields.delete(n),(this._fieldLength.get(n)||[]).forEach((function(e,r){t.removeFieldLength(n,r,t._documentCount,e)})),this._fieldLength.delete(n),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()},e.prototype.maybeAutoVacuum=function(){if(!1!==this._options.autoVacuum){var e=this._options.autoVacuum,t=e.minDirtFactor,n=e.minDirtCount,r=e.batchSize,o=e.batchWait;this.conditionalVacuum({batchSize:r,batchWait:o},{minDirtCount:n,minDirtFactor:t})}},e.prototype.discardAll=function(e){var t,n,r=this._options.autoVacuum;try{this._options.autoVacuum=!1;try{for(var o=__values(e),i=o.next();!i.done;i=o.next()){var a=i.value;this.discard(a)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}finally{this._options.autoVacuum=r}this.maybeAutoVacuum()},e.prototype.replace=function(e){var t=this._options,n=t.idField,r=(0,t.extractField)(e,n);this.discard(r),this.add(e)},e.prototype.vacuum=function(e){return void 0===e&&(e={}),this.conditionalVacuum(e)},e.prototype.conditionalVacuum=function(e,t){var n=this;return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&t,null!=this._enqueuedVacuum||(this._enqueuedVacuum=this._currentVacuum.then((function(){var t=n._enqueuedVacuumConditions;return n._enqueuedVacuumConditions=defaultVacuumConditions,n.performVacuuming(e,t)}))),this._enqueuedVacuum):!1===this.vacuumConditionsMet(t)?Promise.resolve():(this._currentVacuum=this.performVacuuming(e),this._currentVacuum)},e.prototype.performVacuuming=function(e,t){return __awaiter(this,void 0,void 0,(function(){var n,r,o,i,a,s,l,u,c,d,h,p,f,m,_,g,v,y,b,E,C,x,w,S,T;return __generator(this,(function(k){switch(k.label){case 0:if(n=this._dirtCount,!this.vacuumConditionsMet(t))return[3,10];r=e.batchSize||defaultVacuumOptions.batchSize,o=e.batchWait||defaultVacuumOptions.batchWait,i=1,k.label=1;case 1:k.trys.push([1,7,8,9]),a=__values(this._index),s=a.next(),k.label=2;case 2:if(s.done)return[3,6];l=__read(s.value,2),u=l[0],c=l[1];try{for(x=void 0,d=__values(c),h=d.next();!h.done;h=d.next()){p=__read(h.value,2),f=p[0],m=p[1];try{for(S=void 0,_=__values(m),g=_.next();!g.done;g=_.next())v=__read(g.value,1),y=v[0],this._documentIds.has(y)||(m.size<=1?c.delete(f):m.delete(y))}catch(L){S={error:L}}finally{try{g&&!g.done&&(T=_.return)&&T.call(_)}finally{if(S)throw S.error}}}}catch(P){x={error:P}}finally{try{h&&!h.done&&(w=d.return)&&w.call(d)}finally{if(x)throw x.error}}return 0===this._index.get(u).size&&this._index.delete(u),i%r!=0?[3,4]:[4,new Promise((function(e){return setTimeout(e,o)}))];case 3:k.sent(),k.label=4;case 4:i+=1,k.label=5;case 5:return s=a.next(),[3,2];case 6:return[3,9];case 7:return b=k.sent(),E={error:b},[3,9];case 8:try{s&&!s.done&&(C=a.return)&&C.call(a)}finally{if(E)throw E.error}return[7];case 9:this._dirtCount-=n,k.label=10;case 10:return[4,null];case 11:return k.sent(),this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null,[2]}}))}))},e.prototype.vacuumConditionsMet=function(e){if(null==e)return!0;var t=e.minDirtCount,n=e.minDirtFactor;return t=t||defaultAutoVacuumOptions.minDirtCount,n=n||defaultAutoVacuumOptions.minDirtFactor,this.dirtCount>=t&&this.dirtFactor>=n},Object.defineProperty(e.prototype,"isVacuuming",{get:function(){return null!=this._currentVacuum},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dirtCount",{get:function(){return this._dirtCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dirtFactor",{get:function(){return this._dirtCount/(1+this._documentCount+this._dirtCount)},enumerable:!1,configurable:!0}),e.prototype.has=function(e){return this._idToShortId.has(e)},e.prototype.getStoredFields=function(e){var t=this._idToShortId.get(e);if(null!=t)return this._storedFields.get(t)},e.prototype.search=function(t,n){var r,o;void 0===n&&(n={});var i=this.executeQuery(t,n),a=[];try{for(var s=__values(i),l=s.next();!l.done;l=s.next()){var u=__read(l.value,2),c=u[0],d=u[1],h=d.score,p=d.terms,f=d.match,m=p.length||1,_={id:this._documentIds.get(c),score:h*m,terms:Object.keys(f),queryTerms:p,match:f};Object.assign(_,this._storedFields.get(c)),(null==n.filter||n.filter(_))&&a.push(_)}}catch(g){r={error:g}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return t===e.wildcard&&null==n.boostDocument&&null==this._options.searchOptions.boostDocument||a.sort(byScore),a},e.prototype.autoSuggest=function(e,t){var n,r,o,i;void 0===t&&(t={}),t=__assign(__assign({},this._options.autoSuggestOptions),t);var a=new Map;try{for(var s=__values(this.search(e,t)),l=s.next();!l.done;l=s.next()){var u=l.value,c=u.score,d=(v=u.terms).join(" ");null!=(_=a.get(d))?(_.score+=c,_.count+=1):a.set(d,{score:c,terms:v,count:1})}}catch(b){n={error:b}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}var h=[];try{for(var p=__values(a),f=p.next();!f.done;f=p.next()){var m=__read(f.value,2),_=m[0],g=m[1],v=(c=g.score,g.terms),y=g.count;h.push({suggestion:_,terms:v,score:c/y})}}catch(E){o={error:E}}finally{try{f&&!f.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}return h.sort(byScore),h},Object.defineProperty(e.prototype,"documentCount",{get:function(){return this._documentCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"termCount",{get:function(){return this._index.size},enumerable:!1,configurable:!0}),e.loadJSON=function(e,t){if(null==t)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(e),t)},e.getDefault=function(e){if(defaultOptions.hasOwnProperty(e))return getOwnProperty(defaultOptions,e);throw new Error('MiniSearch: unknown option "'.concat(e,'"'))},e.loadJS=function(t,n){var r,o,i,a,s,l,u=t.index,c=t.documentCount,d=t.nextId,h=t.documentIds,p=t.fieldIds,f=t.fieldLength,m=t.averageFieldLength,_=t.storedFields,g=t.dirtCount,v=t.serializationVersion;if(1!==v&&2!==v)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");var y=new e(n);y._documentCount=c,y._nextId=d,y._documentIds=objectToNumericMap(h),y._idToShortId=new Map,y._fieldIds=p,y._fieldLength=objectToNumericMap(f),y._avgFieldLength=m,y._storedFields=objectToNumericMap(_),y._dirtCount=g||0,y._index=new SearchableMap;try{for(var b=__values(y._documentIds),E=b.next();!E.done;E=b.next()){var C=__read(E.value,2),x=C[0],w=C[1];y._idToShortId.set(w,x)}}catch(R){r={error:R}}finally{try{E&&!E.done&&(o=b.return)&&o.call(b)}finally{if(r)throw r.error}}try{for(var S=__values(u),T=S.next();!T.done;T=S.next()){var k=__read(T.value,2),L=k[0],P=k[1],M=new Map;try{for(var O=(s=void 0,__values(Object.keys(P))),N=O.next();!N.done;N=O.next()){var A=N.value,I=P[A];1===v&&(I=I.ds),M.set(parseInt(A,10),objectToNumericMap(I))}}catch($){s={error:$}}finally{try{N&&!N.done&&(l=O.return)&&l.call(O)}finally{if(s)throw s.error}}y._index.set(L,M)}}catch(B){i={error:B}}finally{try{T&&!T.done&&(a=S.return)&&a.call(S)}finally{if(i)throw i.error}}return y},e.prototype.executeQuery=function(t,n){var r=this;if(void 0===n&&(n={}),t===e.wildcard)return this.executeWildcardQuery(n);if("string"!=typeof t){var o=__assign(__assign(__assign({},n),t),{queries:void 0}),i=t.queries.map((function(e){return r.executeQuery(e,o)}));return this.combineResults(i,o.combineWith)}var a=this._options,s=a.tokenize,l=a.processTerm,u=a.searchOptions,c=__assign(__assign({tokenize:s,processTerm:l},u),n),d=c.tokenize,h=c.processTerm,p=d(t).flatMap((function(e){return h(e)})).filter((function(e){return!!e})).map(termToQuerySpec(c)).map((function(e){return r.executeQuerySpec(e,c)}));return this.combineResults(p,c.combineWith)},e.prototype.executeQuerySpec=function(e,t){var n,r,o,i,a,s,l=__assign(__assign({},this._options.searchOptions),t),u=(l.fields||this._options.fields).reduce((function(e,t){var n;return __assign(__assign({},e),((n={})[t]=getOwnProperty(l.boost,t)||1,n))}),{}),c=l.boostDocument,d=l.weights,h=l.maxFuzzy,p=l.bm25,f=__assign(__assign({},defaultSearchOptions.weights),d),m=f.fuzzy,_=f.prefix,g=this._index.get(e.term),v=this.termResults(e.term,e.term,1,g,u,c,p);if(e.prefix&&(a=this._index.atPrefix(e.term)),e.fuzzy){var y=!0===e.fuzzy?.2:e.fuzzy,b=y<1?Math.min(h,Math.round(e.term.length*y)):y;b&&(s=this._index.fuzzyGet(e.term,b))}if(a)try{for(var E=__values(a),C=E.next();!C.done;C=E.next()){var x=__read(C.value,2),w=x[0],S=x[1];if(P=w.length-e.term.length){null==s||s.delete(w);var T=_*w.length/(w.length+.3*P);this.termResults(e.term,w,T,S,u,c,p,v)}}}catch(N){n={error:N}}finally{try{C&&!C.done&&(r=E.return)&&r.call(E)}finally{if(n)throw n.error}}if(s)try{for(var k=__values(s.keys()),L=k.next();!L.done;L=k.next()){w=L.value;var P,M=__read(s.get(w),2),O=M[0];if(P=M[1]){T=m*w.length/(w.length+P);this.termResults(e.term,w,T,O,u,c,p,v)}}}catch(A){o={error:A}}finally{try{L&&!L.done&&(i=k.return)&&i.call(k)}finally{if(o)throw o.error}}return v},e.prototype.executeWildcardQuery=function(e){var t,n,r=new Map,o=__assign(__assign({},this._options.searchOptions),e);try{for(var i=__values(this._documentIds),a=i.next();!a.done;a=i.next()){var s=__read(a.value,2),l=s[0],u=s[1],c=o.boostDocument?o.boostDocument(u,"",this._storedFields.get(l)):1;r.set(l,{score:c,terms:[],match:{}})}}catch(d){t={error:d}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},e.prototype.combineResults=function(e,t){if(void 0===t&&(t=OR),0===e.length)return new Map;var n=t.toLowerCase();return e.reduce(combinators[n])||new Map},e.prototype.toJSON=function(){var e,t,n,r,o=[];try{for(var i=__values(this._index),a=i.next();!a.done;a=i.next()){var s=__read(a.value,2),l=s[0],u=s[1],c={};try{for(var d=(n=void 0,__values(u)),h=d.next();!h.done;h=d.next()){var p=__read(h.value,2),f=p[0],m=p[1];c[f]=Object.fromEntries(m)}}catch(_){n={error:_}}finally{try{h&&!h.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}o.push([l,c])}}catch(g){e={error:g}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:o,serializationVersion:2}},e.prototype.termResults=function(e,t,n,r,o,i,a,s){var l,u,c,d,h;if(void 0===s&&(s=new Map),null==r)return s;try{for(var p=__values(Object.keys(o)),f=p.next();!f.done;f=p.next()){var m=f.value,_=o[m],g=this._fieldIds[m],v=r.get(g);if(null!=v){var y=v.size,b=this._avgFieldLength[g];try{for(var E=(c=void 0,__values(v.keys())),C=E.next();!C.done;C=E.next()){var x=C.value;if(this._documentIds.has(x)){var w=i?i(this._documentIds.get(x),t,this._storedFields.get(x)):1;if(w){var S=v.get(x),T=this._fieldLength.get(x)[g],k=n*_*w*calcBM25Score(S,y,this._documentCount,T,b,a),L=s.get(x);if(L){L.score+=k,assignUniqueTerm(L.terms,e);var P=getOwnProperty(L.match,t);P?P.push(m):L.match[t]=[m]}else s.set(x,{score:k,terms:[e],match:(h={},h[t]=[m],h)})}}else this.removeTerm(g,x,t),y-=1}}catch(M){c={error:M}}finally{try{C&&!C.done&&(d=E.return)&&d.call(E)}finally{if(c)throw c.error}}}}}catch(O){l={error:O}}finally{try{f&&!f.done&&(u=p.return)&&u.call(p)}finally{if(l)throw l.error}}return s},e.prototype.addTerm=function(e,t,n){var r=this._index.fetch(n,createMap),o=r.get(e);if(null==o)(o=new Map).set(t,1),r.set(e,o);else{var i=o.get(t);o.set(t,(i||0)+1)}},e.prototype.removeTerm=function(e,t,n){if(this._index.has(n)){var r=this._index.fetch(n,createMap),o=r.get(e);null==o||null==o.get(t)?this.warnDocumentChanged(t,e,n):o.get(t)<=1?o.size<=1?r.delete(e):o.delete(t):o.set(t,o.get(t)-1),0===this._index.get(n).size&&this._index.delete(n)}else this.warnDocumentChanged(t,e,n)},e.prototype.warnDocumentChanged=function(e,t,n){var r,o;try{for(var i=__values(Object.keys(this._fieldIds)),a=i.next();!a.done;a=i.next()){var s=a.value;if(this._fieldIds[s]===t)return void this._options.logger("warn","MiniSearch: document with ID ".concat(this._documentIds.get(e),' has changed before removal: term "').concat(n,'" was not present in field "').concat(s,'". Removing a document after it has changed can corrupt the index!'),"version_conflict")}}catch(l){r={error:l}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}},e.prototype.addDocumentId=function(e){var t=this._nextId;return this._idToShortId.set(e,t),this._documentIds.set(t,e),this._documentCount+=1,this._nextId+=1,t},e.prototype.addFields=function(e){for(var t=0;t<e.length;t++)this._fieldIds[e[t]]=t},e.prototype.addFieldLength=function(e,t,n,r){var o=this._fieldLength.get(e);null==o&&this._fieldLength.set(e,o=[]),o[t]=r;var i=(this._avgFieldLength[t]||0)*n+r;this._avgFieldLength[t]=i/(n+1)},e.prototype.removeFieldLength=function(e,t,n,r){if(1!==n){var o=this._avgFieldLength[t]*n-r;this._avgFieldLength[t]=o/(n-1)}else this._avgFieldLength[t]=0},e.prototype.saveStoredFields=function(e,t){var n,r,o=this._options,i=o.storeFields,a=o.extractField;if(null!=i&&0!==i.length){var s=this._storedFields.get(e);null==s&&this._storedFields.set(e,s={});try{for(var l=__values(i),u=l.next();!u.done;u=l.next()){var c=u.value,d=a(t,c);void 0!==d&&(s[c]=d)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},e.wildcard=Symbol("*"),e}(),getOwnProperty=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},combinators=(_a={},_a[OR]=function(e,t){var n,r;try{for(var o=__values(t.keys()),i=o.next();!i.done;i=o.next()){var a=i.value,s=e.get(a);if(null==s)e.set(a,t.get(a));else{var l=t.get(a),u=l.score,c=l.terms,d=l.match;s.score=s.score+u,s.match=Object.assign(s.match,d),assignUniqueTerms(s.terms,c)}}}catch(h){n={error:h}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return e},_a[AND]=function(e,t){var n,r,o=new Map;try{for(var i=__values(t.keys()),a=i.next();!a.done;a=i.next()){var s=a.value,l=e.get(s);if(null!=l){var u=t.get(s),c=u.score,d=u.terms,h=u.match;assignUniqueTerms(l.terms,d),o.set(s,{score:l.score+c,terms:l.terms,match:Object.assign(l.match,h)})}}}catch(p){n={error:p}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o},_a[AND_NOT]=function(e,t){var n,r;try{for(var o=__values(t.keys()),i=o.next();!i.done;i=o.next()){var a=i.value;e.delete(a)}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return e},_a),defaultBM25params={k:1.2,b:.7,d:.5},calcBM25Score=function(e,t,n,r,o,i){var a=i.k,s=i.b,l=i.d;return Math.log(1+(n-t+.5)/(t+.5))*(l+e*(a+1)/(e+a*(1-s+s*r/o)))},termToQuerySpec=function(e){return function(t,n,r){return{term:t,fuzzy:"function"==typeof e.fuzzy?e.fuzzy(t,n,r):e.fuzzy||!1,prefix:"function"==typeof e.prefix?e.prefix(t,n,r):!0===e.prefix}}},defaultOptions={idField:"id",extractField:function(e,t){return e[t]},tokenize:function(e){return e.split(SPACE_OR_PUNCTUATION)},processTerm:function(e){return e.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[],logger:function(e,t){null===console||void 0===console||console[e]},autoVacuum:!0},defaultSearchOptions={combineWith:OR,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:defaultBM25params},defaultAutoSuggestOptions={combineWith:AND,prefix:function(e,t,n){return t===n.length-1}},defaultVacuumOptions={batchSize:1e3,batchWait:10},defaultVacuumConditions={minDirtFactor:.1,minDirtCount:20},defaultAutoVacuumOptions=__assign(__assign({},defaultVacuumOptions),defaultVacuumConditions),assignUniqueTerm=function(e,t){e.includes(t)||e.push(t)},assignUniqueTerms=function(e,t){var n,r;try{for(var o=__values(t),i=o.next();!i.done;i=o.next()){var a=i.value;e.includes(a)||e.push(a)}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},byScore=function(e,t){var n=e.score;return t.score-n},createMap=function(){return new Map},objectToNumericMap=function(e){var t,n,r=new Map;try{for(var o=__values(Object.keys(e)),i=o.next();!i.done;i=o.next()){var a=i.value;r.set(parseInt(a,10),e[a])}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r},SPACE_OR_PUNCTUATION=/[\n\r -#%-*,-/:;?@[-\]_{}\u00A0\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+/u;class LRUCache{constructor(e=10){__publicField2(this,"max"),__publicField2(this,"cache"),this.max=e,this.cache=new Map}get(e){let t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){this.cache.has(e)?this.cache.delete(e):this.cache.size===this.max&&this.cache.delete(this.first()),this.cache.set(e,t)}first(){return this.cache.keys().next().value}clear(){this.cache.clear()}}const _withScopeId=e=>(pushScopeId("data-v-2164cd2d"),e=e(),popScopeId(),e),_hoisted_1=["aria-owns"],_hoisted_2={class:"shell"},_hoisted_3=["title"],_hoisted_4=_withScopeId((()=>createBaseVNode("svg",{class:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24","aria-hidden":"true"},[createBaseVNode("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[createBaseVNode("circle",{cx:"11",cy:"11",r:"8"}),createBaseVNode("path",{d:"m21 21l-4.35-4.35"})])],-1))),_hoisted_5=[_hoisted_4],_hoisted_6={class:"search-actions before"},_hoisted_7=["title"],_hoisted_8=_withScopeId((()=>createBaseVNode("svg",{width:"18",height:"18",viewBox:"0 0 24 24","aria-hidden":"true"},[createBaseVNode("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 12H5m7 7l-7-7l7-7"})],-1))),_hoisted_9=[_hoisted_8],_hoisted_10=["placeholder"],_hoisted_11={class:"search-actions"},_hoisted_12=["title"],_hoisted_13=_withScopeId((()=>createBaseVNode("svg",{width:"18",height:"18",viewBox:"0 0 24 24","aria-hidden":"true"},[createBaseVNode("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 14h7v7H3zM3 3h7v7H3zm11 1h7m-7 5h7m-7 6h7m-7 5h7"})],-1))),_hoisted_14=[_hoisted_13],_hoisted_15=["disabled","title"],_hoisted_16=_withScopeId((()=>createBaseVNode("svg",{width:"18",height:"18",viewBox:"0 0 24 24","aria-hidden":"true"},[createBaseVNode("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 5H9l-7 7l7 7h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2Zm-2 4l-6 6m0-6l6 6"})],-1))),_hoisted_17=[_hoisted_16],_hoisted_18=["id","role","aria-labelledby"],_hoisted_19=["aria-selected"],_hoisted_20=["href","aria-label","onMouseenter","onFocusin"],_hoisted_21={class:"titles"},_hoisted_22=_withScopeId((()=>createBaseVNode("span",{class:"title-icon"},"#",-1))),_hoisted_23=["innerHTML"],_hoisted_24=_withScopeId((()=>createBaseVNode("svg",{width:"18",height:"18",viewBox:"0 0 24 24"},[createBaseVNode("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m9 18l6-6l-6-6"})],-1))),_hoisted_25={class:"title main"},_hoisted_26=["innerHTML"],_hoisted_27={key:0,class:"excerpt-wrapper"},_hoisted_28={key:0,class:"excerpt",inert:""},_hoisted_29=["innerHTML"],_hoisted_30=_withScopeId((()=>createBaseVNode("div",{class:"excerpt-gradient-bottom"},null,-1))),_hoisted_31=_withScopeId((()=>createBaseVNode("div",{class:"excerpt-gradient-top"},null,-1))),_hoisted_32={key:0,class:"no-results"},_hoisted_33={class:"search-keyboard-shortcuts"},_hoisted_34=["aria-label"],_hoisted_35=_withScopeId((()=>createBaseVNode("svg",{width:"14",height:"14",viewBox:"0 0 24 24"},[createBaseVNode("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19V5m-7 7l7-7l7 7"})],-1))),_hoisted_36=[_hoisted_35],_hoisted_37=["aria-label"],_hoisted_38=_withScopeId((()=>createBaseVNode("svg",{width:"14",height:"14",viewBox:"0 0 24 24"},[createBaseVNode("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v14m7-7l-7 7l-7-7"})],-1))),_hoisted_39=[_hoisted_38],_hoisted_40=["aria-label"],_hoisted_41=_withScopeId((()=>createBaseVNode("svg",{width:"14",height:"14",viewBox:"0 0 24 24"},[createBaseVNode("g",{fill:"none",stroke:"currentcolor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[createBaseVNode("path",{d:"m9 10l-5 5l5 5"}),createBaseVNode("path",{d:"M20 4v7a4 4 0 0 1-4 4H4"})])],-1))),_hoisted_42=[_hoisted_41],_hoisted_43=["aria-label"],_sfc_main=defineComponent({__name:"VPLocalSearchBox",emits:["close"],setup(t,{emit:n}){var r,o;const i=n,a=shallowRef(),s=shallowRef(),l=shallowRef(localSearchIndex),u=useData(),{activate:c}=useFocusTrap(a,{immediate:!0,allowOutsideClick:!0,clickOutsideDeactivates:!0,escapeDeactivates:!0}),{localeIndex:d,theme:h}=u,p=computedAsync((async()=>{var e,t,n,r,o,i,a,s,u;return markRaw(MiniSearch.loadJSON(null==(n=await(null==(t=(e=l.value)[d.value])?void 0:t.call(e)))?void 0:n.default,{fields:["title","titles","text"],storeFields:["title","titles"],searchOptions:{fuzzy:.2,prefix:!0,boost:{title:4,text:2,titles:1},..."local"===(null==(r=h.value.search)?void 0:r.provider)&&(null==(i=null==(o=h.value.search.options)?void 0:o.miniSearch)?void 0:i.searchOptions)},..."local"===(null==(a=h.value.search)?void 0:a.provider)&&(null==(u=null==(s=h.value.search.options)?void 0:s.miniSearch)?void 0:u.options)}))})),f=computed((()=>{var e,t;return"local"===(null==(e=h.value.search)?void 0:e.provider)&&!0===(null==(t=h.value.search.options)?void 0:t.disableQueryPersistence)})).value?ref(""):useSessionStorage("vitepress:local-search-filter",""),m=useLocalStorage("vitepress:local-search-detailed-list","local"===(null==(r=h.value.search)?void 0:r.provider)&&!0===(null==(o=h.value.search.options)?void 0:o.detailedView)),_=computed((()=>{var e,t,n;return"local"===(null==(e=h.value.search)?void 0:e.provider)&&(!0===(null==(t=h.value.search.options)?void 0:t.disableDetailedView)||!1===(null==(n=h.value.search.options)?void 0:n.detailedView))})),g=computed((()=>{var e,t,n,r,o,i,a;const s=(null==(e=h.value.search)?void 0:e.options)??h.value.algolia;return(null==(o=null==(r=null==(n=null==(t=null==s?void 0:s.locales)?void 0:t[d.value])?void 0:n.translations)?void 0:r.button)?void 0:o.buttonText)||(null==(a=null==(i=null==s?void 0:s.translations)?void 0:i.button)?void 0:a.buttonText)||"Search"}));watchEffect((()=>{_.value&&(m.value=!1)}));const v=shallowRef([]),y=ref(!1);watch(f,(()=>{y.value=!1}));const b=computedAsync((async()=>{if(s.value)return markRaw(new Mark(s.value))}),null),E=new LRUCache(16);watchDebounced((()=>[p.value,f.value,m.value]),(async([t,n,r],o,i)=>{var l,c,d,h;(null==o?void 0:o[0])!==t&&E.clear();let p=!1;if(i((()=>{p=!0})),!t)return;v.value=t.search(n).slice(0,16),y.value=!0;const f=r?await Promise.all(v.value.map((t=>async function(t){const n=pathToFile(t.slice(0,t.indexOf("#")));try{if(!n)throw new Error(`Cannot find file for id: ${t}`);return{id:t,mod:await __vitePreload((()=>import(n)),__vite__mapDeps([]))}}catch(e){return{id:t,mod:{}}}}(t.id)))):[];if(p)return;for(const{id:e,mod:a}of f){const t=e.slice(0,e.indexOf("#"));let n=E.get(t);if(n)continue;n=new Map,E.set(t,n);const r=a.default??a;if((null==r?void 0:r.render)||(null==r?void 0:r.setup)){const e=createApp$1(r);e.config.warnHandler=()=>{},e.provide(dataSymbol,u),Object.defineProperties(e.config.globalProperties,{$frontmatter:{get:()=>u.frontmatter.value},$params:{get:()=>u.page.value.params}});const t=document.createElement("div");e.mount(t);t.querySelectorAll("h1, h2, h3, h4, h5, h6").forEach((e=>{var t;const r=null==(t=e.querySelector("a"))?void 0:t.getAttribute("href"),o=(null==r?void 0:r.startsWith("#"))&&r.slice(1);if(!o)return;let i="";for(;(e=e.nextElementSibling)&&!/^h[1-6]$/i.test(e.tagName);)i+=e.outerHTML;n.set(o,i)})),e.unmount()}if(p)return}const m=new Set;if(v.value=v.value.map((e=>{const[t,n]=e.id.split("#"),r=E.get(t),o=(null==r?void 0:r.get(n))??"";for(const i in e.match)m.add(i);return{...e,text:o}})),await nextTick(),p)return;await new Promise((e=>{var t;null==(t=b.value)||t.unmark({done:()=>{var t;null==(t=b.value)||t.markRegExp(function(e){return new RegExp([...e].sort(((e,t)=>t.length-e.length)).map((e=>`(${escapeRegExp(e)})`)).join("|"),"gi")}(m),{done:e})}})}));const _=(null==(l=a.value)?void 0:l.querySelectorAll(".result .excerpt"))??[];for(const e of _)null==(c=e.querySelector('mark[data-markjs="true"]'))||c.scrollIntoView({block:"center"});null==(h=null==(d=s.value)?void 0:d.firstElementChild)||h.scrollIntoView({block:"start"})}),{debounce:200,immediate:!0});const C=ref(),x=computed((()=>{var e;return(null==(e=f.value)?void 0:e.length)<=0}));function w(e=!0){var t,n;null==(t=C.value)||t.focus(),e&&(null==(n=C.value)||n.select())}onMounted((()=>{w()}));const S=ref(-1),T=ref(!1);function k(){nextTick((()=>{const e=document.querySelector(".result.selected");e&&e.scrollIntoView({block:"nearest"})}))}watch(v,(e=>{S.value=e.length?0:-1,k()})),onKeyStroke("ArrowUp",(e=>{e.preventDefault(),S.value--,S.value<0&&(S.value=v.value.length-1),T.value=!0,k()})),onKeyStroke("ArrowDown",(e=>{e.preventDefault(),S.value++,S.value>=v.value.length&&(S.value=0),T.value=!0,k()}));const L=useRouter();onKeyStroke("Enter",(e=>{if(e.target instanceof HTMLButtonElement&&"submit"!==e.target.type)return;const t=v.value[S.value];e.target instanceof HTMLInputElement&&!t?e.preventDefault():t&&(L.go(t.id),i("close"))})),onKeyStroke("Escape",(()=>{i("close")}));const P=createSearchTranslate({modal:{displayDetails:"Display detailed list",resetButtonTitle:"Reset search",backButtonTitle:"Close search",noResultsText:"No results for",footer:{selectText:"to select",selectKeyAriaLabel:"enter",navigateText:"to navigate",navigateUpKeyAriaLabel:"up arrow",navigateDownKeyAriaLabel:"down arrow",closeText:"to close",closeKeyAriaLabel:"escape"}}});onMounted((()=>{window.history.pushState(null,"",null)})),useEventListener("popstate",(e=>{e.preventDefault(),i("close")}));const M=useScrollLock(inBrowser?document.body:null);function O(){f.value="",nextTick().then((()=>w(!1)))}return onMounted((()=>{nextTick((()=>{M.value=!0,nextTick().then((()=>c()))}))})),onBeforeUnmount((()=>{M.value=!1})),(e,t)=>{var n,r,o,i;return openBlock(),createBlock(Teleport,{to:"body"},[createBaseVNode("div",{ref_key:"el",ref:a,role:"button","aria-owns":(null==(n=v.value)?void 0:n.length)?"localsearch-list":void 0,"aria-expanded":"true","aria-haspopup":"listbox","aria-labelledby":"localsearch-label",class:"VPLocalSearchBox"},[createBaseVNode("div",{class:"backdrop",onClick:t[0]||(t[0]=t=>e.$emit("close"))}),createBaseVNode("div",_hoisted_2,[createBaseVNode("form",{class:"search-bar",onPointerup:t[4]||(t[4]=e=>{"mouse"===e.pointerType&&w()}),onSubmit:t[5]||(t[5]=withModifiers((()=>{}),["prevent"]))},[createBaseVNode("label",{title:g.value,id:"localsearch-label",for:"localsearch-input"},_hoisted_5,8,_hoisted_3),createBaseVNode("div",_hoisted_6,[createBaseVNode("button",{class:"back-button",title:unref(P)("modal.backButtonTitle"),onClick:t[1]||(t[1]=t=>e.$emit("close"))},_hoisted_9,8,_hoisted_7)]),withDirectives(createBaseVNode("input",{ref_key:"searchInput",ref:C,"onUpdate:modelValue":t[2]||(t[2]=e=>isRef(f)?f.value=e:null),placeholder:g.value,id:"localsearch-input","aria-labelledby":"localsearch-label",class:"search-input"},null,8,_hoisted_10),[[vModelText,unref(f)]]),createBaseVNode("div",_hoisted_11,[_.value?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:0,class:normalizeClass(["toggle-layout-button",{"detailed-list":unref(m)}]),type:"button",title:unref(P)("modal.displayDetails"),onClick:t[3]||(t[3]=e=>S.value>-1&&(m.value=!unref(m)))},_hoisted_14,10,_hoisted_12)),createBaseVNode("button",{class:"clear-button",type:"reset",disabled:x.value,title:unref(P)("modal.resetButtonTitle"),onClick:O},_hoisted_17,8,_hoisted_15)])],32),createBaseVNode("ul",{ref_key:"resultsEl",ref:s,id:(null==(r=v.value)?void 0:r.length)?"localsearch-list":void 0,role:(null==(o=v.value)?void 0:o.length)?"listbox":void 0,"aria-labelledby":(null==(i=v.value)?void 0:i.length)?"localsearch-label":void 0,class:"results",onMousemove:t[7]||(t[7]=e=>T.value=!1)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(v.value,((n,r)=>(openBlock(),createElementBlock("li",{key:n.id,role:"option","aria-selected":S.value===r?"true":"false"},[createBaseVNode("a",{href:n.id,class:normalizeClass(["result",{selected:S.value===r}]),"aria-label":[...n.titles,n.title].join(" > "),onMouseenter:e=>!T.value&&(S.value=r),onFocusin:e=>S.value=r,onClick:t[6]||(t[6]=t=>e.$emit("close"))},[createBaseVNode("div",null,[createBaseVNode("div",_hoisted_21,[_hoisted_22,(openBlock(!0),createElementBlock(Fragment,null,renderList(n.titles,((e,t)=>(openBlock(),createElementBlock("span",{key:t,class:"title"},[createBaseVNode("span",{class:"text",innerHTML:e},null,8,_hoisted_23),_hoisted_24])))),128)),createBaseVNode("span",_hoisted_25,[createBaseVNode("span",{class:"text",innerHTML:n.title},null,8,_hoisted_26)])]),unref(m)?(openBlock(),createElementBlock("div",_hoisted_27,[n.text?(openBlock(),createElementBlock("div",_hoisted_28,[createBaseVNode("div",{class:"vp-doc",innerHTML:n.text},null,8,_hoisted_29)])):createCommentVNode("",!0),_hoisted_30,_hoisted_31])):createCommentVNode("",!0)])],42,_hoisted_20)],8,_hoisted_19)))),128)),unref(f)&&!v.value.length&&y.value?(openBlock(),createElementBlock("li",_hoisted_32,[createTextVNode(toDisplayString(unref(P)("modal.noResultsText"))+' "',1),createBaseVNode("strong",null,toDisplayString(unref(f)),1),createTextVNode('" ')])):createCommentVNode("",!0)],40,_hoisted_18),createBaseVNode("div",_hoisted_33,[createBaseVNode("span",null,[createBaseVNode("kbd",{"aria-label":unref(P)("modal.footer.navigateUpKeyAriaLabel")},_hoisted_36,8,_hoisted_34),createBaseVNode("kbd",{"aria-label":unref(P)("modal.footer.navigateDownKeyAriaLabel")},_hoisted_39,8,_hoisted_37),createTextVNode(" "+toDisplayString(unref(P)("modal.footer.navigateText")),1)]),createBaseVNode("span",null,[createBaseVNode("kbd",{"aria-label":unref(P)("modal.footer.selectKeyAriaLabel")},_hoisted_42,8,_hoisted_40),createTextVNode(" "+toDisplayString(unref(P)("modal.footer.selectText")),1)]),createBaseVNode("span",null,[createBaseVNode("kbd",{"aria-label":unref(P)("modal.footer.closeKeyAriaLabel")},"esc",8,_hoisted_43),createTextVNode(" "+toDisplayString(unref(P)("modal.footer.closeText")),1)])])])],8,_hoisted_1)])}}}),VPLocalSearchBox=_export_sfc$1(_sfc_main,[["__scopeId","data-v-2164cd2d"]]),VPLocalSearchBox$1=Object.freeze(Object.defineProperty({__proto__:null,default:VPLocalSearchBox},Symbol.toStringTag,{value:"Module"})),H=globalThis,q=H.ShadowRoot&&(void 0===H.ShadyCSS||H.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,K=Symbol(),J=new WeakMap;let ot=class{constructor(e,t,n){if(this._$cssResult$=!0,n!==K)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(q&&void 0===e){const n=void 0!==t&&1===t.length;n&&(e=J.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&J.set(t,e))}return e}toString(){return this.cssText}};const ut=e=>new ot("string"==typeof e?e:e+"",void 0,K),$t=(e,...t)=>{const n=1===e.length?e[0]:t.reduce(((t,n,r)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+e[r+1]),e[0]);return new ot(n,e,K)},_t=(e,t)=>{if(q)e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet));else for(const n of t){const t=document.createElement("style"),r=H.litNonce;void 0!==r&&t.setAttribute("nonce",r),t.textContent=n.cssText,e.appendChild(t)}},F=q?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const n of e.cssRules)t+=n.cssText;return ut(t)})(e):e
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,{is:gt,defineProperty:ft,getOwnPropertyDescriptor:mt,getOwnPropertyNames:At,getOwnPropertySymbols:yt,getPrototypeOf:St}=Object,A=globalThis,Q=A.trustedTypes,vt=Q?Q.emptyScript:"",z=A.reactiveElementPolyfillSupport,U=(e,t)=>e,L$1={toAttribute(e,t){switch(t){case Boolean:e=e?vt:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=null!==e;break;case Number:n=null===e?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},Y=(e,t)=>!gt(e,t),Z={attribute:!0,type:String,converter:L$1,reflect:!1,hasChanged:Y};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),A.litPropertyMetadata??(A.litPropertyMetadata=new WeakMap);class E extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=Z){if(t.state&&(t.attribute=!1),this._$Ei(),this.elementProperties.set(e,t),!t.noAccessor){const n=Symbol(),r=this.getPropertyDescriptor(e,n,t);void 0!==r&&ft(this.prototype,e,r)}}static getPropertyDescriptor(e,t,n){const{get:r,set:o}=mt(this.prototype,e)??{get(){return this[t]},set(e){this[t]=e}};return{get(){return null==r?void 0:r.call(this)},set(t){const i=null==r?void 0:r.call(this);o.call(this,t),this.requestUpdate(e,i,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??Z}static _$Ei(){if(this.hasOwnProperty(U("elementProperties")))return;const e=St(this);e.finalize(),void 0!==e.l&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(U("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(U("properties"))){const e=this.properties,t=[...At(e),...yt(e)];for(const n of t)this.createProperty(n,e[n])}const e=this[Symbol.metadata];if(null!==e){const t=litPropertyMetadata.get(e);if(void 0!==t)for(const[e,n]of t)this.elementProperties.set(e,n)}this._$Eh=new Map;for(const[t,n]of this.elementProperties){const e=this._$Eu(t,n);void 0!==e&&this._$Eh.set(e,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const e of n)t.unshift(F(e))}else void 0!==e&&t.push(F(e));return t}static _$Eu(e,t){const n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$Eg=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$ES(),this.requestUpdate(),null==(e=this.constructor.l)||e.forEach((e=>e(this)))}addController(e){var t;(this._$E_??(this._$E_=new Set)).add(e),void 0!==this.renderRoot&&this.isConnected&&(null==(t=e.hostConnected)||t.call(e))}removeController(e){var t;null==(t=this._$E_)||t.delete(e)}_$ES(){const e=new Map,t=this.constructor.elementProperties;for(const n of t.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return _t(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null==(e=this._$E_)||e.forEach((e=>{var t;return null==(t=e.hostConnected)?void 0:t.call(e)}))}enableUpdating(e){}disconnectedCallback(){var e;null==(e=this._$E_)||e.forEach((e=>{var t;return null==(t=e.hostDisconnected)?void 0:t.call(e)}))}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$EO(e,t){var n;const r=this.constructor.elementProperties.get(e),o=this.constructor._$Eu(e,r);if(void 0!==o&&!0===r.reflect){const i=(void 0!==(null==(n=r.converter)?void 0:n.toAttribute)?r.converter:L$1).toAttribute(t,r.type);this._$Em=e,null==i?this.removeAttribute(o):this.setAttribute(o,i),this._$Em=null}}_$AK(e,t){var n;const r=this.constructor,o=r._$Eh.get(e);if(void 0!==o&&this._$Em!==o){const e=r.getPropertyOptions(o),i="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==(null==(n=e.converter)?void 0:n.fromAttribute)?e.converter:L$1;this._$Em=o,this[o]=i.fromAttribute(t,e.type),this._$Em=null}}requestUpdate(e,t,n,r=!1,o){if(void 0!==e){if(n??(n=this.constructor.getPropertyOptions(e)),!(n.hasChanged??Y)(r?o:this[e],t))return;this.C(e,t,n)}!1===this.isUpdatePending&&(this._$Eg=this._$EP())}C(e,t,n){this._$AL.has(e)||this._$AL.set(e,t),!0===n.reflect&&this._$Em!==e&&(this._$Ej??(this._$Ej=new Set)).add(e)}async _$EP(){this.isUpdatePending=!0;try{await this._$Eg}catch(e){Promise.reject(e)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[e,t]of this._$Ep)this[e]=t;this._$Ep=void 0}const e=this.constructor.elementProperties;if(e.size>0)for(const[t,n]of e)!0!==n.wrapped||this._$AL.has(t)||void 0===this[t]||this.C(t,this[t],n)}let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),null==(e=this._$E_)||e.forEach((e=>{var t;return null==(t=e.hostUpdate)?void 0:t.call(e)})),this.update(n)):this._$ET()}catch(r){throw t=!1,this._$ET(),r}t&&this._$AE(n)}willUpdate(e){}_$AE(e){var t;null==(t=this._$E_)||t.forEach((e=>{var t;return null==(t=e.hostUpdated)?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$ET(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Eg}shouldUpdate(e){return!0}update(e){this._$Ej&&(this._$Ej=this._$Ej.forEach((e=>this._$EO(e,this[e])))),this._$ET()}updated(e){}firstUpdated(e){}}E.elementStyles=[],E.shadowRootOptions={mode:"open"},E[U("elementProperties")]=new Map,E[U("finalized")]=new Map,null==z||z({ReactiveElement:E}),(A.reactiveElementVersions??(A.reactiveElementVersions=[])).push("2.0.2");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const P=globalThis,k=P.trustedTypes,X=k?k.createPolicy("lit-html",{createHTML:e=>e}):void 0,ht="$lit$",m=`lit$${(Math.random()+"").slice(9)}$`,at="?"+m,Et=`<${at}>`,v=document,N=()=>v.createComment(""),R=e=>null===e||"object"!=typeof e&&"function"!=typeof e,ct=Array.isArray,bt=e=>ct(e)||"function"==typeof(null==e?void 0:e[Symbol.iterator]),B="[ \t\n\f\r]",w=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,tt=/-->/g,et=/>/g,y=RegExp(`>|${B}(?:([^\\s"'>=/]+)(${B}*=${B}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),st=/'/g,it=/"/g,lt=/^(?:script|style|textarea|title)$/i,Ct=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),wt=Ct(1),b=Symbol.for("lit-noChange"),l=Symbol.for("lit-nothing"),rt=new WeakMap,S=v.createTreeWalker(v,129);function dt(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==X?X.createHTML(t):t}const Ut=(e,t)=>{const n=e.length-1,r=[];let o,i=2===t?"<svg>":"",a=w;for(let s=0;s<n;s++){const t=e[s];let n,l,u=-1,c=0;for(;c<t.length&&(a.lastIndex=c,l=a.exec(t),null!==l);)c=a.lastIndex,a===w?"!--"===l[1]?a=tt:void 0!==l[1]?a=et:void 0!==l[2]?(lt.test(l[2])&&(o=RegExp("</"+l[2],"g")),a=y):void 0!==l[3]&&(a=y):a===y?">"===l[0]?(a=o??w,u=-1):void 0===l[1]?u=-2:(u=a.lastIndex-l[2].length,n=l[1],a=void 0===l[3]?y:'"'===l[3]?it:st):a===it||a===st?a=y:a===tt||a===et?a=w:(a=y,o=void 0);const d=a===y&&e[s+1].startsWith("/>")?" ":"";i+=a===w?t+Et:u>=0?(r.push(n),t.slice(0,u)+ht+t.slice(u)+m+d):t+m+(-2===u?s:d)}return[dt(e,i+(e[n]||"<?>")+(2===t?"</svg>":"")),r]};class I{constructor({strings:e,_$litType$:t},n){let r;this.parts=[];let o=0,i=0;const a=e.length-1,s=this.parts,[l,u]=Ut(e,t);if(this.el=I.createElement(l,n),S.currentNode=this.el.content,2===t){const e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(r=S.nextNode())&&s.length<a;){if(1===r.nodeType){if(r.hasAttributes())for(const e of r.getAttributeNames())if(e.endsWith(ht)){const t=u[i++],n=r.getAttribute(e).split(m),a=/([.?@])?(.*)/.exec(t);s.push({type:1,index:o,name:a[2],strings:n,ctor:"."===a[1]?Tt:"?"===a[1]?Ot:"@"===a[1]?Nt:D}),r.removeAttribute(e)}else e.startsWith(m)&&(s.push({type:6,index:o}),r.removeAttribute(e));if(lt.test(r.tagName)){const e=r.textContent.split(m),t=e.length-1;if(t>0){r.textContent=k?k.emptyScript:"";for(let n=0;n<t;n++)r.append(e[n],N()),S.nextNode(),s.push({type:2,index:++o});r.append(e[t],N())}}}else if(8===r.nodeType)if(r.data===at)s.push({type:2,index:o});else{let e=-1;for(;-1!==(e=r.data.indexOf(m,e+1));)s.push({type:7,index:o}),e+=m.length-1}o++}}static createElement(e,t){const n=v.createElement("template");return n.innerHTML=e,n}}function C(e,t,n=e,r){var o,i;if(t===b)return t;let a=void 0!==r?null==(o=n._$Co)?void 0:o[r]:n._$Cl;const s=R(t)?void 0:t._$litDirective$;return(null==a?void 0:a.constructor)!==s&&(null==(i=null==a?void 0:a._$AO)||i.call(a,!1),void 0===s?a=void 0:(a=new s(e),a._$AT(e,n,r)),void 0!==r?(n._$Co??(n._$Co=[]))[r]=a:n._$Cl=a),void 0!==a&&(t=C(e,a._$AS(e,t.values),a,r)),t}let Pt=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:n}=this._$AD,r=((null==e?void 0:e.creationScope)??v).importNode(t,!0);S.currentNode=r;let o=S.nextNode(),i=0,a=0,s=n[0];for(;void 0!==s;){if(i===s.index){let t;2===s.type?t=new M(o,o.nextSibling,this,e):1===s.type?t=new s.ctor(o,s.name,s.strings,this,e):6===s.type&&(t=new Rt(o,this,e)),this._$AV.push(t),s=n[++a]}i!==(null==s?void 0:s.index)&&(o=S.nextNode(),i++)}return S.currentNode=v,r}p(e){let t=0;for(const n of this._$AV)void 0!==n&&(void 0!==n.strings?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}};class M{get _$AU(){var e;return(null==(e=this._$AM)?void 0:e._$AU)??this._$Cv}constructor(e,t,n,r){this.type=2,this._$AH=l,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=r,this._$Cv=(null==r?void 0:r.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===(null==e?void 0:e.nodeType)&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=C(this,e,t),R(e)?e===l||null==e||""===e?(this._$AH!==l&&this._$AR(),this._$AH=l):e!==this._$AH&&e!==b&&this._(e):void 0!==e._$litType$?this.g(e):void 0!==e.nodeType?this.$(e):bt(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==l&&R(this._$AH)?this._$AA.nextSibling.data=e:this.$(v.createTextNode(e)),this._$AH=e}g(e){var t;const{values:n,_$litType$:r}=e,o="number"==typeof r?this._$AC(e):(void 0===r.el&&(r.el=I.createElement(dt(r.h,r.h[0]),this.options)),r);if((null==(t=this._$AH)?void 0:t._$AD)===o)this._$AH.p(n);else{const e=new Pt(o,this),t=e.u(this.options);e.p(n),this.$(t),this._$AH=e}}_$AC(e){let t=rt.get(e.strings);return void 0===t&&rt.set(e.strings,t=new I(e)),t}T(e){ct(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,r=0;for(const o of e)r===t.length?t.push(n=new M(this.k(N()),this.k(N()),this,this.options)):n=t[r],n._$AI(o),r++;r<t.length&&(this._$AR(n&&n._$AB.nextSibling,r),t.length=r)}_$AR(e=this._$AA.nextSibling,t){var n;for(null==(n=this._$AP)||n.call(this,!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){var t;void 0===this._$AM&&(this._$Cv=e,null==(t=this._$AP)||t.call(this,e))}}class D{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,n,r,o){this.type=1,this._$AH=l,this._$AN=void 0,this.element=e,this.name=t,this._$AM=r,this.options=o,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=l}_$AI(e,t=this,n,r){const o=this.strings;let i=!1;if(void 0===o)e=C(this,e,t,0),i=!R(e)||e!==this._$AH&&e!==b,i&&(this._$AH=e);else{const r=e;let a,s;for(e=o[0],a=0;a<o.length-1;a++)s=C(this,r[n+a],t,a),s===b&&(s=this._$AH[a]),i||(i=!R(s)||s!==this._$AH[a]),s===l?e=l:e!==l&&(e+=(s??"")+o[a+1]),this._$AH[a]=s}i&&!r&&this.O(e)}O(e){e===l?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class Tt extends D{constructor(){super(...arguments),this.type=3}O(e){this.element[this.name]=e===l?void 0:e}}class Ot extends D{constructor(){super(...arguments),this.type=4}O(e){this.element.toggleAttribute(this.name,!!e&&e!==l)}}class Nt extends D{constructor(e,t,n,r,o){super(e,t,n,r,o),this.type=5}_$AI(e,t=this){if((e=C(this,e,t,0)??l)===b)return;const n=this._$AH,r=e===l&&n!==l||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,o=e!==l&&(n===l||r);r&&this.element.removeEventListener(this.name,this,n),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t;"function"==typeof this._$AH?this._$AH.call((null==(t=this.options)?void 0:t.host)??this.element,e):this._$AH.handleEvent(e)}}class Rt{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){C(this,e)}}const j=P.litHtmlPolyfillSupport;null==j||j(I,M),(P.litHtmlVersions??(P.litHtmlVersions=[])).push("3.1.0");const It=(e,t,n)=>{const r=(null==n?void 0:n.renderBefore)??t;let o=r._$litPart$;if(void 0===o){const e=(null==n?void 0:n.renderBefore)??null;r._$litPart$=o=new M(t.insertBefore(N(),e),e,void 0,n??{})}return o._$AI(e),o};
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let T=class extends E{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e;const t=super.createRenderRoot();return(e=this.renderOptions).renderBefore??(e.renderBefore=t.firstChild),t}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=It(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null==(e=this._$Do)||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null==(e=this._$Do)||e.setConnected(!1)}render(){return b}};var nt;T._$litElement$=!0,T.finalized=!0,null==(nt=globalThis.litElementHydrateSupport)||nt.call(globalThis,{LitElement:T});const W=globalThis.litElementPolyfillSupport;null==W||W({LitElement:T}),(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.0.2");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Mt=e=>(t,n)=>{void 0!==n?n.addInitializer((()=>{customElements.define(e,t)})):customElements.define(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,xt={attribute:!0,type:String,converter:L$1,reflect:!1,hasChanged:Y},Ht=(e=xt,t,n)=>{const{kind:r,metadata:o}=n;let i=globalThis.litPropertyMetadata.get(o);if(void 0===i&&globalThis.litPropertyMetadata.set(o,i=new Map),i.set(n.name,e),"accessor"===r){const{name:r}=n;return{set(n){const o=t.get.call(this);t.set.call(this,n),this.requestUpdate(r,o,e)},init(t){return void 0!==t&&this.C(r,void 0,e),t}}}if("setter"===r){const{name:r}=n;return function(n){const o=this[r];t.call(this,n),this.requestUpdate(r,o,e)}}throw Error("Unsupported decorator location: "+r)};function _(e){return(t,n)=>"object"==typeof n?Ht(e,t,n):((e,t,n)=>{const r=t.hasOwnProperty(n);return t.constructor.createProperty(n,r?{...e,wrapped:!0}:e),r?Object.getOwnPropertyDescriptor(t,n):void 0})(e,t,n)}
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Lt=e=>void 0===e.strings
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,kt={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},Gt=e=>(...t)=>({_$litDirective$:e,values:t});let Dt=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}};
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const O=(e,t)=>{var n;const r=e._$AN;if(void 0===r)return!1;for(const o of r)null==(n=o._$AO)||n.call(o,t,!1),O(o,t);return!0},G=e=>{let t,n;do{if(void 0===(t=e._$AM))break;n=t._$AN,n.delete(e),e=t}while(0===(null==n?void 0:n.size))},pt=e=>{for(let t;t=e._$AM;e=t){let n=t._$AN;if(void 0===n)t._$AN=n=new Set;else if(n.has(e))break;n.add(e),jt(t)}};function zt(e){void 0!==this._$AN?(G(this),this._$AM=e,pt(this)):this._$AM=e}function Bt(e,t=!1,n=0){const r=this._$AH,o=this._$AN;if(void 0!==o&&0!==o.size)if(t)if(Array.isArray(r))for(let i=n;i<r.length;i++)O(r[i],!1),G(r[i]);else null!=r&&(O(r,!1),G(r));else O(this,e)}const jt=e=>{e.type==kt.CHILD&&(e._$AP??(e._$AP=Bt),e._$AQ??(e._$AQ=zt))};class Wt extends Dt{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,t,n){super._$AT(e,t,n),pt(this),this.isConnected=e._$AU}_$AO(e,t=!0){var n,r;e!==this.isConnected&&(this.isConnected=e,e?null==(n=this.reconnected)||n.call(this):null==(r=this.disconnected)||r.call(this)),t&&(O(this,e),G(this))}setValue(e){if(Lt(this._$Ct))this._$Ct._$AI(e,this);else{const t=[...this._$Ct._$AH];t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Vt=()=>new qt;class qt{}const V=new WeakMap,Kt=Gt(class extends Wt{render(e){return l}update(e,[t]){var n;const r=t!==this.G;return r&&void 0!==this.G&&this.ot(void 0),(r||this.rt!==this.lt)&&(this.G=t,this.ct=null==(n=e.options)?void 0:n.host,this.ot(this.lt=e.element)),l}ot(e){if("function"==typeof this.G){const t=this.ct??globalThis;let n=V.get(t);void 0===n&&(n=new WeakMap,V.set(t,n)),void 0!==n.get(this.G)&&this.G.call(this.ct,void 0),n.set(this.G,e),void 0!==e&&this.G.call(this.ct,e)}else this.G.value=e}get rt(){var e,t;return"function"==typeof this.G?null==(e=V.get(this.ct??globalThis))?void 0:e.get(this.G):null==(t=this.G)?void 0:t.value}disconnected(){this.rt===this.lt&&this.ot(void 0)}reconnected(){this.ot(this.lt)}});var Yt=Object.defineProperty,Jt=Object.getOwnPropertyDescriptor,$=(e,t,n,r)=>{for(var o,i=r>1?void 0:r?Jt(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&Yt(t,n,i),i};function Ft(e){return customElements.get(e)?e=>e:Mt(e)}let p=class extends T{constructor(){super(),this.GISCUS_SESSION_KEY="giscus-session",this.GISCUS_DEFAULT_HOST="https://giscus.app",this.ERROR_SUGGESTION="Please consider reporting this error at https://github.com/giscus/giscus/issues/new.",this.__session="",this._iframeRef=Vt(),this.messageEventHandler=this.handleMessageEvent.bind(this),this.hasLoaded=!1,this.host=this.GISCUS_DEFAULT_HOST,this.strict="0",this.reactionsEnabled="1",this.emitMetadata="0",this.inputPosition="bottom",this.theme="light",this.lang="en",this.loading="eager",this.setupSession(),window.addEventListener("message",this.messageEventHandler)}get iframeRef(){var e;return null==(e=this._iframeRef)?void 0:e.value}get _host(){try{return new URL(this.host),this.host}catch{return this.GISCUS_DEFAULT_HOST}}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("message",this.messageEventHandler)}_formatError(e){return`[giscus] An error occurred. Error message: "${e}".`}setupSession(){const e=location.href,t=new URL(e),n=localStorage.getItem(this.GISCUS_SESSION_KEY),r=t.searchParams.get("giscus")??"";if(this.__session="",r)return localStorage.setItem(this.GISCUS_SESSION_KEY,JSON.stringify(r)),this.__session=r,t.searchParams.delete("giscus"),t.hash="",void history.replaceState(void 0,document.title,t.toString());if(n)try{this.__session=JSON.parse(n)}catch(o){localStorage.removeItem(this.GISCUS_SESSION_KEY)}}signOut(){localStorage.removeItem(this.GISCUS_SESSION_KEY),this.__session="",this.update(new Map)}handleMessageEvent(e){if(e.origin!==this._host)return;const{data:t}=e;if("object"!=typeof t||!t.giscus)return;if(this.iframeRef&&t.giscus.resizeHeight&&(this.iframeRef.style.height=`${t.giscus.resizeHeight}px`),t.giscus.signOut)return void this.signOut();if(!t.giscus.error)return;const n=t.giscus.error;(n.includes("Bad credentials")||n.includes("Invalid state value")||n.includes("State has expired"))&&null!==localStorage.getItem(this.GISCUS_SESSION_KEY)?this.signOut():n.includes("Discussion not found")}sendMessage(e){var t;null==(t=this.iframeRef)||!t.contentWindow||!this.hasLoaded||this.iframeRef.contentWindow.postMessage({giscus:e},this._host)}updateConfig(){const e={setConfig:{repo:this.repo,repoId:this.repoId,category:this.category,categoryId:this.categoryId,term:this.getTerm(),number:+this.getNumber(),strict:"1"===this.strict,reactionsEnabled:"1"===this.reactionsEnabled,emitMetadata:"1"===this.emitMetadata,inputPosition:this.inputPosition,theme:this.theme,lang:this.lang}};this.sendMessage(e)}firstUpdated(){var e;null==(e=this.iframeRef)||e.addEventListener("load",(()=>{var e;null==(e=this.iframeRef)||e.classList.remove("loading"),this.hasLoaded=!0,this.updateConfig()}))}requestUpdate(e,t,n){this.hasUpdated&&"host"!==e?this.updateConfig():super.requestUpdate(e,t,n)}getMetaContent(e,t=!1){const n=t?`meta[property='og:${e}'],`:"",r=document.querySelector(n+`meta[name='${e}']`);return r?r.content:""}_getCleanedUrl(){const e=new URL(location.href);return e.searchParams.delete("giscus"),e.hash="",e}getTerm(){switch(this.mapping){case"url":return this._getCleanedUrl().toString();case"title":return document.title;case"og:title":return this.getMetaContent("title",!0);case"specific":return this.term??"";case"number":return"";default:return location.pathname.length<2?"index":location.pathname.substring(1).replace(/\.\w+$/,"")}}getNumber(){return"number"===this.mapping?this.term??"":""}getIframeSrc(){const e=this._getCleanedUrl().toString(),t=`${e}${this.id?"#"+this.id:""}`,n=this.getMetaContent("description",!0),r=this.getMetaContent("giscus:backlink")||e,o={origin:t,session:this.__session,repo:this.repo,repoId:this.repoId??"",category:this.category??"",categoryId:this.categoryId??"",term:this.getTerm(),number:this.getNumber(),strict:this.strict,reactionsEnabled:this.reactionsEnabled,emitMetadata:this.emitMetadata,inputPosition:this.inputPosition,theme:this.theme,description:n,backLink:r};return`${this._host}${this.lang?`/${this.lang}`:""}/widget?${new URLSearchParams(o).toString()}`}render(){return wt`
      <iframe
        title="Comments"
        scrolling="no"
        class="loading"
        ${Kt(this._iframeRef)}
        src=${this.getIframeSrc()}
        loading=${this.loading}
        allow="clipboard-write"
        part="iframe"
      ></iframe>
    `}};p.styles=$t`
    :host,
    iframe {
      width: 100%;
      border: none;
      min-height: 150px;
      color-scheme: light dark;
    }

    iframe.loading {
      opacity: 0;
    }
  `,$([_({reflect:!0})],p.prototype,"host",2),$([_({reflect:!0})],p.prototype,"repo",2),$([_({reflect:!0})],p.prototype,"repoId",2),$([_({reflect:!0})],p.prototype,"category",2),$([_({reflect:!0})],p.prototype,"categoryId",2),$([_({reflect:!0})],p.prototype,"mapping",2),$([_({reflect:!0})],p.prototype,"term",2),$([_({reflect:!0})],p.prototype,"strict",2),$([_({reflect:!0})],p.prototype,"reactionsEnabled",2),$([_({reflect:!0})],p.prototype,"emitMetadata",2),$([_({reflect:!0})],p.prototype,"inputPosition",2),$([_({reflect:!0})],p.prototype,"theme",2),$([_({reflect:!0})],p.prototype,"lang",2),$([_({reflect:!0})],p.prototype,"loading",2),p=$([Ft("giscus-widget")],p);const giscusATimukGI=Object.freeze(Object.defineProperty({__proto__:null,get GiscusWidget(){return p}},Symbol.toStringTag,{value:"Module"}));export{ZoomToExtent as $,Point$1 as A,Select$2 as B,CircleStyle$1 as C,Draw as D,Modify$1 as E,Fill$1 as F,defaults$1 as G,Control as H,FullScreen$1 as I,ref as J,fromLonLat as K,LineString as L,Map$2 as M,easeIn as N,easeOut as O,Polygon as P,Overlay$3 as Q,getLength as R,Style$1 as S,TileLayer$1 as T,getArea as U,VectorSource as V,unByKey as W,XYZ as X,MousePosition$1 as Y,createStringXY as Z,_export_sfc$1 as _,onMounted as a,OverviewMap$1 as a0,OSM as a1,Projection$1 as a2,Image$2 as a3,Static as a4,getCenter as a5,toDisplayString as a6,Text$2 as a7,GeoJSON as a8,getVectorContext as a9,ScaleLine as aA,Heatmap$1 as aB,KML as aC,Icon$2 as aa,Cluster as ab,PointerInteraction as ac,defaults as ad,ElMessage as ae,WebGLTile as af,proj4 as ag,register as ah,get$3 as ai,Polyline as aj,unref as ak,video_play_default as al,video_pause_default as am,TileGrid as an,TileImage as ao,BingMaps as ap,TileDebug$1 as aq,Circle as ar,GPX as as,L$3 as at,leafletAntPathExports as au,AutoGraticule as av,MiniMap as aw,leafletSrcExports as ax,ElMessageBox as ay,domtoimage as az,__vitePreload as b,createElementBlock as c,createApp,createBlock as d,createCommentVNode as e,createBaseVNode as f,createTextVNode as g,createStaticVNode as h,defineComponent as i,reactive as j,VectorLayer as k,Stroke$1 as l,onBeforeUnmount as m,resolveComponent as n,openBlock as o,createVNode as p,Fragment as q,resolveDynamicComponent as r,shallowRef as s,View as t,renderList as u,pushScopeId as v,withCtx as w,popScopeId as x,createRegularPolygon as y,Feature$1 as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
