import{z as s,A as i,Q as a,S as n,aa as h,a7 as k,F as l,l as p,i as t,j as e,T as E,X as r,a as d,ae as g,m as y,n as F,o as c,c as o,f as A,p as C,w as D,q as B,M as u,t as m,G as v,I as q,V as f,k as x,g as w,v as b,x as S,_ as O,h as L}from"./app.2DJL4jsJ.js";import{A as T,M as N,S as V,N as I}from"../js/index/index.sBZz26mU.js";const _=s=>new n({image:new h({anchor:[.5,60],anchorOrigin:"top-right",anchorXUnits:"fraction",anchorYUnits:"pixels",offsetOrigin:"top-right",scale:.4,opacity:.75,src:"/image//blue.png"}),text:new k({textAlign:"center",textBaseline:"middle",font:"normal 14px 微软雅黑",text:s.get("name"),fill:new l({color:"#aa3300"}),stroke:new p({color:"#ffcc33",width:2})})});const M=s=>(b("data-v-66dab520"),s=s(),S(),s),P={id:"top"},U=M((()=>A("div",{id:"label",style:{display:"none"}},[A("div",{id:"marker",class:"marker",title:"Marker"},[A("a",{class:"address",id:"address",target:"_blank",href:"https://juejin.cn/user/588993965598407"}," 标注点 ")])],-1))),j=M((()=>A("div",{id:"map"},null,-1))),H=O(t({__name:"index",setup(n){const h=e({map:null,vectorSource:null,type:""}),k=new E({source:new r({attributions:T,url:N,maxZoom:20})});return d((()=>{(()=>{h.map=new u({target:"map",layers:[k],view:new m({projection:"EPSG:4326",center:V,zoom:5}),controls:v().extend([new q])});const n=new s({geometry:new i(V),name:"深圳市"});n.setStyle(_(n)),h.vectorSource=new f({features:[n]});const l=new x({source:h.vectorSource});h.map.addLayer(l);const p=new a({position:I,positioning:"center-center",element:document.getElementById("marker")||void 0,stopEvent:!1});h.map.addOverlay(p),p.getElement().title="南昌市";const t=new a({position:I,element:document.getElementById("address")||void 0});h.map.addOverlay(t),t.getElement().innerText=p.getElement().title})(),h.map&&h.map.on("click",(n=>{if(!h.type)return void g({message:"请先选择标注类型后用鼠标在地图上点击添加标注",type:"warning"});const k=n.coordinate;"vector"===h.type&&(({coordinate:a,vectorSource:n,name:h="标注点"})=>{if(null===n)return;const k=new s({geometry:new i(a),name:h});k.setStyle(_(k)),n.addFeature(k)})({coordinate:k,vectorSource:h.vectorSource}),"overlay"===h.type&&(({coordinate:s,map:i})=>{if(null===i)return;const n=document.createElement("div");n.className="marker",n.title="标注点";const h=document.getElementById("label");if(null===h)return;h.appendChild(n);const k=document.createElement("a");var l,p;k.className="address",k.href="#",l=k,p=n.title,"string"==typeof l.textContent?l.textContent=p:l.innerText=p,n.appendChild(k);const t=new a({position:s,positioning:"center-center",element:n,stopEvent:!1});i.addOverlay(t);const e=new a({position:s,element:k});i.addOverlay(e)})({coordinate:k,map:h.map})}))})),y((()=>{h.map&&(h.map.dispose(),h.map=null)})),(s,i)=>{const a=F("el-radio"),n=F("el-radio-group");return c(),o(B,null,[A("div",P,[C(n,{modelValue:h.type,"onUpdate:modelValue":i[0]||(i[0]=s=>h.type=s)},{default:D((()=>[C(a,{label:"vector",size:"large"},{default:D((()=>[w("Vector Labels")])),_:1}),C(a,{label:"overlay",size:"large"},{default:D((()=>[w("Overlay Labels")])),_:1})])),_:1},8,["modelValue"])]),U,j],64)}}}),[["__scopeId","data-v-66dab520"]]),z=A("h1",{id:"图文标注",tabindex:"-1"},[w("图文标注 "),A("a",{class:"header-anchor",href:"#图文标注","aria-label":'Permalink to "图文标注"'},"​")],-1),G=A("div",{class:"tip custom-block"},[A("p",{class:"custom-block-title"},"TIP"),A("p",null,"选择标注类型后用鼠标在地图上点击添加标注。")],-1),Z=L("",4),R=JSON.parse('{"title":"图文标注","description":"","frontmatter":{},"headers":[],"relativePath":"open-layers/map-marker/text-pic/index.md","filePath":"open-layers/map-marker/text-pic/index.md","lastUpdated":1704792985000}'),X={name:"open-layers/map-marker/text-pic/index.md"},Y=Object.assign(X,{setup:s=>(s,i)=>(c(),o("div",null,[z,G,C(H),Z]))});export{R as __pageData,Y as default};
