import{z as s,A as i,S as a,a7 as n,F as h,l as k,i as l,a as p,m as t,o as e,c as E,T as r,X as d,V as y,k as g,M as F,t as o,Q as c,a9 as C,C as A,O as D,_ as B,p as u,f as m,g as f,h as w}from"./app.2DJL4jsJ.js";import{A as q,M as v,S,F as x}from"../js/index/index.sBZz26mU.js";const b=({coordinate:l,vectorSource:p,name:t="标注点"})=>{if(null===p)return;const e=new s({geometry:new i(l),name:t});e.setStyle(new a({text:new n({textAlign:"center",textBaseline:"middle",font:"normal 14px 微软雅黑",text:e.get("name"),fill:new h({color:"#aa3300"}),stroke:new k({color:"#ffcc33",width:2}),offsetY:40})})),p.addFeature(e)},_={id:"map"},V=B(l({__name:"index",setup(n){let h=null;return p((()=>{(()=>{const n=new r({source:new d({attributions:q,url:v,maxZoom:20})}),l=new y({wrapX:!1}),p=new g({source:l});h=new F({layers:[n,p],target:"map",view:new o({projection:"EPSG:4326",center:S,zoom:5,multiWorld:!0})});const t=new i(S),e=new s(t);l.addFeature(e),function(s){var i;let l=Date.now();const p=null==(i=null==s?void 0:s.getGeometry())?void 0:i.clone();n.on("postrender",(function(s){const i=s.frameState;if(!i)return;const n=i.time-l,t=C(s),e=n/3e3,E=25*D(e)+5,r=D(1-e),d=new a({image:new A({radius:E,stroke:new k({color:"rgba(255, 0, 0, "+r+")",width:.25+r})})});t.setStyle(d),p&&t.drawGeometry(p),n>3e3&&(l=i.time),null==h||h.render()}))}(e),b({coordinate:S,vectorSource:l,name:"打工点"});const E=document.createElement("div");E.className="point_animation";const B=document.createElement("p"),u=document.createElement("span");E.appendChild(B),E.appendChild(u);const m=new c({element:E,positioning:"center-center"});h.addOverlay(m),m.setPosition(x),b({coordinate:x,vectorSource:l,name:"家"})})()})),t((()=>{h&&(h.dispose(),h=null)})),(s,i)=>(e(),E("div",_))}}),[["__scopeId","data-v-e3a25b8e"]]),P=m("h1",{id:"水纹动画",tabindex:"-1"},[f("水纹动画 "),m("a",{class:"header-anchor",href:"#水纹动画","aria-label":'Permalink to "水纹动画"'},"​")],-1),T=m("div",{class:"tip custom-block"},[m("p",{class:"custom-block-title"},"TIP"),m("p",null,"两种不同的方式实现水纹动画。")],-1),L=w("",4),O=JSON.parse('{"title":"水纹动画","description":"","frontmatter":{},"headers":[],"relativePath":"open-layers/map-marker/water-wave-animation/index.md","filePath":"open-layers/map-marker/water-wave-animation/index.md","lastUpdated":1704792985000}'),N={name:"open-layers/map-marker/water-wave-animation/index.md"},U=Object.assign(N,{setup:s=>(s,i)=>(e(),E("div",null,[P,T,u(V),L]))});export{O as __pageData,U as default};
